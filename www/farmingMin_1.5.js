var COMPILED = !0, goog = goog || {}; goog.global = this, goog.DEBUG = !1, goog.LOCALE = "en", goog.provide = function (e) { if (!COMPILED) { if (goog.isProvided_(e)) throw Error('Namespace "' + e + '" already declared.'); delete goog.implicitNamespaces_[e]; for (var t = e; (t = t.substring(0, t.lastIndexOf("."))) && !goog.getObjectByName(t);)goog.implicitNamespaces_[t] = !0 } goog.exportPath_(e) }, goog.setTestOnly = function (e) { if (COMPILED && !goog.DEBUG) throw e = e || "", Error(": " + e) }, COMPILED || (goog.isProvided_ = function (e) { return !goog.implicitNamespaces_[e] && !!goog.getObjectByName(e) }, goog.implicitNamespaces_ = {}), goog.exportPath_ = function (e, t, o) { e = e.split("."), o = o || goog.global, !(e[0] in o) && o.execScript && o.execScript("var " + e[0]); for (var i; e.length && (i = e.shift());)!e.length && goog.isDef(t) ? o[i] = t : o = o[i] ? o[i] : o[i] = {} }, goog.getObjectByName = function (e, t) { for (var o, i = e.split("."), s = t || goog.global; o = i.shift();) { if (!goog.isDefAndNotNull(s[o])) return null; s = s[o] } return s }, goog.globalize = function (e, t) { var o, i = t || goog.global; for (o in e) i[o] = e[o] }, goog.addDependency = function (e, t, o) { if (!COMPILED) { e = e.replace(/\\/g, "/"); for (var i, s = goog.dependencies_, n = 0; i = t[n]; n++)s.nameToPath[i] = e, e in s.pathToNames || (s.pathToNames[e] = {}), s.pathToNames[e][i] = !0; for (i = 0; t = o[i]; i++)e in s.requires || (s.requires[e] = {}), s.requires[e][t] = !0 } }, goog.ENABLE_DEBUG_LOADER = !0, goog.require = function (e) { if (!COMPILED && !goog.isProvided_(e)) { if (goog.ENABLE_DEBUG_LOADER) { var t = goog.getPathFromDeps_(e); if (t) return goog.included_[t] = !0, void goog.writeScripts_() } throw e = "goog.require could not find: " + e, goog.global.console && goog.global.console.error(e), Error(e) } }, goog.basePath = "", goog.nullFunction = function () { }, goog.identityFunction = function (e) { return e }, goog.abstractMethod = function () { throw Error("unimplemented abstract method") }, goog.addSingletonGetter = function (e) { e.getInstance = function () { return e.instance_ ? e.instance_ : (goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = e), e.instance_ = new e) } }, goog.instantiatedSingletons_ = [], !COMPILED && goog.ENABLE_DEBUG_LOADER && (goog.included_ = {}, goog.dependencies_ = { pathToNames: {}, nameToPath: {}, requires: {}, visited: {}, written: {} }, goog.inHtmlDocument_ = function () { var e = goog.global.document; return void 0 !== e && "write" in e }, goog.findBasePath_ = function () { if (goog.global.CLOSURE_BASE_PATH) goog.basePath = goog.global.CLOSURE_BASE_PATH; else if (goog.inHtmlDocument_()) for (var e = goog.global.document.getElementsByTagName("script"), t = e.length - 1; t >= 0; --t) { var o = e[t].src, i = -1 == (i = o.lastIndexOf("?")) ? o.length : i; if ("base.js" == o.substr(i - 7, 7)) { goog.basePath = o.substr(0, i - 7); break } } }, goog.importScript_ = function (e) { var t = goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_; !goog.dependencies_.written[e] && t(e) && (goog.dependencies_.written[e] = !0) }, goog.writeScriptTag_ = function (e) { return !!goog.inHtmlDocument_() && (goog.global.document.write('<script type="text/javascript" src="' + e + '"><\/script>'), !0) }, goog.writeScripts_ = function () { function e(t) { if (!(t in s.written)) { if (!(t in s.visited) && (s.visited[t] = !0, t in s.requires)) for (var n in s.requires[t]) if (!goog.isProvided_(n)) { if (!(n in s.nameToPath)) throw Error("Undefined nameToPath for " + n); e(s.nameToPath[n]) } t in i || (i[t] = !0, o.push(t)) } } var t, o = [], i = {}, s = goog.dependencies_; for (t in goog.included_) s.written[t] || e(t); for (t = 0; t < o.length; t++) { if (!o[t]) throw Error("Undefined script input"); goog.importScript_(goog.basePath + o[t]) } }, goog.getPathFromDeps_ = function (e) { return e in goog.dependencies_.nameToPath ? goog.dependencies_.nameToPath[e] : null }, goog.findBasePath_(), goog.global.CLOSURE_NO_DEPS || goog.importScript_(goog.basePath + "deps.js")), goog.typeOf = function (e) { var t = typeof e; if ("object" == t) { if (!e) return "null"; if (e instanceof Array) return "array"; if (e instanceof Object) return t; var o = Object.prototype.toString.call(e); if ("[object Window]" == o) return "object"; if ("[object Array]" == o || "number" == typeof e.length && void 0 !== e.splice && void 0 !== e.propertyIsEnumerable && !e.propertyIsEnumerable("splice")) return "array"; if ("[object Function]" == o || void 0 !== e.call && void 0 !== e.propertyIsEnumerable && !e.propertyIsEnumerable("call")) return "function" } else if ("function" == t && void 0 === e.call) return "object"; return t }, goog.isDef = function (e) { return void 0 !== e }, goog.isNull = function (e) { return null === e }, goog.isDefAndNotNull = function (e) { return null != e }, goog.isArray = function (e) { return "array" == goog.typeOf(e) }, goog.isArrayLike = function (e) { var t = goog.typeOf(e); return "array" == t || "object" == t && "number" == typeof e.length }, goog.isDateLike = function (e) { return goog.isObject(e) && "function" == typeof e.getFullYear }, goog.isString = function (e) { return "string" == typeof e }, goog.isBoolean = function (e) { return "boolean" == typeof e }, goog.isNumber = function (e) { return "number" == typeof e }, goog.isFunction = function (e) { return "function" == goog.typeOf(e) }, goog.isObject = function (e) { var t = typeof e; return "object" == t && null != e || "function" == t }, goog.getUid = function (e) { return e[goog.UID_PROPERTY_] || (e[goog.UID_PROPERTY_] = ++goog.uidCounter_) }, goog.removeUid = function (e) { "removeAttribute" in e && e.removeAttribute(goog.UID_PROPERTY_); try { delete e[goog.UID_PROPERTY_] } catch (e) { } }, goog.UID_PROPERTY_ = "closure_uid_" + Math.floor(2147483648 * Math.random()).toString(36), goog.uidCounter_ = 0, goog.getHashCode = goog.getUid, goog.removeHashCode = goog.removeUid, goog.cloneObject = function (e) { if ("object" == (o = goog.typeOf(e)) || "array" == o) { if (e.clone) return e.clone(); var t, o = "array" == o ? [] : {}; for (t in e) o[t] = goog.cloneObject(e[t]); return o } return e }, goog.bindNative_ = function (e, t, o) { return e.call.apply(e.bind, arguments) }, goog.bindJs_ = function (e, t, o) { if (!e) throw Error(); if (arguments.length > 2) { var i = Array.prototype.slice.call(arguments, 2); return function () { var o = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(o, i), e.apply(t, o) } } return function () { return e.apply(t, arguments) } }, goog.bind = function (e, t, o) { return goog.bind = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? goog.bindNative_ : goog.bindJs_, goog.bind.apply(null, arguments) }, goog.partial = function (e, t) { var o = Array.prototype.slice.call(arguments, 1); return function () { var t = Array.prototype.slice.call(arguments); return t.unshift.apply(t, o), e.apply(this, t) } }, goog.mixin = function (e, t) { for (var o in t) e[o] = t[o] }, goog.now = Date.now || function () { return +new Date }, goog.globalEval = function (e) { if (goog.global.execScript) goog.global.execScript(e, "JavaScript"); else { if (!goog.global.eval) throw Error("goog.globalEval not available"); if (null == goog.evalWorksForGlobals_ && (goog.global.eval("var _et_ = 1;"), void 0 !== goog.global._et_ ? (delete goog.global._et_, goog.evalWorksForGlobals_ = !0) : goog.evalWorksForGlobals_ = !1), goog.evalWorksForGlobals_) goog.global.eval(e); else { var t = goog.global.document, o = t.createElement("script"); o.type = "text/javascript", o.defer = !1, o.appendChild(t.createTextNode(e)), t.body.appendChild(o), t.body.removeChild(o) } } }, goog.evalWorksForGlobals_ = null, goog.getCssName = function (e, t) { var o = function (e) { return goog.cssNameMapping_[e] || e }, i = function (e) { e = e.split("-"); for (var t = [], i = 0; i < e.length; i++)t.push(o(e[i])); return t.join("-") }; i = goog.cssNameMapping_ ? "BY_WHOLE" == goog.cssNameMappingStyle_ ? o : i : function (e) { return e }; return t ? e + "-" + i(t) : i(e) }, goog.setCssNameMapping = function (e, t) { goog.cssNameMapping_ = e, goog.cssNameMappingStyle_ = t }, !COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING && (goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING), goog.getMsg = function (e, t) { var o, i = t || {}; for (o in i) { var s = ("" + i[o]).replace(/\$/g, "$$$$"); e = e.replace(RegExp("\\{\\$" + o + "\\}", "gi"), s) } return e }, goog.exportSymbol = function (e, t, o) { goog.exportPath_(e, t, o) }, goog.exportProperty = function (e, t, o) { e[t] = o }, goog.inherits = function (e, t) { function o() { } o.prototype = t.prototype, e.superClass_ = t.prototype, e.prototype = new o, e.prototype.constructor = e }, goog.base = function (e, t, o) { var i = arguments.callee.caller; if (i.superClass_) return i.superClass_.constructor.apply(e, Array.prototype.slice.call(arguments, 1)); for (var s = Array.prototype.slice.call(arguments, 2), n = !1, r = e.constructor; r; r = r.superClass_ && r.superClass_.constructor)if (r.prototype[t] === i) n = !0; else if (n) return r.prototype[t].apply(e, s); if (e[t] === i) return e.constructor.prototype[t].apply(e, s); throw Error("goog.base called from a method of one name to a method of a different name") }, goog.scope = function (e) { e.call(goog.global) }; var lime = { DirtyObject: function () { } }; lime.DirtyObject.prototype.update = function () { }, goog.math = {}, goog.math.Coordinate = function (e, t) { this.x = goog.isDef(e) ? e : 0, this.y = goog.isDef(t) ? t : 0 }, goog.math.Coordinate.prototype.clone = function () { return new goog.math.Coordinate(this.x, this.y) }, goog.DEBUG && (goog.math.Coordinate.prototype.toString = function () { return "(" + this.x + ", " + this.y + ")" }), goog.math.Coordinate.equals = function (e, t) { return e == t || !(!e || !t) && (e.x == t.x && e.y == t.y) }, goog.math.Coordinate.distance = function (e, t) { var o = e.x - t.x, i = e.y - t.y; return Math.sqrt(o * o + i * i) }, goog.math.Coordinate.squaredDistance = function (e, t) { var o = e.x - t.x, i = e.y - t.y; return o * o + i * i }, goog.math.Coordinate.difference = function (e, t) { return new goog.math.Coordinate(e.x - t.x, e.y - t.y) }, goog.math.Coordinate.sum = function (e, t) { return new goog.math.Coordinate(e.x + t.x, e.y + t.y) }, goog.math.Box = function (e, t, o, i) { this.top = e, this.right = t, this.bottom = o, this.left = i }, goog.math.Box.boundingBox = function (e) { for (var t = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x), o = 1; o < arguments.length; o++) { var i = arguments[o]; t.top = Math.min(t.top, i.y), t.right = Math.max(t.right, i.x), t.bottom = Math.max(t.bottom, i.y), t.left = Math.min(t.left, i.x) } return t }, goog.math.Box.prototype.clone = function () { return new goog.math.Box(this.top, this.right, this.bottom, this.left) }, goog.DEBUG && (goog.math.Box.prototype.toString = function () { return "(" + this.top + "t, " + this.right + "r, " + this.bottom + "b, " + this.left + "l)" }), goog.math.Box.prototype.contains = function (e) { return goog.math.Box.contains(this, e) }, goog.math.Box.prototype.expand = function (e, t, o, i) { return goog.isObject(e) ? (this.top = this.top - e.top, this.right = this.right + e.right, this.bottom = this.bottom + e.bottom, this.left = this.left - e.left) : (this.top = this.top - e, this.right = this.right + t, this.bottom = this.bottom + o, this.left = this.left - i), this }, goog.math.Box.prototype.expandToInclude = function (e) { this.left = Math.min(this.left, e.left), this.top = Math.min(this.top, e.top), this.right = Math.max(this.right, e.right), this.bottom = Math.max(this.bottom, e.bottom) }, goog.math.Box.equals = function (e, t) { return e == t || !(!e || !t) && (e.top == t.top && e.right == t.right && e.bottom == t.bottom && e.left == t.left) }, goog.math.Box.contains = function (e, t) { return !(!e || !t) && (t instanceof goog.math.Box ? t.left >= e.left && t.right <= e.right && t.top >= e.top && t.bottom <= e.bottom : t.x >= e.left && t.x <= e.right && t.y >= e.top && t.y <= e.bottom) }, goog.math.Box.relativePositionX = function (e, t) { return t.x < e.left ? t.x - e.left : t.x > e.right ? t.x - e.right : 0 }, goog.math.Box.relativePositionY = function (e, t) { return t.y < e.top ? t.y - e.top : t.y > e.bottom ? t.y - e.bottom : 0 }, goog.math.Box.distance = function (e, t) { var o = goog.math.Box.relativePositionX(e, t), i = goog.math.Box.relativePositionY(e, t); return Math.sqrt(o * o + i * i) }, goog.math.Box.intersects = function (e, t) { return e.left <= t.right && t.left <= e.right && e.top <= t.bottom && t.top <= e.bottom }, goog.math.Box.intersectsWithPadding = function (e, t, o) { return e.left <= t.right + o && t.left <= e.right + o && e.top <= t.bottom + o && t.top <= e.bottom + o }, goog.math.Size = function (e, t) { this.width = e, this.height = t }, goog.math.Size.equals = function (e, t) { return e == t || !(!e || !t) && (e.width == t.width && e.height == t.height) }, goog.math.Size.prototype.clone = function () { return new goog.math.Size(this.width, this.height) }, goog.DEBUG && (goog.math.Size.prototype.toString = function () { return "(" + this.width + " x " + this.height + ")" }), goog.math.Size.prototype.getLongest = function () { return Math.max(this.width, this.height) }, goog.math.Size.prototype.getShortest = function () { return Math.min(this.width, this.height) }, goog.math.Size.prototype.area = function () { return this.width * this.height }, goog.math.Size.prototype.perimeter = function () { return 2 * (this.width + this.height) }, goog.math.Size.prototype.aspectRatio = function () { return this.width / this.height }, goog.math.Size.prototype.isEmpty = function () { return !this.area() }, goog.math.Size.prototype.ceil = function () { return this.width = Math.ceil(this.width), this.height = Math.ceil(this.height), this }, goog.math.Size.prototype.fitsInside = function (e) { return this.width <= e.width && this.height <= e.height }, goog.math.Size.prototype.floor = function () { return this.width = Math.floor(this.width), this.height = Math.floor(this.height), this }, goog.math.Size.prototype.round = function () { return this.width = Math.round(this.width), this.height = Math.round(this.height), this }, goog.math.Size.prototype.scale = function (e) { return this.width = this.width * e, this.height = this.height * e, this }, goog.math.Size.prototype.scaleToFit = function (e) { return this.scale(this.aspectRatio() > e.aspectRatio() ? e.width / this.width : e.height / this.height) }, goog.math.Box.size = {}, goog.math.Size.scaleVec2 = {}, goog.math.Box.prototype.size = function () { return new goog.math.Size(this.right - this.left, this.bottom - this.top) }, goog.math.Size.prototype.scaleVec2 = function (e) { return this.width *= e.x, this.height *= e.y, this }, lime.Renderer = function () { }, lime.Renderer.prototype.draw = goog.nullFunction, lime.Renderer.prototype.getType = function () { return this.base ? this.base : this }, lime.Renderer.prototype.makeSubRenderer = function (e) { return goog.object.extend(e, this), e.base = this.getType(), e }, lime.Renderer.CANVAS = new lime.Renderer, lime.Renderer.CANVAS.updateLayout = function () { }, lime.Renderer.CANVAS.drawCanvas = function () { var e, t = this.getQuality(), o = this.measureContents(), i = this.relativeQuality_ || 1, s = i / t; if (this.domElement) { this.boundsCache && this.boundsCache.contains(o) && (e = this.boundsCache.size().area() / o.size().area()) && 1.6 > e && .5 < e ? o = this.boundsCache : 1 != this.staticCanvas && 0 != this.children_.length && (this instanceof lime.Scene || o.expand(12, 12, 12, 12)), this.boundsCache = o; var n = o.size(); e = n.clone().scale(i).ceil(), this.domElement.width == e.width && this.domElement.height == e.height || (this.domElement.width = e.width, this.domElement.height = e.height, this.redraw_ = 1); var r = this.getScale().clone(); this.transitionsActive_[lime.Transition.SCALE] && (r = this.transitionsActive_[lime.Transition.SCALE]), 0 != e.width ? r.scale(n.width * s / e.width) : r.scale(1 / t), t = this.getFrame(), this.ax = (t.left - o.left) * i, this.ay = (t.top - o.top) * i, o = this.getSize().clone().scaleVec2(this.getAnchorPoint()).scale(i), i = this.getPosition().clone(), this.transitionsActive_[lime.Transition.POSITION] && (i = this.transitionsActive_[lime.Transition.POSITION]), i.x *= s, i.y *= s, i.x -= o.width + this.ax, i.y -= o.height + this.ay, lime.style.setTransformOrigin(this.domElement, (this.ax + o.width) / e.width * 100, (this.ay + o.height) / e.height * 100, !0), !this.transitionsActiveSet_[lime.Transition.POSITION] && !this.transitionsActiveSet_[lime.Transition.SCALE] && !this.transitionsActiveSet_[lime.Transition.ROTATION] && (s = -this.getRotation(), goog.isDef(this.transitionsActive_[lime.Transition.ROTATION]) && (s = -this.transitionsActive_[lime.Transition.ROTATION]), lime.style.setTransform(this.domElement, (new lime.style.Transform).setPrecision(.1).translate(i.x, i.y).scale(r.x, r.y).rotate(s))), this.redraw_ && (s = this.domElement.getContext("2d"), i = this.relativeQuality_ || 1, s.clearRect(0, 0, e.width, e.height), s.save(), s.translate(this.ax, this.ay), s.scale(i, i), e = this.getSize(), r = this.getAnchorPoint(), s.translate(e.width * r.x, e.height * r.y), this.renderer.drawCanvasObject.call(this, s), s.restore(), this.redraw_ = 0) } }, lime.Renderer.CANVAS.update = function () { }, lime.Renderer.CANVAS.drawCanvasObject = function (e) { if (this.inTree_ && (this.mask_ != this.activeMask_ && (this.activeMask_ && lime.Renderer.DOM.removeMask.call(this), this.mask_ && lime.Renderer.DOM.addMask.call(this)), !this.maskTarget_ && !this.hidden_ && 0 != this.opacity_ && 1 != this.isMask)) { if (1 != this.opacity_ && (e.globalAlpha *= this.opacity_), this.mask_) { lime.Renderer.DOM.calculateMaskPosition.call(this.mask_); var t = this.activeMask_, o = this.scale_; e.save(), e.save(), e.translate(t.mPos.x, t.mPos.y), e.rotate(-t.mRot), this.needsDomElement && e.rotate(this.getRotation() * Math.PI / 180), e.beginPath(), e.moveTo(0, 0), e.lineTo(t.mWidth / o.x, 0), e.lineTo(t.mWidth / o.x, t.mHeight / o.y), e.lineTo(0, t.mHeight / o.y), e.closePath(), e.restore(), e.clip() } t = new goog.math.Coordinate(0, 0), this.renderer.draw.call(this, e); for (var i, s = 0; i = this.children_[s]; s++) { var n = i.localToParent(t).clone(), r = i.getRotation(); o = i.getScale(); e.save(), e.translate(n.x, n.y), e.scale(o.x, o.y), 0 != r && e.rotate(-r * Math.PI / 180), this.renderer.drawCanvasObject.call(i, e), e.restore() } 1 != this.opacity_ && (e.globalAlpha /= this.opacity_), this.activeMask_ && e.restore() } }, goog.debug = {}, goog.debug.Error = function (e) { Error.captureStackTrace ? Error.captureStackTrace(this, goog.debug.Error) : this.stack = Error().stack || "", e && (this.message = "" + e) }, goog.inherits(goog.debug.Error, Error), goog.debug.Error.prototype.name = "CustomError", goog.string = {}, goog.string.Unicode = { NBSP: " " }, goog.string.startsWith = function (e, t) { return 0 == e.lastIndexOf(t, 0) }, goog.string.endsWith = function (e, t) { var o = e.length - t.length; return 0 <= o && e.indexOf(t, o) == o }, goog.string.caseInsensitiveStartsWith = function (e, t) { return 0 == goog.string.caseInsensitiveCompare(t, e.substr(0, t.length)) }, goog.string.caseInsensitiveEndsWith = function (e, t) { return 0 == goog.string.caseInsensitiveCompare(t, e.substr(e.length - t.length, t.length)) }, goog.string.subs = function (e, t) { for (var o = 1; o < arguments.length; o++) { var i = ("" + arguments[o]).replace(/\$/g, "$$$$"); e = e.replace(/\%s/, i) } return e }, goog.string.collapseWhitespace = function (e) { return e.replace(/[\s\xa0]+/g, " ").replace(/^\s+|\s+$/g, "") }, goog.string.isEmpty = function (e) { return /^[\s\xa0]*$/.test(e) }, goog.string.isEmptySafe = function (e) { return goog.string.isEmpty(goog.string.makeSafe(e)) }, goog.string.isBreakingWhitespace = function (e) { return !/[^\t\n\r ]/.test(e) }, goog.string.isAlpha = function (e) { return !/[^a-zA-Z]/.test(e) }, goog.string.isNumeric = function (e) { return !/[^0-9]/.test(e) }, goog.string.isAlphaNumeric = function (e) { return !/[^a-zA-Z0-9]/.test(e) }, goog.string.isSpace = function (e) { return " " == e }, goog.string.isUnicodeChar = function (e) { return 1 == e.length && " " <= e && "~" >= e || "" <= e && "�" >= e }, goog.string.stripNewlines = function (e) { return e.replace(/(\r\n|\r|\n)+/g, " ") }, goog.string.canonicalizeNewlines = function (e) { return e.replace(/(\r\n|\r|\n)/g, "\n") }, goog.string.normalizeWhitespace = function (e) { return e.replace(/\xa0|\s/g, " ") }, goog.string.normalizeSpaces = function (e) { return e.replace(/\xa0|[ \t]+/g, " ") }, goog.string.collapseBreakingSpaces = function (e) { return e.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "") }, goog.string.trim = function (e) { return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "") }, goog.string.trimLeft = function (e) { return e.replace(/^[\s\xa0]+/, "") }, goog.string.trimRight = function (e) { return e.replace(/[\s\xa0]+$/, "") }, goog.string.caseInsensitiveCompare = function (e, t) { var o = ("" + e).toLowerCase(), i = ("" + t).toLowerCase(); return o < i ? -1 : o == i ? 0 : 1 }, goog.string.numerateCompareRegExp_ = /(\.\d+)|(\d+)|(\D+)/g, goog.string.numerateCompare = function (e, t) { if (e == t) return 0; if (!e) return -1; if (!t) return 1; for (var o = e.toLowerCase().match(goog.string.numerateCompareRegExp_), i = t.toLowerCase().match(goog.string.numerateCompareRegExp_), s = Math.min(o.length, i.length), n = 0; n < s; n++) { var r = o[n], a = i[n]; if (r != a) return o = parseInt(r, 10), !isNaN(o) && (i = parseInt(a, 10), !isNaN(i) && o - i) ? o - i : r < a ? -1 : 1 } return o.length != i.length ? o.length - i.length : e < t ? -1 : 1 }, goog.string.urlEncode = function (e) { return encodeURIComponent("" + e) }, goog.string.urlDecode = function (e) { return decodeURIComponent(e.replace(/\+/g, " ")) }, goog.string.newLineToBr = function (e, t) { return e.replace(/(\r\n|\r|\n)/g, t ? "<br />" : "<br>") }, goog.string.htmlEscape = function (e, t) { return t ? e.replace(goog.string.amperRe_, "&amp;").replace(goog.string.ltRe_, "&lt;").replace(goog.string.gtRe_, "&gt;").replace(goog.string.quotRe_, "&quot;") : goog.string.allRe_.test(e) ? (-1 != e.indexOf("&") && (e = e.replace(goog.string.amperRe_, "&amp;")), -1 != e.indexOf("<") && (e = e.replace(goog.string.ltRe_, "&lt;")), -1 != e.indexOf(">") && (e = e.replace(goog.string.gtRe_, "&gt;")), -1 != e.indexOf('"') && (e = e.replace(goog.string.quotRe_, "&quot;")), e) : e }, goog.string.amperRe_ = /&/g, goog.string.ltRe_ = /</g, goog.string.gtRe_ = />/g, goog.string.quotRe_ = /\"/g, goog.string.allRe_ = /[&<>\"]/, goog.string.unescapeEntities = function (e) { return goog.string.contains(e, "&") ? "document" in goog.global ? goog.string.unescapeEntitiesUsingDom_(e) : goog.string.unescapePureXmlEntities_(e) : e }, goog.string.unescapeEntitiesUsingDom_ = function (e) { var t = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"' }, o = document.createElement("div"); return e.replace(goog.string.HTML_ENTITY_PATTERN_, function (e, i) { var s = t[e]; if (s) return s; if ("#" == i.charAt(0)) { var n = Number("0" + i.substr(1)); isNaN(n) || (s = String.fromCharCode(n)) } return s || (o.innerHTML = e + " ", s = o.firstChild.nodeValue.slice(0, -1)), t[e] = s }) }, goog.string.unescapePureXmlEntities_ = function (e) { return e.replace(/&([^;]+);/g, function (e, t) { switch (t) { case "amp": return "&"; case "lt": return "<"; case "gt": return ">"; case "quot": return '"'; default: if ("#" == t.charAt(0)) { var o = Number("0" + t.substr(1)); if (!isNaN(o)) return String.fromCharCode(o) } return e } }) }, goog.string.HTML_ENTITY_PATTERN_ = /&([^;\s<&]+);?/g, goog.string.whitespaceEscape = function (e, t) { return goog.string.newLineToBr(e.replace(/  /g, " &#160;"), t) }, goog.string.stripQuotes = function (e, t) { for (var o = t.length, i = 0; i < o; i++) { var s = 1 == o ? t : t.charAt(i); if (e.charAt(0) == s && e.charAt(e.length - 1) == s) return e.substring(1, e.length - 1) } return e }, goog.string.truncate = function (e, t, o) { return o && (e = goog.string.unescapeEntities(e)), e.length > t && (e = e.substring(0, t - 3) + "..."), o && (e = goog.string.htmlEscape(e)), e }, goog.string.truncateMiddle = function (e, t, o, i) { if (o && (e = goog.string.unescapeEntities(e)), i && e.length > t) { i > t && (i = t); var s = e.length - i; e = e.substring(0, t - i) + "..." + e.substring(s) } else e.length > t && (i = Math.floor(t / 2), s = e.length - i, e = e.substring(0, i + t % 2) + "..." + e.substring(s)); return o && (e = goog.string.htmlEscape(e)), e }, goog.string.specialEscapeChars_ = { "\0": "\\0", "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "\t": "\\t", "\v": "\\x0B", '"': '\\"', "\\": "\\\\" }, goog.string.jsEscapeCache_ = { "'": "\\'" }, goog.string.quote = function (e) { if ((e = "" + e).quote) return e.quote(); for (var t = ['"'], o = 0; o < e.length; o++) { var i = e.charAt(o), s = i.charCodeAt(0); t[o + 1] = goog.string.specialEscapeChars_[i] || (31 < s && 127 > s ? i : goog.string.escapeChar(i)) } return t.push('"'), t.join("") }, goog.string.escapeString = function (e) { for (var t = [], o = 0; o < e.length; o++)t[o] = goog.string.escapeChar(e.charAt(o)); return t.join("") }, goog.string.escapeChar = function (e) { if (e in goog.string.jsEscapeCache_) return goog.string.jsEscapeCache_[e]; if (e in goog.string.specialEscapeChars_) return goog.string.jsEscapeCache_[e] = goog.string.specialEscapeChars_[e]; var t = e, o = e.charCodeAt(0); return 31 < o && 127 > o ? t = e : (256 > o ? (t = "\\x", (16 > o || 256 < o) && (t += "0")) : (t = "\\u", 4096 > o && (t += "0")), t += o.toString(16).toUpperCase()), goog.string.jsEscapeCache_[e] = t }, goog.string.toMap = function (e) { for (var t = {}, o = 0; o < e.length; o++)t[e.charAt(o)] = !0; return t }, goog.string.contains = function (e, t) { return -1 != e.indexOf(t) }, goog.string.countOf = function (e, t) { return e && t ? e.split(t).length - 1 : 0 }, goog.string.removeAt = function (e, t, o) { var i = e; return 0 <= t && t < e.length && 0 < o && (i = e.substr(0, t) + e.substr(t + o, e.length - t - o)), i }, goog.string.remove = function (e, t) { var o = RegExp(goog.string.regExpEscape(t), ""); return e.replace(o, "") }, goog.string.removeAll = function (e, t) { var o = RegExp(goog.string.regExpEscape(t), "g"); return e.replace(o, "") }, goog.string.regExpEscape = function (e) { return ("" + e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08") }, goog.string.repeat = function (e, t) { return Array(t + 1).join(e) }, goog.string.padNumber = function (e, t, o) { return -1 == (o = (e = goog.isDef(o) ? e.toFixed(o) : "" + e).indexOf(".")) && (o = e.length), goog.string.repeat("0", Math.max(0, t - o)) + e }, goog.string.makeSafe = function (e) { return null == e ? "" : "" + e }, goog.string.buildString = function (e) { return Array.prototype.join.call(arguments, "") }, goog.string.getRandomString = function () { return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36) }, goog.string.compareVersions = function (e, t) { for (var o = 0, i = goog.string.trim("" + e).split("."), s = goog.string.trim("" + t).split("."), n = Math.max(i.length, s.length), r = 0; 0 == o && r < n; r++) { var a = i[r] || "", l = s[r] || "", g = RegExp("(\\d*)(\\D*)", "g"), d = RegExp("(\\d*)(\\D*)", "g"); do { var c = g.exec(a) || ["", "", ""], m = d.exec(l) || ["", "", ""]; if (0 == c[0].length && 0 == m[0].length) break; o = 0 == c[1].length ? 0 : parseInt(c[1], 10); var p = 0 == m[1].length ? 0 : parseInt(m[1], 10); o = goog.string.compareElements_(o, p) || goog.string.compareElements_(0 == c[2].length, 0 == m[2].length) || goog.string.compareElements_(c[2], m[2]) } while (0 == o) } return o }, goog.string.compareElements_ = function (e, t) { return e < t ? -1 : e > t ? 1 : 0 }, goog.string.HASHCODE_MAX_ = 4294967296, goog.string.hashCode = function (e) { for (var t = 0, o = 0; o < e.length; ++o)t = 31 * t + e.charCodeAt(o), t %= goog.string.HASHCODE_MAX_; return t }, goog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0, goog.string.createUniqueString = function () { return "goog_" + goog.string.uniqueStringCounter_++ }, goog.string.toNumber = function (e) { var t = Number(e); return 0 == t && goog.string.isEmpty(e) ? NaN : t }, goog.string.toCamelCase = function (e) { return ("" + e).replace(/\-([a-z])/g, function (e, t) { return t.toUpperCase() }) }, goog.string.toSelectorCase = function (e) { return ("" + e).replace(/([A-Z])/g, "-$1").toLowerCase() }, goog.string.toTitleCase = function (e, t) { var o = goog.isString(t) ? goog.string.regExpEscape(t) : "\\s"; return e.replace(RegExp("(^" + (o ? "|[" + o + "]+" : "") + ")([a-z])", "g"), function (e, t, o) { return t + o.toUpperCase() }) }, goog.asserts = {}, goog.asserts.ENABLE_ASSERTS = goog.DEBUG, goog.asserts.AssertionError = function (e, t) { t.unshift(e), goog.debug.Error.call(this, goog.string.subs.apply(null, t)), t.shift(), this.messagePattern = e }, goog.inherits(goog.asserts.AssertionError, goog.debug.Error), goog.asserts.AssertionError.prototype.name = "AssertionError", goog.asserts.doAssertFailure_ = function (e, t, o, i) { var s = "Assertion failed"; if (o) { s = s + ": " + o; var n = i } else e && (s += ": " + e, n = t); throw new goog.asserts.AssertionError("" + s, n || []) }, goog.asserts.assert = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !e && goog.asserts.doAssertFailure_("", null, t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.fail = function (e, t) { if (goog.asserts.ENABLE_ASSERTS) throw new goog.asserts.AssertionError("Failure" + (e ? ": " + e : ""), Array.prototype.slice.call(arguments, 1)) }, goog.asserts.assertNumber = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isNumber(e) && goog.asserts.doAssertFailure_("Expected number but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertString = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isString(e) && goog.asserts.doAssertFailure_("Expected string but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertFunction = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isFunction(e) && goog.asserts.doAssertFailure_("Expected function but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertObject = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isObject(e) && goog.asserts.doAssertFailure_("Expected object but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertArray = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isArray(e) && goog.asserts.doAssertFailure_("Expected array but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertBoolean = function (e, t, o) { return goog.asserts.ENABLE_ASSERTS && !goog.isBoolean(e) && goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.", [goog.typeOf(e), e], t, Array.prototype.slice.call(arguments, 2)), e }, goog.asserts.assertInstanceof = function (e, t, o, i) { goog.asserts.ENABLE_ASSERTS && !(e instanceof t) && goog.asserts.doAssertFailure_("instanceof check failed.", null, o, Array.prototype.slice.call(arguments, 3)) }, goog.array = {}, goog.NATIVE_ARRAY_PROTOTYPES = !0, goog.array.peek = function (e) { return e[e.length - 1] }, goog.array.ARRAY_PROTOTYPE_ = Array.prototype, goog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.indexOf ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.indexOf.call(e, t, o) } : function (e, t, o) { if (o = null == o ? 0 : 0 > o ? Math.max(0, e.length + o) : o, goog.isString(e)) return goog.isString(t) && 1 == t.length ? e.indexOf(t, o) : -1; for (; o < e.length; o++)if (o in e && e[o] === t) return o; return -1 }, goog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.lastIndexOf ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e, t, null == o ? e.length - 1 : o) } : function (e, t, o) { if (0 > (o = null == o ? e.length - 1 : o) && (o = Math.max(0, e.length + o)), goog.isString(e)) return goog.isString(t) && 1 == t.length ? e.lastIndexOf(t, o) : -1; for (; 0 <= o; o--)if (o in e && e[o] === t) return o; return -1 }, goog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.forEach ? function (e, t, o) { goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.forEach.call(e, t, o) } : function (e, t, o) { for (var i = e.length, s = goog.isString(e) ? e.split("") : e, n = 0; n < i; n++)n in s && t.call(o, s[n], n, e) }, goog.array.forEachRight = function (e, t, o) { var i = e.length, s = goog.isString(e) ? e.split("") : e; for (i = i - 1; 0 <= i; --i)i in s && t.call(o, s[i], i, e) }, goog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.filter ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.filter.call(e, t, o) } : function (e, t, o) { for (var i = e.length, s = [], n = 0, r = goog.isString(e) ? e.split("") : e, a = 0; a < i; a++)if (a in r) { var l = r[a]; t.call(o, l, a, e) && (s[n++] = l) } return s }, goog.array.map = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.map ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.map.call(e, t, o) } : function (e, t, o) { for (var i = e.length, s = Array(i), n = goog.isString(e) ? e.split("") : e, r = 0; r < i; r++)r in n && (s[r] = t.call(o, n[r], r, e)); return s }, goog.array.reduce = function (e, t, o, i) { if (e.reduce) return i ? e.reduce(goog.bind(t, i), o) : e.reduce(t, o); var s = o; return goog.array.forEach(e, function (o, n) { s = t.call(i, s, o, n, e) }), s }, goog.array.reduceRight = function (e, t, o, i) { if (e.reduceRight) return i ? e.reduceRight(goog.bind(t, i), o) : e.reduceRight(t, o); var s = o; return goog.array.forEachRight(e, function (o, n) { s = t.call(i, s, o, n, e) }), s }, goog.array.some = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.some ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.some.call(e, t, o) } : function (e, t, o) { for (var i = e.length, s = goog.isString(e) ? e.split("") : e, n = 0; n < i; n++)if (n in s && t.call(o, s[n], n, e)) return !0; return !1 }, goog.array.every = goog.NATIVE_ARRAY_PROTOTYPES && goog.array.ARRAY_PROTOTYPE_.every ? function (e, t, o) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.every.call(e, t, o) } : function (e, t, o) { for (var i = e.length, s = goog.isString(e) ? e.split("") : e, n = 0; n < i; n++)if (n in s && !t.call(o, s[n], n, e)) return !1; return !0 }, goog.array.find = function (e, t, o) { return 0 > (t = goog.array.findIndex(e, t, o)) ? null : goog.isString(e) ? e.charAt(t) : e[t] }, goog.array.findIndex = function (e, t, o) { for (var i = e.length, s = goog.isString(e) ? e.split("") : e, n = 0; n < i; n++)if (n in s && t.call(o, s[n], n, e)) return n; return -1 }, goog.array.findRight = function (e, t, o) { return 0 > (t = goog.array.findIndexRight(e, t, o)) ? null : goog.isString(e) ? e.charAt(t) : e[t] }, goog.array.findIndexRight = function (e, t, o) { var i = e.length, s = goog.isString(e) ? e.split("") : e; for (i = i - 1; 0 <= i; i--)if (i in s && t.call(o, s[i], i, e)) return i; return -1 }, goog.array.contains = function (e, t) { return 0 <= goog.array.indexOf(e, t) }, goog.array.isEmpty = function (e) { return 0 == e.length }, goog.array.clear = function (e) { if (!goog.isArray(e)) for (var t = e.length - 1; 0 <= t; t--)delete e[t]; e.length = 0 }, goog.array.insert = function (e, t) { goog.array.contains(e, t) || e.push(t) }, goog.array.insertAt = function (e, t, o) { goog.array.splice(e, o, 0, t) }, goog.array.insertArrayAt = function (e, t, o) { goog.partial(goog.array.splice, e, o, 0).apply(null, t) }, goog.array.insertBefore = function (e, t, o) { var i; 2 == arguments.length || 0 > (i = goog.array.indexOf(e, o)) ? e.push(t) : goog.array.insertAt(e, t, i) }, goog.array.remove = function (e, t) { var o, i = goog.array.indexOf(e, t); return (o = 0 <= i) && goog.array.removeAt(e, i), o }, goog.array.removeAt = function (e, t) { return goog.asserts.assert(null != e.length), 1 == goog.array.ARRAY_PROTOTYPE_.splice.call(e, t, 1).length }, goog.array.removeIf = function (e, t, o) { return 0 <= (t = goog.array.findIndex(e, t, o)) && (goog.array.removeAt(e, t), !0) }, goog.array.concat = function (e) { return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_, arguments) }, goog.array.toArray = function (e) { var t = e.length; if (0 < t) { for (var o = Array(t), i = 0; i < t; i++)o[i] = e[i]; return o } return [] }, goog.array.clone = goog.array.toArray, goog.array.extend = function (e, t) { for (var o = 1; o < arguments.length; o++) { var i, s = arguments[o]; if (goog.isArray(s) || (i = goog.isArrayLike(s)) && s.hasOwnProperty("callee")) e.push.apply(e, s); else if (i) for (var n = e.length, r = s.length, a = 0; a < r; a++)e[n + a] = s[a]; else e.push(s) } }, goog.array.splice = function (e, t, o, i) { return goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.splice.apply(e, goog.array.slice(arguments, 1)) }, goog.array.slice = function (e, t, o) { return goog.asserts.assert(null != e.length), 2 >= arguments.length ? goog.array.ARRAY_PROTOTYPE_.slice.call(e, t) : goog.array.ARRAY_PROTOTYPE_.slice.call(e, t, o) }, goog.array.removeDuplicates = function (e, t) { for (var o = t || e, i = {}, s = 0, n = 0; n < e.length;) { var r = e[n++], a = goog.isObject(r) ? "o" + goog.getUid(r) : (typeof r).charAt(0) + r; Object.prototype.hasOwnProperty.call(i, a) || (i[a] = !0, o[s++] = r) } o.length = s }, goog.array.binarySearch = function (e, t, o) { return goog.array.binarySearch_(e, o || goog.array.defaultCompare, !1, t) }, goog.array.binarySelect = function (e, t, o) { return goog.array.binarySearch_(e, t, !0, void 0, o) }, goog.array.binarySearch_ = function (e, t, o, i, s) { for (var n, r = 0, a = e.length; r < a;) { var l, g = r + a >> 1; 0 < (l = o ? t.call(s, e[g], g, e) : t(i, e[g])) ? r = g + 1 : (a = g, n = !l) } return n ? r : ~r }, goog.array.sort = function (e, t) { goog.asserts.assert(null != e.length), goog.array.ARRAY_PROTOTYPE_.sort.call(e, t || goog.array.defaultCompare) }, goog.array.stableSort = function (e, t) { for (var o = 0; o < e.length; o++)e[o] = { index: o, value: e[o] }; var i = t || goog.array.defaultCompare; for (goog.array.sort(e, function (e, t) { return i(e.value, t.value) || e.index - t.index }), o = 0; o < e.length; o++)e[o] = e[o].value }, goog.array.sortObjectsByKey = function (e, t, o) { var i = o || goog.array.defaultCompare; goog.array.sort(e, function (e, o) { return i(e[t], o[t]) }) }, goog.array.isSorted = function (e, t, o) { t = t || goog.array.defaultCompare; for (var i = 1; i < e.length; i++) { var s = t(e[i - 1], e[i]); if (0 < s || 0 == s && o) return !1 } return !0 }, goog.array.equals = function (e, t, o) { if (!goog.isArrayLike(e) || !goog.isArrayLike(t) || e.length != t.length) return !1; for (var i = e.length, s = (o = o || goog.array.defaultCompareEquality, 0); s < i; s++)if (!o(e[s], t[s])) return !1; return !0 }, goog.array.compare = function (e, t, o) { return goog.array.equals(e, t, o) }, goog.array.compare3 = function (e, t, o) { o = o || goog.array.defaultCompare; for (var i = Math.min(e.length, t.length), s = 0; s < i; s++) { var n = o(e[s], t[s]); if (0 != n) return n } return goog.array.defaultCompare(e.length, t.length) }, goog.array.defaultCompare = function (e, t) { return e > t ? 1 : e < t ? -1 : 0 }, goog.array.defaultCompareEquality = function (e, t) { return e === t }, goog.array.binaryInsert = function (e, t, o) { return 0 > (o = goog.array.binarySearch(e, t, o)) && (goog.array.insertAt(e, t, -(o + 1)), !0) }, goog.array.binaryRemove = function (e, t, o) { return 0 <= (t = goog.array.binarySearch(e, t, o)) && goog.array.removeAt(e, t) }, goog.array.bucket = function (e, t) { for (var o = {}, i = 0; i < e.length; i++) { var s = e[i], n = t(s, i, e); goog.isDef(n) && (o[n] || (o[n] = [])).push(s) } return o }, goog.array.repeat = function (e, t) { for (var o = [], i = 0; i < t; i++)o[i] = e; return o }, goog.array.flatten = function (e) { for (var t = [], o = 0; o < arguments.length; o++) { var i = arguments[o]; goog.isArray(i) ? t.push.apply(t, goog.array.flatten.apply(null, i)) : t.push(i) } return t }, goog.array.rotate = function (e, t) { return goog.asserts.assert(null != e.length), e.length && (0 < (t %= e.length) ? goog.array.ARRAY_PROTOTYPE_.unshift.apply(e, e.splice(-t, t)) : 0 > t && goog.array.ARRAY_PROTOTYPE_.push.apply(e, e.splice(0, -t))), e }, goog.array.zip = function (e) { if (!arguments.length) return []; for (var t = [], o = 0; ; o++) { for (var i = [], s = 0; s < arguments.length; s++) { var n = arguments[s]; if (o >= n.length) return t; i.push(n[o]) } t.push(i) } }, goog.array.shuffle = function (e, t) { for (var o = t || Math.random, i = e.length - 1; 0 < i; i--) { var s = Math.floor(o() * (i + 1)), n = e[i]; e[i] = e[s], e[s] = n } }, goog.math.randomInt = function (e) { return Math.floor(Math.random() * e) }, goog.math.uniformRandom = function (e, t) { return e + Math.random() * (t - e) }, goog.math.clamp = function (e, t, o) { return Math.min(Math.max(e, t), o) }, goog.math.modulo = function (e, t) { var o = e % t; return 0 > o * t ? o + t : o }, goog.math.lerp = function (e, t, o) { return e + o * (t - e) }, goog.math.nearlyEquals = function (e, t, o) { return Math.abs(e - t) <= (o || 1e-6) }, goog.math.standardAngle = function (e) { return goog.math.modulo(e, 360) }, goog.math.toRadians = function (e) { return e * Math.PI / 180 }, goog.math.toDegrees = function (e) { return 180 * e / Math.PI }, goog.math.angleDx = function (e, t) { return t * Math.cos(goog.math.toRadians(e)) }, goog.math.angleDy = function (e, t) { return t * Math.sin(goog.math.toRadians(e)) }, goog.math.angle = function (e, t, o, i) { return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(i - t, o - e))) }, goog.math.angleDifference = function (e, t) { var o = goog.math.standardAngle(t) - goog.math.standardAngle(e); return 180 < o ? o -= 360 : -180 >= o && (o = 360 + o), o }, goog.math.sign = function (e) { return 0 == e ? 0 : 0 > e ? -1 : 1 }, goog.math.longestCommonSubsequence = function (e, t, o, i) { o = o || function (e, t) { return e == t }, i = i || function (t) { return e[t] }; for (var s = e.length, n = t.length, r = [], a = 0; a < s + 1; a++)r[a] = [], r[a][0] = 0; for (var l = 0; l < n + 1; l++)r[0][l] = 0; for (a = 1; a <= s; a++)for (l = 1; l <= s; l++)r[a][l] = o(e[a - 1], t[l - 1]) ? r[a - 1][l - 1] + 1 : Math.max(r[a - 1][l], r[a][l - 1]); var g = []; for (a = s, l = n; 0 < a && 0 < l;)o(e[a - 1], t[l - 1]) ? (g.unshift(i(a - 1, l - 1)), a-- , l--) : r[a - 1][l] > r[a][l - 1] ? a-- : l--; return g }, goog.math.sum = function (e) { return goog.array.reduce(arguments, function (e, t) { return e + t }, 0) }, goog.math.average = function (e) { return goog.math.sum.apply(null, arguments) / arguments.length }, goog.math.standardDeviation = function (e) { if (2 > (o = arguments.length)) return 0; var t = goog.math.average.apply(null, arguments), o = goog.math.sum.apply(null, goog.array.map(arguments, function (e) { return Math.pow(e - t, 2) })) / (o - 1); return Math.sqrt(o) }, goog.math.isInt = function (e) { return isFinite(e) && 0 == e % 1 }, goog.math.isFiniteNumber = function (e) { return isFinite(e) && !isNaN(e) }, goog.math.Vec2 = function (e, t) { this.x = e, this.y = t }, goog.inherits(goog.math.Vec2, goog.math.Coordinate), goog.math.Vec2.randomUnit = function () { var e = 2 * Math.random() * Math.PI; return new goog.math.Vec2(Math.cos(e), Math.sin(e)) }, goog.math.Vec2.random = function () { var e = Math.sqrt(Math.random()), t = 2 * Math.random() * Math.PI; return new goog.math.Vec2(Math.cos(t) * e, Math.sin(t) * e) }, goog.math.Vec2.fromCoordinate = function (e) { return new goog.math.Vec2(e.x, e.y) }, goog.math.Vec2.prototype.clone = function () { return new goog.math.Vec2(this.x, this.y) }, goog.math.Vec2.prototype.magnitude = function () { return Math.sqrt(this.x * this.x + this.y * this.y) }, goog.math.Vec2.prototype.squaredMagnitude = function () { return this.x * this.x + this.y * this.y }, goog.math.Vec2.prototype.scale = function (e) { return this.x *= e, this.y *= e, this }, goog.math.Vec2.prototype.invert = function () { return this.x = -this.x, this.y = -this.y, this }, goog.math.Vec2.prototype.normalize = function () { return this.scale(1 / this.magnitude()) }, goog.math.Vec2.prototype.add = function (e) { return this.x += e.x, this.y += e.y, this }, goog.math.Vec2.prototype.subtract = function (e) { return this.x -= e.x, this.y -= e.y, this }, goog.math.Vec2.prototype.rotate = function (e) { var t = Math.cos(e), o = (e = Math.sin(e), this.y * t + this.x * e); return this.x = this.x * t - this.y * e, this.y = o, this }, goog.math.Vec2.rotateAroundPoint = function (e, t, o) { return e.clone().subtract(t).rotate(o).add(t) }, goog.math.Vec2.prototype.equals = function (e) { return this == e || !!e && this.x == e.x && this.y == e.y }, goog.math.Vec2.distance = goog.math.Coordinate.distance, goog.math.Vec2.squaredDistance = goog.math.Coordinate.squaredDistance, goog.math.Vec2.equals = goog.math.Coordinate.equals, goog.math.Vec2.sum = function (e, t) { return new goog.math.Vec2(e.x + t.x, e.y + t.y) }, goog.math.Vec2.difference = function (e, t) { return new goog.math.Vec2(e.x - t.x, e.y - t.y) }, goog.math.Vec2.dot = function (e, t) { return e.x * t.x + e.y * t.y }, goog.math.Vec2.lerp = function (e, t, o) { return new goog.math.Vec2(goog.math.lerp(e.x, t.x, o), goog.math.lerp(e.y, t.y, o)) }, goog.debug.errorHandlerWeakDep = { protectEntryPoint: function (e) { return e } }, goog.userAgent = {}, goog.userAgent.ASSUME_IE = !1, goog.userAgent.ASSUME_GECKO = !1, goog.userAgent.ASSUME_WEBKIT = !1, goog.userAgent.ASSUME_MOBILE_WEBKIT = !1, goog.userAgent.ASSUME_OPERA = !1, goog.userAgent.ASSUME_ANY_VERSION = !1, goog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA, goog.userAgent.getUserAgentString = function () { return goog.global.navigator ? goog.global.navigator.userAgent : null }, goog.userAgent.getNavigator = function () { return goog.global.navigator }, goog.userAgent.init_ = function () { var e; if (goog.userAgent.detectedOpera_ = !1, goog.userAgent.detectedIe_ = !1, goog.userAgent.detectedWebkit_ = !1, goog.userAgent.detectedMobile_ = !1, goog.userAgent.detectedGecko_ = !1, !goog.userAgent.BROWSER_KNOWN_ && (e = goog.userAgent.getUserAgentString())) { var t = goog.userAgent.getNavigator(); goog.userAgent.detectedOpera_ = 0 == e.indexOf("Opera"), goog.userAgent.detectedIe_ = !goog.userAgent.detectedOpera_ && -1 != e.indexOf("MSIE"), goog.userAgent.detectedWebkit_ = !goog.userAgent.detectedOpera_ && -1 != e.indexOf("WebKit"), goog.userAgent.detectedMobile_ = goog.userAgent.detectedWebkit_ && -1 != e.indexOf("Mobile"), goog.userAgent.detectedGecko_ = !goog.userAgent.detectedOpera_ && !goog.userAgent.detectedWebkit_ && "Gecko" == t.product } }, goog.userAgent.BROWSER_KNOWN_ || goog.userAgent.init_(), goog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : goog.userAgent.detectedOpera_, goog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : goog.userAgent.detectedIe_, goog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : goog.userAgent.detectedGecko_, goog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : goog.userAgent.detectedWebkit_, goog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.detectedMobile_, goog.userAgent.SAFARI = goog.userAgent.WEBKIT, goog.userAgent.determinePlatform_ = function () { var e = goog.userAgent.getNavigator(); return e && e.platform || "" }, goog.userAgent.PLATFORM = goog.userAgent.determinePlatform_(), goog.userAgent.ASSUME_MAC = !1, goog.userAgent.ASSUME_WINDOWS = !1, goog.userAgent.ASSUME_LINUX = !1, goog.userAgent.ASSUME_X11 = !1, goog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11, goog.userAgent.initPlatform_ = function () { goog.userAgent.detectedMac_ = goog.string.contains(goog.userAgent.PLATFORM, "Mac"), goog.userAgent.detectedWindows_ = goog.string.contains(goog.userAgent.PLATFORM, "Win"), goog.userAgent.detectedLinux_ = goog.string.contains(goog.userAgent.PLATFORM, "Linux"), goog.userAgent.detectedX11_ = !!goog.userAgent.getNavigator() && goog.string.contains(goog.userAgent.getNavigator().appVersion || "", "X11") }, goog.userAgent.PLATFORM_KNOWN_ || goog.userAgent.initPlatform_(), goog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : goog.userAgent.detectedMac_, goog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : goog.userAgent.detectedWindows_, goog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.detectedLinux_, goog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.detectedX11_, goog.userAgent.determineVersion_ = function () { var e, t = ""; return goog.userAgent.OPERA && goog.global.opera ? t = "function" == typeof (t = goog.global.opera.version) ? t() : t : (goog.userAgent.GECKO ? e = /rv\:([^\);]+)(\)|;)/ : goog.userAgent.IE ? e = /MSIE\s+([^\);]+)(\)|;)/ : goog.userAgent.WEBKIT && (e = /WebKit\/(\S+)/), e && (t = (t = e.exec(goog.userAgent.getUserAgentString())) ? t[1] : "")), goog.userAgent.IE && (e = goog.userAgent.getDocumentMode_()) > parseFloat(t) ? "" + e : t }, goog.userAgent.getDocumentMode_ = function () { var e = goog.global.document; return e ? e.documentMode : void 0 }, goog.userAgent.VERSION = goog.userAgent.determineVersion_(), goog.userAgent.compare = function (e, t) { return goog.string.compareVersions(e, t) }, goog.userAgent.isVersionCache_ = {}, goog.userAgent.isVersion = function (e) { return goog.userAgent.ASSUME_ANY_VERSION || goog.userAgent.isVersionCache_[e] || (goog.userAgent.isVersionCache_[e] = 0 <= goog.string.compareVersions(goog.userAgent.VERSION, e)) }, goog.userAgent.isDocumentModeCache_ = {}, goog.userAgent.isDocumentMode = function (e) { return goog.userAgent.isDocumentModeCache_[e] || (goog.userAgent.isDocumentModeCache_[e] = goog.userAgent.IE && !!document.documentMode && document.documentMode >= e) }, goog.events = {}, goog.events.Listener = function () { }, goog.events.Listener.counter_ = 0, goog.events.Listener.prototype.key = 0, goog.events.Listener.prototype.removed = !1, goog.events.Listener.prototype.callOnce = !1, goog.events.Listener.prototype.init = function (e, t, o, i, s, n) { if (goog.isFunction(e)) this.isFunctionListener_ = !0; else { if (!(e && e.handleEvent && goog.isFunction(e.handleEvent))) throw Error("Invalid listener argument"); this.isFunctionListener_ = !1 } this.listener = e, this.proxy = t, this.src = o, this.type = i, this.capture = !!s, this.handler = n, this.callOnce = !1, this.key = ++goog.events.Listener.counter_, this.removed = !1 }, goog.events.Listener.prototype.handleEvent = function (e) { return this.isFunctionListener_ ? this.listener.call(this.handler || this.src, e) : this.listener.handleEvent.call(this.listener, e) }, goog.object = {}, goog.object.forEach = function (e, t, o) { for (var i in e) t.call(o, e[i], i, e) }, goog.object.filter = function (e, t, o) { var i, s = {}; for (i in e) t.call(o, e[i], i, e) && (s[i] = e[i]); return s }, goog.object.map = function (e, t, o) { var i, s = {}; for (i in e) s[i] = t.call(o, e[i], i, e); return s }, goog.object.some = function (e, t, o) { for (var i in e) if (t.call(o, e[i], i, e)) return !0; return !1 }, goog.object.every = function (e, t, o) { for (var i in e) if (!t.call(o, e[i], i, e)) return !1; return !0 }, goog.object.getCount = function (e) { var t, o = 0; for (t in e) o++; return o }, goog.object.getAnyKey = function (e) { for (var t in e) return t }, goog.object.getAnyValue = function (e) { for (var t in e) return e[t] }, goog.object.contains = function (e, t) { return goog.object.containsValue(e, t) }, goog.object.getValues = function (e) { var t, o = [], i = 0; for (t in e) o[i++] = e[t]; return o }, goog.object.getKeys = function (e) { var t, o = [], i = 0; for (t in e) o[i++] = t; return o }, goog.object.getValueByKeys = function (e, t) { for (var o = (i = goog.isArrayLike(t)) ? t : arguments, i = i ? 0 : 1; i < o.length && (e = e[o[i]], goog.isDef(e)); i++); return e }, goog.object.containsKey = function (e, t) { return t in e }, goog.object.containsValue = function (e, t) { for (var o in e) if (e[o] == t) return !0; return !1 }, goog.object.findKey = function (e, t, o) { for (var i in e) if (t.call(o, e[i], i, e)) return i }, goog.object.findValue = function (e, t, o) { return (t = goog.object.findKey(e, t, o)) && e[t] }, goog.object.isEmpty = function (e) { for (var t in e) return !1; return !0 }, goog.object.clear = function (e) { for (var t in e) delete e[t] }, goog.object.remove = function (e, t) { var o; return (o = t in e) && delete e[t], o }, goog.object.add = function (e, t, o) { if (t in e) throw Error('The object already contains the key "' + t + '"'); goog.object.set(e, t, o) }, goog.object.get = function (e, t, o) { return t in e ? e[t] : o }, goog.object.set = function (e, t, o) { e[t] = o }, goog.object.setIfUndefined = function (e, t, o) { return t in e ? e[t] : e[t] = o }, goog.object.clone = function (e) { var t, o = {}; for (t in e) o[t] = e[t]; return o }, goog.object.unsafeClone = function (e) { if ("object" == (o = goog.typeOf(e)) || "array" == o) { if (e.clone) return e.clone(); var t, o = "array" == o ? [] : {}; for (t in e) o[t] = goog.object.unsafeClone(e[t]); return o } return e }, goog.object.transpose = function (e) { var t, o = {}; for (t in e) o[e[t]] = t; return o }, goog.object.PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "), goog.object.extend = function (e, t) { for (var o, i, s = 1; s < arguments.length; s++) { for (o in i = arguments[s]) e[o] = i[o]; for (var n = 0; n < goog.object.PROTOTYPE_FIELDS_.length; n++)o = goog.object.PROTOTYPE_FIELDS_[n], Object.prototype.hasOwnProperty.call(i, o) && (e[o] = i[o]) } }, goog.object.create = function (e) { var t = arguments.length; if (1 == t && goog.isArray(arguments[0])) return goog.object.create.apply(null, arguments[0]); if (t % 2) throw Error("Uneven number of arguments"); for (var o = {}, i = 0; i < t; i += 2)o[arguments[i]] = arguments[i + 1]; return o }, goog.object.createSet = function (e) { var t = arguments.length; if (1 == t && goog.isArray(arguments[0])) return goog.object.createSet.apply(null, arguments[0]); for (var o = {}, i = 0; i < t; i++)o[arguments[i]] = !0; return o }, goog.events.BrowserFeature = { HAS_W3C_BUTTON: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9), HAS_W3C_EVENT_SUPPORT: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9), SET_KEY_CODE_TO_PREVENT_DEFAULT: goog.userAgent.IE && !goog.userAgent.isVersion("8"), HAS_NAVIGATOR_ONLINE_PROPERTY: !goog.userAgent.WEBKIT || goog.userAgent.isVersion("528"), HAS_HTML5_NETWORK_EVENT_SUPPORT: goog.userAgent.GECKO && goog.userAgent.isVersion("1.9b") || goog.userAgent.IE && goog.userAgent.isVersion("8") || goog.userAgent.OPERA && goog.userAgent.isVersion("9.5") || goog.userAgent.WEBKIT && goog.userAgent.isVersion("528"), HTML5_NETWORK_EVENTS_FIRE_ON_BODY: goog.userAgent.GECKO && !goog.userAgent.isVersion("8") || goog.userAgent.IE && !goog.userAgent.isVersion("9") }, goog.debug.entryPointRegistry = {}, goog.debug.EntryPointMonitor = function () { }, goog.debug.entryPointRegistry.refList_ = [], goog.debug.entryPointRegistry.monitors_ = [], goog.debug.entryPointRegistry.monitorsMayExist_ = !1, goog.debug.entryPointRegistry.register = function (e) { if (goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = e, goog.debug.entryPointRegistry.monitorsMayExist_) for (var t = goog.debug.entryPointRegistry.monitors_, o = 0; o < t.length; o++)e(goog.bind(t[o].wrap, t[o])) }, goog.debug.entryPointRegistry.monitorAll = function (e) { goog.debug.entryPointRegistry.monitorsMayExist_ = !0; for (var t = goog.bind(e.wrap, e), o = 0; o < goog.debug.entryPointRegistry.refList_.length; o++)goog.debug.entryPointRegistry.refList_[o](t); goog.debug.entryPointRegistry.monitors_.push(e) }, goog.debug.entryPointRegistry.unmonitorAllIfPossible = function (e) { var t = goog.debug.entryPointRegistry.monitors_; goog.asserts.assert(e == t[t.length - 1], "Only the most recent monitor can be unwrapped."); e = goog.bind(e.unwrap, e); for (var o = 0; o < goog.debug.entryPointRegistry.refList_.length; o++)goog.debug.entryPointRegistry.refList_[o](e); t.length-- }, goog.events.EventWrapper = function () { }, goog.events.EventWrapper.prototype.listen = function () { }, goog.events.EventWrapper.prototype.unlisten = function () { }, goog.events.EventType = { CLICK: "click", DBLCLICK: "dblclick", MOUSEDOWN: "mousedown", MOUSEUP: "mouseup", MOUSEOVER: "mouseover", MOUSEOUT: "mouseout", MOUSEMOVE: "mousemove", SELECTSTART: "selectstart", KEYPRESS: "keypress", KEYDOWN: "keydown", KEYUP: "keyup", BLUR: "blur", FOCUS: "focus", DEACTIVATE: "deactivate", FOCUSIN: goog.userAgent.IE ? "focusin" : "DOMFocusIn", FOCUSOUT: goog.userAgent.IE ? "focusout" : "DOMFocusOut", CHANGE: "change", SELECT: "select", SUBMIT: "submit", INPUT: "input", PROPERTYCHANGE: "propertychange", DRAGSTART: "dragstart", DRAGENTER: "dragenter", DRAGOVER: "dragover", DRAGLEAVE: "dragleave", DROP: "drop", TOUCHSTART: "touchstart", TOUCHMOVE: "touchmove", TOUCHEND: "touchend", TOUCHCANCEL: "touchcancel", CONTEXTMENU: "contextmenu", ERROR: "error", HELP: "help", LOAD: "load", LOSECAPTURE: "losecapture", READYSTATECHANGE: "readystatechange", RESIZE: "resize", SCROLL: "scroll", UNLOAD: "unload", HASHCHANGE: "hashchange", PAGEHIDE: "pagehide", PAGESHOW: "pageshow", POPSTATE: "popstate", COPY: "copy", PASTE: "paste", CUT: "cut", BEFORECOPY: "beforecopy", BEFORECUT: "beforecut", BEFOREPASTE: "beforepaste", ONLINE: "online", OFFLINE: "offline", MESSAGE: "message", CONNECT: "connect", TRANSITIONEND: goog.userAgent.WEBKIT ? "webkitTransitionEnd" : goog.userAgent.OPERA ? "oTransitionEnd" : "transitionend" }, goog.disposable = {}, goog.disposable.IDisposable = function () { }, goog.Disposable = function () { goog.Disposable.ENABLE_MONITORING && (this.creationStack = Error().stack, goog.Disposable.instances_[goog.getUid(this)] = this) }, goog.Disposable.ENABLE_MONITORING = !1, goog.Disposable.instances_ = {}, goog.Disposable.getUndisposedObjects = function () { var e, t = []; for (e in goog.Disposable.instances_) goog.Disposable.instances_.hasOwnProperty(e) && t.push(goog.Disposable.instances_[Number(e)]); return t }, goog.Disposable.clearUndisposedObjects = function () { goog.Disposable.instances_ = {} }, goog.Disposable.prototype.disposed_ = !1, goog.Disposable.prototype.isDisposed = function () { return this.disposed_ }, goog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed, goog.Disposable.prototype.dispose = function () { if (!this.disposed_ && (this.disposed_ = !0, this.disposeInternal(), goog.Disposable.ENABLE_MONITORING)) { var e = goog.getUid(this); if (!goog.Disposable.instances_.hasOwnProperty(e)) throw Error(this + " did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"); delete goog.Disposable.instances_[e] } }, goog.Disposable.prototype.registerDisposable = function (e) { this.dependentDisposables_ || (this.dependentDisposables_ = []), this.dependentDisposables_.push(e) }, goog.Disposable.prototype.disposeInternal = function () { this.dependentDisposables_ && goog.disposeAll.apply(null, this.dependentDisposables_) }, goog.dispose = function (e) { e && "function" == typeof e.dispose && e.dispose() }, goog.disposeAll = function (e) { for (var t = 0, o = arguments.length; t < o; ++t) { var i = arguments[t]; goog.isArrayLike(i) ? goog.disposeAll.apply(null, i) : goog.dispose(i) } }, goog.events.Event = function (e, t) { goog.Disposable.call(this), this.type = e, this.currentTarget = this.target = t }, goog.inherits(goog.events.Event, goog.Disposable), goog.events.Event.prototype.disposeInternal = function () { delete this.type, delete this.target, delete this.currentTarget }, goog.events.Event.prototype.propagationStopped_ = !1, goog.events.Event.prototype.defaultPrevented = !1, goog.events.Event.prototype.returnValue_ = !0, goog.events.Event.prototype.stopPropagation = function () { this.propagationStopped_ = !0 }, goog.events.Event.prototype.preventDefault = function () { this.defaultPrevented = !0, this.returnValue_ = !1 }, goog.events.Event.stopPropagation = function (e) { e.stopPropagation() }, goog.events.Event.preventDefault = function (e) { e.preventDefault() }, goog.reflect = {}, goog.reflect.object = function (e, t) { return t }, goog.reflect.sinkValue = function (e) { return goog.reflect.sinkValue[" "](e), e }, goog.reflect.sinkValue[" "] = goog.nullFunction, goog.reflect.canAccessProperty = function (e, t) { try { return goog.reflect.sinkValue(e[t]), !0 } catch (e) { } return !1 }, goog.events.BrowserEvent = function (e, t) { e && this.init(e, t) }, goog.inherits(goog.events.BrowserEvent, goog.events.Event), goog.events.BrowserEvent.MouseButton = { LEFT: 0, MIDDLE: 1, RIGHT: 2 }, goog.events.BrowserEvent.IEButtonMap = [1, 4, 2], goog.events.BrowserEvent.prototype.target = null, goog.events.BrowserEvent.prototype.relatedTarget = null, goog.events.BrowserEvent.prototype.offsetX = 0, goog.events.BrowserEvent.prototype.offsetY = 0, goog.events.BrowserEvent.prototype.clientX = 0, goog.events.BrowserEvent.prototype.clientY = 0, goog.events.BrowserEvent.prototype.screenX = 0, goog.events.BrowserEvent.prototype.screenY = 0, goog.events.BrowserEvent.prototype.button = 0, goog.events.BrowserEvent.prototype.keyCode = 0, goog.events.BrowserEvent.prototype.charCode = 0, goog.events.BrowserEvent.prototype.ctrlKey = !1, goog.events.BrowserEvent.prototype.altKey = !1, goog.events.BrowserEvent.prototype.shiftKey = !1, goog.events.BrowserEvent.prototype.metaKey = !1, goog.events.BrowserEvent.prototype.platformModifierKey = !1, goog.events.BrowserEvent.prototype.event_ = null, goog.events.BrowserEvent.prototype.init = function (e, t) { var o = this.type = e.type; goog.events.Event.call(this, o), this.target = e.target || e.srcElement, this.currentTarget = t; var i = e.relatedTarget; i ? goog.userAgent.GECKO && (goog.reflect.canAccessProperty(i, "nodeName") || (i = null)) : o == goog.events.EventType.MOUSEOVER ? i = e.fromElement : o == goog.events.EventType.MOUSEOUT && (i = e.toElement), this.relatedTarget = i, this.offsetX = goog.userAgent.WEBKIT || void 0 !== e.offsetX ? e.offsetX : e.layerX, this.offsetY = goog.userAgent.WEBKIT || void 0 !== e.offsetY ? e.offsetY : e.layerY, this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0, this.button = e.button, this.keyCode = e.keyCode || 0, this.charCode = e.charCode || ("keypress" == o ? e.keyCode : 0), this.ctrlKey = e.ctrlKey, this.altKey = e.altKey, this.shiftKey = e.shiftKey, this.metaKey = e.metaKey, this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey, this.state = e.state, this.event_ = e, e.defaultPrevented && this.preventDefault(), delete this.propagationStopped_ }, goog.events.BrowserEvent.prototype.isButton = function (e) { return goog.events.BrowserFeature.HAS_W3C_BUTTON ? this.event_.button == e : "click" == this.type ? e == goog.events.BrowserEvent.MouseButton.LEFT : !!(this.event_.button & goog.events.BrowserEvent.IEButtonMap[e]) }, goog.events.BrowserEvent.prototype.isMouseActionButton = function () { return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.WEBKIT && goog.userAgent.MAC && this.ctrlKey) }, goog.events.BrowserEvent.prototype.stopPropagation = function () { goog.events.BrowserEvent.superClass_.stopPropagation.call(this), this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0 }, goog.events.BrowserEvent.prototype.preventDefault = function () { goog.events.BrowserEvent.superClass_.preventDefault.call(this); var e = this.event_; if (e.preventDefault) e.preventDefault(); else if (e.returnValue = !1, goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT) try { (e.ctrlKey || 112 <= e.keyCode && 123 >= e.keyCode) && (e.keyCode = -1) } catch (e) { } }, goog.events.BrowserEvent.prototype.getBrowserEvent = function () { return this.event_ }, goog.events.BrowserEvent.prototype.disposeInternal = function () { goog.events.BrowserEvent.superClass_.disposeInternal.call(this), this.relatedTarget = this.currentTarget = this.target = this.event_ = null }, goog.events.listeners_ = {}, goog.events.listenerTree_ = {}, goog.events.sources_ = {}, goog.events.onString_ = "on", goog.events.onStringMap_ = {}, goog.events.keySeparator_ = "_", goog.events.listen = function (e, t, o, i, s) { if (t) { if (goog.isArray(t)) { for (var n = 0; n < t.length; n++)goog.events.listen(e, t[n], o, i, s); return null } i = !!i; t in (a = goog.events.listenerTree_) || (a[t] = { count_: 0, remaining_: 0 }), i in (a = a[t]) || (a[i] = { count_: 0, remaining_: 0 }, a.count_++); var r, a = a[i], l = goog.getUid(e); if (a.remaining_++ , a[l]) { for (r = a[l], n = 0; n < r.length; n++)if ((a = r[n]).listener == o && a.handler == s) { if (a.removed) break; return r[n].key } } else r = a[l] = [], a.count_++; return (n = goog.events.getProxy()).src = e, (a = new goog.events.Listener).init(o, n, e, t, i, s), o = a.key, n.key = o, r.push(a), goog.events.listeners_[o] = a, goog.events.sources_[l] || (goog.events.sources_[l] = []), goog.events.sources_[l].push(a), e.addEventListener ? (e == goog.global || !e.customEvent_) && e.addEventListener(t, n, i) : e.attachEvent(goog.events.getOnString_(t), n), o } throw Error("Invalid event type") }, goog.events.getProxy = function () { var e = goog.events.handleBrowserEvent_, t = goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ? function (o) { return e.call(t.src, t.key, o) } : function (o) { if (!(o = e.call(t.src, t.key, o))) return o }; return t }, goog.events.listenOnce = function (e, t, o, i, s) { if (goog.isArray(t)) { for (var n = 0; n < t.length; n++)goog.events.listenOnce(e, t[n], o, i, s); return null } return e = goog.events.listen(e, t, o, i, s), goog.events.listeners_[e].callOnce = !0, e }, goog.events.listenWithWrapper = function (e, t, o, i, s) { t.listen(e, o, i, s) }, goog.events.unlisten = function (e, t, o, i, s) { if (goog.isArray(t)) { for (var n = 0; n < t.length; n++)goog.events.unlisten(e, t[n], o, i, s); return null } if (i = !!i, !(e = goog.events.getListeners_(e, t, i))) return !1; for (n = 0; n < e.length; n++)if (e[n].listener == o && e[n].capture == i && e[n].handler == s) return goog.events.unlistenByKey(e[n].key); return !1 }, goog.events.unlistenByKey = function (e) { if (!goog.events.listeners_[e]) return !1; var t = goog.events.listeners_[e]; if (t.removed) return !1; var o = t.src, i = t.type, s = t.proxy, n = t.capture; if (o.removeEventListener ? (o == goog.global || !o.customEvent_) && o.removeEventListener(i, s, n) : o.detachEvent && o.detachEvent(goog.events.getOnString_(i), s), o = goog.getUid(o), s = goog.events.listenerTree_[i][n][o], goog.events.sources_[o]) { var r = goog.events.sources_[o]; goog.array.remove(r, t), 0 == r.length && delete goog.events.sources_[o] } return t.removed = !0, s.needsCleanup_ = !0, goog.events.cleanUp_(i, n, o, s), delete goog.events.listeners_[e], !0 }, goog.events.unlistenWithWrapper = function (e, t, o, i, s) { t.unlisten(e, o, i, s) }, goog.events.cleanUp_ = function (e, t, o, i) { if (!i.locked_ && i.needsCleanup_) { for (var s = 0, n = 0; s < i.length; s++)i[s].removed ? i[s].proxy.src = null : (s != n && (i[n] = i[s]), n++); i.length = n, i.needsCleanup_ = !1, 0 == n && (delete goog.events.listenerTree_[e][t][o], goog.events.listenerTree_[e][t].count_-- , 0 == goog.events.listenerTree_[e][t].count_ && (delete goog.events.listenerTree_[e][t], goog.events.listenerTree_[e].count_--), 0 == goog.events.listenerTree_[e].count_ && delete goog.events.listenerTree_[e]) } }, goog.events.removeAll = function (e, t, o) { var i = 0, s = null == t, n = null == o; o = !!o; if (null == e) goog.object.forEach(goog.events.sources_, function (e) { for (var r = e.length - 1; 0 <= r; r--) { var a = e[r]; !s && t != a.type || !n && o != a.capture || (goog.events.unlistenByKey(a.key), i++) } }); else if (e = goog.getUid(e), goog.events.sources_[e]) for (var r = (e = goog.events.sources_[e]).length - 1; 0 <= r; r--) { var a = e[r]; !s && t != a.type || !n && o != a.capture || (goog.events.unlistenByKey(a.key), i++) } return i }, goog.events.getListeners = function (e, t, o) { return goog.events.getListeners_(e, t, o) || [] }, goog.events.getListeners_ = function (e, t, o) { var i = goog.events.listenerTree_; return t in i && (o in (i = i[t]) && (i = i[o])[e = goog.getUid(e)]) ? i[e] : null }, goog.events.getListener = function (e, t, o, i, s) { if (i = !!i, e = goog.events.getListeners_(e, t, i)) for (t = 0; t < e.length; t++)if (!e[t].removed && e[t].listener == o && e[t].capture == i && e[t].handler == s) return e[t]; return null }, goog.events.hasListener = function (e, t, o) { e = goog.getUid(e); var i = goog.events.sources_[e]; if (i) { var s = goog.isDef(t), n = goog.isDef(o); return s && n ? !!(i = goog.events.listenerTree_[t]) && !!i[o] && e in i[o] : !s && !n || goog.array.some(i, function (e) { return s && e.type == t || n && e.capture == o }) } return !1 }, goog.events.expose = function (e) { var t, o = []; for (t in e) e[t] && e[t].id ? o.push(t + " = " + e[t] + " (" + e[t].id + ")") : o.push(t + " = " + e[t]); return o.join("\n") }, goog.events.getOnString_ = function (e) { return e in goog.events.onStringMap_ ? goog.events.onStringMap_[e] : goog.events.onStringMap_[e] = goog.events.onString_ + e }, goog.events.fireListeners = function (e, t, o, i) { var s = goog.events.listenerTree_; return !(t in s && (s = s[t], o in s)) || goog.events.fireListeners_(s[o], e, t, o, i) }, goog.events.fireListeners_ = function (e, t, o, i, s) { var n = 1; if (e[t = goog.getUid(t)]) { e.remaining_-- , (e = e[t]).locked_ ? e.locked_++ : e.locked_ = 1; try { for (var r = e.length, a = 0; a < r; a++) { var l = e[a]; l && !l.removed && (n &= !1 !== goog.events.fireListener(l, s)) } } finally { e.locked_-- , goog.events.cleanUp_(o, i, t, e) } } return Boolean(n) }, goog.events.fireListener = function (e, t) { var o = e.handleEvent(t); return e.callOnce && goog.events.unlistenByKey(e.key), o }, goog.events.getTotalListenerCount = function () { return goog.object.getCount(goog.events.listeners_) }, goog.events.dispatchEvent = function (e, t) { if (!((n = t.type || t) in (s = goog.events.listenerTree_))) return !0; if (goog.isString(t)) t = new goog.events.Event(t, e); else if (t instanceof goog.events.Event) t.target = t.target || e; else { var o = t; t = new goog.events.Event(n, e); goog.object.extend(t, o) } var i, s, n, r; o = 1; if (n = !0 in (s = s[n])) { for (i = [], r = e; r; r = r.getParentEventTarget())i.push(r); (r = s[!0]).remaining_ = r.count_; for (var a = i.length - 1; !t.propagationStopped_ && 0 <= a && r.remaining_; a--)t.currentTarget = i[a], o &= goog.events.fireListeners_(r, i[a], t.type, !0, t) && 0 != t.returnValue_ } if (!1 in s) if ((r = s[!1]).remaining_ = r.count_, n) for (a = 0; !t.propagationStopped_ && a < i.length && r.remaining_; a++)t.currentTarget = i[a], o &= goog.events.fireListeners_(r, i[a], t.type, !1, t) && 0 != t.returnValue_; else for (s = e; !t.propagationStopped_ && s && r.remaining_; s = s.getParentEventTarget())t.currentTarget = s, o &= goog.events.fireListeners_(r, s, t.type, !1, t) && 0 != t.returnValue_; return Boolean(o) }, goog.events.protectBrowserEventEntryPoint = function (e) { goog.events.handleBrowserEvent_ = e.protectEntryPoint(goog.events.handleBrowserEvent_) }, goog.events.handleBrowserEvent_ = function (e, t) { if (!goog.events.listeners_[e]) return !0; var o = goog.events.listeners_[e], i = o.type; if (!(i in (r = goog.events.listenerTree_))) return !0; var s, n, r = r[i]; if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) { s = t || goog.getObjectByName("window.event"); var a = !0 in r, l = !1 in r; if (a) { if (goog.events.isMarkedIeEvent_(s)) return !0; goog.events.markIeEvent_(s) } var g = new goog.events.BrowserEvent; g.init(s, this), s = !0; try { if (a) { for (var d = [], c = g.currentTarget; c; c = c.parentNode)d.push(c); (n = r[!0]).remaining_ = n.count_; for (var m = d.length - 1; !g.propagationStopped_ && 0 <= m && n.remaining_; m--)g.currentTarget = d[m], s &= goog.events.fireListeners_(n, d[m], i, !0, g); if (l) for ((n = r[!1]).remaining_ = n.count_, m = 0; !g.propagationStopped_ && m < d.length && n.remaining_; m++)g.currentTarget = d[m], s &= goog.events.fireListeners_(n, d[m], i, !1, g) } else s = goog.events.fireListener(o, g) } finally { d && (d.length = 0), g.dispose() } return s } i = new goog.events.BrowserEvent(t, this); try { s = goog.events.fireListener(o, i) } finally { i.dispose() } return s }, goog.events.markIeEvent_ = function (e) { var t = !1; if (0 == e.keyCode) try { return void (e.keyCode = -1) } catch (e) { t = !0 } (t || null == e.returnValue) && (e.returnValue = !0) }, goog.events.isMarkedIeEvent_ = function (e) { return 0 > e.keyCode || null != e.returnValue }, goog.events.uniqueIdCounter_ = 0, goog.events.getUniqueId = function (e) { return e + "_" + goog.events.uniqueIdCounter_++ }, goog.debug.entryPointRegistry.register(function (e) { goog.events.handleBrowserEvent_ = e(goog.events.handleBrowserEvent_) }), goog.events.EventTarget = function () { goog.Disposable.call(this) }, goog.inherits(goog.events.EventTarget, goog.Disposable), goog.events.EventTarget.prototype.customEvent_ = !0, goog.events.EventTarget.prototype.parentEventTarget_ = null, goog.events.EventTarget.prototype.getParentEventTarget = function () { return this.parentEventTarget_ }, goog.events.EventTarget.prototype.setParentEventTarget = function (e) { this.parentEventTarget_ = e }, goog.events.EventTarget.prototype.addEventListener = function (e, t, o, i) { goog.events.listen(this, e, t, o, i) }, goog.events.EventTarget.prototype.removeEventListener = function (e, t, o, i) { goog.events.unlisten(this, e, t, o, i) }, goog.events.EventTarget.prototype.dispatchEvent = function (e) { return goog.events.dispatchEvent(this, e) }, goog.events.EventTarget.prototype.disposeInternal = function () { goog.events.EventTarget.superClass_.disposeInternal.call(this), goog.events.removeAll(this), this.parentEventTarget_ = null }, lime.userAgent = {}, function () { var e = goog.userAgent.getUserAgentString(); lime.userAgent.IOS = goog.userAgent.WEBKIT && goog.userAgent.MOBILE && /(ipod|iphone|ipad)/i.test(e), lime.userAgent.IOS5 = lime.userAgent.IOS && goog.isFunction(Object.freeze), lime.userAgent.ANDROID = goog.userAgent.WEBKIT && goog.userAgent.MOBILE && /(android)/i.test(e), lime.userAgent.IPAD = lime.userAgent.IOS && /(ipad)/i.test(e), lime.userAgent.IPHONE4 = lime.userAgent.IOS && 2 <= goog.global.devicePixelRatio, lime.userAgent.PLAYBOOK = goog.userAgent.WEBKIT && /playbook/i.test(e), lime.userAgent.SUPPORTS_TOUCH = goog.isDef(document.ontouchmove) }(), goog.math.Rect = function (e, t, o, i) { this.left = e, this.top = t, this.width = o, this.height = i }, goog.math.Rect.prototype.clone = function () { return new goog.math.Rect(this.left, this.top, this.width, this.height) }, goog.math.Rect.prototype.toBox = function () { return new goog.math.Box(this.top, this.left + this.width, this.top + this.height, this.left) }, goog.math.Rect.createFromBox = function (e) { return new goog.math.Rect(e.left, e.top, e.right - e.left, e.bottom - e.top) }, goog.DEBUG && (goog.math.Rect.prototype.toString = function () { return "(" + this.left + ", " + this.top + " - " + this.width + "w x " + this.height + "h)" }), goog.math.Rect.equals = function (e, t) { return e == t || !(!e || !t) && (e.left == t.left && e.width == t.width && e.top == t.top && e.height == t.height) }, goog.math.Rect.prototype.intersection = function (e) { var t = Math.max(this.left, e.left), o = Math.min(this.left + this.width, e.left + e.width); if (t <= o) { var i = Math.max(this.top, e.top); if (i <= (e = Math.min(this.top + this.height, e.top + e.height))) return this.left = t, this.top = i, this.width = o - t, this.height = e - i, !0 } return !1 }, goog.math.Rect.intersection = function (e, t) { var o = Math.max(e.left, t.left), i = Math.min(e.left + e.width, t.left + t.width); if (o <= i) { var s = Math.max(e.top, t.top), n = Math.min(e.top + e.height, t.top + t.height); if (s <= n) return new goog.math.Rect(o, s, i - o, n - s) } return null }, goog.math.Rect.intersects = function (e, t) { return e.left <= t.left + t.width && t.left <= e.left + e.width && e.top <= t.top + t.height && t.top <= e.top + e.height }, goog.math.Rect.prototype.intersects = function (e) { return goog.math.Rect.intersects(this, e) }, goog.math.Rect.difference = function (e, t) { if (!(o = goog.math.Rect.intersection(e, t)) || !o.height || !o.width) return [e.clone()]; var o = [], i = e.top, s = e.height, n = e.left + e.width, r = e.top + e.height, a = t.left + t.width, l = t.top + t.height; return t.top > e.top && (o.push(new goog.math.Rect(e.left, e.top, e.width, t.top - e.top)), i = t.top, s -= t.top - e.top), l < r && (o.push(new goog.math.Rect(e.left, l, e.width, r - l)), s = l - i), t.left > e.left && o.push(new goog.math.Rect(e.left, i, t.left - e.left, s)), a < n && o.push(new goog.math.Rect(a, i, n - a, s)), o }, goog.math.Rect.prototype.difference = function (e) { return goog.math.Rect.difference(this, e) }, goog.math.Rect.prototype.boundingRect = function (e) { var t = Math.max(this.left + this.width, e.left + e.width), o = Math.max(this.top + this.height, e.top + e.height); this.left = Math.min(this.left, e.left), this.top = Math.min(this.top, e.top), this.width = t - this.left, this.height = o - this.top }, goog.math.Rect.boundingRect = function (e, t) { if (!e || !t) return null; var o = e.clone(); return o.boundingRect(t), o }, goog.math.Rect.prototype.contains = function (e) { return e instanceof goog.math.Rect ? this.left <= e.left && this.left + this.width >= e.left + e.width && this.top <= e.top && this.top + this.height >= e.top + e.height : e.x >= this.left && e.x <= this.left + this.width && e.y >= this.top && e.y <= this.top + this.height }, goog.math.Rect.prototype.getSize = function () { return new goog.math.Size(this.width, this.height) }, goog.dom = {}, goog.dom.classes = {}, goog.dom.classes.set = function (e, t) { e.className = t }, goog.dom.classes.get = function (e) { return e = e.className, goog.isString(e) && e.match(/\S+/g) || [] }, goog.dom.classes.add = function (e, t) { var o = goog.dom.classes.get(e), i = goog.array.slice(arguments, 1), s = o.length + i.length; return goog.dom.classes.add_(o, i), e.className = o.join(" "), o.length == s }, goog.dom.classes.remove = function (e, t) { var o = goog.dom.classes.get(e), i = goog.array.slice(arguments, 1), s = goog.dom.classes.getDifference_(o, i); return e.className = s.join(" "), s.length == o.length - i.length }, goog.dom.classes.add_ = function (e, t) { for (var o = 0; o < t.length; o++)goog.array.contains(e, t[o]) || e.push(t[o]) }, goog.dom.classes.getDifference_ = function (e, t) { return goog.array.filter(e, function (e) { return !goog.array.contains(t, e) }) }, goog.dom.classes.swap = function (e, t, o) { for (var i = goog.dom.classes.get(e), s = !1, n = 0; n < i.length; n++)i[n] == t && (goog.array.splice(i, n--, 1), s = !0); return s && (i.push(o), e.className = i.join(" ")), s }, goog.dom.classes.addRemove = function (e, t, o) { var i = goog.dom.classes.get(e); goog.isString(t) ? goog.array.remove(i, t) : goog.isArray(t) && (i = goog.dom.classes.getDifference_(i, t)), goog.isString(o) && !goog.array.contains(i, o) ? i.push(o) : goog.isArray(o) && goog.dom.classes.add_(i, o), e.className = i.join(" ") }, goog.dom.classes.has = function (e, t) { return goog.array.contains(goog.dom.classes.get(e), t) }, goog.dom.classes.enable = function (e, t, o) { o ? goog.dom.classes.add(e, t) : goog.dom.classes.remove(e, t) }, goog.dom.classes.toggle = function (e, t) { var o = !goog.dom.classes.has(e, t); return goog.dom.classes.enable(e, t, o), o }, goog.dom.TagName = { A: "A", ABBR: "ABBR", ACRONYM: "ACRONYM", ADDRESS: "ADDRESS", APPLET: "APPLET", AREA: "AREA", AUDIO: "AUDIO", B: "B", BASE: "BASE", BASEFONT: "BASEFONT", BDO: "BDO", BIG: "BIG", BLOCKQUOTE: "BLOCKQUOTE", BODY: "BODY", BR: "BR", BUTTON: "BUTTON", CANVAS: "CANVAS", CAPTION: "CAPTION", CENTER: "CENTER", CITE: "CITE", CODE: "CODE", COL: "COL", COLGROUP: "COLGROUP", DD: "DD", DEL: "DEL", DFN: "DFN", DIR: "DIR", DIV: "DIV", DL: "DL", DT: "DT", EM: "EM", FIELDSET: "FIELDSET", FONT: "FONT", FORM: "FORM", FRAME: "FRAME", FRAMESET: "FRAMESET", H1: "H1", H2: "H2", H3: "H3", H4: "H4", H5: "H5", H6: "H6", HEAD: "HEAD", HR: "HR", HTML: "HTML", I: "I", IFRAME: "IFRAME", IMG: "IMG", INPUT: "INPUT", INS: "INS", ISINDEX: "ISINDEX", KBD: "KBD", LABEL: "LABEL", LEGEND: "LEGEND", LI: "LI", LINK: "LINK", MAP: "MAP", MENU: "MENU", META: "META", NOFRAMES: "NOFRAMES", NOSCRIPT: "NOSCRIPT", OBJECT: "OBJECT", OL: "OL", OPTGROUP: "OPTGROUP", OPTION: "OPTION", P: "P", PARAM: "PARAM", PRE: "PRE", Q: "Q", S: "S", SAMP: "SAMP", SCRIPT: "SCRIPT", SELECT: "SELECT", SMALL: "SMALL", SPAN: "SPAN", STRIKE: "STRIKE", STRONG: "STRONG", STYLE: "STYLE", SUB: "SUB", SUP: "SUP", TABLE: "TABLE", TBODY: "TBODY", TD: "TD", TEXTAREA: "TEXTAREA", TFOOT: "TFOOT", TH: "TH", THEAD: "THEAD", TITLE: "TITLE", TR: "TR", TT: "TT", U: "U", UL: "UL", VAR: "VAR", VIDEO: "VIDEO" }, goog.dom.BrowserFeature = { CAN_ADD_NAME_OR_TYPE_ATTRIBUTES: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9), CAN_USE_CHILDREN_ATTRIBUTE: !goog.userAgent.GECKO && !goog.userAgent.IE || goog.userAgent.IE && goog.userAgent.isDocumentMode(9) || goog.userAgent.GECKO && goog.userAgent.isVersion("1.9.1"), CAN_USE_INNER_TEXT: goog.userAgent.IE && !goog.userAgent.isVersion("9"), CAN_USE_PARENT_ELEMENT_PROPERTY: goog.userAgent.IE || goog.userAgent.OPERA || goog.userAgent.WEBKIT, INNER_HTML_NEEDS_SCOPED_ELEMENT: goog.userAgent.IE }, goog.dom.ASSUME_QUIRKS_MODE = !1, goog.dom.ASSUME_STANDARDS_MODE = !1, goog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE, goog.dom.NodeType = { ELEMENT: 1, ATTRIBUTE: 2, TEXT: 3, CDATA_SECTION: 4, ENTITY_REFERENCE: 5, ENTITY: 6, PROCESSING_INSTRUCTION: 7, COMMENT: 8, DOCUMENT: 9, DOCUMENT_TYPE: 10, DOCUMENT_FRAGMENT: 11, NOTATION: 12 }, goog.dom.getDomHelper = function (e) { return e ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper) }, goog.dom.getDocument = function () { return document }, goog.dom.getElement = function (e) { return goog.isString(e) ? document.getElementById(e) : e }, goog.dom.$ = goog.dom.getElement, goog.dom.getElementsByTagNameAndClass = function (e, t, o) { return goog.dom.getElementsByTagNameAndClass_(document, e, t, o) }, goog.dom.getElementsByClass = function (e, t) { var o = t || document; return goog.dom.canUseQuerySelector_(o) ? o.querySelectorAll("." + e) : o.getElementsByClassName ? o.getElementsByClassName(e) : goog.dom.getElementsByTagNameAndClass_(document, "*", e, t) }, goog.dom.getElementByClass = function (e, t) { var o = t || document; return (goog.dom.canUseQuerySelector_(o) ? o.querySelector("." + e) : goog.dom.getElementsByClass(e, t)[0]) || null }, goog.dom.canUseQuerySelector_ = function (e) { return !(!e.querySelectorAll || !e.querySelector) }, goog.dom.getElementsByTagNameAndClass_ = function (e, t, o, i) { if (e = i || e, t = t && "*" != t ? t.toUpperCase() : "", goog.dom.canUseQuerySelector_(e) && (t || o)) return e.querySelectorAll(t + (o ? "." + o : "")); if (o && e.getElementsByClassName) { if (e = e.getElementsByClassName(o), t) { i = {}; for (var s, n = 0, r = 0; s = e[r]; r++)t == s.nodeName && (i[n++] = s); return i.length = n, i } return e } if (e = e.getElementsByTagName(t || "*"), o) { for (i = {}, r = n = 0; s = e[r]; r++)"function" == typeof (t = s.className).split && goog.array.contains(t.split(/\s+/), o) && (i[n++] = s); return i.length = n, i } return e }, goog.dom.$$ = goog.dom.getElementsByTagNameAndClass, goog.dom.setProperties = function (e, t) { goog.object.forEach(t, function (t, o) { "style" == o ? e.style.cssText = t : "class" == o ? e.className = t : "for" == o ? e.htmlFor = t : o in goog.dom.DIRECT_ATTRIBUTE_MAP_ ? e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o], t) : goog.string.startsWith(o, "aria-") ? e.setAttribute(o, t) : e[o] = t }) }, goog.dom.DIRECT_ATTRIBUTE_MAP_ = { cellpadding: "cellPadding", cellspacing: "cellSpacing", colspan: "colSpan", rowspan: "rowSpan", valign: "vAlign", height: "height", width: "width", usemap: "useMap", frameborder: "frameBorder", maxlength: "maxLength", type: "type" }, goog.dom.getViewportSize = function (e) { return goog.dom.getViewportSize_(e || window) }, goog.dom.getViewportSize_ = function (e) { return e = e.document, e = goog.dom.isCss1CompatMode_(e) ? e.documentElement : e.body, new goog.math.Size(e.clientWidth, e.clientHeight) }, goog.dom.getDocumentHeight = function () { return goog.dom.getDocumentHeight_(window) }, goog.dom.getDocumentHeight_ = function (e) { var t = 0; if (i = e.document) { e = goog.dom.getViewportSize_(e).height, t = i.body; var o = i.documentElement; if (goog.dom.isCss1CompatMode_(i) && o.scrollHeight) t = o.scrollHeight != e ? o.scrollHeight : o.offsetHeight; else { var i = o.scrollHeight, s = o.offsetHeight; o.clientHeight != s && (i = t.scrollHeight, s = t.offsetHeight), t = i > e ? i > s ? i : s : i < s ? i : s } } return t }, goog.dom.getPageScroll = function (e) { return goog.dom.getDomHelper((e || goog.global || window).document).getDocumentScroll() }, goog.dom.getDocumentScroll = function () { return goog.dom.getDocumentScroll_(document) }, goog.dom.getDocumentScroll_ = function (e) { var t = goog.dom.getDocumentScrollElement_(e); e = goog.dom.getWindow_(e); return new goog.math.Coordinate(e.pageXOffset || t.scrollLeft, e.pageYOffset || t.scrollTop) }, goog.dom.getDocumentScrollElement = function () { return goog.dom.getDocumentScrollElement_(document) }, goog.dom.getDocumentScrollElement_ = function (e) { return !goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(e) ? e.documentElement : e.body }, goog.dom.getWindow = function (e) { return e ? goog.dom.getWindow_(e) : window }, goog.dom.getWindow_ = function (e) { return e.parentWindow || e.defaultView }, goog.dom.createDom = function (e, t, o) { return goog.dom.createDom_(document, arguments) }, goog.dom.createDom_ = function (e, t) { var o = t[0], i = t[1]; if (!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES && i && (i.name || i.type)) { if (o = ["<", o], i.name && o.push(' name="', goog.string.htmlEscape(i.name), '"'), i.type) { o.push(' type="', goog.string.htmlEscape(i.type), '"'); var s = {}; goog.object.extend(s, i), delete (i = s).type } o.push(">"), o = o.join("") } return o = e.createElement(o), i && (goog.isString(i) ? o.className = i : goog.isArray(i) ? goog.dom.classes.add.apply(null, [o].concat(i)) : goog.dom.setProperties(o, i)), 2 < t.length && goog.dom.append_(e, o, t, 2), o }, goog.dom.append_ = function (e, t, o, i) { function s(o) { o && t.appendChild(goog.isString(o) ? e.createTextNode(o) : o) } for (; i < o.length; i++) { var n = o[i]; goog.isArrayLike(n) && !goog.dom.isNodeLike(n) ? goog.array.forEach(goog.dom.isNodeList(n) ? goog.array.toArray(n) : n, s) : s(n) } }, goog.dom.$dom = goog.dom.createDom, goog.dom.createElement = function (e) { return document.createElement(e) }, goog.dom.createTextNode = function (e) { return document.createTextNode(e) }, goog.dom.createTable = function (e, t, o) { return goog.dom.createTable_(document, e, t, !!o) }, goog.dom.createTable_ = function (e, t, o, i) { for (var s = ["<tr>"], n = 0; n < o; n++)s.push(i ? "<td>&nbsp;</td>" : "<td></td>"); for (s.push("</tr>"), s = s.join(""), o = ["<table>"], n = 0; n < t; n++)o.push(s); return o.push("</table>"), (e = e.createElement(goog.dom.TagName.DIV)).innerHTML = o.join(""), e.removeChild(e.firstChild) }, goog.dom.htmlToDocumentFragment = function (e) { return goog.dom.htmlToDocumentFragment_(document, e) }, goog.dom.htmlToDocumentFragment_ = function (e, t) { var o = e.createElement("div"); if (goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT ? (o.innerHTML = "<br>" + t, o.removeChild(o.firstChild)) : o.innerHTML = t, 1 == o.childNodes.length) return o.removeChild(o.firstChild); for (var i = e.createDocumentFragment(); o.firstChild;)i.appendChild(o.firstChild); return i }, goog.dom.getCompatMode = function () { return goog.dom.isCss1CompatMode() ? "CSS1Compat" : "BackCompat" }, goog.dom.isCss1CompatMode = function () { return goog.dom.isCss1CompatMode_(document) }, goog.dom.isCss1CompatMode_ = function (e) { return goog.dom.COMPAT_MODE_KNOWN_ ? goog.dom.ASSUME_STANDARDS_MODE : "CSS1Compat" == e.compatMode }, goog.dom.canHaveChildren = function (e) { if (e.nodeType != goog.dom.NodeType.ELEMENT) return !1; switch (e.tagName) { case goog.dom.TagName.APPLET: case goog.dom.TagName.AREA: case goog.dom.TagName.BASE: case goog.dom.TagName.BR: case goog.dom.TagName.COL: case goog.dom.TagName.FRAME: case goog.dom.TagName.HR: case goog.dom.TagName.IMG: case goog.dom.TagName.INPUT: case goog.dom.TagName.IFRAME: case goog.dom.TagName.ISINDEX: case goog.dom.TagName.LINK: case goog.dom.TagName.NOFRAMES: case goog.dom.TagName.NOSCRIPT: case goog.dom.TagName.META: case goog.dom.TagName.OBJECT: case goog.dom.TagName.PARAM: case goog.dom.TagName.SCRIPT: case goog.dom.TagName.STYLE: return !1 }return !0 }, goog.dom.appendChild = function (e, t) { e.appendChild(t) }, goog.dom.append = function (e, t) { goog.dom.append_(goog.dom.getOwnerDocument(e), e, arguments, 1) }, goog.dom.removeChildren = function (e) { for (var t; t = e.firstChild;)e.removeChild(t) }, goog.dom.insertSiblingBefore = function (e, t) { t.parentNode && t.parentNode.insertBefore(e, t) }, goog.dom.insertSiblingAfter = function (e, t) { t.parentNode && t.parentNode.insertBefore(e, t.nextSibling) }, goog.dom.insertChildAt = function (e, t, o) { e.insertBefore(t, e.childNodes[o] || null) }, goog.dom.removeNode = function (e) { return e && e.parentNode ? e.parentNode.removeChild(e) : null }, goog.dom.replaceNode = function (e, t) { var o = t.parentNode; o && o.replaceChild(e, t) }, goog.dom.flattenElement = function (e) { var t, o = e.parentNode; if (o && o.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) { if (e.removeNode) return e.removeNode(!1); for (; t = e.firstChild;)o.insertBefore(t, e); return goog.dom.removeNode(e) } }, goog.dom.getChildren = function (e) { return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE && null != e.children ? e.children : goog.array.filter(e.childNodes, function (e) { return e.nodeType == goog.dom.NodeType.ELEMENT }) }, goog.dom.getFirstElementChild = function (e) { return null != e.firstElementChild ? e.firstElementChild : goog.dom.getNextElementNode_(e.firstChild, !0) }, goog.dom.getLastElementChild = function (e) { return null != e.lastElementChild ? e.lastElementChild : goog.dom.getNextElementNode_(e.lastChild, !1) }, goog.dom.getNextElementSibling = function (e) { return null != e.nextElementSibling ? e.nextElementSibling : goog.dom.getNextElementNode_(e.nextSibling, !0) }, goog.dom.getPreviousElementSibling = function (e) { return null != e.previousElementSibling ? e.previousElementSibling : goog.dom.getNextElementNode_(e.previousSibling, !1) }, goog.dom.getNextElementNode_ = function (e, t) { for (; e && e.nodeType != goog.dom.NodeType.ELEMENT;)e = t ? e.nextSibling : e.previousSibling; return e }, goog.dom.getNextNode = function (e) { if (!e) return null; if (e.firstChild) return e.firstChild; for (; e && !e.nextSibling;)e = e.parentNode; return e ? e.nextSibling : null }, goog.dom.getPreviousNode = function (e) { if (!e) return null; if (!e.previousSibling) return e.parentNode; for (e = e.previousSibling; e && e.lastChild;)e = e.lastChild; return e }, goog.dom.isNodeLike = function (e) { return goog.isObject(e) && 0 < e.nodeType }, goog.dom.isElement = function (e) { return goog.isObject(e) && e.nodeType == goog.dom.NodeType.ELEMENT }, goog.dom.isWindow = function (e) { return goog.isObject(e) && e.window == e }, goog.dom.getParentElement = function (e) { return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY ? e.parentElement : (e = e.parentNode, goog.dom.isElement(e) ? e : null) }, goog.dom.contains = function (e, t) { if (e.contains && t.nodeType == goog.dom.NodeType.ELEMENT) return e == t || e.contains(t); if (void 0 !== e.compareDocumentPosition) return e == t || Boolean(16 & e.compareDocumentPosition(t)); for (; t && e != t;)t = t.parentNode; return t == e }, goog.dom.compareNodeOrder = function (e, t) { if (e == t) return 0; if (e.compareDocumentPosition) return 2 & e.compareDocumentPosition(t) ? 1 : -1; if ("sourceIndex" in e || e.parentNode && "sourceIndex" in e.parentNode) { var o = e.nodeType == goog.dom.NodeType.ELEMENT, i = t.nodeType == goog.dom.NodeType.ELEMENT; if (o && i) return e.sourceIndex - t.sourceIndex; var s = e.parentNode, n = t.parentNode; return s == n ? goog.dom.compareSiblingOrder_(e, t) : !o && goog.dom.contains(s, t) ? -1 * goog.dom.compareParentsDescendantNodeIe_(e, t) : !i && goog.dom.contains(n, e) ? goog.dom.compareParentsDescendantNodeIe_(t, e) : (o ? e.sourceIndex : s.sourceIndex) - (i ? t.sourceIndex : n.sourceIndex) } return (o = (i = goog.dom.getOwnerDocument(e)).createRange()).selectNode(e), o.collapse(!0), (i = i.createRange()).selectNode(t), i.collapse(!0), o.compareBoundaryPoints(goog.global.Range.START_TO_END, i) }, goog.dom.compareParentsDescendantNodeIe_ = function (e, t) { var o = e.parentNode; if (o == t) return -1; for (var i = t; i.parentNode != o;)i = i.parentNode; return goog.dom.compareSiblingOrder_(i, e) }, goog.dom.compareSiblingOrder_ = function (e, t) { for (var o = t; o = o.previousSibling;)if (o == e) return -1; return 1 }, goog.dom.findCommonAncestor = function (e) { var t, o = arguments.length; if (!o) return null; if (1 == o) return arguments[0]; var i = [], s = 1 / 0; for (t = 0; t < o; t++) { for (var n = [], r = arguments[t]; r;)n.unshift(r), r = r.parentNode; i.push(n), s = Math.min(s, n.length) } for (n = null, t = 0; t < s; t++) { r = i[0][t]; for (var a = 1; a < o; a++)if (r != i[a][t]) return n; n = r } return n }, goog.dom.getOwnerDocument = function (e) { return e.nodeType == goog.dom.NodeType.DOCUMENT ? e : e.ownerDocument || e.document }, goog.dom.getFrameContentDocument = function (e) { return e.contentDocument || e.contentWindow.document }, goog.dom.getFrameContentWindow = function (e) { return e.contentWindow || goog.dom.getWindow_(goog.dom.getFrameContentDocument(e)) }, goog.dom.setTextContent = function (e, t) { if ("textContent" in e) e.textContent = t; else if (e.firstChild && e.firstChild.nodeType == goog.dom.NodeType.TEXT) { for (; e.lastChild != e.firstChild;)e.removeChild(e.lastChild); e.firstChild.data = t } else { goog.dom.removeChildren(e); var o = goog.dom.getOwnerDocument(e); e.appendChild(o.createTextNode(t)) } }, goog.dom.getOuterHtml = function (e) { if ("outerHTML" in e) return e.outerHTML; var t = goog.dom.getOwnerDocument(e).createElement("div"); return t.appendChild(e.cloneNode(!0)), t.innerHTML }, goog.dom.findNode = function (e, t) { var o = []; return goog.dom.findNodes_(e, t, o, !0) ? o[0] : void 0 }, goog.dom.findNodes = function (e, t) { var o = []; return goog.dom.findNodes_(e, t, o, !1), o }, goog.dom.findNodes_ = function (e, t, o, i) { if (null != e) for (e = e.firstChild; e;) { if (t(e) && (o.push(e), i) || goog.dom.findNodes_(e, t, o, i)) return !0; e = e.nextSibling } return !1 }, goog.dom.TAGS_TO_IGNORE_ = { SCRIPT: 1, STYLE: 1, HEAD: 1, IFRAME: 1, OBJECT: 1 }, goog.dom.PREDEFINED_TAG_VALUES_ = { IMG: " ", BR: "\n" }, goog.dom.isFocusableTabIndex = function (e) { var t = e.getAttributeNode("tabindex"); return !(!t || !t.specified) && (e = e.tabIndex, goog.isNumber(e) && 0 <= e && 32768 > e) }, goog.dom.setFocusableTabIndex = function (e, t) { t ? e.tabIndex = 0 : (e.tabIndex = -1, e.removeAttribute("tabIndex")) }, goog.dom.getTextContent = function (e) { if (goog.dom.BrowserFeature.CAN_USE_INNER_TEXT && "innerText" in e) e = goog.string.canonicalizeNewlines(e.innerText); else { var t = []; goog.dom.getTextContent_(e, t, !0), e = t.join("") } return e = (e = e.replace(/ \xAD /g, " ").replace(/\xAD/g, "")).replace(/\u200B/g, ""), goog.dom.BrowserFeature.CAN_USE_INNER_TEXT || (e = e.replace(/ +/g, " ")), " " != e && (e = e.replace(/^\s*/, "")), e }, goog.dom.getRawTextContent = function (e) { var t = []; return goog.dom.getTextContent_(e, t, !1), t.join("") }, goog.dom.getTextContent_ = function (e, t, o) { if (!(e.nodeName in goog.dom.TAGS_TO_IGNORE_)) if (e.nodeType == goog.dom.NodeType.TEXT) o ? t.push(("" + e.nodeValue).replace(/(\r\n|\r|\n)/g, "")) : t.push(e.nodeValue); else if (e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]); else for (e = e.firstChild; e;)goog.dom.getTextContent_(e, t, o), e = e.nextSibling }, goog.dom.getNodeTextLength = function (e) { return goog.dom.getTextContent(e).length }, goog.dom.getNodeTextOffset = function (e, t) { for (var o = t || goog.dom.getOwnerDocument(e).body, i = []; e && e != o;) { for (var s = e; s = s.previousSibling;)i.unshift(goog.dom.getTextContent(s)); e = e.parentNode } return goog.string.trimLeft(i.join("")).replace(/ +/g, " ").length }, goog.dom.getNodeAtOffset = function (e, t, o) { e = [e]; for (var i, s = 0; 0 < e.length && s < t;)if (!((i = e.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_)) if (i.nodeType == goog.dom.NodeType.TEXT) { var n = i.nodeValue.replace(/(\r\n|\r|\n)/g, "").replace(/ +/g, " "); s = s + n.length } else if (i.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) s += goog.dom.PREDEFINED_TAG_VALUES_[i.nodeName].length; else for (n = i.childNodes.length - 1; 0 <= n; n--)e.push(i.childNodes[n]); return goog.isObject(o) && (o.remainder = i ? i.nodeValue.length + t - s - 1 : 0, o.node = i), i }, goog.dom.isNodeList = function (e) { if (e && "number" == typeof e.length) { if (goog.isObject(e)) return "function" == typeof e.item || "string" == typeof e.item; if (goog.isFunction(e)) return "function" == typeof e.item } return !1 }, goog.dom.getAncestorByTagNameAndClass = function (e, t, o) { if (!t && !o) return null; var i = t ? t.toUpperCase() : null; return goog.dom.getAncestor(e, function (e) { return (!i || e.nodeName == i) && (!o || goog.dom.classes.has(e, o)) }, !0) }, goog.dom.getAncestorByClass = function (e, t) { return goog.dom.getAncestorByTagNameAndClass(e, null, t) }, goog.dom.getAncestor = function (e, t, o, i) { o || (e = e.parentNode); o = null == i; for (var s = 0; e && (o || s <= i);) { if (t(e)) return e; e = e.parentNode, s++ } return null }, goog.dom.getActiveElement = function (e) { try { return e && e.activeElement } catch (e) { } return null }, goog.dom.DomHelper = function (e) { this.document_ = e || goog.global.document || document }, goog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper, goog.dom.DomHelper.prototype.setDocument = function (e) { this.document_ = e }, goog.dom.DomHelper.prototype.getDocument = function () { return this.document_ }, goog.dom.DomHelper.prototype.getElement = function (e) { return goog.isString(e) ? this.document_.getElementById(e) : e }, goog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement, goog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function (e, t, o) { return goog.dom.getElementsByTagNameAndClass_(this.document_, e, t, o) }, goog.dom.DomHelper.prototype.getElementsByClass = function (e, t) { return goog.dom.getElementsByClass(e, t || this.document_) }, goog.dom.DomHelper.prototype.getElementByClass = function (e, t) { return goog.dom.getElementByClass(e, t || this.document_) }, goog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass, goog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties, goog.dom.DomHelper.prototype.getViewportSize = function (e) { return goog.dom.getViewportSize(e || this.getWindow()) }, goog.dom.DomHelper.prototype.getDocumentHeight = function () { return goog.dom.getDocumentHeight_(this.getWindow()) }, goog.dom.DomHelper.prototype.createDom = function (e, t, o) { return goog.dom.createDom_(this.document_, arguments) }, goog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom, goog.dom.DomHelper.prototype.createElement = function (e) { return this.document_.createElement(e) }, goog.dom.DomHelper.prototype.createTextNode = function (e) { return this.document_.createTextNode(e) }, goog.dom.DomHelper.prototype.createTable = function (e, t, o) { return goog.dom.createTable_(this.document_, e, t, !!o) }, goog.dom.DomHelper.prototype.htmlToDocumentFragment = function (e) { return goog.dom.htmlToDocumentFragment_(this.document_, e) }, goog.dom.DomHelper.prototype.getCompatMode = function () { return this.isCss1CompatMode() ? "CSS1Compat" : "BackCompat" }, goog.dom.DomHelper.prototype.isCss1CompatMode = function () { return goog.dom.isCss1CompatMode_(this.document_) }, goog.dom.DomHelper.prototype.getWindow = function () { return goog.dom.getWindow_(this.document_) }, goog.dom.DomHelper.prototype.getDocumentScrollElement = function () { return goog.dom.getDocumentScrollElement_(this.document_) }, goog.dom.DomHelper.prototype.getDocumentScroll = function () { return goog.dom.getDocumentScroll_(this.document_) }, goog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild, goog.dom.DomHelper.prototype.append = goog.dom.append, goog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren, goog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore, goog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter, goog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode, goog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode, goog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement, goog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild, goog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild, goog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling, goog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling, goog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode, goog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode, goog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike, goog.dom.DomHelper.prototype.contains = goog.dom.contains, goog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument, goog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument, goog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow, goog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent, goog.dom.DomHelper.prototype.findNode = goog.dom.findNode, goog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes, goog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent, goog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength, goog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset, goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass, goog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass, goog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor, goog.style = {}, goog.style.setStyle = function (e, t, o) { goog.isString(t) ? goog.style.setStyle_(e, o, t) : goog.object.forEach(t, goog.partial(goog.style.setStyle_, e)) }, goog.style.setStyle_ = function (e, t, o) { e.style[goog.string.toCamelCase(o)] = t }, goog.style.getStyle = function (e, t) { return e.style[goog.string.toCamelCase(t)] || "" }, goog.style.getComputedStyle = function (e, t) { var o = goog.dom.getOwnerDocument(e); return o.defaultView && o.defaultView.getComputedStyle && (o = o.defaultView.getComputedStyle(e, null)) && (o[t] || o.getPropertyValue(t)) || "" }, goog.style.getCascadedStyle = function (e, t) { return e.currentStyle ? e.currentStyle[t] : null }, goog.style.getStyle_ = function (e, t) { return goog.style.getComputedStyle(e, t) || goog.style.getCascadedStyle(e, t) || e.style && e.style[t] }, goog.style.getComputedPosition = function (e) { return goog.style.getStyle_(e, "position") }, goog.style.getBackgroundColor = function (e) { return goog.style.getStyle_(e, "backgroundColor") }, goog.style.getComputedOverflowX = function (e) { return goog.style.getStyle_(e, "overflowX") }, goog.style.getComputedOverflowY = function (e) { return goog.style.getStyle_(e, "overflowY") }, goog.style.getComputedZIndex = function (e) { return goog.style.getStyle_(e, "zIndex") }, goog.style.getComputedTextAlign = function (e) { return goog.style.getStyle_(e, "textAlign") }, goog.style.getComputedCursor = function (e) { return goog.style.getStyle_(e, "cursor") }, goog.style.setPosition = function (e, t, o) { var i, s = goog.userAgent.GECKO && (goog.userAgent.MAC || goog.userAgent.X11) && goog.userAgent.isVersion("1.9"); t instanceof goog.math.Coordinate ? (i = t.x, t = t.y) : (i = t, t = o), e.style.left = goog.style.getPixelStyleValue_(i, s), e.style.top = goog.style.getPixelStyleValue_(t, s) }, goog.style.getPosition = function (e) { return new goog.math.Coordinate(e.offsetLeft, e.offsetTop) }, goog.style.getClientViewportElement = function (e) { return e = e ? e.nodeType == goog.dom.NodeType.DOCUMENT ? e : goog.dom.getOwnerDocument(e) : goog.dom.getDocument(), !goog.userAgent.IE || goog.userAgent.isDocumentMode(9) || goog.dom.getDomHelper(e).isCss1CompatMode() ? e.documentElement : e.body }, goog.style.getBoundingClientRect_ = function (e) { var t = e.getBoundingClientRect(); return goog.userAgent.IE && (e = e.ownerDocument, t.left -= e.documentElement.clientLeft + e.body.clientLeft, t.top -= e.documentElement.clientTop + e.body.clientTop), t }, goog.style.getOffsetParent = function (e) { if (goog.userAgent.IE && !goog.userAgent.isDocumentMode(8)) return e.offsetParent; var t = goog.dom.getOwnerDocument(e), o = goog.style.getStyle_(e, "position"), i = "fixed" == o || "absolute" == o; for (e = e.parentNode; e && e != t; e = e.parentNode)if (o = goog.style.getStyle_(e, "position"), !(i = i && "static" == o && e != t.documentElement && e != t.body) && (e.scrollWidth > e.clientWidth || e.scrollHeight > e.clientHeight || "fixed" == o || "absolute" == o || "relative" == o)) return e; return null }, goog.style.getVisibleRectForElement = function (e) { for (var t = new goog.math.Box(0, 1 / 0, 1 / 0, 0), o = goog.dom.getDomHelper(e), i = o.getDocument().body, s = o.getDocument().documentElement, n = o.getDocumentScrollElement(); e = goog.style.getOffsetParent(e);)if (!(goog.userAgent.IE && 0 == e.clientWidth || goog.userAgent.WEBKIT && 0 == e.clientHeight && e == i || e == i || e == s || "visible" == goog.style.getStyle_(e, "overflow"))) { var r = goog.style.getPageOffset(e), a = goog.style.getClientLeftTop(e); r.x += a.x, r.y += a.y, t.top = Math.max(t.top, r.y), t.right = Math.min(t.right, r.x + e.clientWidth), t.bottom = Math.min(t.bottom, r.y + e.clientHeight), t.left = Math.max(t.left, r.x) } return i = n.scrollLeft, n = n.scrollTop, t.left = Math.max(t.left, i), t.top = Math.max(t.top, n), o = o.getViewportSize(), t.right = Math.min(t.right, i + o.width), t.bottom = Math.min(t.bottom, n + o.height), 0 <= t.top && 0 <= t.left && t.bottom > t.top && t.right > t.left ? t : null }, goog.style.getContainerOffsetToScrollInto = function (e, t, o) { var i = goog.style.getPageOffset(e), s = goog.style.getPageOffset(t), n = goog.style.getBorderBox(t), r = i.x - s.x - n.left; i = i.y - s.y - n.top, s = t.clientWidth - e.offsetWidth, e = t.clientHeight - e.offsetHeight, n = t.scrollLeft, t = t.scrollTop; return o ? (n += r - s / 2, t += i - e / 2) : (n += Math.min(r, Math.max(r - s, 0)), t += Math.min(i, Math.max(i - e, 0))), new goog.math.Coordinate(n, t) }, goog.style.scrollIntoContainerView = function (e, t, o) { e = goog.style.getContainerOffsetToScrollInto(e, t, o), t.scrollLeft = e.x, t.scrollTop = e.y }, goog.style.getClientLeftTop = function (e) { if (goog.userAgent.GECKO && !goog.userAgent.isVersion("1.9")) { var t = parseFloat(goog.style.getComputedStyle(e, "borderLeftWidth")); if (goog.style.isRightToLeft(e)) t = t + (e.offsetWidth - e.clientWidth - t - parseFloat(goog.style.getComputedStyle(e, "borderRightWidth"))); return new goog.math.Coordinate(t, parseFloat(goog.style.getComputedStyle(e, "borderTopWidth"))) } return new goog.math.Coordinate(e.clientLeft, e.clientTop) }, goog.style.getPageOffset = function (e) { var t, o = goog.dom.getOwnerDocument(e), i = goog.style.getStyle_(e, "position"), s = goog.userAgent.GECKO && o.getBoxObjectFor && !e.getBoundingClientRect && "absolute" == i && (t = o.getBoxObjectFor(e)) && (0 > t.screenX || 0 > t.screenY), n = new goog.math.Coordinate(0, 0), r = goog.style.getClientViewportElement(o); if (e == r) return n; if (e.getBoundingClientRect) t = goog.style.getBoundingClientRect_(e), e = goog.dom.getDomHelper(o).getDocumentScroll(), n.x = t.left + e.x, n.y = t.top + e.y; else if (o.getBoxObjectFor && !s) t = o.getBoxObjectFor(e), e = o.getBoxObjectFor(r), n.x = t.screenX - e.screenX, n.y = t.screenY - e.screenY; else { t = e; do { if (n.x += t.offsetLeft, n.y += t.offsetTop, t != e && (n.x += t.clientLeft || 0, n.y += t.clientTop || 0), goog.userAgent.WEBKIT && "fixed" == goog.style.getComputedPosition(t)) { n.x += o.body.scrollLeft, n.y += o.body.scrollTop; break } t = t.offsetParent } while (t && t != e); for ((goog.userAgent.OPERA || goog.userAgent.WEBKIT && "absolute" == i) && (n.y -= o.body.offsetTop), t = e; (t = goog.style.getOffsetParent(t)) && t != o.body && t != r;)n.x -= t.scrollLeft, goog.userAgent.OPERA && "TR" == t.tagName || (n.y -= t.scrollTop) } return n }, goog.style.getPageOffsetLeft = function (e) { return goog.style.getPageOffset(e).x }, goog.style.getPageOffsetTop = function (e) { return goog.style.getPageOffset(e).y }, goog.style.getFramedPageOffset = function (e, t) { var o = new goog.math.Coordinate(0, 0), i = goog.dom.getWindow(goog.dom.getOwnerDocument(e)), s = e; do { var n = i == t ? goog.style.getPageOffset(s) : goog.style.getClientPosition(s); o.x += n.x, o.y += n.y } while (i && i != t && (s = i.frameElement) && (i = i.parent)); return o }, goog.style.translateRectForAnotherFrame = function (e, t, o) { if (t.getDocument() != o.getDocument()) { var i = t.getDocument().body; o = goog.style.getFramedPageOffset(i, o.getWindow()), o = goog.math.Coordinate.difference(o, goog.style.getPageOffset(i)); goog.userAgent.IE && !t.isCss1CompatMode() && (o = goog.math.Coordinate.difference(o, t.getDocumentScroll())), e.left += o.x, e.top += o.y } }, goog.style.getRelativePosition = function (e, t) { var o = goog.style.getClientPosition(e), i = goog.style.getClientPosition(t); return new goog.math.Coordinate(o.x - i.x, o.y - i.y) }, goog.style.getClientPosition = function (e) { var t = new goog.math.Coordinate; if (e.nodeType == goog.dom.NodeType.ELEMENT) if (e.getBoundingClientRect) e = goog.style.getBoundingClientRect_(e), t.x = e.left, t.y = e.top; else { var o = goog.dom.getDomHelper(e).getDocumentScroll(); e = goog.style.getPageOffset(e); t.x = e.x - o.x, t.y = e.y - o.y } else { o = goog.isFunction(e.getBrowserEvent); var i = e; e.targetTouches ? i = e.targetTouches[0] : o && e.getBrowserEvent().targetTouches && (i = e.getBrowserEvent().targetTouches[0]), t.x = i.clientX, t.y = i.clientY } return t }, goog.style.setPageOffset = function (e, t, o) { var i = goog.style.getPageOffset(e); t instanceof goog.math.Coordinate && (o = t.y, t = t.x), goog.style.setPosition(e, e.offsetLeft + (t - i.x), e.offsetTop + (o - i.y)) }, goog.style.setSize = function (e, t, o) { if (t instanceof goog.math.Size) o = t.height, t = t.width; else if (null == o) throw Error("missing height argument"); goog.style.setWidth(e, t), goog.style.setHeight(e, o) }, goog.style.getPixelStyleValue_ = function (e, t) { return "number" == typeof e && (e = (t ? Math.round(e) : e) + "px"), e }, goog.style.setHeight = function (e, t) { e.style.height = goog.style.getPixelStyleValue_(t, !0) }, goog.style.setWidth = function (e, t) { e.style.width = goog.style.getPixelStyleValue_(t, !0) }, goog.style.getSize = function (e) { if ("none" != goog.style.getStyle_(e, "display")) return goog.style.getSizeWithDisplay_(e); var t = e.style, o = t.display, i = t.visibility, s = t.position; return t.visibility = "hidden", t.position = "absolute", t.display = "inline", e = goog.style.getSizeWithDisplay_(e), t.display = o, t.position = s, t.visibility = i, e }, goog.style.getSizeWithDisplay_ = function (e) { var t = e.offsetWidth, o = e.offsetHeight, i = goog.userAgent.WEBKIT && !t && !o; return goog.isDef(t) && !i || !e.getBoundingClientRect ? new goog.math.Size(t, o) : (e = goog.style.getBoundingClientRect_(e), new goog.math.Size(e.right - e.left, e.bottom - e.top)) }, goog.style.getBounds = function (e) { var t = goog.style.getPageOffset(e); e = goog.style.getSize(e); return new goog.math.Rect(t.x, t.y, e.width, e.height) }, goog.style.toCamelCase = function (e) { return goog.string.toCamelCase("" + e) }, goog.style.toSelectorCase = function (e) { return goog.string.toSelectorCase(e) }, goog.style.getOpacity = function (e) { var t = e.style; e = ""; return "opacity" in t ? e = t.opacity : "MozOpacity" in t ? e = t.MozOpacity : "filter" in t && (t = t.filter.match(/alpha\(opacity=([\d.]+)\)/)) && (e = "" + t[1] / 100), "" == e ? e : Number(e) }, goog.style.setOpacity = function (e, t) { var o = e.style; "opacity" in o ? o.opacity = t : "MozOpacity" in o ? o.MozOpacity = t : "filter" in o && (o.filter = "" === t ? "" : "alpha(opacity=" + 100 * t + ")") }, goog.style.setTransparentBackgroundImage = function (e, t) { var o = e.style; goog.userAgent.IE && !goog.userAgent.isVersion("8") ? o.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + t + '", sizingMethod="crop")' : (o.backgroundImage = "url(" + t + ")", o.backgroundPosition = "top left", o.backgroundRepeat = "no-repeat") }, goog.style.clearTransparentBackgroundImage = function (e) { "filter" in (e = e.style) ? e.filter = "" : e.backgroundImage = "none" }, goog.style.showElement = function (e, t) { e.style.display = t ? "" : "none" }, goog.style.isElementShown = function (e) { return "none" != e.style.display }, goog.style.installStyles = function (e, t) { var o = goog.dom.getDomHelper(t), i = null; if (goog.userAgent.IE) i = o.getDocument().createStyleSheet(), goog.style.setStyles(i, e); else { var s = o.getElementsByTagNameAndClass("head")[0]; s || (i = o.getElementsByTagNameAndClass("body")[0], s = o.createDom("head"), i.parentNode.insertBefore(s, i)), i = o.createDom("style"), goog.style.setStyles(i, e), o.appendChild(s, i) } return i }, goog.style.uninstallStyles = function (e) { goog.dom.removeNode(e.ownerNode || e.owningElement || e) }, goog.style.setStyles = function (e, t) { goog.userAgent.IE ? e.cssText = t : e[goog.userAgent.WEBKIT ? "innerText" : "innerHTML"] = t }, goog.style.setPreWrap = function (e) { e = e.style, goog.userAgent.IE && !goog.userAgent.isVersion("8") ? (e.whiteSpace = "pre", e.wordWrap = "break-word") : e.whiteSpace = goog.userAgent.GECKO ? "-moz-pre-wrap" : "pre-wrap" }, goog.style.setInlineBlock = function (e) { (e = e.style).position = "relative", goog.userAgent.IE && !goog.userAgent.isVersion("8") ? (e.zoom = "1", e.display = "inline") : e.display = goog.userAgent.GECKO ? goog.userAgent.isVersion("1.9a") ? "inline-block" : "-moz-inline-box" : "inline-block" }, goog.style.isRightToLeft = function (e) { return "rtl" == goog.style.getStyle_(e, "direction") }, goog.style.unselectableStyle_ = goog.userAgent.GECKO ? "MozUserSelect" : goog.userAgent.WEBKIT ? "WebkitUserSelect" : null, goog.style.isUnselectable = function (e) { return goog.style.unselectableStyle_ ? "none" == e.style[goog.style.unselectableStyle_].toLowerCase() : !(!goog.userAgent.IE && !goog.userAgent.OPERA) && "on" == e.getAttribute("unselectable") }, goog.style.setUnselectable = function (e, t, o) { o = o ? null : e.getElementsByTagName("*"); var i = goog.style.unselectableStyle_; if (i) { if (t = t ? "none" : "", e.style[i] = t, o) { var s; for (e = 0; s = o[e]; e++)s.style[i] = t } } else if ((goog.userAgent.IE || goog.userAgent.OPERA) && (t = t ? "on" : "", e.setAttribute("unselectable", t), o)) for (e = 0; s = o[e]; e++)s.setAttribute("unselectable", t) }, goog.style.getBorderBoxSize = function (e) { return new goog.math.Size(e.offsetWidth, e.offsetHeight) }, goog.style.setBorderBoxSize = function (e, t) { var o = goog.dom.getOwnerDocument(e), i = goog.dom.getDomHelper(o).isCss1CompatMode(); if (!goog.userAgent.IE || i && goog.userAgent.isVersion("8")) goog.style.setBoxSizingSize_(e, t, "border-box"); else if (o = e.style, i) { i = goog.style.getPaddingBox(e); var s = goog.style.getBorderBox(e); o.pixelWidth = t.width - s.left - i.left - i.right - s.right, o.pixelHeight = t.height - s.top - i.top - i.bottom - s.bottom } else o.pixelWidth = t.width, o.pixelHeight = t.height }, goog.style.getContentBoxSize = function (e) { var t = goog.dom.getOwnerDocument(e), o = goog.userAgent.IE && e.currentStyle; return o && goog.dom.getDomHelper(t).isCss1CompatMode() && "auto" != o.width && "auto" != o.height && !o.boxSizing ? (t = goog.style.getIePixelValue_(e, o.width, "width", "pixelWidth"), e = goog.style.getIePixelValue_(e, o.height, "height", "pixelHeight"), new goog.math.Size(t, e)) : (o = goog.style.getBorderBoxSize(e), t = goog.style.getPaddingBox(e), e = goog.style.getBorderBox(e), new goog.math.Size(o.width - e.left - t.left - t.right - e.right, o.height - e.top - t.top - t.bottom - e.bottom)) }, goog.style.setContentBoxSize = function (e, t) { var o = goog.dom.getOwnerDocument(e), i = goog.dom.getDomHelper(o).isCss1CompatMode(); if (!goog.userAgent.IE || i && goog.userAgent.isVersion("8")) goog.style.setBoxSizingSize_(e, t, "content-box"); else if (o = e.style, i) o.pixelWidth = t.width, o.pixelHeight = t.height; else { i = goog.style.getPaddingBox(e); var s = goog.style.getBorderBox(e); o.pixelWidth = t.width + s.left + i.left + i.right + s.right, o.pixelHeight = t.height + s.top + i.top + i.bottom + s.bottom } }, goog.style.setBoxSizingSize_ = function (e, t, o) { e = e.style, goog.userAgent.GECKO ? e.MozBoxSizing = o : goog.userAgent.WEBKIT ? e.WebkitBoxSizing = o : e.boxSizing = o, e.width = Math.max(t.width, 0) + "px", e.height = Math.max(t.height, 0) + "px" }, goog.style.getIePixelValue_ = function (e, t, o, i) { if (/^\d+px?$/.test(t)) return parseInt(t, 10); var s = e.style[o], n = e.runtimeStyle[o]; return e.runtimeStyle[o] = e.currentStyle[o], e.style[o] = t, t = e.style[i], e.style[o] = s, e.runtimeStyle[o] = n, t }, goog.style.getIePixelDistance_ = function (e, t) { return goog.style.getIePixelValue_(e, goog.style.getCascadedStyle(e, t), "left", "pixelLeft") }, goog.style.getBox_ = function (e, t) { if (goog.userAgent.IE) { var o = goog.style.getIePixelDistance_(e, t + "Left"), i = goog.style.getIePixelDistance_(e, t + "Right"), s = goog.style.getIePixelDistance_(e, t + "Top"), n = goog.style.getIePixelDistance_(e, t + "Bottom"); return new goog.math.Box(s, i, n, o) } return o = goog.style.getComputedStyle(e, t + "Left"), i = goog.style.getComputedStyle(e, t + "Right"), s = goog.style.getComputedStyle(e, t + "Top"), n = goog.style.getComputedStyle(e, t + "Bottom"), new goog.math.Box(parseFloat(s), parseFloat(i), parseFloat(n), parseFloat(o)) }, goog.style.getPaddingBox = function (e) { return goog.style.getBox_(e, "padding") }, goog.style.getMarginBox = function (e) { return goog.style.getBox_(e, "margin") }, goog.style.ieBorderWidthKeywords_ = { thin: 2, medium: 4, thick: 6 }, goog.style.getIePixelBorder_ = function (e, t) { if ("none" == goog.style.getCascadedStyle(e, t + "Style")) return 0; var o = goog.style.getCascadedStyle(e, t + "Width"); return o in goog.style.ieBorderWidthKeywords_ ? goog.style.ieBorderWidthKeywords_[o] : goog.style.getIePixelValue_(e, o, "left", "pixelLeft") }, goog.style.getBorderBox = function (e) { if (goog.userAgent.IE) { var t = goog.style.getIePixelBorder_(e, "borderLeft"), o = goog.style.getIePixelBorder_(e, "borderRight"), i = goog.style.getIePixelBorder_(e, "borderTop"); e = goog.style.getIePixelBorder_(e, "borderBottom"); return new goog.math.Box(i, o, e, t) } return t = goog.style.getComputedStyle(e, "borderLeftWidth"), o = goog.style.getComputedStyle(e, "borderRightWidth"), i = goog.style.getComputedStyle(e, "borderTopWidth"), e = goog.style.getComputedStyle(e, "borderBottomWidth"), new goog.math.Box(parseFloat(i), parseFloat(o), parseFloat(e), parseFloat(t)) }, goog.style.getFontFamily = function (e) { var t = goog.dom.getOwnerDocument(e), o = ""; if (t.body.createTextRange) { (t = t.body.createTextRange()).moveToElementText(e); try { o = t.queryCommandValue("FontName") } catch (e) { o = "" } } return o || (o = goog.style.getStyle_(e, "fontFamily")), 1 < (e = o.split(",")).length && (o = e[0]), goog.string.stripQuotes(o, "\"'") }, goog.style.lengthUnitRegex_ = /[^\d]+$/, goog.style.getLengthUnits = function (e) { return (e = e.match(goog.style.lengthUnitRegex_)) && e[0] || null }, goog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = { cm: 1, in: 1, mm: 1, pc: 1, pt: 1 }, goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = { em: 1, ex: 1 }, goog.style.getFontSize = function (e) { var t = goog.style.getStyle_(e, "fontSize"), o = goog.style.getLengthUnits(t); if (t && "px" == o) return parseInt(t, 10); if (goog.userAgent.IE) { if (o in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) return goog.style.getIePixelValue_(e, t, "left", "pixelLeft"); if (e.parentNode && e.parentNode.nodeType == goog.dom.NodeType.ELEMENT && o in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) return e = e.parentNode, o = goog.style.getStyle_(e, "fontSize"), goog.style.getIePixelValue_(e, t == o ? "1em" : t, "left", "pixelLeft") } return o = goog.dom.createDom("span", { style: "visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;" }), goog.dom.appendChild(e, o), t = o.offsetHeight, goog.dom.removeNode(o), t }, goog.style.parseStyleAttribute = function (e) { var t = {}; return goog.array.forEach(e.split(/\s*;\s*/), function (e) { 2 == (e = e.split(/\s*:\s*/)).length && (t[goog.string.toCamelCase(e[0].toLowerCase())] = e[1]) }), t }, goog.style.toStyleAttribute = function (e) { var t = []; return goog.object.forEach(e, function (e, o) { t.push(goog.string.toSelectorCase(o), ":", e, ";") }), t.join("") }, goog.style.setFloat = function (e, t) { e.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] = t }, goog.style.getFloat = function (e) { return e.style[goog.userAgent.IE ? "styleFloat" : "cssFloat"] || "" }, goog.style.getScrollbarWidth = function (e) { var t = goog.dom.createElement("div"); return e && (t.className = e), t.style.cssText = "overflow:auto;position:absolute;top:0;width:100px;height:100px", e = goog.dom.createElement("div"), goog.style.setSize(e, "200px", "200px"), t.appendChild(e), goog.dom.appendChild(goog.dom.getDocument().body, t), e = t.offsetWidth - t.clientWidth, goog.dom.removeNode(t), e }, lime.style = {}, function () { var e = goog.userAgent.WEBKIT ? "Webkit" : goog.userAgent.GECKO ? "Moz" : goog.userAgent.OPERA ? "O" : goog.userAgent.IE ? "ms" : "", t = goog.dom.createDom("div").style; lime.style.transformProperty = "-" + e.toLowerCase() + "-transform", lime.style.tryProperty = function (e) { return void 0 !== t[e] && e }, lime.style.getCSSproperty = function (t) { var o = t.charAt(0).toLowerCase() + t.substr(1), i = e + t; return lime.style.tryProperty(t) ? t : lime.style.tryProperty(o) ? o : lime.style.tryProperty(i) ? i : void 0 } }(), lime.style.setBorderRadius = function () { var e = lime.style.getCSSproperty("BorderRadius"); return function (t, o, i, s) { s = s ? "%" : "px", i = goog.isDef(i) ? i : o, (o = (goog.isArray(o) ? o.join(s + " ") : o) + s + "/" + ((goog.isArray(i) ? i.join(s + " ") : i) + s)) != t.border_radius_cache_ && (t.style[e] = t.border_radius_cache_ = o) } }(), lime.style.Transform = function (e) { this.values = [], this.precision = 1, this.enable3D_ = !0, this.opt_precision && this.setPrecision(e) }, lime.style.Transform.prototype.set3DAllowed = function (e) { return this.enable3D_ = e, this }, lime.style.Transform.prototype.scale = function (e, t) { return this.values.push("scale(" + e + "," + t + ")"), this }, lime.style.Transform.prototype.rotate = function (e, t) { return 0 != e && this.values.push("rotate(" + e + (t || "deg") + ")"), this }, lime.style.Transform.prototype.translate = function (e, t, o) { var i = 1 / this.precision, s = "translate"; return this.enable3D_ && (lime.userAgent.IOS || lime.userAgent.PLAYBOOK) && (s += "3d"), s += "(" + e * i + "px," + t * i + "px", this.enable3D_ && (lime.userAgent.IOS || lime.userAgent.PLAYBOOK) && (s += "," + (o || 0) * i + "px"), this.values.push(s + ")"), this }, lime.style.Transform.prototype.setPrecision = function (e) { if (1 != this.precision) { var t = 1 / this.precision; this.scale(t, t), this.precision = 1 } return 1 != e && (this.scale(e, e), this.precision = e), this }, lime.style.Transform.prototype.toString = function () { return 1 != this.precision && this.setPrecision(1), this.values.join(" ") }, lime.style.setTransform = function () { var e = lime.style.getCSSproperty("Transform"); return function (t, o) { var i = o.toString(); i != t.transform_cache_ && (t.style[e] = t.transform_cache_ = i), lime.transformSet_ = 1 } }(), lime.style.setTransformOrigin = function () { var e = lime.style.getCSSproperty("TransformOrigin"); return function (t, o, i, s) { (o = o + (s = s ? "%" : "px") + " " + i + s) != t.transform_origin_cache_ && (t.style[e] = t.transform_origin_cache_ = o) } }(), function () { var e = lime.style.getCSSproperty("Transition"); lime.style.isTransitionsSupported = !!e && !goog.userAgent.OPERA; var t = function (e, t) { if (!e.length) return e; for (var o = e.split("),"), i = 0; i < o.length - 1; i++)o[i] += ")"; return (o = goog.array.filter(o, function (e) { return -1 == e.indexOf(t) })).join(",") }; lime.style.setTransition = function (o, i, s, n) { if (e) { var r = t(o.style[e], i); r.length && (r += ", "), r += i + " " + s + "s cubic-bezier(" + n[1] + "," + n[2] + "," + n[3] + "," + n[4] + ")", o.style[e] = r } }, lime.style.clearTransition = function (o, i) { e && o && (o.style[e] = t(o.style[e], i)) }, lime.style.setSize = function (e, t, o) { if (e.width_cache_ != t || e.height_cache_ != o) return e.width_cache_ = t, e.height_cache_ = o, goog.style.setSize(e, t, o) } }(), lime.Renderer.DOM = new lime.Renderer, lime.Renderer.DOM.updateLayout = function () { for (var e, t = 0, o = 0; e = this.children_[o]; o++)(e = e instanceof lime.Node ? e.rootElement : e) == this.domElement.childNodes[t] ? t++ : (goog.dom.contains(this.containerElement, e) && goog.dom.removeNode(e), lime.Renderer.DOM.appendAt_(this.containerElement, e, t++)) }, lime.Renderer.DOM.drawSizePosition = function () { var e = this.getSize(), t = this.getQuality(), o = this.getPosition(), i = this.relativeQuality_ || 1, s = this.getCSS3DTransformsAllowed(); this.transitionsActive_[lime.Transition.POSITION] && (o = this.transitionsActive_[lime.Transition.POSITION]); var n = Math.round(e.width * i), r = Math.round(e.height * i), a = this.getScale().clone(); this.transitionsActive_[lime.Transition.SCALE] && (a = this.transitionsActive_[lime.Transition.SCALE].clone()), 0 != n ? a.scale(e.width / (n * t / i)) : a.scale(1 / t), lime.style.setSize(this.domElement, n, r), lime.style.setTransformOrigin(this.domElement, 100 * this.anchorPoint_.x, 100 * this.anchorPoint_.y, !0), n = this.anchorPoint_.x * e.width * i, r = this.anchorPoint_.y * e.height * i, e = o.x * i / t - n, t = o.y * i / t - r, (0 != n - (o = this.stroke_ ? this.stroke_.width_ : 0) || 0 != r - o) && this.domElement == this.containerElement && this.children_.length && lime.Renderer.DOM.makeContainer.call(this), this.domElement != this.containerElement && !this.transitionsActiveSet_[lime.Transition.POSITION] && !this.transitionsActiveSet_[lime.Transition.SCALE] && !this.transitionsActiveSet_[lime.Transition.ROTATION] && lime.style.setTransform(this.containerElement, (new lime.style.Transform).set3DAllowed(s).translate(n - o, r - o)), this.mask_ != this.activeMask_ && (this.activeMask_ && lime.Renderer.DOM.removeMask.call(this), this.mask_ && lime.Renderer.DOM.addMask.call(this)), s = (new lime.style.Transform).setPrecision(.1).set3DAllowed(s), this.mask_ && (lime.Renderer.DOM.calculateMaskPosition.call(this.mask_), s.setPrecision(.1).translate(-this.mask_.mX - n, -this.mask_.mY - r).rotate(this.mask_.mRot, "rad").translate(n, r).setPrecision(1)), n = -this.getRotation(), goog.isDef(this.transitionsActive_[lime.Transition.ROTATION]) && (n = -this.transitionsActive_[lime.Transition.ROTATION]), s.translate(e, t).scale(a.x, a.y).rotate(n), !this.transitionsActiveSet_[lime.Transition.POSITION] && !this.transitionsActiveSet_[lime.Transition.SCALE] && !this.transitionsActiveSet_[lime.Transition.ROTATION] && lime.style.setTransform(this.domElement, s) }, lime.Renderer.DOM.update = function () { if (this.domElement) { if (lime.Renderer.DOM.drawSizePosition.call(this), !this.transitionsActiveSet_[lime.Transition.OPACITY]) { var e = this.opacity_; goog.isDef(this.transitionsActive_[lime.Transition.OPACITY]) && (e = this.transitionsActive_[lime.Transition.OPACITY]), this.getDirty() & lime.Dirty.ALPHA && goog.style.setOpacity(this.domElement, e) } this.getDirty() & lime.Dirty.VISIBILITY && (this.domElement.style.display = this.hidden_ ? "none" : "block"), this.maskTarget_ || this.renderer.draw.call(this, this.domElement) } }, lime.Renderer.DOM.calculateMaskPosition = function () { if (goog.isDef(this.targetNode) && this.targetNode.inTree_) { var e = this.targetNode, t = this.getFrame(), o = new goog.math.Coordinate(t.left, t.top), i = new goog.math.Coordinate(t.right, t.top), s = new goog.math.Coordinate(t.right, t.bottom), n = (t = e.getParent(), o = this.localToNode(o, t), i = this.localToNode(i, t), s = this.localToNode(s, t), t = Math.atan2(o.y - i.y, i.x - o.x), i.x - o.x), r = o.y - i.y, a = s.x - i.x, l = s.y - i.y; i = Math.cos(t), s = Math.sin(t); this.mWidth = Math.round(Math.sqrt(n * n + r * r)), this.mHeight = Math.round(Math.sqrt(a * a + l * l)), e.renderer.getType() == lime.Renderer.DOM && (n = e.rootElement, goog.style.setSize(n, this.mWidth, this.mHeight), lime.style.setTransform(n, (new lime.style.Transform).setPrecision(.1).set3DAllowed(this.getCSS3DTransformsAllowed()).translate(o.x, o.y).rotate(-t, "rad"))), this.renderer.getType() == lime.Renderer.DOM && (this.domElement.style.display = "none"), this.mPos = e.parentToLocal(o.clone()), this.mSet = !0, this.mX = i * o.x - s * o.y, this.mY = i * o.y + s * o.x, this.mRot = t } }, lime.Renderer.DOM.appendAt_ = function (e, t, o) { null == o || e.childNodes.length <= o ? e.appendChild(t) : e.insertBefore(t, e.childNodes[o]) }, lime.Renderer.DOM.makeContainer = function () { this.containerElement = goog.dom.createDom("div"); for (var e, t = document.createDocumentFragment(); e = this.domElement.firstChild;)this.domElement.removeChild(e), t.appendChild(e); this.containerElement.appendChild(t), this.domElement.appendChild(this.containerElement) }, lime.Renderer.DOM.removeMask = function () { this.domElement != this.rootElement && (this.renderer.getType() == lime.Renderer.DOM && (goog.dom.removeNode(this.domElement), goog.dom.replaceNode(this.domElement, this.rootElement), this.rootElement = this.domElement), this.activeMask_.isMask = 0, this.activeMask_ = null) }, lime.Renderer.DOM.addMask = function () { this.renderer.getType() == lime.Renderer.DOM && (this.rootElement = goog.dom.createDom("div"), this.rootElement.style.cssText = "position:absolute;overflow:hidden;", lime.style.setTransformOrigin(this.rootElement, 0, 0), goog.dom.replaceNode(this.rootElement, this.domElement), this.rootElement.appendChild(this.domElement)), this.mask_.isMask = 1, this.mask_.targetNode = this, this.activeMask_ = this.mask_, this.mask_.setDirty(lime.Dirty.POSITION) }, goog.string.StringBuffer = function (e, t) { null != e && this.append.apply(this, arguments) }, goog.string.StringBuffer.prototype.buffer_ = "", goog.string.StringBuffer.prototype.set = function (e) { this.buffer_ = "" + e }, goog.string.StringBuffer.prototype.append = function (e, t, o) { if (this.buffer_ += e, null != t) for (var i = 1; i < arguments.length; i++)this.buffer_ += arguments[i]; return this }, goog.string.StringBuffer.prototype.clear = function () { this.buffer_ = "" }, goog.string.StringBuffer.prototype.getLength = function () { return this.buffer_.length }, goog.string.StringBuffer.prototype.toString = function () { return this.buffer_ }, goog.structs = {}, goog.structs.InversionMap = function (e, t, o) { if (e.length != t.length) return null; this.storeInversion_(e, o), this.values = t }, goog.structs.InversionMap.prototype.storeInversion_ = function (e, t) { this.rangeArray = e; for (var o = 1; o < e.length; o++)null == e[o] ? e[o] = e[o - 1] + 1 : t && (e[o] += e[o - 1]) }, goog.structs.InversionMap.prototype.spliceInversion = function (e, t, o) { o = (e = new goog.structs.InversionMap(e, t, o)).rangeArray[0]; var i = goog.array.peek(e.rangeArray); t = this.getLeast(o), i = this.getLeast(i); o != this.rangeArray[t] && t++ , o = i - t + 1, goog.partial(goog.array.splice, this.rangeArray, t, o).apply(null, e.rangeArray), goog.partial(goog.array.splice, this.values, t, o).apply(null, e.values) }, goog.structs.InversionMap.prototype.at = function (e) { return 0 > (e = this.getLeast(e)) ? null : this.values[e] }, goog.structs.InversionMap.prototype.getLeast = function (e) { for (var t = this.rangeArray, o = 0, i = t.length; 8 < i - o;) { var s = i + o >> 1; t[s] <= e ? o = s : i = s } for (; o < i && !(e < t[o]); ++o); return o - 1 }, goog.i18n = {}, goog.i18n.GraphemeBreak = {}, goog.i18n.GraphemeBreak.property = { ANY: 0, CONTROL: 1, EXTEND: 2, PREPEND: 3, SPACING_MARK: 4, L: 5, V: 6, T: 7, LV: 8, LVT: 9, CR: 10, LF: 11 }, goog.i18n.GraphemeBreak.inversions_ = null, goog.i18n.GraphemeBreak.applyLegacyBreakRules_ = function (e, t) { var o = goog.i18n.GraphemeBreak.property; return (e != o.CR || t != o.LF) && (e == o.CONTROL || e == o.CR || e == o.LF || t == o.CONTROL || t == o.CR || t == o.LF || (e != o.L || t != o.L && t != o.V && t != o.LV && t != o.LVT) && (e != o.LV && e != o.V || t != o.V && t != o.T) && (e != o.LVT && e != o.T || t != o.T) && t != o.EXTEND) }, goog.i18n.GraphemeBreak.getBreakProp_ = function (e) { if (44032 <= e && 55203 >= e) { var t = goog.i18n.GraphemeBreak.property; return 16 == e % 28 ? t.LV : t.LVT } return goog.i18n.GraphemeBreak.inversions_ || (goog.i18n.GraphemeBreak.inversions_ = new goog.structs.InversionMap([0, 10, 1, 2, 1, 18, 95, 33, 13, 1, 594, 112, 275, 7, 263, 45, 1, 1, 1, 2, 1, 2, 1, 1, 56, 4, 12, 11, 48, 20, 17, 1, 101, 7, 1, 7, 2, 2, 1, 4, 33, 1, 1, 1, 30, 27, 91, 11, 58, 9, 269, 2, 1, 56, 1, 1, 3, 8, 4, 1, 3, 4, 13, 2, 29, 1, 2, 56, 1, 1, 1, 2, 6, 6, 1, 9, 1, 10, 2, 29, 2, 1, 56, 2, 3, 17, 30, 2, 3, 14, 1, 56, 1, 1, 3, 8, 4, 1, 20, 2, 29, 1, 2, 56, 1, 1, 2, 1, 6, 6, 11, 10, 2, 30, 1, 59, 1, 1, 1, 12, 1, 9, 1, 41, 3, 58, 3, 5, 17, 11, 2, 30, 2, 56, 1, 1, 1, 1, 2, 1, 3, 1, 5, 11, 11, 2, 30, 2, 58, 1, 2, 5, 7, 11, 10, 2, 30, 2, 70, 6, 2, 6, 7, 19, 2, 60, 11, 5, 5, 1, 1, 8, 97, 13, 3, 5, 3, 6, 74, 2, 27, 1, 1, 1, 1, 1, 4, 2, 49, 14, 1, 5, 1, 2, 8, 45, 9, 1, 100, 2, 4, 1, 6, 1, 2, 2, 2, 23, 2, 2, 4, 3, 1, 3, 2, 7, 3, 4, 13, 1, 2, 2, 6, 1, 1, 1, 112, 96, 72, 82, 357, 1, 946, 3, 29, 3, 29, 2, 30, 2, 64, 2, 1, 7, 8, 1, 2, 11, 9, 1, 45, 3, 155, 1, 118, 3, 4, 2, 9, 1, 6, 3, 116, 17, 7, 2, 77, 2, 3, 228, 4, 1, 47, 1, 1, 5, 1, 1, 5, 1, 2, 38, 9, 12, 2, 1, 30, 1, 4, 2, 2, 1, 121, 8, 8, 2, 2, 392, 64, 523, 1, 2, 2, 24, 7, 49, 16, 96, 33, 3311, 32, 554, 6, 105, 2, 30164, 4, 9, 2, 388, 1, 3, 1, 4, 1, 23, 2, 2, 1, 88, 2, 50, 16, 1, 97, 8, 25, 11, 2, 213, 6, 2, 2, 2, 2, 12, 1, 8, 1, 1, 434, 11172, 1116, 1024, 6942, 1, 737, 16, 16, 7, 216, 1, 158, 2, 89, 3, 513, 1, 2051, 15, 40, 8, 50981, 1, 1, 3, 3, 1, 5, 8, 8, 2, 7, 30, 4, 148, 3, 798140, 255], [1, 11, 1, 10, 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 2, 0, 2, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 4, 0, 2, 0, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 4, 0, 2, 0, 2, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 4, 0, 2, 4, 2, 0, 2, 0, 2, 4, 0, 2, 0, 4, 2, 4, 2, 0, 2, 0, 2, 4, 0, 2, 0, 2, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 4, 2, 4, 2, 0, 2, 0, 4, 0, 2, 4, 2, 0, 2, 0, 4, 0, 2, 0, 4, 2, 4, 2, 4, 2, 4, 2, 0, 2, 0, 4, 0, 2, 4, 2, 4, 2, 0, 2, 0, 4, 0, 2, 4, 2, 4, 2, 4, 0, 2, 0, 3, 2, 0, 2, 0, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 4, 0, 2, 4, 2, 0, 2, 0, 2, 0, 2, 0, 4, 2, 4, 2, 4, 2, 4, 2, 0, 4, 2, 0, 2, 0, 4, 0, 4, 0, 2, 0, 2, 4, 2, 4, 2, 0, 4, 0, 5, 6, 7, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 1, 4, 2, 4, 2, 4, 2, 0, 2, 0, 2, 0, 2, 0, 2, 4, 2, 4, 2, 4, 2, 0, 4, 0, 4, 0, 2, 4, 0, 2, 4, 0, 2, 4, 2, 4, 2, 4, 2, 4, 0, 2, 0, 2, 4, 0, 4, 2, 4, 2, 4, 0, 4, 2, 4, 2, 0, 2, 0, 1, 2, 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0, 4, 2, 4, 0, 4, 0, 4, 2, 0, 2, 0, 2, 4, 0, 2, 4, 2, 4, 2, 0, 2, 0, 2, 4, 0, 9, 0, 2, 0, 2, 0, 2, 0, 2, 0, 1, 0, 2, 0, 1, 0, 2, 0, 2, 0, 2, 0, 2, 4, 2, 0, 4, 2, 1, 2, 0, 2, 0, 2, 0, 2, 0, 1, 2], !0)), goog.i18n.GraphemeBreak.inversions_.at(e) }, goog.i18n.GraphemeBreak.hasGraphemeBreak = function (e, t, o) { e = goog.i18n.GraphemeBreak.getBreakProp_(e), t = goog.i18n.GraphemeBreak.getBreakProp_(t); var i = goog.i18n.GraphemeBreak.property; return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(e, t) && !(o && (e == i.PREPEND || t == i.SPACING_MARK)) }, goog.format = {}, goog.format.fileSize = function (e, t) { return goog.format.numBytesToString(e, t, !1) }, goog.format.isConvertableScaledNumber = function (e) { return goog.format.SCALED_NUMERIC_RE_.test(e) }, goog.format.stringToNumericValue = function (e) { return goog.string.endsWith(e, "B") ? goog.format.stringToNumericValue_(e, goog.format.NUMERIC_SCALES_BINARY_) : goog.format.stringToNumericValue_(e, goog.format.NUMERIC_SCALES_SI_) }, goog.format.stringToNumBytes = function (e) { return goog.format.stringToNumericValue_(e, goog.format.NUMERIC_SCALES_BINARY_) }, goog.format.numericValueToString = function (e, t) { return goog.format.numericValueToString_(e, goog.format.NUMERIC_SCALES_SI_, t) }, goog.format.numBytesToString = function (e, t, o) { var i = ""; return goog.isDef(o) && !o || (i = "B"), goog.format.numericValueToString_(e, goog.format.NUMERIC_SCALES_BINARY_, t, i) }, goog.format.stringToNumericValue_ = function (e, t) { var o = e.match(goog.format.SCALED_NUMERIC_RE_); return o ? o[1] * t[o[2]] : NaN }, goog.format.numericValueToString_ = function (e, t, o, i) { var s = goog.format.NUMERIC_SCALE_PREFIXES_, n = e, r = "", a = 1; 0 > e && (e = -e); for (var l = 0; l < s.length; l++) { var g = s[l]; if (e >= (a = t[g]) || 1 >= a && e > .1 * a) { r = g; break } } return r ? i && (r += i) : a = 1, e = Math.pow(10, goog.isDef(o) ? o : 2), Math.round(n / a * e) / e + r }, goog.format.SCALED_NUMERIC_RE_ = /^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/, goog.format.NUMERIC_SCALE_PREFIXES_ = "P T G M K  m u n".split(" "), goog.format.NUMERIC_SCALES_SI_ = { "": 1, n: 1e-9, u: 1e-6, m: .001, k: 1e3, K: 1e3, M: 1e6, G: 1e9, T: 1e12, P: 1e15 }, goog.format.NUMERIC_SCALES_BINARY_ = { "": 1, n: Math.pow(1024, -3), u: Math.pow(1024, -2), m: 1 / 1024, k: 1024, K: 1024, M: Math.pow(1024, 2), G: Math.pow(1024, 3), T: Math.pow(1024, 4), P: Math.pow(1024, 5) }, goog.format.FIRST_GRAPHEME_EXTEND_ = 768, goog.format.insertWordBreaksGeneric_ = function (e, t, o) { if ((o = o || 10) > e.length) return e; for (var i = [], s = 0, n = 0, r = 0, a = 0, l = 0; l < e.length; l++) { var g = a; g = (a = e.charCodeAt(l)) >= goog.format.FIRST_GRAPHEME_EXTEND_ && !t(g, a, !0); s >= o && a > goog.format.WbrToken_.SPACE && !g && (i.push(e.substring(r, l), goog.format.WORD_BREAK_HTML), r = l, s = 0), n ? a == goog.format.WbrToken_.GT && n == goog.format.WbrToken_.LT ? n = 0 : a == goog.format.WbrToken_.SEMI_COLON && n == goog.format.WbrToken_.AMP && (n = 0, s++) : a == goog.format.WbrToken_.LT || a == goog.format.WbrToken_.AMP ? n = a : a <= goog.format.WbrToken_.SPACE ? s = 0 : s++ } return i.push(e.substr(r)), i.join("") }, goog.format.insertWordBreaks = function (e, t) { return goog.format.insertWordBreaksGeneric_(e, goog.i18n.GraphemeBreak.hasGraphemeBreak, t) }, goog.format.conservativelyHasGraphemeBreak_ = function (e, t) { return 1024 <= t && 1315 > t }, goog.format.insertWordBreaksBasic = function (e, t) { return goog.format.insertWordBreaksGeneric_(e, goog.format.conservativelyHasGraphemeBreak_, t) }, goog.format.IS_IE8_OR_ABOVE_ = goog.userAgent.IE && goog.userAgent.isVersion(8), goog.format.WORD_BREAK_HTML = goog.userAgent.WEBKIT ? "<wbr></wbr>" : goog.userAgent.OPERA ? "&shy;" : goog.format.IS_IE8_OR_ABOVE_ ? "&#8203;" : "<wbr>", goog.format.WbrToken_ = { LT: 60, GT: 62, AMP: 38, SEMI_COLON: 59, SPACE: 32 }, goog.i18n.bidi = {}, goog.i18n.bidi.FORCE_RTL = !1, goog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || ("ar" == goog.LOCALE.substring(0, 2).toLowerCase() || "fa" == goog.LOCALE.substring(0, 2).toLowerCase() || "he" == goog.LOCALE.substring(0, 2).toLowerCase() || "iw" == goog.LOCALE.substring(0, 2).toLowerCase() || "ur" == goog.LOCALE.substring(0, 2).toLowerCase() || "yi" == goog.LOCALE.substring(0, 2).toLowerCase()) && (2 == goog.LOCALE.length || "-" == goog.LOCALE.substring(2, 3) || "_" == goog.LOCALE.substring(2, 3)), goog.i18n.bidi.Format = { LRE: "‪", RLE: "‫", PDF: "‬", LRM: "‎", RLM: "‏" }, goog.i18n.bidi.Dir = { RTL: -1, UNKNOWN: 0, LTR: 1 }, goog.i18n.bidi.RIGHT = "right", goog.i18n.bidi.LEFT = "left", goog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT, goog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT, goog.i18n.bidi.toDir = function (e) { return "number" == typeof e ? 0 < e ? goog.i18n.bidi.Dir.LTR : 0 > e ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.UNKNOWN : e ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR }, goog.i18n.bidi.ltrChars_ = "A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜︀-﹯﻽-￿", goog.i18n.bidi.rtlChars_ = "֑-߿יִ-﷿ﹰ-ﻼ", goog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g, goog.i18n.bidi.stripHtmlIfNeeded_ = function (e, t) { return t ? e.replace(goog.i18n.bidi.htmlSkipReg_, " ") : e }, goog.i18n.bidi.rtlCharReg_ = RegExp("[" + goog.i18n.bidi.rtlChars_ + "]"), goog.i18n.bidi.ltrCharReg_ = RegExp("[" + goog.i18n.bidi.ltrChars_ + "]"), goog.i18n.bidi.hasAnyRtl = function (e, t) { return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl, goog.i18n.bidi.hasAnyLtr = function (e, t) { return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.ltrRe_ = RegExp("^[" + goog.i18n.bidi.ltrChars_ + "]"), goog.i18n.bidi.rtlRe_ = RegExp("^[" + goog.i18n.bidi.rtlChars_ + "]"), goog.i18n.bidi.isRtlChar = function (e) { return goog.i18n.bidi.rtlRe_.test(e) }, goog.i18n.bidi.isLtrChar = function (e) { return goog.i18n.bidi.ltrRe_.test(e) }, goog.i18n.bidi.isNeutralChar = function (e) { return !goog.i18n.bidi.isLtrChar(e) && !goog.i18n.bidi.isRtlChar(e) }, goog.i18n.bidi.ltrDirCheckRe_ = RegExp("^[^" + goog.i18n.bidi.rtlChars_ + "]*[" + goog.i18n.bidi.ltrChars_ + "]"), goog.i18n.bidi.rtlDirCheckRe_ = RegExp("^[^" + goog.i18n.bidi.ltrChars_ + "]*[" + goog.i18n.bidi.rtlChars_ + "]"), goog.i18n.bidi.startsWithRtl = function (e, t) { return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl, goog.i18n.bidi.startsWithLtr = function (e, t) { return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr, goog.i18n.bidi.isRequiredLtrRe_ = /^http:\/\/.*/, goog.i18n.bidi.isNeutralText = function (e, t) { return e = goog.i18n.bidi.stripHtmlIfNeeded_(e, t), goog.i18n.bidi.isRequiredLtrRe_.test(e) || !goog.i18n.bidi.hasAnyLtr(e) && !goog.i18n.bidi.hasAnyRtl(e) }, goog.i18n.bidi.ltrExitDirCheckRe_ = RegExp("[" + goog.i18n.bidi.ltrChars_ + "][^" + goog.i18n.bidi.rtlChars_ + "]*$"), goog.i18n.bidi.rtlExitDirCheckRe_ = RegExp("[" + goog.i18n.bidi.rtlChars_ + "][^" + goog.i18n.bidi.ltrChars_ + "]*$"), goog.i18n.bidi.endsWithLtr = function (e, t) { return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr, goog.i18n.bidi.endsWithRtl = function (e, t) { return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e, t)) }, goog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl, goog.i18n.bidi.rtlLocalesRe_ = RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)", "i"), goog.i18n.bidi.isRtlLanguage = function (e) { return goog.i18n.bidi.rtlLocalesRe_.test(e) }, goog.i18n.bidi.bracketGuardHtmlRe_ = /(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g, goog.i18n.bidi.bracketGuardTextRe_ = /(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g, goog.i18n.bidi.guardBracketInHtml = function (e, t) { return (void 0 === t ? goog.i18n.bidi.hasAnyRtl(e) : t) ? e.replace(goog.i18n.bidi.bracketGuardHtmlRe_, "<span dir=rtl>$&</span>") : e.replace(goog.i18n.bidi.bracketGuardHtmlRe_, "<span dir=ltr>$&</span>") }, goog.i18n.bidi.guardBracketInText = function (e, t) { var o = (void 0 === t ? goog.i18n.bidi.hasAnyRtl(e) : t) ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM; return e.replace(goog.i18n.bidi.bracketGuardTextRe_, o + "$&" + o) }, goog.i18n.bidi.enforceRtlInHtml = function (e) { return "<" == e.charAt(0) ? e.replace(/<\w+/, "$& dir=rtl") : "\n<span dir=rtl>" + e + "</span>" }, goog.i18n.bidi.enforceRtlInText = function (e) { return goog.i18n.bidi.Format.RLE + e + goog.i18n.bidi.Format.PDF }, goog.i18n.bidi.enforceLtrInHtml = function (e) { return "<" == e.charAt(0) ? e.replace(/<\w+/, "$& dir=ltr") : "\n<span dir=ltr>" + e + "</span>" }, goog.i18n.bidi.enforceLtrInText = function (e) { return goog.i18n.bidi.Format.LRE + e + goog.i18n.bidi.Format.PDF }, goog.i18n.bidi.dimensionsRe_ = /:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g; goog.i18n.bidi.leftRe_ = /left/gi, goog.i18n.bidi.rightRe_ = /right/gi, goog.i18n.bidi.tempRe_ = /%%%%/g, goog.i18n.bidi.mirrorCSS = function (e) { return e.replace(goog.i18n.bidi.dimensionsRe_, ":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_, "%%%%").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT) }, goog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\u0591-\u05f2])"/g, goog.i18n.bidi.singleQuoteSubstituteRe_ = /([\u0591-\u05f2])'/g, goog.i18n.bidi.normalizeHebrewQuote = function (e) { return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, "$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, "$1׳") }, goog.i18n.bidi.wordSeparatorRe_ = /\s+/, goog.i18n.bidi.hasNumeralsRe_ = /\d/, goog.i18n.bidi.rtlDetectionThreshold_ = .4, goog.i18n.bidi.estimateDirection = function (e, t) { for (var o = 0, i = 0, s = !1, n = goog.i18n.bidi.stripHtmlIfNeeded_(e, t).split(goog.i18n.bidi.wordSeparatorRe_), r = 0; r < n.length; r++) { var a = n[r]; goog.i18n.bidi.startsWithRtl(a) ? (o++ , i++) : goog.i18n.bidi.isRequiredLtrRe_.test(a) ? s = !0 : goog.i18n.bidi.hasAnyLtr(a) ? i++ : goog.i18n.bidi.hasNumeralsRe_.test(a) && (s = !0) } return 0 == i ? s ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.UNKNOWN : o / i > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR }, goog.i18n.bidi.detectRtlDirectionality = function (e, t) { return goog.i18n.bidi.estimateDirection(e, t) == goog.i18n.bidi.Dir.RTL }, goog.i18n.bidi.setElementDirAndAlign = function (e, t) { e && (t = goog.i18n.bidi.toDir(t)) != goog.i18n.bidi.Dir.UNKNOWN && (e.style.textAlign = t == goog.i18n.bidi.Dir.RTL ? "right" : "left", e.dir = t == goog.i18n.bidi.Dir.RTL ? "rtl" : "ltr") }, goog.i18n.BidiFormatter = function (e, t) { this.contextDir_ = goog.i18n.bidi.toDir(e), this.alwaysSpan_ = !!t }, goog.i18n.BidiFormatter.prototype.getContextDir = function () { return this.contextDir_ }, goog.i18n.BidiFormatter.prototype.getAlwaysSpan = function () { return this.alwaysSpan_ }, goog.i18n.BidiFormatter.prototype.setContextDir = function (e) { this.contextDir_ = goog.i18n.bidi.toDir(e) }, goog.i18n.BidiFormatter.prototype.setAlwaysSpan = function (e) { this.alwaysSpan_ = e }, goog.i18n.BidiFormatter.prototype.estimateDirection = goog.i18n.bidi.estimateDirection, goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_ = function (e, t) { return 0 > e * t }, goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_ = function (e, t, o, i) { return i && (this.areDirectionalitiesOpposite_(t, this.contextDir_) || this.contextDir_ == goog.i18n.bidi.Dir.LTR && goog.i18n.bidi.endsWithRtl(e, o) || this.contextDir_ == goog.i18n.bidi.Dir.RTL && goog.i18n.bidi.endsWithLtr(e, o)) ? this.contextDir_ == goog.i18n.bidi.Dir.LTR ? goog.i18n.bidi.Format.LRM : goog.i18n.bidi.Format.RLM : "" }, goog.i18n.BidiFormatter.prototype.dirAttrValue = function (e, t) { return this.knownDirAttrValue(this.estimateDirection(e, t)) }, goog.i18n.BidiFormatter.prototype.knownDirAttrValue = function (e) { return e == goog.i18n.bidi.Dir.UNKNOWN && (e = this.contextDir_), e == goog.i18n.bidi.Dir.RTL ? "rtl" : "ltr" }, goog.i18n.BidiFormatter.prototype.dirAttr = function (e, t) { return this.knownDirAttr(this.estimateDirection(e, t)) }, goog.i18n.BidiFormatter.prototype.knownDirAttr = function (e) { return e != this.contextDir_ ? e == goog.i18n.bidi.Dir.RTL ? "dir=rtl" : e == goog.i18n.bidi.Dir.LTR ? "dir=ltr" : "" : "" }, goog.i18n.BidiFormatter.prototype.spanWrap = function (e, t, o) { return this.spanWrapWithKnownDir(this.estimateDirection(e, t), e, t, o) }, goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir = function (e, t, o, i) { i = i || null == i; var s = e != goog.i18n.bidi.Dir.UNKNOWN && e != this.contextDir_; return o || (t = goog.string.htmlEscape(t)), o = [], this.alwaysSpan_ || s ? (o.push("<span"), s && o.push(e == goog.i18n.bidi.Dir.RTL ? " dir=rtl" : " dir=ltr"), o.push(">" + t + "</span>")) : o.push(t), o.push(this.dirResetIfNeeded_(t, e, !0, i)), o.join("") }, goog.i18n.BidiFormatter.prototype.unicodeWrap = function (e, t, o) { return this.unicodeWrapWithKnownDir(this.estimateDirection(e, t), e, t, o) }, goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir = function (e, t, o, i) { i = i || null == i; var s = []; return e != goog.i18n.bidi.Dir.UNKNOWN && e != this.contextDir_ ? (s.push(e == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.Format.RLE : goog.i18n.bidi.Format.LRE), s.push(t), s.push(goog.i18n.bidi.Format.PDF)) : s.push(t), s.push(this.dirResetIfNeeded_(t, e, o, i)), s.join("") }, goog.i18n.BidiFormatter.prototype.markAfter = function (e, t) { return this.dirResetIfNeeded_(e, this.estimateDirection(e, t), t, !0) }, goog.i18n.BidiFormatter.prototype.mark = function () { switch (this.contextDir_) { case goog.i18n.bidi.Dir.LTR: return goog.i18n.bidi.Format.LRM; case goog.i18n.bidi.Dir.RTL: return goog.i18n.bidi.Format.RLM; default: return "" } }, goog.i18n.BidiFormatter.prototype.startEdge = function () { return this.contextDir_ == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT }, goog.i18n.BidiFormatter.prototype.endEdge = function () { return this.contextDir_ == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT }; var soy = {}; soy.StringBuilder = goog.string.StringBuffer, soy.renderElement = function (e, t, o) { e.innerHTML = t(o) }, soy.renderAsFragment = function (e, t) { return goog.dom.htmlToDocumentFragment(e(t)) }, soy.$$augmentData = function (e, t) { function o() { } o.prototype = e; var i, s = new o; for (i in t) s[i] = t[i]; return s }, soy.$$escapeHtml = function (e) { return goog.string.htmlEscape("" + e) }, soy.$$escapeJs = function (e) { e = "" + e; for (var t = [], o = 0; o < e.length; o++)t[o] = goog.string.escapeChar(e.charAt(o)); return t.join("") }, soy.$$escapeUri = function (e) { return goog.string.urlEncode("" + e) }, soy.$$insertWordBreaks = function (e, t) { return goog.format.insertWordBreaks("" + e, t) }, soy.$$changeNewlineToBr = function (e) { return goog.string.newLineToBr("" + e, !1) }, soy.$$bidiFormatterCache_ = {}, soy.$$bidiFormatterInstance_ = function (e) { return soy.$$bidiFormatterCache_[e] || (soy.$$bidiFormatterCache_[e] = new goog.i18n.BidiFormatter(e)) }, soy.$$bidiTextDir = function (e, t) { return e ? goog.i18n.bidi.detectRtlDirectionality(e, t) ? -1 : 1 : 0 }, soy.$$bidiDirAttr = function (e, t, o) { return soy.$$bidiFormatterInstance_(e).dirAttr(t, o) }, soy.$$bidiMarkAfter = function (e, t, o) { return soy.$$bidiFormatterInstance_(e).markAfter(t, o) }, soy.$$bidiSpanWrap = function (e, t) { return soy.$$bidiFormatterInstance_(e).spanWrap(t + "", !0) }, soy.$$bidiUnicodeWrap = function (e, t) { return soy.$$bidiFormatterInstance_(e).unicodeWrap(t + "", !0) }, lime.css = {}, lime.css.css = function (e, t) { var o = t || new soy.StringBuilder; if (o.append(".", "lime-director", " {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.", "lime-director", " div, .", "lime-director", " img, .", "lime-director", " canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.", "lime-scene", " {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.", "lime-fps", " {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.", "lime-layer", " {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.", "lime-cover", " {position: absolute; left: 0px; top: 0px;}.", "lime-button", " {cursor: pointer;}"), !t) return o.toString() }, function () { var e = [[], []], t = [[], []]; lime.setObjectDirty = function (o, i, s) { goog.array.insert((s ? t : e)[i || 0], o) }, lime.clearObjectDirty = function () { }, lime.updateDirtyObjects = function () { for (var o, i = 0; 2 > i; i++) { for (; e[i].length;)(o = e[i][0]).update(i), o.dirty_ = 0, o == e[i][0] && e[i].shift(); e[i] = [] } t = [[], []] } }(), lime.Dirty = { POSITION: 1, SCALE: 2, CONTENT: 4, FONT: 8, ALPHA: 16, VISIBILITY: 32, LAYOUT: 64, ROTATION: 128, ALL: 7 }, lime.AutoResize = { NONE: 0, LEFT: 1, WIDTH: 2, RIGHT: 4, TOP: 8, HEIGHT: 16, BOTTOM: 32, ALL: 63 }, lime.Transition = { POSITION: 1, SCALE: 2, SIZE: 3, ROTATION: 4, OPACITY: 5 }, goog.style.installStyles(lime.css.css(null, null)), lime.Node = function () { goog.events.EventTarget.call(this), this.children_ = [], this.parent_ = null, this.transitionsAdd_ = {}, this.transitionsActive_ = {}, this.transitionsActiveSet_ = {}, this.transitionsClear_ = {}, this.allow3DCSSTransform_ = !0, this.inTree_ = !1, this.scene_ = this.director_ = null, this.eventHandlers_ = {}, this.setScale(1), this.setPosition(0, 0), this.setSize(0, 0), this.quality_ = 1, this.setAnchorPoint(.5, .5), this.setRotation(0), this.setAutoResize(lime.AutoResize.NONE), this.opacity_ = 1, this.setMask(null), this.setRenderer(this.supportedRenderers[0].getType()), this.setDirty(lime.Dirty.LAYOUT) }, goog.inherits(lime.Node, goog.events.EventTarget), lime.Node.prototype.supportedRenderers = [lime.Renderer.DOM, lime.Renderer.CANVAS], lime.Node.prototype.setRenderer = function (e) { if (!this.renderer || this.renderer.getType() != e) { for (var t = -1, o = 0; o < this.supportedRenderers.length; o++)if (this.supportedRenderers[o].getType() == e) { t = o; break } if (-1 == t) return this; for (this.renderer = this.supportedRenderers[o], this.setDirty(lime.Dirty.LAYOUT), o = 0; t = this.children_[o]; o++)t.setRenderer(e) } return this }, lime.Node.prototype.needsDomElement = function () { return !(this.parent_ && this.parent_.renderer.getType() == lime.Renderer.CANVAS) }, lime.Node.prototype.getDeepestDomElement = function () { return this.getDeepestParentWithDom().domElement }, lime.Node.prototype.getDeepestParentWithDom = function () { return this.needsDomElement() ? (this.updateDomElement(), this) : this.parent_ ? this.parent_.getDeepestParentWithDom() : null }, lime.Node.prototype.getParentStack_ = function () { if (!this.parent_ || this instanceof lime.Scene) return []; var e = this.parent_.children_.indexOf(this), t = this.parent_.getParentStack_(); return t.push(e), t }, lime.Node.compareNode = function (e, t) { if (e == t) return 0; for (var o = e.getParentStack_(), i = t.getParentStack_(), s = 0; ;) { if (o.length <= s) return 1; if (i.length <= s) return -1; if (o[s] != i[s]) return o[s] > i[s] ? -1 : 1; s++ } }, lime.Node.prototype.customEvent_ = !1, lime.Node.prototype.getDirty = function () { return this.dirty_ }, lime.Node.prototype.setDirty = function (e, t, o) { if (e && !this.dirty_ && lime.setObjectDirty(this, t, o), this.dirty_ |= e, e == lime.Dirty.LAYOUT) for (var i, s = 0; i = this.children_[s]; s++)i instanceof lime.Node && i.setDirty(lime.Dirty.LAYOUT); return goog.isDef(this.dirty_) && e || (this.dirty_ = 0, lime.clearObjectDirty(this, t, o)), e && this.maskTarget_ && (this.mSet = !1, this.maskTarget_.setDirty(-1)), this }, lime.Node.prototype.getScale = function () { return this.scale_ }, lime.Node.prototype.setScale = function (e, t) { return this.scale_ = 1 == arguments.length && goog.isNumber(e) ? new goog.math.Vec2(e, e) : 2 == arguments.length ? new goog.math.Vec2(arguments[0], arguments[1]) : e, this.transitionsActive_[lime.Transition.SCALE] ? this : this.setDirty(lime.Dirty.SCALE) }, lime.Node.prototype.getPosition = function () { return this.position_ }, lime.Node.prototype.setPosition = function (e, t) { return this.position_ = 2 == arguments.length ? new goog.math.Coordinate(arguments[0], arguments[1]) : e, this.transitionsActive_[lime.Transition.POSITION] ? this : this.setDirty(lime.Dirty.POSITION) }, lime.Node.prototype.getMask = function () { return this.mask_ }, lime.Node.prototype.setMask = function (e) { return e == this.mask_ ? this : (this.mask_ && (this.mask_.releaseDependencies(), delete this.mask_.maskTarget_), (this.mask_ = e) && (this.mask_.setupDependencies(), this.mask_.maskTarget_ = this), this.setDirty(lime.Dirty.CONTENT)) }, lime.Node.prototype.getAnchorPoint = function () { return this.anchorPoint_ }, lime.Node.prototype.setAnchorPoint = function (e, t) { return this.anchorPoint_ = 2 == arguments.length ? new goog.math.Vec2(arguments[0], arguments[1]) : e, this.setDirty(lime.Dirty.POSITION) }, lime.Node.prototype.getRotation = function () { return this.rotation_ %= 360 }, lime.Node.prototype.setRotation = function (e) { return this.rotation_ = e, this.transitionsActive_[lime.Transition.ROTATION] ? this : this.setDirty(lime.Dirty.POSITION) }, lime.Node.prototype.getHidden = function () { return this.hidden_ }, lime.Node.prototype.setHidden = function (e) { return this.hidden_ = e, this.setDirty(lime.Dirty.VISIBILITY), this.autoHide_ = 0, this }, lime.Node.prototype.getSize = function () { return this.size_ }, lime.Node.prototype.setSize = function (e, t) { var o, i, s = this.size_; o = 2 == arguments.length ? new goog.math.Size(arguments[0], arguments[1]) : e; var n = this.getAnchorPoint(); if (s && this.children_.length) for (var r = 0; r < this.children_.length; r++) { var a = this.children_[r]; if (a.getAutoResize) { var l = a.getAutoResize(); if (l != lime.AutoResize.NONE) { var g = a.getBoundingBox(); i = s.width; var d = g.left + n.x * s.width, c = g.right - g.left, m = i - g.right - n.x * s.width; l & lime.AutoResize.LEFT && (i -= d), l & lime.AutoResize.WIDTH && (i -= c), l & lime.AutoResize.RIGHT && (i -= m), i != s.width && (i = (o.width - i) / (s.width - i), l & lime.AutoResize.LEFT && (d *= i), l & lime.AutoResize.WIDTH && (c *= i)), i = s.height; m = g.top + n.y * s.height; var p = g.bottom - g.top; g = i - g.bottom - n.y * s.height; l & lime.AutoResize.TOP && (i -= m), l & lime.AutoResize.HEIGHT && (i -= p), l & lime.AutoResize.BOTTOM && (i -= g), i != s.height && (i = (o.height - i) / (s.height - i), l & lime.AutoResize.TOP && (m *= i), l & lime.AutoResize.HEIGHT && (p *= i)), l = a.getAnchorPoint(), a.setSize(c, p), a.setPosition(d + l.x * c - n.x * o.width, m + l.y * p - n.y * o.height) } } } return this.size_ = o, this.setDirty(lime.Dirty.SCALE) }, lime.Node.prototype.getQuality = function () { return this.quality_ }, lime.Node.prototype.setQuality = function (e) { return this.quality_ != e && (this.quality_ = e, this.setDirty(lime.Dirty.SCALE), this.calcRelativeQuality()), this }, lime.Node.prototype.getRelativeQuality = function () { return this.relativeQuality_ || this.calcRelativeQuality(), this.relativeQuality_ }, lime.Node.prototype.calcRelativeQuality = function () { var e = goog.isDef(this.relativeQuality_) ? this.relativeQuality_ : this.quality_; if (this.parent_ && this.parent_.relativeQuality_ && (e = this.quality_ * this.parent_.relativeQuality_), e != this.relativeQuality_) { this.relativeQuality_ = e; var t; for (e = 0; t = this.children_[e]; e++)t instanceof lime.Node && t.calcRelativeQuality(); this.setDirty(lime.Dirty.SCALE) } }, lime.Node.prototype.getAutoResize = function () { return this.autoResize_ }, lime.Node.prototype.setAutoResize = function (e) { return this.autoResize_ = e, this.setDirty(lime.Dirty.ALL) }, lime.Node.prototype.setAllow3DCSSTransforms = function (e) { return this.allow3DCSSTransform_ = e, this }, lime.Node.prototype.getCSS3DTransformsAllowed = function () { return this.allow3DCSSTransform_ }, lime.Node.prototype.screenToLocal = function (e) { return this.inTree_ ? this.parentToLocal(this.getParent().screenToLocal(e)) : e }, lime.Node.prototype.parentToLocal = function (e) { if (!this.getParent()) return null; if (e.x -= this.position_.x, e.y -= this.position_.y, e.x /= this.scale_.x, e.y /= this.scale_.y, 0 != this.rotation_) { var t = e.clone(), o = this.rotation_ * Math.PI / 180, i = Math.cos(o); o = Math.sin(o); e.x = i * t.x - o * t.y, e.y = i * t.y + o * t.x } return e }, lime.Node.prototype.localToScreen = function (e) { return this.inTree_ ? this.getParent().localToScreen(this.localToParent(e)) : e }, lime.Node.prototype.localToParent = function (e) { if (!this.getParent()) return e; var t = e.clone(); if (0 != this.rotation_) { var o = -this.rotation_ * Math.PI / 180, i = Math.cos(o); o = Math.sin(o); t.x = i * e.x - o * e.y, t.y = i * e.y + o * e.x } return t.x *= this.scale_.x, t.y *= this.scale_.y, t.x += this.position_.x, t.y += this.position_.y, t }, lime.Node.prototype.localToNode = function (e, t) { return this.inTree_ ? t.screenToLocal(this.localToScreen(e)) : e }, lime.Node.prototype.getOpacity = function () { return this.opacity_ }, lime.Node.prototype.setOpacity = function (e) { return this.opacity_ = e, e = this.getHidden(), 0 != this.opacity_ || e ? 0 != this.opacity_ && e && this.autoHide_ && this.setHidden(!1) : (this.setHidden(!0), this.autoHide_ = 1), goog.isDef(this.transitionsActive_[lime.Transition.OPACITY]) ? this : (this.setDirty(lime.Dirty.ALPHA), this) }, lime.Node.prototype.createDomElement = function () { var e = this.renderer.getType() == lime.Renderer.CANVAS ? "canvas" : "div", t = function () { this.domElement = this.rootElement = this.containerElement = goog.dom.createDom(e), this.domClassName && goog.dom.classes.add(this.domElement, this.domClassName), this.dirty_ |= -1 }; if (this.domElement) { if (this.domElement.tagName.toLowerCase() != e) { var o = this.rootElement; t.call(this), o.parentNode && o.parentNode.replaceChild(this.rootElement, o) } } else t.call(this) }, lime.Node.prototype.updateDomElement = function () { this.needsDomElement() ? this.createDomElement() : this.removeDomElement() }, lime.Node.prototype.removeDomElement = function () { this.rootElement && (goog.dom.removeNode(this.rootElement), delete this.domElement, delete this.rootElement, delete this.containerElement) }, lime.Node.prototype.updateLayout = function () { if (this.dirty_ &= ~lime.Dirty.LAYOUT, this.updateDomElement(), this.parent_ && this.parent_.dirty_ & lime.Dirty.LAYOUT) this.parent_.updateLayout(); else if (this.needsDomElement()) { for (var e, t = 0; e = this.children_[t]; t++)e instanceof lime.Node && e.updateLayout(); this.renderer.updateLayout.call(this) } }, lime.Node.prototype.update = function (e) { var t, o; e = e || 0; goog.getUid(this), this.dirty_ & lime.Dirty.LAYOUT && this.updateLayout(); var i = this.renderer.getType() == lime.Renderer.DOM || e; if (i) { for (var s in this.transitionsClear_) delete this.transitionsActive_[s], delete this.transitionsActiveSet_[s], t = lime.Node.getPropertyForTransition(parseInt(s, 10)), lime.style.clearTransition(this.domElement, t), this.domElement != this.containerElement && lime.style.clearTransition(this.continerElement, t); for (s in t = 0, this.transitionsAdd_) (o = this.transitionsAdd_[s])[3] || (o[3] = 1, s == lime.Transition.POSITION && this.positionDrawn_ != this.position_ && (this.setDirty(lime.Dirty.POSITION, 0, !0), t = 1), s == lime.Transition.SCALE && this.scaleDrawn_ != this.scale_ && (this.setDirty(lime.Dirty.SCALE, 0, !0), t = 1), s == lime.Transition.OPACITY && this.opacityDrawn_ != this.opacity_ && (this.setDirty(lime.Dirty.ALPHA, 0, !0), t = 1), s == lime.Transition.ROTATION && this.rotationDrawn_ != this.rotation_ && (this.setDirty(lime.Dirty.ROTATION, 0, !0), t = 1)); if (!t) for (s in this.transitionsAdd_) o = this.transitionsAdd_[s], t = lime.Node.getPropertyForTransition(parseInt(s, 10)), this.renderer.getType() != lime.Renderer.DOM && "opacity" == t || (this.transitionsActive_[s] = o[0], lime.style.setTransition(this.domElement, t, o[1], o[2]), this.domElement != this.containerElement && t == lime.style.transformProperty && lime.style.setTransition(this.containerElement, t, o[1], o[2])), delete this.transitionsAdd_[s]; this.positionDrawn_ = this.position_, this.scaleDrawn_ = this.scale_, this.opacityDrawn_ = this.opacity_, this.rotationDrawn_ = this.rotation_, this.transitionsClear_ = {} } if (e ? this.renderer.drawCanvas.call(this) : (this.renderer.getType() == lime.Renderer.CANVAS && ((o = this.getDeepestParentWithDom()).redraw_ = 1, o == this && this.dirty_ == lime.Dirty.POSITION && !this.mask_ && (o.redraw_ = 0), lime.setObjectDirty(this.getDeepestParentWithDom(), 1)), this.renderer.update.call(this)), i) for (s in this.transitionsActive_) this.transitionsActive_[s] && (this.transitionsActiveSet_[s] = !0); if (this.dependencies_) for (s = 0; s < this.dependencies_.length; s++)this.dependencies_[s].setDirty(lime.Dirty.ALL); this.setDirty(0, e) }, lime.Node.getPropertyForTransition = function (e) { return e == lime.Transition.OPACITY ? "opacity" : lime.style.transformProperty }, lime.Node.prototype.getParent = function () { return this.parent_ ? this.parent_ : null }, lime.Node.prototype.appendChild = function (e, t) { return e instanceof lime.Node && e.getParent() ? e.getParent().removeChild(e) : e.parentNode && goog.dom.removeNode(e), e.parent_ = this, null == t ? this.children_.push(e) : goog.array.insertAt(this.children_, e, t), this.renderer.getType() != lime.Renderer.DOM && e.setRenderer(this.renderer.getType()), e instanceof lime.Node && (e.calcRelativeQuality(), this.inTree_ && e.wasAddedToTree()), this.setDirty(lime.Dirty.LAYOUT) }, lime.Node.prototype.getNumberOfChildren = function () { return this.children_.length }, lime.Node.prototype.getChildAt = function (e) { return 0 <= e && this.getNumberOfChildren() > e ? this.children_[e] : null }, lime.Node.prototype.getChildIndex = function (e) { return this.children_.indexOf(e) }, lime.Node.prototype.removeChild = function (e) { return this.removeChildAt(this.getChildIndex(e)) }, lime.Node.prototype.removeChildAt = function (e) { if (0 <= e && this.getNumberOfChildren() > e) { var t = this.getChildAt(e); return t.maskTarget_ && t.maskTarget_.setMask(null), t instanceof lime.Node ? (this.inTree_ && t.wasRemovedFromTree(), t.removeDomElement(), t.parent_ = null) : goog.dom.removeNode(t), this.children_.splice(e, 1), this.setDirty(lime.Dirty.LAYOUT) } return this }, lime.Node.prototype.removeAllChildren = function () { for (; this.getNumberOfChildren();)this.removeChildAt(0); return this }, lime.Node.prototype.setChildIndex = function (e, t) { var o = this.getChildIndex(e); return -1 != o && o != t ? (this.children_.splice(o, 1), goog.array.insertAt(this.children_, e, t), this.getDirector() && this.getDirector().eventDispatcher.updateDispatchOrder(e), this.setDirty(lime.Dirty.LAYOUT)) : this }, lime.Node.prototype.addEventListener = function (e) { lime.userAgent.SUPPORTS_TOUCH && "mouse" == e.substring(0, 5) || (goog.isDef(this.eventHandlers_[e]) || (this.eventHandlers_[e] = [0, 0]), this.inTree_ && 0 == this.eventHandlers_[e][0] && (this.eventHandlers_[e][0] = 1, this.getDirector().eventDispatcher.register(this, e)), this.eventHandlers_[e][1]++) }, lime.Node.prototype.removeEventListener = function (e) { lime.userAgent.SUPPORTS_TOUCH && "mouse" == e.substring(0, 5) || (this.inTree_ && 1 == this.eventHandlers_[e][1] && (this.eventHandlers_[e][0] = 0, this.getDirector().eventDispatcher.release(this, e)), this.eventHandlers_[e][1]-- , this.eventHandlers_[e][1] || delete this.eventHandlers_[e]) }, lime.Node.prototype.getDirector = function () { return this.inTree_ ? this.director_ : null }, lime.Node.prototype.getScene = function () { return this.inTree_ ? this.scene_ : null }, lime.Node.prototype.wasRemovedFromTree = function () { var e; this.dependencySet_ || this.removeDependency(this.getParent()); for (var t = 0; e = this.children_[t]; t++)e instanceof lime.Node && e.wasRemovedFromTree(); for (var o in this.eventHandlers_) this.eventHandlers_[o][0] = 0, this.getDirector(), this.getDirector().eventDispatcher.release(this, o); this.getDirector().eventDispatcher.updateDispatchOrder(this), this.inTree_ = !1, this.scene_ = this.director_ = null }, lime.Node.prototype.wasAddedToTree = function () { this.inTree_ = !0, this.director_ = this.parent_.getDirector(), this.scene_ = this.parent_.getScene(); for (var e, t = 0; e = this.children_[t]; t++)e instanceof lime.Node && e.wasAddedToTree(); for (var o in this.eventHandlers_) this.eventHandlers_[o][0] = 1, this.getDirector().eventDispatcher.register(this, o); this.dependencySet_ && this.setupDependencies(), this.getDirector().eventDispatcher.updateDispatchOrder(this) }, lime.Node.prototype.setupDependencies = function () { this.dependencySet_ = !0, this.inTree_ && this.addDependency(this.getParent()) }, lime.Node.prototype.addDependency = function (e) { e.dependencies_ || (e.dependencies_ = []), goog.array.insert(e.dependencies_, this), !e && !(e.getParent() instanceof lime.Scene) && this.addDependency(e.getParent()) }, lime.Node.prototype.removeDependency = function (e) { e && e.dependencies_ && (goog.array.remove(e.dependencies_, this), this.removeDependency(e.getParent())) }, lime.Node.prototype.releaseDependencies = function () { delete this.dependencySet_, this.removeDependency(this.getParent()) }, lime.Node.prototype.getFrame = function () { var e = this.getSize(), t = this.getAnchorPoint(); return new goog.math.Box(-e.height * t.y, e.width * (1 - t.x), e.height * (1 - t.y), -e.width * t.x) }, lime.Node.prototype.getBoundingBox = function (e) { var t = e || this.getFrame(), o = (e = new goog.math.Coordinate(t.left, t.top), new goog.math.Coordinate(t.right, t.top)), i = new goog.math.Coordinate(t.left, t.bottom); t = new goog.math.Coordinate(t.right, t.bottom), e = this.localToParent(e), o = this.localToParent(o), i = this.localToParent(i), t = this.localToParent(t); return new goog.math.Box(Math.floor(Math.min(e.y, o.y, i.y, t.y)), Math.ceil(Math.max(e.x, o.x, i.x, t.x)), Math.ceil(Math.max(e.y, o.y, i.y, t.y)), Math.floor(Math.min(e.x, o.x, i.x, t.x))) }, lime.Node.prototype.measureContents = function () { var e = this.getFrame(); e.left == e.right && this.children_.length && (e = this.children_[0].getBoundingBox(this.children_[0].measureContents())); for (var t, o = 0; t = this.children_[o]; o++)1 != t.isMask && e.expandToInclude(t.getBoundingBox(t.measureContents())); return e }, lime.Node.prototype.addTransition = function (e, t, o, i) { this.transitionsAdd_[e] = [t, o, i, 0] }, lime.Node.prototype.clearTransition = function (e) { this.transitionsClear_[e] = 1 }, lime.Node.prototype.hitTest = function (e) { var t = this.screenToLocal(e.screenPosition); return !!this.getFrame().contains(t) && (e.position = t, !0) }, lime.Node.prototype.runAction = function (e) { e.addTarget(this), e.play() }, lime.Layer = function () { lime.Node.call(this), this.domClassName = "lime-layer" }, goog.inherits(lime.Layer, lime.Node), lime.Layer.prototype.hitTest = function (e) { for (var t, o = 0; t = this.children_[o]; o++)if (t.hitTest(e)) return e.position = this.screenToLocal(e.screenPosition), !0; return !1 }, goog.color = {}, goog.color.names = { aliceblue: "#f0f8ff", antiquewhite: "#faebd7", aqua: "#00ffff", aquamarine: "#7fffd4", azure: "#f0ffff", beige: "#f5f5dc", bisque: "#ffe4c4", black: "#000000", blanchedalmond: "#ffebcd", blue: "#0000ff", blueviolet: "#8a2be2", brown: "#a52a2a", burlywood: "#deb887", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", darkkhaki: "#bdb76b", darkmagenta: "#8b008b", darkolivegreen: "#556b2f", darkorange: "#ff8c00", darkorchid: "#9932cc", darkred: "#8b0000", darksalmon: "#e9967a", darkseagreen: "#8fbc8f", darkslateblue: "#483d8b", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", darkturquoise: "#00ced1", darkviolet: "#9400d3", deeppink: "#ff1493", deepskyblue: "#00bfff", dimgray: "#696969", dimgrey: "#696969", dodgerblue: "#1e90ff", firebrick: "#b22222", floralwhite: "#fffaf0", forestgreen: "#228b22", fuchsia: "#ff00ff", gainsboro: "#dcdcdc", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gray: "#808080", green: "#008000", greenyellow: "#adff2f", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", indianred: "#cd5c5c", indigo: "#4b0082", ivory: "#fffff0", khaki: "#f0e68c", lavender: "#e6e6fa", lavenderblush: "#fff0f5", lawngreen: "#7cfc00", lemonchiffon: "#fffacd", lightblue: "#add8e6", lightcoral: "#f08080", lightcyan: "#e0ffff", lightgoldenrodyellow: "#fafad2", lightgray: "#d3d3d3", lightgreen: "#90ee90", lightgrey: "#d3d3d3", lightpink: "#ffb6c1", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", lightskyblue: "#87cefa", lightslategray: "#778899", lightslategrey: "#778899", lightsteelblue: "#b0c4de", lightyellow: "#ffffe0", lime: "#00ff00", limegreen: "#32cd32", linen: "#faf0e6", magenta: "#ff00ff", maroon: "#800000", mediumaquamarine: "#66cdaa", mediumblue: "#0000cd", mediumorchid: "#ba55d3", mediumpurple: "#9370d8", mediumseagreen: "#3cb371", mediumslateblue: "#7b68ee", mediumspringgreen: "#00fa9a", mediumturquoise: "#48d1cc", mediumvioletred: "#c71585", midnightblue: "#191970", mintcream: "#f5fffa", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", navajowhite: "#ffdead", navy: "#000080", oldlace: "#fdf5e6", olive: "#808000", olivedrab: "#6b8e23", orange: "#ffa500", orangered: "#ff4500", orchid: "#da70d6", palegoldenrod: "#eee8aa", palegreen: "#98fb98", paleturquoise: "#afeeee", palevioletred: "#d87093", papayawhip: "#ffefd5", peachpuff: "#ffdab9", peru: "#cd853f", pink: "#ffc0cb", plum: "#dda0dd", powderblue: "#b0e0e6", purple: "#800080", red: "#ff0000", rosybrown: "#bc8f8f", royalblue: "#4169e1", saddlebrown: "#8b4513", salmon: "#fa8072", sandybrown: "#f4a460", seagreen: "#2e8b57", seashell: "#fff5ee", sienna: "#a0522d", silver: "#c0c0c0", skyblue: "#87ceeb", slateblue: "#6a5acd", slategray: "#708090", slategrey: "#708090", snow: "#fffafa", springgreen: "#00ff7f", steelblue: "#4682b4", tan: "#d2b48c", teal: "#008080", thistle: "#d8bfd8", tomato: "#ff6347", turquoise: "#40e0d0", violet: "#ee82ee", wheat: "#f5deb3", white: "#ffffff", whitesmoke: "#f5f5f5", yellow: "#ffff00", yellowgreen: "#9acd32" }, goog.color.parse = function (e) { var t = {}, o = (e = "" + e, goog.color.prependHashIfNecessaryHelper(e)); if (goog.color.isValidHexColor_(o)) return t.hex = goog.color.normalizeHex(o), t.type = "hex", t; if ((o = goog.color.isValidRgbColor_(e)).length) return t.hex = goog.color.rgbArrayToHex(o), t.type = "rgb", t; if (goog.color.names && (o = goog.color.names[e.toLowerCase()])) return t.hex = o, t.type = "named", t; throw Error(e + " is not a valid color string") }, goog.color.isValidColor = function (e) { var t = goog.color.prependHashIfNecessaryHelper(e); return !(!goog.color.isValidHexColor_(t) && !(goog.color.isValidRgbColor_(e).length || goog.color.names && goog.color.names[e.toLowerCase()])) }, goog.color.parseRgb = function (e) { var t = goog.color.isValidRgbColor_(e); if (!t.length) throw Error(e + " is not a valid RGB color"); return t }, goog.color.hexToRgbStyle = function (e) { return goog.color.rgbStyle_(goog.color.hexToRgb(e)) }, goog.color.hexTripletRe_ = /#(.)(.)(.)/, goog.color.normalizeHex = function (e) { if (!goog.color.isValidHexColor_(e)) throw Error("'" + e + "' is not a valid hex color"); return 4 == e.length && (e = e.replace(goog.color.hexTripletRe_, "#$1$1$2$2$3$3")), e.toLowerCase() }, goog.color.hexToRgb = function (e) { e = goog.color.normalizeHex(e); return [parseInt(e.substr(1, 2), 16), parseInt(e.substr(3, 2), 16), e = parseInt(e.substr(5, 2), 16)] }, goog.color.rgbToHex = function (e, t, o) { if (e = Number(e), t = Number(t), o = Number(o), isNaN(e) || 0 > e || 255 < e || isNaN(t) || 0 > t || 255 < t || isNaN(o) || 0 > o || 255 < o) throw Error('"(' + e + "," + t + "," + o + '") is not a valid RGB color'); return "#" + (e = goog.color.prependZeroIfNecessaryHelper(e.toString(16))) + (t = goog.color.prependZeroIfNecessaryHelper(t.toString(16))) + (o = goog.color.prependZeroIfNecessaryHelper(o.toString(16))) }, goog.color.rgbArrayToHex = function (e) { return goog.color.rgbToHex(e[0], e[1], e[2]) }, goog.color.rgbToHsl = function (e, t, o) { e /= 255, t /= 255, o /= 255; var i = Math.max(e, t, o), s = Math.min(e, t, o), n = 0, r = 0, a = .5 * (i + s); return i != s && (i == e ? n = 60 * (t - o) / (i - s) : i == t ? n = 60 * (o - e) / (i - s) + 120 : i == o && (n = 60 * (e - t) / (i - s) + 240), r = 0 < a && .5 >= a ? (i - s) / (2 * a) : (i - s) / (2 - 2 * a)), [Math.round(n + 360) % 360, r, a] }, goog.color.rgbArrayToHsl = function (e) { return goog.color.rgbToHsl(e[0], e[1], e[2]) }, goog.color.hueToRgb_ = function (e, t, o) { return 0 > o ? o += 1 : 1 < o && (o -= 1), 1 > 6 * o ? e + 6 * (t - e) * o : 1 > 2 * o ? t : 2 > 3 * o ? e + 6 * (t - e) * (2 / 3 - o) : e }, goog.color.hslToRgb = function (e, t, o) { var i = 0, s = 0, n = 0; e /= 360; if (0 == t) i = s = n = 255 * o; else { var r = n = 0; n = 2 * o - (r = .5 > o ? o * (1 + t) : o + t - t * o), i = 255 * goog.color.hueToRgb_(n, r, e + 1 / 3), s = 255 * goog.color.hueToRgb_(n, r, e), n = 255 * goog.color.hueToRgb_(n, r, e - 1 / 3) } return [Math.round(i), Math.round(s), Math.round(n)] }, goog.color.hslArrayToRgb = function (e) { return goog.color.hslToRgb(e[0], e[1], e[2]) }, goog.color.validHexColorRe_ = /^#(?:[0-9a-f]{3}){1,2}$/i, goog.color.isValidHexColor_ = function (e) { return goog.color.validHexColorRe_.test(e) }, goog.color.normalizedHexColorRe_ = /^#[0-9a-f]{6}$/, goog.color.isNormalizedHexColor_ = function (e) { return goog.color.normalizedHexColorRe_.test(e) }, goog.color.rgbColorRe_ = /^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i, goog.color.isValidRgbColor_ = function (e) { if (o = e.match(goog.color.rgbColorRe_)) { e = Number(o[1]); var t = Number(o[2]), o = Number(o[3]); if (0 <= e && 255 >= e && 0 <= t && 255 >= t && 0 <= o && 255 >= o) return [e, t, o] } return [] }, goog.color.prependZeroIfNecessaryHelper = function (e) { return 1 == e.length ? "0" + e : e }, goog.color.prependHashIfNecessaryHelper = function (e) { return "#" == e.charAt(0) ? e : "#" + e }, goog.color.rgbStyle_ = function (e) { return "rgb(" + e.join(",") + ")" }, goog.color.hsvToRgb = function (e, t, o) { var i = 0, s = 0, n = 0; if (0 == t) n = s = i = o; else { var r = Math.floor(e / 60), a = e / 60 - r, l = (e = o * (1 - t), o * (1 - t * a)); t = o * (1 - t * (1 - a)); switch (r) { case 1: i = l, s = o, n = e; break; case 2: i = e, s = o, n = t; break; case 3: i = e, s = l, n = o; break; case 4: i = t, s = e, n = o; break; case 5: i = o, s = e, n = l; break; case 6: case 0: i = o, s = t, n = e } } return [Math.floor(i), Math.floor(s), Math.floor(n)] }, goog.color.rgbToHsv = function (e, t, o) { var i = Math.max(Math.max(e, t), o); if ((n = Math.min(Math.min(e, t), o)) == i) n = e = 0; else { var s = i - n, n = s / i; 0 > (e = 60 * (e == i ? (t - o) / s : t == i ? 2 + (o - e) / s : 4 + (e - t) / s)) && (e += 360), 360 < e && (e -= 360) } return [e, n, i] }, goog.color.rgbArrayToHsv = function (e) { return goog.color.rgbToHsv(e[0], e[1], e[2]) }, goog.color.hsvArrayToRgb = function (e) { return goog.color.hsvToRgb(e[0], e[1], e[2]) }, goog.color.hexToHsl = function (e) { return e = goog.color.hexToRgb(e), goog.color.rgbToHsl(e[0], e[1], e[2]) }, goog.color.hslToHex = function (e, t, o) { return goog.color.rgbArrayToHex(goog.color.hslToRgb(e, t, o)) }, goog.color.hslArrayToHex = function (e) { return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0], e[1], e[2])) }, goog.color.hexToHsv = function (e) { return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e)) }, goog.color.hsvToHex = function (e, t, o) { return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e, t, o)) }, goog.color.hsvArrayToHex = function (e) { return goog.color.hsvToHex(e[0], e[1], e[2]) }, goog.color.hslDistance = function (e, t) { var o, i; return o = .5 >= e[2] ? e[1] * e[2] : e[1] * (1 - e[2]), i = .5 >= t[2] ? t[1] * t[2] : t[1] * (1 - t[2]), (e[2] - t[2]) * (e[2] - t[2]) + o * o + i * i - 2 * o * i * Math.cos(2 * (e[0] / 360 - t[0] / 360) * Math.PI) }, goog.color.blend = function (e, t, o) { return o = goog.math.clamp(o, 0, 1), [Math.round(o * e[0] + (1 - o) * t[0]), Math.round(o * e[1] + (1 - o) * t[1]), Math.round(o * e[2] + (1 - o) * t[2])] }, goog.color.darken = function (e, t) { return goog.color.blend([0, 0, 0], e, t) }, goog.color.lighten = function (e, t) { return goog.color.blend([255, 255, 255], e, t) }, goog.color.highContrast = function (e, t) { for (var o = [], i = 0; i < t.length; i++)o.push({ color: t[i], diff: goog.color.yiqBrightnessDiff_(t[i], e) + goog.color.colorDiff_(t[i], e) }); return o.sort(function (e, t) { return t.diff - e.diff }), o[0].color }, goog.color.yiqBrightness_ = function (e) { return Math.round((299 * e[0] + 587 * e[1] + 114 * e[2]) / 1e3) }, goog.color.yiqBrightnessDiff_ = function (e, t) { return Math.abs(goog.color.yiqBrightness_(e) - goog.color.yiqBrightness_(t)) }, goog.color.colorDiff_ = function (e, t) { return Math.abs(e[0] - t[0]) + Math.abs(e[1] - t[1]) + Math.abs(e[2] - t[2]) }, lime.fill = {}, lime.fill.Fill = function () { goog.events.EventTarget.call(this) }, goog.inherits(lime.fill.Fill, goog.events.EventTarget), lime.fill.Fill.prototype.initForSprite = goog.nullFunction, lime.fill.parse = function (e) { return e[0] instanceof lime.fill.Fill ? e[0] : (goog.isArray(e) || (e = goog.array.toArray(arguments)), 2 < e.length ? new lime.fill.Color(e) : !goog.isString(e[0]) || "rgb(" != e[0].substring(0, 4) && "rgba(" != e[0].substring(0, 5) && "#" != e[0].substring(0, 1) ? new lime.fill.Image(e[0]) : new lime.fill.Color(e[0])) }, lime.fill.Fill.prototype.setDOMStyle = goog.nullFunction, lime.fill.Fill.prototype.setCanvasStyle = goog.nullFunction, goog.color.alpha = {}, goog.color.alpha.parse = function (e) { var t = {}, o = (e = "" + e, goog.color.prependHashIfNecessaryHelper(e)); if (goog.color.alpha.isValidAlphaHexColor_(o)) return t.hex = goog.color.alpha.normalizeAlphaHex_(o), t.type = "hex", t; if ((o = goog.color.alpha.isValidRgbaColor_(e)).length) return t.hex = goog.color.alpha.rgbaArrayToHex(o), t.type = "rgba", t; if ((o = goog.color.alpha.isValidHslaColor_(e)).length) return t.hex = goog.color.alpha.hslaArrayToHex(o), t.type = "hsla", t; throw Error(e + " is not a valid color string") }, goog.color.alpha.hexToRgbaStyle = function (e) { return goog.color.alpha.rgbaStyle_(goog.color.alpha.hexToRgba(e)) }, goog.color.alpha.extractHexColor = function (e) { if (goog.color.alpha.isValidAlphaHexColor_(e)) return e = goog.color.prependHashIfNecessaryHelper(e), goog.color.alpha.normalizeAlphaHex_(e).substring(0, 7); throw Error(e + " is not a valid 8-hex color string") }, goog.color.alpha.extractAlpha = function (e) { if (goog.color.alpha.isValidAlphaHexColor_(e)) return e = goog.color.prependHashIfNecessaryHelper(e), goog.color.alpha.normalizeAlphaHex_(e).substring(7, 9); throw Error(e + " is not a valid 8-hex color string") }, goog.color.alpha.hexQuadrupletRe_ = /#(.)(.)(.)(.)/, goog.color.alpha.normalizeAlphaHex_ = function (e) { if (!goog.color.alpha.isValidAlphaHexColor_(e)) throw Error("'" + e + "' is not a valid alpha hex color"); return 5 == e.length && (e = e.replace(goog.color.alpha.hexQuadrupletRe_, "#$1$1$2$2$3$3$4$4")), e.toLowerCase() }, goog.color.alpha.hexToRgba = function (e) { e = goog.color.alpha.normalizeAlphaHex_(e); return [parseInt(e.substr(1, 2), 16), parseInt(e.substr(3, 2), 16), parseInt(e.substr(5, 2), 16), (e = parseInt(e.substr(7, 2), 16)) / 255] }, goog.color.alpha.rgbaToHex = function (e, t, o, i) { var s = Math.floor(255 * i); if (isNaN(s) || 0 > s || 255 < s) throw Error('"(' + e + "," + t + "," + o + "," + i + '") is not a valid RGBA color'); return i = goog.color.prependZeroIfNecessaryHelper(s.toString(16)), goog.color.rgbToHex(e, t, o) + i }, goog.color.alpha.hslaToHex = function (e, t, o, i) { var s = Math.floor(255 * i); if (isNaN(s) || 0 > s || 255 < s) throw Error('"(' + e + "," + t + "," + o + "," + i + '") is not a valid HSLA color'); return i = goog.color.prependZeroIfNecessaryHelper(s.toString(16)), goog.color.hslToHex(e, t / 100, o / 100) + i }, goog.color.alpha.rgbaArrayToHex = function (e) { return goog.color.alpha.rgbaToHex(e[0], e[1], e[2], e[3]) }, goog.color.alpha.rgbaToRgbaStyle = function (e, t, o, i) { if (isNaN(e) || 0 > e || 255 < e || isNaN(t) || 0 > t || 255 < t || isNaN(o) || 0 > o || 255 < o || isNaN(i) || 0 > i || 1 < i) throw Error('"(' + e + "," + t + "," + o + "," + i + ')" is not a valid RGBA color'); return goog.color.alpha.rgbaStyle_([e, t, o, i]) }, goog.color.alpha.rgbaArrayToRgbaStyle = function (e) { return goog.color.alpha.rgbaToRgbaStyle(e[0], e[1], e[2], e[3]) }, goog.color.alpha.hslaArrayToHex = function (e) { return goog.color.alpha.hslaToHex(e[0], e[1], e[2], e[3]) }, goog.color.alpha.hslaArrayToRgbaStyle = function (e) { return goog.color.alpha.hslaToRgbaStyle(e[0], e[1], e[2], e[3]) }, goog.color.alpha.hslaToRgbaStyle = function (e, t, o, i) { return goog.color.alpha.rgbaStyle_(goog.color.alpha.hslaToRgba(e, t, o, i)) }, goog.color.alpha.hslaToRgba = function (e, t, o, i) { return goog.color.hslToRgb(e, t / 100, o / 100).concat(i) }, goog.color.alpha.rgbaToHsla = function (e, t, o, i) { return goog.color.rgbToHsl(e, t, o).concat(i) }, goog.color.alpha.rgbaArrayToHsla = function (e) { return goog.color.alpha.rgbaToHsla(e[0], e[1], e[2], e[3]) }, goog.color.alpha.validAlphaHexColorRe_ = /^#(?:[0-9a-f]{4}){1,2}$/i, goog.color.alpha.isValidAlphaHexColor_ = function (e) { return goog.color.alpha.validAlphaHexColorRe_.test(e) }, goog.color.alpha.normalizedAlphaHexColorRe_ = /^#[0-9a-f]{8}$/, goog.color.alpha.isNormalizedAlphaHexColor_ = function (e) { return goog.color.alpha.normalizedAlphaHexColorRe_.test(e) }, goog.color.alpha.rgbaColorRe_ = /^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i, goog.color.alpha.hslaColorRe_ = /^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i, goog.color.alpha.isValidRgbaColor_ = function (e) { if (i = e.match(goog.color.alpha.rgbaColorRe_)) { e = Number(i[1]); var t = Number(i[2]), o = Number(i[3]), i = Number(i[4]); if (0 <= e && 255 >= e && 0 <= t && 255 >= t && 0 <= o && 255 >= o && 0 <= i && 1 >= i) return [e, t, o, i] } return [] }, goog.color.alpha.isValidHslaColor_ = function (e) { if (i = e.match(goog.color.alpha.hslaColorRe_)) { e = Number(i[1]); var t = Number(i[2]), o = Number(i[3]), i = Number(i[4]); if (0 <= e && 360 >= e && 0 <= t && 100 >= t && 0 <= o && 100 >= o && 0 <= i && 1 >= i) return [e, t, o, i] } return [] }, goog.color.alpha.rgbaStyle_ = function (e) { return "rgba(" + e.join(",") + ")" }, goog.color.alpha.hsvaToHex = function (e, t, o, i) { return i = Math.floor(255 * i), goog.color.hsvArrayToHex([e, t, o]) + goog.color.prependZeroIfNecessaryHelper(i.toString(16)) }, goog.color.alpha.hsvaArrayToHex = function (e) { return goog.color.alpha.hsvaToHex(e[0], e[1], e[2], e[3]) }, lime.fill.Color = function (e) { lime.fill.Fill.call(this), this.a = 1, this.setColor(e) }, goog.inherits(lime.fill.Color, lime.fill.Fill), lime.fill.Color.prototype.id = "color", lime.fill.Color.prototype.getRgba = function () { var e = null; if (goog.isNumber(this.r) && goog.isNumber(this.g) && goog.isNumber(this.b)) e = [this.r, this.g, this.b, this.a]; else if (goog.isString(this.str)) { var t = goog.color.parse(this.str); "named" != t.type && (e = goog.color.hexToRgb(t.hex)), e.push(1) } return e }, lime.fill.Color.prototype.addBrightness = function (e) { return this.modifyColor(2, e) }, lime.fill.Color.prototype.modifyColor = function (e, t) { var o = t || .1, i = this.getRgba(); return i ? (i.pop(), (i = goog.color.rgbArrayToHsl(i))[e] += o, 1 < i[e] && (i[e] = 1), (i = goog.color.hslArrayToRgb(i)).push(this.a), this.setColor(i)) : this }, lime.fill.Color.prototype.addSaturation = function (e) { return this.modifyColor(1, e) }, lime.fill.Color.prototype.setColor = function (e) { var t = e; return goog.isString(e) ? (this.str = e, this) : (2 < arguments.length && (t = arguments), 3 <= t.length && (this.r = t[0], this.g = t[1], this.b = t[2]), 4 == t.length && (this.a = t[3]), this.str = 1 == this.a ? "rgb(" + this.r + "," + this.g + "," + this.b + ")" : "rgba(" + this.r + "," + this.g + "," + this.b + "," + this.a + ")", this) }, lime.fill.Color.prototype.setDOMStyle = function (e) { e.style.background = this.str }, lime.fill.Color.prototype.setCanvasStyle = function (e) { e.fillStyle = this.str }, lime.fill.Color.prototype.clone = function () { var e = new lime.fill.Color(""); return e.r = this.r, e.g = this.g, e.b = this.b, e.a = this.a, e.str = this.str, e }, lime.fill.Stroke = function (e, t) { lime.fill.Fill.call(this); var o = goog.isArray(e) ? e : goog.array.toArray(arguments); this.width_ = o[0] || 1, o.shift(), this.setColor.apply(this, o) }, goog.inherits(lime.fill.Stroke, lime.fill.Fill), lime.fill.Stroke.prototype.id = "stroke", lime.fill.Stroke.prototype.setDOMStyle = function (e) { e.style.border = this.width_ + "px solid " + this.color_.str }, lime.fill.Stroke.prototype.setCanvasStyle = function (e) { e.strokeStyle = this.color_.str, e.lineWidth = this.width_ }, lime.fill.Stroke.prototype.getWidth = function () { return this.width_ }, lime.fill.Stroke.prototype.setWidth = function (e) { return this.width_ = e, this }, lime.fill.Stroke.prototype.getColor = function () { return this.color_ }, lime.fill.Stroke.prototype.setColor = function (e) { var t = goog.array.toArray(arguments); return t[0] instanceof lime.fill.Color ? this.color_ = t[0] : (this.color_ = new lime.fill.Color("#000"), t.length && this.color_.setColor.apply(this.color_, t)), this }, lime.fill.Stroke.prototype.clone = function () { var e = new lime.fill.Stroke; return e.width_ = this.width_, e.color_ = this.color_, e }, lime.fill.Image = function (e) { lime.fill.Fill.call(this), e && goog.isFunction(e.data) && (e = e.data()), goog.isString(e) ? (this.url_ = e, 50 < this.url_.length && (this.url_ = this.url_.substr(-50)), lime.fill.Image.loadedImages_[this.url_] ? this.image_ = lime.fill.Image.loadedImages_[this.url_] : (this.image_ = new Image, this.image_.src = e)) : (this.url_ = e.src, 50 < this.url_.length && (this.url_ = this.url_.substr(-50)), this.image_ = lime.fill.Image.loadedImages_[this.url_] ? lime.fill.Image.loadedImages_[this.url_] : e), this.isLoaded() || this.addLoadHandler_(), lime.fill.Image.loadedImages_[this.url_] = this.image_ }, goog.inherits(lime.fill.Image, lime.fill.Fill), lime.fill.Image.loadedImages_ = {}, lime.fill.Image.prototype.id = "image", lime.fill.Image.prototype.initForSprite = function (e) { var t = e.getSize(), o = this; !t.width && !t.height && (this.isLoaded() ? e.setSize(this.image_.width, this.image_.height) : goog.events.listen(this, goog.events.EventType.LOAD, function () { var e = this.getSize(); !e.width && !e.height && this.setSize(o.image_.width, o.image_.height) }, !1, e)), this.isLoaded() || goog.events.listen(this, goog.events.EventType.LOAD, function () { e.setDirty(lime.Dirty.CONTENT) }, !1, this) }, lime.fill.Image.prototype.addLoadHandler_ = function () { goog.events.listen(this.image_, goog.events.EventType.LOAD, this.imageLoadedHandler_, !1, this) }, lime.fill.Image.prototype.imageLoadedHandler_ = function (e) { this.dispatchEvent(e) }, lime.fill.Image.prototype.getImageElement = function () { return this.image_ }, lime.fill.Image.prototype.isLoaded = function () { return !(!this.image_ || !this.image_.width || !this.image_.height) }, lime.fill.Image.prototype.setSize = function (e, t, o) { return goog.isNumber(e) && (e = new goog.math.Size(e, t), t = o || !1), this.size_ = e, this.size_perc_ = t, this }, lime.fill.Image.prototype.setOffset = function (e, t, o) { return goog.isNumber(e) && (e = new goog.math.Coordinate(e, t), t = o || !1), this.offset_ = e, this.offset_perc_ = t, this }, lime.fill.Image.prototype.getPixelSizeAndOffset = function (e) { e = e.getSize().clone(), this.size_ && (this.size_perc_ ? (e.width *= this.size_.width, e.height *= this.size_.height) : e = this.size_); var t = new goog.math.Coordinate(0, 0); return this.offset_ && (this.offset_perc_ ? (t.x = e.width * this.offset_.x, t.y = e.height * this.offset_.y) : t = this.offset_), [e, t] }, lime.fill.Image.prototype.setDOMBackgroundProp_ = function (e, t) { var o = (i = this.getPixelSizeAndOffset(t))[0], i = i[1], s = t.getRelativeQuality(); e.style[lime.style.getCSSproperty("BackgroundSize")] = o.width * s + "px " + o.height * s + "px", o = t.stroke_ ? t.stroke_.width_ : 0, e.style.backgroundPosition = i.x * s - o + "px " + (i.y * s - o) + "px", this.qualityRenderer && (e.style.imageRendering = "optimizeQuality") }, lime.fill.Image.prototype.setDOMStyle = function (e, t) { e.style.background = "url(" + this.image_.src + ")", this.setDOMBackgroundProp_(e, t) }, lime.fill.Image.prototype.setCanvasStyle = function (e, t) { var o = t.getSize(), i = t.getFrame(); if (o.width && o.height) try { var s = this.getImageElement(), n = this.getPixelSizeAndOffset(t), r = n[0], a = n[1], l = e.createPattern(s, "repeat"), g = r.width / s.width, d = r.height / s.height; e.save(), e.translate(i.left + a.x, i.top + a.y), e.scale(g, d), e.fillStyle = l, e.fillRect(-a.x / g, -a.y / d, o.width / g, o.height / d), e.restore() } catch (e) { } }, lime.Renderer.CANVAS.SPRITE = {}, lime.Renderer.DOM.SPRITE = {}, lime.Sprite = function () { lime.Node.call(this), this.stroke_ = this.fill_ = null }, goog.inherits(lime.Sprite, lime.Node), lime.Sprite.prototype.id = "sprite", lime.Sprite.prototype.supportedRenderers = [lime.Renderer.DOM.makeSubRenderer(lime.Renderer.DOM.SPRITE), lime.Renderer.CANVAS.makeSubRenderer(lime.Renderer.CANVAS.SPRITE)], lime.Sprite.prototype.getFill = function () { return this.fill_ }, lime.Sprite.prototype.setFill = function (e, t, o, i) { return this.fill_ = lime.fill.parse(goog.array.toArray(arguments)), this.fill_.initForSprite(this), this.setDirty(lime.Dirty.CONTENT), this }, lime.Sprite.prototype.getStroke = function () { return this.stroke_ }, lime.Sprite.prototype.setStroke = function (e) { return e && !(e instanceof lime.fill.Stroke) && (e = new lime.fill.Stroke(goog.array.toArray(arguments))), this.stroke_ = e, this.setDirty(lime.Dirty.CONTENT), this }, lime.Sprite.prototype.getCanvasContextName_ = function () { var e = 0; return function () { return goog.isDef(this.canvasContextName_) || (this.canvasContextName_ = "limedc" + e++), this.canvasContextName_ } }(), lime.Renderer.DOM.SPRITE.draw = function (e) { goog.isNull(this.fill_) || this.fill_.setDOMStyle(e, this), goog.isNull(this.stroke_) ? goog.style.setStyle(e, "border-width", 0) : this.stroke_.setDOMStyle(e, this) }, lime.Renderer.CANVAS.SPRITE.draw = function (e) { var t = this.getSize(), o = this.fill_, i = this.stroke_; if (o || i) { var s = this.getFrame(); o && (o.setCanvasStyle(e, this), "image" != o.id && "frame" != o.id && e.fillRect(s.left, s.top, t.width, t.height)), i && (i.setCanvasStyle(e, this), "sprite" == this.id || "label" == this.id) && (o = i.width_ / 2, e.strokeRect(s.left + o, s.top + o, t.width - 2 * o, t.height - 2 * o)) } }, lime.Node.prototype.getPosition = function () { return this.position_ }, lime.Node.prototype.localToScreen = function (e) { return this.inTree_ ? this.getParent().localToScreen(this.localToParent(e)) : e }, goog.provide("lime.audio.Audio"), goog.require("goog.events"), goog.require("goog.events.EventTarget"), goog.require("lime.userAgent"), goog.require("lime.animation.Animation"), goog.require("lime.animation.Spawn"), goog.require("lime.animation.FadeTo"), goog.require("lime.animation.ScaleTo"), goog.require("lime.animation.MoveTo"), goog.require("lime.Sprite"), lime.audio.Audio = function (e) { goog.events.EventTarget.call(this), e && goog.isFunction(e.data) && (e = e.data()), this.loaded_ = !1, this.playing_ = !1, lime.audio.AudioContext ? (this.volume_ = 1, this.prepareContext_(), this.loadBuffer(e, goog.bind(this.bufferLoadedHandler_, this))) : (this.baseElement = document.createElement("audio"), this.baseElement.preload = !0, this.baseElement.loop = !1, this.baseElement.src = e, this.baseElement.load(), this.baseElement.addEventListener("ended", goog.bind(this.onEnded_, this)), this.loadInterval = setInterval(goog.bind(this.loadHandler_, this), 10), this.loaded_ = !1) }, goog.inherits(lime.audio.Audio, goog.events.EventTarget), lime.audio.AudioContext = goog.global.AudioContext || goog.global.webkitAudioContext, lime.audio._buffers = {}, lime.audio.supportsMultiChannel = lime.audio.AudioContext || !(lime.userAgent.IOS || lime.userAgent.WINPHONE), lime.audio.Audio.prototype.prepareContext_ = function () { if (!lime.audio.context) { var e = lime.audio.context = new lime.audio.AudioContext; (lime.audio.masterGain = e.createGain()).connect(e.destination) } }, lime.audio.Audio.prototype.loadBuffer = function (e, t) { var o = lime.audio._buffers; if (o[e] && o[e].buffer) t(o[e].buffer, e); else if (o[e]) o[e].push(t); else { o[e] = [t]; var i = new XMLHttpRequest; i.open("GET", e, !0), i.responseType = "arraybuffer", i.onload = function () { lime.audio.context.decodeAudioData(i.response, function (t) { if (!t) return console.error("Error decoding file:", e); var i = o[e]; o[e] = { buffer: t }; for (var s = 0; s < i.length; s++)i[s](t, e) }, function (e) { console.error("Error decoding file", e) }) }, i.onerror = function () { console.error("XHR error loading file:", e) }, i.send() } }, lime.audio.Audio.prototype.bufferLoadedHandler_ = function (e, t) { this.buffer = e, this.loaded_ = !0; var o = new goog.events.Event("loaded"); o.event = null, this.dispatchEvent(o), this.autoplay_ && this.play.apply(this, this.autoplay_) }, lime.audio.Audio.prototype.onEnded_ = function (e) { this.playing_ = !1; var t = new goog.events.Event("ended"); t.event = e, this.dispatchEvent(t), this.playPosition_ = 0; var o = lime.audio.AudioContext ? this.playTime_ + this.buffer.duration - this.playPositionCache - .05 : 0; if (this.next_) for (var i = 0; i < this.next_.length; i++)this.next_[i][0].play(this.next_[i][1], o); else !1 !== t.returnValue_ && this.loop_ && this.play(this.loop_, o) }, lime.audio.Audio.prototype.loadHandler_ = function () { this.baseElement.readyState > 2 && (this.bufferLoadedHandler_(), clearTimeout(this.loadInterval)), this.baseElement.error && clearTimeout(this.loadInterval), lime.userAgent.IOS && 0 == this.baseElement.readyState && (this.bufferLoadedHandler_(), clearTimeout(this.loadInterval)) }, lime.audio.Audio.prototype.isLoaded = function () { return this.loaded_ }, lime.audio.Audio.prototype.isPlaying = function () { return this.playing_ }, lime.audio.Audio.prototype.play = function (e) { if (this.isLoaded() || (this.autoplay_ = goog.array.toArray(arguments)), this.isLoaded() && !this.isPlaying() && !lime.audio.getMute()) { if (lime.audio.AudioContext) { this.source && this.source.playbackState == this.source.FINISHED_STATE && (this.playPosition_ = 0), this.source = lime.audio.context.createBufferSource(), this.source.buffer = this.buffer, this.gain = lime.audio.context.createGain(), this.gain.connect(lime.audio.masterGain), this.source.connect(this.gain), this.playTime_ = lime.audio.context.currentTime; var t = arguments[1] || 0; this.playPosition_ > 0 ? this.source.start(t, this.playPosition_, this.buffer.duration - this.playPosition_) : this.source.start(t), this.playPositionCache = this.playPosition_, this.endTimeout_ = setTimeout(goog.bind(this.onEnded_, this), 1e3 * (this.buffer.duration - (this.playPosition_ || 0)) - 150) } else this.baseElement.play(); this.playing_ = !0, this.loop_ = !!e, -1 == lime.audio._playQueue.indexOf(this) && lime.audio._playQueue.push(this) } }, lime.audio.Audio.prototype.stop = function () { this.isLoaded() || (this.autoplay_ = null), this.isPlaying() && (lime.audio.AudioContext ? (clearTimeout(this.endTimeout_), this.playPosition_ = lime.audio.context.currentTime - this.playTime_ + (this.playPosition_ || 0), this.playPosition_ > this.buffer.duration && (this.playPosition_ = 0), this.gain.disconnect(lime.audio.masterGain), this.source = null) : this.baseElement.pause(), this.playing_ = !1) }, lime.audio._isMute = !1, lime.audio._playQueue = [], lime.audio.getMute = function () { return lime.audio._isMute }, lime.audio.setMute = function (e) { if (e && !lime.audio._isMute) { for (var t = 0; t < lime.audio._playQueue.length; t++)lime.audio._playQueue[t].stop(); lime.audio._playQueue = [] } lime.audio._isMute = e }, lime.audio.Audio.prototype.setVolume = function (e) { lime.audio.AudioContext ? (this.volume_ = e, this.gain && (this.gain.gain.value = e)) : this.baseElement.volume = e }, lime.audio.Audio.prototype.getVolume = function () { return lime.audio.AudioContext ? this.volume_ : this.baseElement.volume }; var imgArrayGround = new Array; imgArrayGround[0] = new Image, imgArrayGround[0].src = "images/bare_land.png", imgArrayGround[1] = new Image, imgArrayGround[1].src = "images/bare_land_tr.png", imgArrayGround[2] = new Image, imgArrayGround[2].src = "images/bare_land_tl.png", imgArrayGround[3] = new Image, imgArrayGround[3].src = "images/bare_land_lr.png", imgArrayGround[4] = new Image, imgArrayGround[4].src = "images/bare_land_ll.png"; var imgArray = new Array; imgArray[0] = new Image, imgArray[0].src = "images/blacksmith1.png", imgArray[1] = new Image, imgArray[1].src = "images/blacksmith2.png", imgArray[2] = new Image, imgArray[2].src = "images/blacksmith3.png", imgArray[3] = new Image, imgArray[3].src = "images/blacksmith4.png", imgArray[4] = new Image, imgArray[4].src = "images/blacksmith5.png", imgArray[5] = new Image, imgArray[5].src = "images/blacksmith6.png", imgArray[6] = new Image, imgArray[6].src = "images/blacksmith7.png", imgArray[7] = new Image, imgArray[7].src = "images/blacksmith8.png", imgArray[8] = new Image, imgArray[8].src = "images/blacksmith9.png", imgArray[9] = new Image, imgArray[9].src = "images/blacksmith10.png", imgArray[10] = new Image, imgArray[10].src = "images/blacksmith11.png", imgArray[11] = new Image, imgArray[11].src = "images/blacksmith12.png", imgArray[12] = new Image, imgArray[12].src = "images/blacksmith13.png", imgArray[13] = new Image, imgArray[13].src = "images/blacksmith14.png", imgArray[14] = new Image, imgArray[14].src = "images/UI/CoverImg2.png", imgArray[15] = new Image, imgArray[15].src = "images/UI/greySound.png", imgArray[16] = new Image, imgArray[16].src = "images/UI/greySoundOff.png", imgArray[17] = new Image, imgArray[17].src = "images/UI/unknownCrop.png", imgArray[18] = new Image, imgArray[18].src = "images/UI/woodBtn.png", imgArray[19] = new Image, imgArray[19].src = "images/UI/needIron.png", imgArray[20] = new Image, imgArray[20].src = "images/items/noPick.png", imgArray[21] = new Image, imgArray[21].src = "images/UI/XButton.png", imgArray[22] = new Image, imgArray[22].src = "images/UI/needJars.png", imgArray[23] = new Image, imgArray[23].src = "images/UI/needBottles.png", imgArray[24] = new Image, imgArray[24].src = "images/clouds.png", imgArray[25] = new Image, imgArray[25].src = "images/UI/starCashBack.png"; var imgArray2 = new Array; imgArray2[0] = new Image, imgArray2[0].src = "images/artiGrow1.png", imgArray2[1] = new Image, imgArray2[1].src = "images/artiGrow2.png", imgArray2[2] = new Image, imgArray2[2].src = "images/plowed.png", imgArray2[3] = new Image, imgArray2[3].src = "images/tomatoGrow1.png", imgArray2[4] = new Image, imgArray2[4].src = "images/tomatoGrow2.png", imgArray2[5] = new Image, imgArray2[5].src = "images/pepperGrow1.png", imgArray2[6] = new Image, imgArray2[6].src = "images/pepperGrow2.png", imgArray2[7] = new Image, imgArray2[7].src = "images/cornGrow1.png", imgArray2[8] = new Image, imgArray2[8].src = "images/cornGrow2.png", imgArray2[9] = new Image, imgArray2[9].src = "images/eggplantGrow1.png", imgArray2[10] = new Image, imgArray2[10].src = "images/eggplantGrow2.png", imgArray2[11] = new Image, imgArray2[11].src = "images/carrotGrow1.png", imgArray2[12] = new Image, imgArray2[12].src = "images/carrotGrow2.png", imgArray2[13] = new Image, imgArray2[13].src = "images/hayGrow1.png", imgArray2[14] = new Image, imgArray2[14].src = "images/hayGrow2.png"; var imgArray3 = new Array; imgArray3[0] = new Image, imgArray3[0].src = "images/livestockPens/chicken_down1.png", imgArray3[1] = new Image, imgArray3[1].src = "images/livestockPens/chicken_down2.png", imgArray3[2] = new Image, imgArray3[2].src = "images/livestockPens/chicken_down3.png", imgArray3[3] = new Image, imgArray3[3].src = "images/livestockPens/chicken_eatLeft1.png", imgArray3[4] = new Image, imgArray3[4].src = "images/livestockPens/chicken_eatLeft2.png", imgArray3[5] = new Image, imgArray3[5].src = "images/livestockPens/chicken_eatLeft3.png", imgArray3[6] = new Image, imgArray3[6].src = "images/livestockPens/chicken_eatLeft4.png", imgArray3[7] = new Image, imgArray3[7].src = "images/livestockPens/chicken_eatRight1.png", imgArray3[8] = new Image, imgArray3[8].src = "images/livestockPens/chicken_eatRight2.png", imgArray3[9] = new Image, imgArray3[9].src = "images/livestockPens/chicken_up1.png", imgArray3[10] = new Image, imgArray3[10].src = "images/livestockPens/chicken_up2.png", imgArray3[11] = new Image, imgArray3[11].src = "images/livestockPens/chicken_up3.png", imgArray3[12] = new Image, imgArray3[12].src = "images/livestockPens/chicken_walkLeft1.png", imgArray3[13] = new Image, imgArray3[13].src = "images/livestockPens/chicken_walkLeft2.png", imgArray3[14] = new Image, imgArray3[14].src = "images/livestockPens/chicken_walkLeft3.png", imgArray3[15] = new Image, imgArray3[15].src = "images/livestockPens/chicken_walkRight1.png", imgArray3[16] = new Image, imgArray3[16].src = "images/livestockPens/chicken_walkRight2.png", imgArray3[17] = new Image, imgArray3[17].src = "images/livestockPens/chicken_walkRight3.png", imgArray3[18] = new Image, imgArray3[18].src = "images/livestockPens/chicken_walkRight4.png", imgArray3[19] = new Image, imgArray3[19].src = "images/livestockPens/eggs.png", imgArray3[20] = new Image, imgArray3[20].src = "images/livestockPens/hams.png", imgArray3[21] = new Image, imgArray3[21].src = "images/livestockPens/pig_Left3.png"; var imgArray4 = new Array; imgArray4[0] = new Image, imgArray4[0].src = "images/Orchard/girlF1.png", imgArray4[1] = new Image, imgArray4[1].src = "images/Orchard/girlF2.png", imgArray4[2] = new Image, imgArray4[2].src = "images/Orchard/girlF3.png", imgArray4[3] = new Image, imgArray4[3].src = "images/Orchard/girlUp1.png", imgArray4[4] = new Image, imgArray4[4].src = "images/Orchard/girlUp2.png", imgArray4[5] = new Image, imgArray4[5].src = "images/Orchard/girlUp3.png", imgArray4[6] = new Image, imgArray4[6].src = "images/Orchard/girlR1.png", imgArray4[7] = new Image, imgArray4[7].src = "images/Orchard/girlL1.png", imgArray4[8] = new Image, imgArray4[8].src = "images/Orchard/prune_trees.png", imgArray4[9] = new Image, imgArray4[9].src = "images/Orchard/fertilize_trees.png", imgArray4[10] = new Image, imgArray4[10].src = "images/Orchard/growing3_trees.png", imgArray4[11] = new Image, imgArray4[11].src = "images/Orchard/growing4_trees.png", imgArray4[12] = new Image, imgArray4[12].src = "images/Orchard/ready_Apples.png", imgArray4[13] = new Image, imgArray4[13].src = "images/Orchard/ready_treesPear.png", imgArray4[14] = new Image, imgArray4[14].src = "images/Orchard/treeBlockO.png", imgArray4[15] = new Image, imgArray4[15].src = "images/Orchard/OrchardBack4.png", imgArray4[16] = new Image, imgArray4[16].src = "images/Orchard/growing22_trees.png"; var imgArray5 = new Array; imgArray5[0] = new Image, imgArray5[0].src = "images/UI/tut1.png", imgArray5[1] = new Image, imgArray5[1].src = "images/UI/tut2-1.png", imgArray5[2] = new Image, imgArray5[2].src = "images/UI/tut3.png", imgArray5[3] = new Image, imgArray5[3].src = "images/UI/tut4.png", imgArray5[4] = new Image, imgArray5[4].src = "images/UI/tut5.png", imgArray5[5] = new Image, imgArray5[5].src = "images/UI/tut6.png", imgArray5[6] = new Image, imgArray5[6].src = "images/UI/tut7.png", imgArray5[7] = new Image, imgArray5[7].src = "images/UI/tut8.png", imgArray5[8] = new Image, imgArray5[8].src = "images/UI/tut9.png", imgArray5[9] = new Image, imgArray5[9].src = "images/UI/tut10.png", imgArray5[10] = new Image, imgArray5[10].src = "images/UI/tut11.png", imgArray5[11] = new Image, imgArray5[11].src = "images/UI/tut12.png", imgArray5[12] = new Image, imgArray5[12].src = "images/UI/tut13.png", imgArray5[13] = new Image, imgArray5[13].src = "images/UI/tut14.png"; var imgArray6 = new Array; imgArray6[0] = new Image, imgArray6[0].src = "images/UI/barn1-1.png", imgArray6[1] = new Image, imgArray6[1].src = "images/UI/barn2-1.png", imgArray6[2] = new Image, imgArray6[2].src = "images/UI/barn3-1.png", imgArray6[3] = new Image, imgArray6[3].src = "images/UI/barn4-1.png", imgArray6[4] = new Image, imgArray6[4].src = "images/UI/barn5-1.png", imgArray6[5] = new Image, imgArray6[5].src = "images/bare_land.png", imgArray6[6] = new Image, imgArray6[6].src = "images/plowed.png"; var imgArray10 = new Array; imgArray10[0] = new Image, imgArray[0].src = "images/tomatoWithered.png"; var imgArray11 = new Array; imgArray11[0] = new Image, imgArray11[0].src = "images/UI/coin4.png", imgArray11[1] = new Image, imgArray11[1].src = "images/houseUpgrades/bedSingle.png", imgArray11[2] = new Image, imgArray11[2].src = "images/houseUpgrades/chest.png", imgArray11[3] = new Image, imgArray11[3].src = "images/houseUpgrades/sink.png", imgArray11[4] = new Image, imgArray11[4].src = "images/houseUpgrades/woodTable.png", imgArray11[5] = new Image, imgArray11[5].src = "images/houseUpgrades/woodChairSet.png", imgArray11[6] = new Image, imgArray11[6].src = "images/houseUpgrades/dressingTable.png", imgArray11[7] = new Image, imgArray11[7].src = "images/houseUpgrades/bedsideTableWood.png", imgArray11[8] = new Image, imgArray11[8].src = "images/houseUpgrades/pottedPlantRed.png", imgArray11[9] = new Image, imgArray11[9].src = "images/houseUpgrades/couchRight.png", imgArray11[10] = new Image, imgArray11[10].src = "images/houseUpgrades/curtains.png", imgArray11[11] = new Image, imgArray11[11].src = "images/houseUpgrades/doubleBed.png", imgArray11[12] = new Image, imgArray11[12].src = "images/houseUpgrades/stool.png", imgArray11[13] = new Image, imgArray11[13].src = "images/houseUpgrades/wardrobe.png", imgArray11[14] = new Image, imgArray11[14].src = "images/houseUpgrades/couchAway.png", imgArray11[15] = new Image, imgArray11[15].src = "images/houseUpgrades/bookcase.png", imgArray11[16] = new Image, imgArray11[16].src = "images/houseUpgrades/fancyTable.png", imgArray11[17] = new Image, imgArray11[17].src = "images/houseUpgrades/fancyChairSet.png", imgArray11[18] = new Image, imgArray11[18].src = "images/houseUpgrades/desk.png", imgArray11[19] = new Image, imgArray11[19].src = "images/houseUpgrades/widePainting.png", imgArray11[20] = new Image, imgArray11[20].src = "images/houseUpgrades/dishCabinet.png", imgArray11[21] = new Image, imgArray11[21].src = "images/houseUpgrades/trunk.png", imgArray11[22] = new Image, imgArray11[22].src = "images/houseUpgrades/FarmHomeInteriorGreen.png", imgArray11[23] = new Image, imgArray11[23].src = "images/houseUpgrades/FarmHomeInteriorBlue.png", imgArray11[24] = new Image, imgArray11[24].src = "images/houseUpgrades/FarmHomeInteriorPink.png", imgArray11[25] = new Image, imgArray11[25].src = "images/houseUpgrades/FarmHomeInteriorOrange.png"; var imgArray12 = new Array; imgArray12[0] = new Image, imgArray12[0].src = "images/houseUpgrades/fireplace.png", imgArray12[1] = new Image, imgArray12[1].src = "images/houseUpgrades/fire1.png", imgArray12[2] = new Image, imgArray12[2].src = "images/houseUpgrades/fire2.png", imgArray12[3] = new Image, imgArray12[3].src = "images/houseUpgrades/fire3.png", imgArray12[4] = new Image, imgArray12[4].src = "images/houseUpgrades/stoveFire1.png", imgArray12[5] = new Image, imgArray12[5].src = "images/houseUpgrades/stoveFire2.png", imgArray12[6] = new Image, imgArray12[6].src = "images/houseUpgrades/stoveFire3.png"; var imgArrayPlayer = new Array; imgArrayPlayer[0] = new Image, imgArrayPlayer[0].src = "images/UI/playerImg1.png", imgArrayPlayer[1] = new Image, imgArrayPlayer[1].src = "images/UI/playerImg2.png", imgArrayPlayer[2] = new Image, imgArrayPlayer[2].src = "images/UI/playerImg3.png"; var imgArrayTown = new Array; imgArrayTown[0] = new Image, imgArrayTown[0].src = "images/marketTown/marketTownBack3.png", imgArrayTown[1] = new Image, imgArrayTown[1].src = "images/marketTown/Monk_f1.png", imgArrayTown[2] = new Image, imgArrayTown[2].src = "images/marketTown/Monk_f2.png", imgArrayTown[3] = new Image, imgArrayTown[3].src = "images/marketTown/Monk_f3.png", imgArrayTown[4] = new Image, imgArrayTown[4].src = "images/marketTown/Monk_r1.png", imgArrayTown[5] = new Image, imgArrayTown[5].src = "images/marketTown/Monk_r2.png", imgArrayTown[6] = new Image, imgArrayTown[6].src = "images/marketTown/Monk_r3.png", imgArrayTown[7] = new Image, imgArrayTown[7].src = "images/marketTown/Monk_l1.png", imgArrayTown[8] = new Image, imgArrayTown[8].src = "images/marketTown/Monk_l2.png", imgArrayTown[9] = new Image, imgArrayTown[9].src = "images/marketTown/Monk_l3.png", imgArrayTown[10] = new Image, imgArrayTown[10].src = "images/marketTown/Monk_a1.png", imgArrayTown[11] = new Image, imgArrayTown[11].src = "images/marketTown/Monk_a2.png", imgArrayTown[12] = new Image, imgArrayTown[12].src = "images/marketTown/Monk_a3.png", imgArrayTown[13] = new Image, imgArrayTown[13].src = "images/marketTown/Monk_p1.png", imgArrayTown[14] = new Image, imgArrayTown[14].src = "images/marketTown/Monk_p2.png", imgArrayTown[15] = new Image, imgArrayTown[15].src = "images/marketTown/quest1.png", imgArrayTown[16] = new Image, imgArrayTown[16].src = "images/marketTown/quest2.png", imgArrayTown[17] = new Image, imgArrayTown[17].src = "images/UI/shopIcon.png"; var imgArrayTown2 = new Array; imgArrayTown2[0] = new Image, imgArrayTown2[0].src = "images/marketTown/sara_f1.png", imgArrayTown2[1] = new Image, imgArrayTown2[1].src = "images/marketTown/sara_r1.png", imgArrayTown2[2] = new Image, imgArrayTown2[2].src = "images/marketTown/sara_r2.png", imgArrayTown2[3] = new Image, imgArrayTown2[3].src = "images/marketTown/sara_r3.png", imgArrayTown2[4] = new Image, imgArrayTown2[4].src = "images/marketTown/sara_s1.png", imgArrayTown2[5] = new Image, imgArrayTown2[5].src = "images/marketTown/sara_l1.png", imgArrayTown2[6] = new Image, imgArrayTown2[6].src = "images/marketTown/sara_l2.png", imgArrayTown2[7] = new Image, imgArrayTown2[7].src = "images/marketTown/sara_l3.png", imgArrayTown2[8] = new Image, imgArrayTown2[8].src = "images/marketTown/sara_a1.png", imgArrayTown2[9] = new Image, imgArrayTown2[9].src = "images/marketTown/sara_a2.png", imgArrayTown2[10] = new Image, imgArrayTown2[10].src = "images/marketTown/sara_a3.png", imgArrayTown2[11] = new Image, imgArrayTown2[11].src = "images/marketTown/sara_s1.png", imgArrayTown2[12] = new Image, imgArrayTown2[12].src = "images/marketTown/sara_s1.png", imgArrayTown2[13] = new Image, imgArrayTown2[13].src = "images/marketTown/sara_s2.png"; var imgArrayMayor = new Array; imgArrayMayor[0] = new Image, imgArrayMayor[0].src = "images/marketTown/mayor_f1.png", imgArrayMayor[1] = new Image, imgArrayMayor[1].src = "images/marketTown/mayor_f2.png", imgArrayMayor[2] = new Image, imgArrayMayor[2].src = "images/marketTown/mayor_f3.png", imgArrayMayor[3] = new Image, imgArrayMayor[3].src = "images/marketTown/mayor_f4.png", imgArrayMayor[4] = new Image, imgArrayMayor[4].src = "images/marketTown/mayor_r1.png", imgArrayMayor[5] = new Image, imgArrayMayor[5].src = "images/marketTown/mayor_r2.png", imgArrayMayor[6] = new Image, imgArrayMayor[6].src = "images/marketTown/mayor_r3.png", imgArrayMayor[7] = new Image, imgArrayMayor[7].src = "images/marketTown/mayor_r4.png", imgArrayMayor[8] = new Image, imgArrayMayor[8].src = "images/marketTown/mayor_l1.png", imgArrayMayor[9] = new Image, imgArrayMayor[9].src = "images/marketTown/mayor_l2.png", imgArrayMayor[10] = new Image, imgArrayMayor[10].src = "images/marketTown/mayor_l3.png", imgArrayMayor[11] = new Image, imgArrayMayor[11].src = "images/marketTown/mayor_l4.png", imgArrayMayor[12] = new Image, imgArrayMayor[12].src = "images/marketTown/mayor_a1.png", imgArrayMayor[13] = new Image, imgArrayMayor[13].src = "images/marketTown/mayor_a2.png", imgArrayMayor[14] = new Image, imgArrayMayor[14].src = "images/marketTown/mayor_a3.png", imgArrayMayor[15] = new Image, imgArrayMayor[15].src = "images/marketTown/mayor_s1.png", imgArrayMayor[16] = new Image, imgArrayMayor[16].src = "images/marketTown/mayor_s2.png"; var imgArrayFelicia = new Array; imgArrayFelicia[0] = new Image, imgArrayFelicia[0].src = "images/marketTown/Felicia_f1.png", imgArrayFelicia[1] = new Image, imgArrayFelicia[1].src = "images/marketTown/Felicia_f2.png", imgArrayFelicia[2] = new Image, imgArrayFelicia[2].src = "images/marketTown/Felicia_f3.png", imgArrayFelicia[3] = new Image, imgArrayFelicia[3].src = "images/marketTown/Felicia_f4.png", imgArrayFelicia[4] = new Image, imgArrayFelicia[4].src = "images/marketTown/Felicia_r1.png", imgArrayFelicia[5] = new Image, imgArrayFelicia[5].src = "images/marketTown/Felicia_r2.png", imgArrayFelicia[6] = new Image, imgArrayFelicia[6].src = "images/marketTown/Felicia_r3.png", imgArrayFelicia[7] = new Image, imgArrayFelicia[7].src = "images/marketTown/Felicia_r4.png", imgArrayFelicia[8] = new Image, imgArrayFelicia[8].src = "images/marketTown/Felicia_l1.png", imgArrayFelicia[9] = new Image, imgArrayFelicia[9].src = "images/marketTown/Felicia_l2.png", imgArrayFelicia[10] = new Image, imgArrayFelicia[10].src = "images/marketTown/Felicia_l3.png", imgArrayFelicia[11] = new Image, imgArrayFelicia[11].src = "images/marketTown/Felicia_l4.png", imgArrayFelicia[12] = new Image, imgArrayFelicia[12].src = "images/marketTown/Felicia_a1.png", imgArrayFelicia[13] = new Image, imgArrayFelicia[13].src = "images/marketTown/Felicia_a2.png", imgArrayFelicia[14] = new Image, imgArrayFelicia[14].src = "images/marketTown/Felicia_a3.png", imgArrayFelicia[15] = new Image, imgArrayFelicia[15].src = "images/marketTown/Felicia_s1.png"; var imgArrayDenise = new Array; imgArrayDenise[0] = new Image, imgArrayDenise[0].src = "images/houseUpgrades/denise/denise_f1.png", imgArrayDenise[1] = new Image, imgArrayDenise[1].src = "images/houseUpgrades/denise/denise_f2.png", imgArrayDenise[2] = new Image, imgArrayDenise[2].src = "images/houseUpgrades/denise/denise_f3.png", imgArrayDenise[3] = new Image, imgArrayDenise[3].src = "images/houseUpgrades/denise/denise_f4.png", imgArrayDenise[4] = new Image, imgArrayDenise[4].src = "images/houseUpgrades/denise/denise_r1.png", imgArrayDenise[5] = new Image, imgArrayDenise[5].src = "images/houseUpgrades/denise/denise_r2.png", imgArrayDenise[6] = new Image, imgArrayDenise[6].src = "images/houseUpgrades/denise/denise_r3.png", imgArrayDenise[7] = new Image, imgArrayDenise[7].src = "images/houseUpgrades/denise/denise_r4.png", imgArrayDenise[8] = new Image, imgArrayDenise[8].src = "images/houseUpgrades/denise/denise_l1.png", imgArrayDenise[9] = new Image, imgArrayDenise[9].src = "images/houseUpgrades/denise/denise_l2.png", imgArrayDenise[10] = new Image, imgArrayDenise[10].src = "images/houseUpgrades/denise/denise_l3.png", imgArrayDenise[11] = new Image, imgArrayDenise[11].src = "images/houseUpgrades/denise/denise_l4.png", imgArrayDenise[12] = new Image, imgArrayDenise[12].src = "images/houseUpgrades/denise/denise_a1.png", imgArrayDenise[13] = new Image, imgArrayDenise[13].src = "images/houseUpgrades/denise/denise_a2.png", imgArrayDenise[14] = new Image, imgArrayDenise[14].src = "images/houseUpgrades/denise/denise_a3.png", imgArrayDenise[15] = new Image, imgArrayDenise[15].src = "images/houseUpgrades/denise/denise_s1.png"; var imgArrayTrader = new Array; imgArrayTrader[0] = new Image, imgArrayTrader[0].src = "images/marketTown/trader_f1.png", imgArrayTrader[1] = new Image, imgArrayTrader[1].src = "images/marketTown/trader_f2.png", imgArrayTrader[2] = new Image, imgArrayTrader[2].src = "images/marketTown/trader_f3.png"; var imgArrayItems = new Array; imgArrayItems[0] = new Image, imgArrayItems[0].src = "images/items/shield1.png", imgArrayItems[1] = new Image, imgArrayItems[1].src = "images/items/shield2.png", imgArrayItems[2] = new Image, imgArrayItems[2].src = "images/items/shield3.png", imgArrayItems[3] = new Image, imgArrayItems[3].src = "images/items/book1.png", imgArrayItems[4] = new Image, imgArrayItems[4].src = "images/items/locket.png", imgArrayItems[5] = new Image, imgArrayItems[5].src = "images/items/mail1.png", imgArrayItems[6] = new Image, imgArrayItems[6].src = "images/items/mail2.png", imgArrayItems[7] = new Image, imgArrayItems[7].src = "images/items/key.png", imgArrayItems[8] = new Image, imgArrayItems[8].src = "images/items/necklaceEmerald.png", imgArrayItems[9] = new Image, imgArrayItems[9].src = "images/items/necklacepurple.png", imgArrayItems[10] = new Image, imgArrayItems[10].src = "images/items/necklaceRuby.png", imgArrayItems[11] = new Image, imgArrayItems[11].src = "images/items/necklaceSaphire.png", imgArrayItems[12] = new Image, imgArrayItems[12].src = "images/items/ringAmethyst.png", imgArrayItems[13] = new Image, imgArrayItems[13].src = "images/items/ringEmerald.png", imgArrayItems[14] = new Image, imgArrayItems[14].src = "images/items/ringRuby.png", imgArrayItems[15] = new Image, imgArrayItems[15].src = "images/items/ruby.png", imgArrayItems[16] = new Image, imgArrayItems[16].src = "images/items/saphire.png", imgArrayItems[17] = new Image, imgArrayItems[17].src = "images/items/scroll1.png", imgArrayItems[18] = new Image, imgArrayItems[18].src = "images/items/shovel1.png", imgArrayItems[19] = new Image, imgArrayItems[19].src = "images/items/sword1.png", imgArrayItems[20] = new Image, imgArrayItems[20].src = "images/items/sword2.png", imgArrayItems[21] = new Image, imgArrayItems[21].src = "images/items/sword3.png", imgArrayItems[22] = new Image, imgArrayItems[22].src = "images/items/pick1.png", imgArrayItems[23] = new Image, imgArrayItems[23].src = "images/items/crest.png", imgArrayItems[24] = new Image, imgArrayItems[24].src = "images/items/coal.png", imgArrayItems[25] = new Image, imgArrayItems[25].src = "images/UI/inventoryBtn.png", imgArrayItems[26] = new Image, imgArrayItems[26].src = "images/items/jars.png"; var imgArrayJosiah = new Array; imgArrayJosiah[0] = new Image, imgArrayJosiah[0].src = "images/Pasture/josiah_f1.png", imgArrayJosiah[1] = new Image, imgArrayJosiah[1].src = "images/Pasture/josiah_f2.png", imgArrayJosiah[2] = new Image, imgArrayJosiah[2].src = "images/Pasture/josiah_f3.png", imgArrayJosiah[3] = new Image, imgArrayJosiah[3].src = "images/Pasture/josiah_f4.png", imgArrayJosiah[4] = new Image, imgArrayJosiah[4].src = "images/Pasture/josiah_l1.png", imgArrayJosiah[5] = new Image, imgArrayJosiah[5].src = "images/Pasture/josiah_l2.png", imgArrayJosiah[6] = new Image, imgArrayJosiah[6].src = "images/Pasture/josiah_l3.png", imgArrayJosiah[7] = new Image, imgArrayJosiah[7].src = "images/Pasture/josiah_l4.png", imgArrayJosiah[8] = new Image, imgArrayJosiah[8].src = "images/Pasture/josiah_r1.png", imgArrayJosiah[9] = new Image, imgArrayJosiah[9].src = "images/Pasture/josiah_r2.png", imgArrayJosiah[10] = new Image, imgArrayJosiah[10].src = "images/Pasture/josiah_r3.png", imgArrayJosiah[11] = new Image, imgArrayJosiah[11].src = "images/Pasture/josiah_r4.png", imgArrayJosiah[12] = new Image, imgArrayJosiah[12].src = "images/Pasture/josiah_a1.png", imgArrayJosiah[13] = new Image, imgArrayJosiah[13].src = "images/Pasture/josiah_a2.png", imgArrayJosiah[14] = new Image, imgArrayJosiah[14].src = "images/Pasture/josiah_a3.png", imgArrayJosiah[15] = new Image, imgArrayJosiah[15].src = "images/Pasture/josiah_a4.png"; var imgArrayPatricia = new Array; imgArrayPatricia[0] = new Image, imgArrayPatricia[0].src = "images/marketTown/patricia_f1.png", imgArrayPatricia[1] = new Image, imgArrayPatricia[1].src = "images/marketTown/patricia_f2.png", imgArrayPatricia[2] = new Image, imgArrayPatricia[2].src = "images/marketTown/patricia_f3.png", imgArrayPatricia[3] = new Image, imgArrayPatricia[3].src = "images/marketTown/patricia_f4.png", imgArrayPatricia[4] = new Image, imgArrayPatricia[4].src = "images/marketTown/patricia_l1.png", imgArrayPatricia[5] = new Image, imgArrayPatricia[5].src = "images/marketTown/patricia_l2.png", imgArrayPatricia[6] = new Image, imgArrayPatricia[6].src = "images/marketTown/patricia_l3.png", imgArrayPatricia[7] = new Image, imgArrayPatricia[7].src = "images/marketTown/patricia_l4.png", imgArrayPatricia[8] = new Image, imgArrayPatricia[8].src = "images/marketTown/patricia_r1.png", imgArrayPatricia[9] = new Image, imgArrayPatricia[9].src = "images/marketTown/patricia_r2.png", imgArrayPatricia[10] = new Image, imgArrayPatricia[10].src = "images/marketTown/patricia_r3.png", imgArrayPatricia[11] = new Image, imgArrayPatricia[11].src = "images/marketTown/patricia_r4.png", imgArrayPatricia[12] = new Image, imgArrayPatricia[12].src = "images/marketTown/patricia_a1.png", imgArrayPatricia[13] = new Image, imgArrayPatricia[13].src = "images/marketTown/patricia_a2.png", imgArrayPatricia[14] = new Image, imgArrayPatricia[14].src = "images/marketTown/patricia_a3.png", imgArrayPatricia[15] = new Image, imgArrayPatricia[15].src = "images/marketTown/patricia_a4.png"; var imgArrayEva = new Array; imgArrayEva[0] = new Image, imgArrayEva[0].src = "images/marketTown/eva_f1.png", imgArrayEva[1] = new Image, imgArrayEva[1].src = "images/marketTown/eva_f2.png", imgArrayEva[2] = new Image, imgArrayEva[2].src = "images/marketTown/eva_f3.png", imgArrayEva[3] = new Image, imgArrayEva[3].src = "images/marketTown/eva_f4.png", imgArrayEva[4] = new Image, imgArrayEva[4].src = "images/marketTown/eva_l1.png", imgArrayEva[5] = new Image, imgArrayEva[5].src = "images/marketTown/eva_l2.png", imgArrayEva[6] = new Image, imgArrayEva[6].src = "images/marketTown/eva_l3.png", imgArrayEva[7] = new Image, imgArrayEva[7].src = "images/marketTown/eva_l4.png", imgArrayEva[8] = new Image, imgArrayEva[8].src = "images/marketTown/eva_r1.png", imgArrayEva[9] = new Image, imgArrayEva[9].src = "images/marketTown/eva_r2.png", imgArrayEva[10] = new Image, imgArrayEva[10].src = "images/marketTown/eva_r3.png", imgArrayEva[11] = new Image, imgArrayEva[11].src = "images/marketTown/eva_r4.png", imgArrayEva[12] = new Image, imgArrayEva[12].src = "images/marketTown/eva_a1.png", imgArrayEva[13] = new Image, imgArrayEva[13].src = "images/marketTown/eva_a2.png", imgArrayEva[14] = new Image, imgArrayEva[14].src = "images/marketTown/eva_a3.png", imgArrayEva[15] = new Image, imgArrayEva[15].src = "images/marketTown/eva_a4.png"; var imgArrayStore = new Array; imgArrayStore[0] = new Image, imgArrayStore[0].src = "images/items/ironBar.png", imgArrayStore[1] = new Image, imgArrayStore[1].src = "images/items/jars.png", imgArrayStore[2] = new Image, imgArrayStore[2].src = "images/items/shovel2.png", imgArrayStore[3] = new Image, imgArrayStore[3].src = "images/items/pick1.png", imgArrayStore[4] = new Image, imgArrayStore[4].src = "images/items/ciderPress.png", imgArrayStore[5] = new Image, imgArrayStore[5].src = "images/items/bottles.png", imgArrayStore[6] = new Image, imgArrayStore[6].src = "images/items/barrels.png"; var collectItems = { digUpSells: [{ name: "Old Buckler", value: 250, owned: 0, onlyOnce: 0, src: imgArrayItems[0].src, sub1: "Old", sub2: "wooden shield", who: "Friar" }, { name: "Ancient Shield", value: 250, owned: 0, onlyOnce: 0, src: imgArrayItems[1].src, sub1: "This artifact would", sub2: "interest the Friar", who: "Friar" }, { name: "Ancient Tome", value: 250, owned: 0, onlyOnce: 0, src: imgArrayItems[3].src, sub1: "This book might", sub2: "interest Friar Patrick", who: "Friar" }, { name: "Locket", value: 0, owned: 0, onlyOnce: 0, src: imgArrayItems[4].src, sub1: "There is a picture", sub2: "inside. Hmmm", who: "Felicia" }, { name: "Old Armor", value: 45, owned: 0, onlyOnce: 0, src: imgArrayItems[5].src, sub1: "This artifact would", sub2: "interest the Friar", who: "Friar" }, { name: "Ancient Key", value: 45, owned: 0, onlyOnce: 0, src: imgArrayItems[7].src, sub1: "I wonder what", sub2: "this will unlock", who: "Friar" }, { name: "Emerald Necklace", value: 75, owned: 0, onlyOnce: 0, src: imgArrayItems[8].src, sub1: "Take this to the", sub2: "mayor for 75 coins ", who: "Mayor" }, { name: "Amethyst Necklace", value: 50, owned: 0, onlyOnce: 0, src: imgArrayItems[9].src, sub1: "Take this to the", sub2: " mayor for 50 coins", who: "Mayor" }, { name: "Ruby Necklace", value: 100, owned: 0, onlyOnce: 0, src: imgArrayItems[10].src, sub1: "Take this to the", sub2: " mayor for 100 coins", who: "Mayor" }, { name: "Saffire Necklace", value: 125, owned: 0, onlyOnce: 0, src: imgArrayItems[11].src, sub1: "Take this to the", sub2: " mayor 125 coins", who: "Mayor" }, { name: "Amethyst Ring", value: 75, owned: 0, onlyOnce: 0, src: imgArrayItems[12].src, sub1: "Take this to the", sub2: " mayor 75 coins", who: "Mayor" }, { name: "Emerald Ring", value: 100, owned: 0, onlyOnce: 0, src: imgArrayItems[13].src, sub1: "Take this to the", sub2: " mayor 100 coins", who: "Mayor" }, { name: "Ruby Ring", value: 125, owned: 0, onlyOnce: 0, src: imgArrayItems[14].src, sub1: "Take this to the", sub2: " mayor 125 coins", who: "Mayor" }, { name: "Ruby", value: 60, owned: 0, onlyOnce: 0, src: imgArrayItems[15].src, sub1: "Take this to the", sub2: " mayor 60 coins", who: "Mayor" }, { name: "Sapphire", value: 40, owned: 0, onlyOnce: 0, src: imgArrayItems[16].src, sub1: "Take this to the", sub2: " mayor 40 coins", who: "Mayor" }, { name: "Crumbling Scroll", value: 45, owned: 0, onlyOnce: 0, src: imgArrayItems[17].src, sub1: "Be careful,", sub2: "it is falling apart", who: "Friar" }, { name: "Old Sword", value: 50, owned: 0, onlyOnce: 0, src: imgArrayItems[19].src, sub1: "This artifact would", sub2: "interest the Friar", who: "Friar" }, { name: "Ancient Sword", value: 150, owned: 0, onlyOnce: 0, src: imgArrayItems[20].src, sub1: "This artifact would", sub2: "interest the Friar", who: "Friar" }], digUpCollect: [{ name: "Family Crest", value: 0, owned: 0, onlyOnce: 1, src: imgArrayItems[23].src }, { name: "Forefathers Shield", value: 0, owned: 0, onlyOnce: 1, src: imgArrayItems[2].src }, { name: "Forefathers Sword", value: 0, owned: 0, onlyOnce: 1, src: imgArrayItems[21].src }, { name: "Forefathers Mail", value: 0, owned: 0, onlyOnce: 1, src: imgArrayItems[6].src }], storeItems: [{ name: "50 Iron Bars", value: 100, owned: 0, onlyOnce: 0, src: imgArrayStore[0].src }, { name: "50 Jars", value: 100, owned: 0, onlyOnce: 1, src: imgArrayStore[1].src }, { name: "Blessed Shovel", value: 2500, owned: 0, onlyOnce: 0, src: imgArrayStore[2].src }, { name: "Steel Pick", value: 5e3, owned: 0, onlyOnce: 0, src: imgArrayStore[3].src }, { name: "Fruit Press", value: 7500, owned: 0, onlyOnce: 1, src: imgArrayStore[4].src }, { name: "50 Bottles", value: 200, owned: 0, onlyOnce: 1, src: imgArrayStore[5].src }, { name: "50 Barrels", value: 200, owned: 0, onlyOnce: 1, src: imgArrayStore[6].src }] }; void 0 === localStorage.GuiGhostFarms_playerItems && localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), collectItems = JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems")); var houseUpgrades = { upgrades: [{ name: "expansion", cost: 0, owned: 0 }, { name: "Single Bed", cost: 200, owned: 0 }, { name: "Chest", cost: 250, owned: 0 }, { name: "Sink", cost: 300, owned: 0 }, { name: "Table", cost: 250, owned: 0 }, { name: "Wood Chairs", cost: 150, owned: 0 }, { name: "Dressing Table", cost: 500, owned: 0 }, { name: "Bedside Table", cost: 250, owned: 0 }, { name: "Potted Plant", cost: 150, owned: 0 }, { name: "Couch", cost: 500, owned: 0 }, { name: "Curtains", cost: 125, owned: 0 }, { name: "Double Bed", cost: 600, owned: 0 }, { name: "Stool", cost: 150, owned: 0 }, { name: "Wardrobe", cost: 750, owned: 0 }, { name: "Fancy Couch", cost: 750, owned: 0 }, { name: "Bookshelves", cost: 1e3, owned: 0 }, { name: "Fancy Table", cost: 800, owned: 0 }, { name: "Fancy Chairs", cost: 850, owned: 0 }, { name: "Desk", cost: 750, owned: 0 }, { name: "Painting", cost: 1e3, owned: 0 }, { name: "Dish Cabinet", cost: 800, owned: 0 }, { name: "Trunk", cost: 700, owned: 0 }, { name: "Paint Walls Green", cost: 1500, owned: 0 }, { name: "Paint Walls Blue", cost: 1500, owned: 0 }, { name: "Paint Walls Pink", cost: 1500, owned: 0 }, { name: "Paint Walls Tan", cost: 1500, owned: 1 }] }, mayorReady = 0, friarReady = 0, saraReady = 0, feliciaReady = 0, collectibleOnScreen = !1, townSceneActive = 0, sceneActive = "home", adFreeVersion = 0, rewardTypes = { TypeReward: [{ index: 0, type: "Coins" }, { index: 1, type: "Item" }, { index: 2, type: "Stars" }, { index: 3, type: "Tools" }, { index: 4, type: "Effect" }, { index: 5, type: "Reputation" }, { index: 6, type: "Shortage" }] }, questParams = { mayor: [{ highestCompleted: 0, available: !0 }, { name: "Necklackes", text: "Many things have been found on your farm. If you DIG UP any JEWELRY, let me know", completed: 0, rewardType: 0, rewardAmount: 100, rewardItem: 0, requiredItem: "none", successText: "Ill buy that jewelery  " }, { name: "Rings", text: "Come back to me time to time. I may have things to do.      Got any Jewels?", completed: 0, rewardType: 0, rewardAmount: 150, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Gems", text: "The King sends hearlds sometimes. Please them and you may gain an audience", completed: 0, rewardType: 0, rewardAmount: 200, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Felicia", text: "My wife Felicia spends all day in market, looking for new foods to cook", completed: 0, rewardType: 0, rewardAmount: 200, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Felicia2", text: "Old Man Haridison is considering selling his STABLE in the future", completed: 0, rewardType: 0, rewardAmount: 200, rewardItem: 0, requiredItem: "none", successText: " " }], monk: [{ highestCompleted: 0, available: !0 }, { name: "Bounty", text: "I am here to study old relics. Bring me any ARTIFACTS you may DIG UP", completed: 0, rewardType: 4, rewardAmount: 10, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Artifact", text: "The more artifacts you bring, the more I can learn about this area", completed: 0, rewardType: 4, rewardAmount: 15, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Artifact2", text: "I learned that a previous owner of your farm may have been a noble", completed: 0, rewardType: 4, rewardAmount: 15, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Artifact3", text: "Some of the artifacts you find could be HEIRLOOMS. These are special items you keep", completed: 0, rewardType: 4, rewardAmount: 15, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Artifact4", text: "I heard that there are more farm ACRES coming up for sale in the area very soon", completed: 0, rewardType: 4, rewardAmount: 15, rewardItem: 0, requiredItem: "none", successText: " " }], felicia: [{ highestCompleted: 0, available: !0 }, { name: "Foods", text: "I wish this market had some more variety", completed: 0, rewardType: 5, rewardAmount: 100, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Lost Locket", text: "I lost my locket while visiting your wife", completed: 0, rewardType: 5, rewardAmount: 150, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Necklace", text: "", completed: 0, rewardType: 5, rewardAmount: 150, rewardItem: 0, requiredItem: "none", successText: " " }], sara: [{ highestCompleted: 0, available: !1 }, { name: "Royal Lineage", text: "I heard a rumor you came from royal stock", completed: 0, rewardType: 0, rewardAmount: 150, rewardItem: 0, requiredItem: "none", successText: "You found my locket! " }, { name: "Cider", text: "This cooler weather has people wanting APPLE CIDER. Can you make some?", completed: 0, rewardType: 0, rewardAmount: 150, rewardItem: 0, requiredItem: "none", successText: " " }], denise: [{ highestCompleted: 0, available: !0 }, { name: "Furniture", text: "We need some FURNITURE", completed: 0, rewardType: 4, rewardAmount: 1, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Salt", text: " ", completed: 0, rewardType: 4, rewardAmount: 150, rewardItem: 0, requiredItem: "Salt", successText: " " }], blacksmith: [{ highestCompleted: 0, available: !0 }, { name: "Iron", text: "I need more Iron Bars", completed: 0, rewardType: 4, rewardAmount: 1, rewardItem: 0, requiredItem: "Iron", successText: " " }, { name: "Coal", text: "", completed: 0, rewardType: 4, rewardAmount: 2, rewardItem: 0, requiredItem: "Coal", successText: " " }], helga: [{ highestCompleted: 0, available: !0 }, { name: "Juice Press", text: "If we bought a FRUIT PRESS, we could make CIDER", completed: 0, rewardType: 5, rewardAmount: 100, rewardItem: 0, requiredItem: "none", successText: " " }, { name: "Bottles", text: "", completed: 0, rewardType: 5, rewardAmount: 150, rewardItem: 0, requiredItem: "Bottles", successText: " " }], terric: [{ highestCompleted: 0, available: !0 }, { name: "Upgrade", text: "If we had JARS and upgaded the Barn, we could make JELLY.", completed: 0, rewardType: 6, rewardAmount: 0, rewardItem: 0, requiredItem: "Jars" }, { name: "Jars", text: "We need some more jelly JARS. Can you buy some in town?", completed: 0, rewardType: 6, rewardAmount: 0, rewardItem: 0, requiredItem: "Jars" }, { name: "Juice Press", text: "If we bought a FRUIT PRESS, we could make GRAPE JUICE", completed: 0, rewardType: 6, rewardAmount: 0, rewardItem: 0, requiredItem: "Fruit Press" }, { name: "Bottles", text: "We need some more BOTTLES. Can you buy some in town?", completed: 0, rewardType: 6, rewardAmount: 0, rewardItem: 0, requiredItem: "Bottles" }] }, townRep = 0; void 0 === localStorage.MedFarms_townRep && localStorage.setItem("MedFarms_townRep", 0), townRep = JSON.parse(localStorage.getItem("MedFarms_townRep")); var seenPremiumPromo = 0; void 0 === localStorage.MedFarms_seenPremiumPromo && localStorage.setItem("MedFarms_seenPremiumPromo", 0), seenPremiumPromo = JSON.parse(localStorage.getItem("MedFarms_seenPremiumPromo")), void 0 === localStorage.GuiGhostFarms_houseUpgrades && localStorage.setItem("GuiGhostFarms_houseUpgrades", JSON.stringify(houseUpgrades)), houseUpgrades = JSON.parse(localStorage.getItem("GuiGhostFarms_houseUpgrades")), void 0 === localStorage.adWatched && localStorage.setItem("adWatched", 0); var adWatched = 0; void 0 === localStorage.showHighLight && localStorage.setItem("showHighLight", 0); var showHighLight = localStorage.getItem("showHighLight"); void 0 === localStorage.GuiGhostFarms_muted && localStorage.setItem("GuiGhostFarms_muted", 0); var selectedHomeCrop = 0; void 0 === localStorage.MedFarms_selectedHomeCrop && localStorage.setItem("MedFarms_selectedHomeCrop", 0), selectedHomeCrop = localStorage.getItem("MedFarms_selectedHomeCrop"), localStorage.setItem("MedFarm_StarCashBoost", 0), localStorage.setItem("moreGamesClicked", 0); var starCash = 0, moneyBefore = 0, startedMove = 0, homeCrop = 0; ((homeCrop = localStorage.getItem("MedFarms_selectedHomeCrop")) > 5 || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0); var orchardText = "Tending Apple Trees", landStateMaster = new Array, homeTreesLeft = 0, homeTreesRight = 0; localStorage.setItem("MedFarms_homeTreesLeft", 0), localStorage.setItem("MedFarms_homeTreesRight", 0), void 0 === localStorage.MedFarms_homeTreesLeft && localStorage.setItem("MedFarms_homeTreesLeft", 0), homeTreesLeft = localStorage.getItem("MedFarms_homeTreesLeft"), void 0 === localStorage.MedFarms_homeTreesRight && localStorage.setItem("MedFarms_homeTreesRight", 0), homeTreesRight = localStorage.getItem("MedFarms_homeTreesRight"), void 0 === localStorage.landStates && localStorage.setItem("landStates", JSON.stringify(landStateMaster)), landStateMaster = JSON.parse(localStorage.getItem("landStates")); var seen1stHouseNotif = 0; void 0 === localStorage.MedFarms_seen1stHouseNotif && localStorage.setItem("MedFarms_seen1stHouseNotif", 0), seen1stHouseNotif = localStorage.getItem("MedFarms_seen1stHouseNotif"), void 0 === localStorage.MedFarms_buyingSmallStars && localStorage.setItem("MedFarms_buyingSmallStars", 0), void 0 === localStorage.MedFarms_buyingLargeStars && localStorage.setItem("MedFarms_buyingLargeStars", 0), void 0 === localStorage.MedFarms_buyingStarterPack && localStorage.setItem("MedFarms_buyingStarterPack", 0), void 0 === localStorage.MedFarms_buyingMasterPack && localStorage.setItem("MedFarms_buyingMasterPack", 0); var itemCarryOver = -1, showHighlight2 = localStorage.getItem("showHighLight"), farming = { EMPTY: 0, PLOWED: 1, GROWING: 2, READY: 3, WITHER: 4, Land: function (e, t, o, i, s, n, r) { function a(e, t, o) { for (var i = 0; i < e.length; i += 1)if (e[i][t] === o) return i; return -1 } lime.Sprite.call(this), this.setAnchorPoint(0, 0), this.setSize(e.tile_size, e.tile_size), this.setFill(imgArray6[5]), "tlt" == n && this.setFill(imgArrayGround[2]), "trt" == n && this.setFill(imgArrayGround[1]), "brt" == n && this.setFill(imgArrayGround[3]), "blt" == n && this.setFill(imgArrayGround[4]), 3 == s && this.setFill("images/Orchard/prune_trees.png"), 32 == s && this.setFill("images/Orchard/prune_trees.png"), 5 == s && this.setFill("images/vinyard/grapes_ClearBrush.png"); var l = this, g = (this.crop, goog.math.Coordinate(this), 0); goog.events.listen(this, ["mousedown", "touchstart"], function (e) { 0 != globalModalBlock && l.state != farming.WITHER || 0 != startedMove && l.state != farming.WITHER || (m(e), g = 1, setTimeout(function () { g = 0 }, 500), startedMove = 1, 1) }), goog.events.listen(this, ["touchmove"], function (e) { 0 != globalModalBlock && l.state != farming.WITHER || 0 == g && (m(e), g = 1, setTimeout(function () { g = 0 }, 500)) }), goog.events.listen(this, ["mousemove"], function (e) { 0 == globalModalBlock && 0 == g && 1 == startedMove && (m(e), g = 1, setTimeout(function () { g = 0, 1 }, 750)) }), goog.events.listen(this, ["mouseup"], function (e) { startedMove = 0, 0 }), goog.events.listen(this, ["touchend"], function (e) { startedMove = 0, 0 }); var d = a(landStateMaster, "name", r); if (-1 == d) { this.state = farming.EMPTY; var c = { name: r, props: { state: this.state, deathTime: 0, ripeTime: 0, crop: t.currentCrop } }; landStateMaster.push(c), localStorage.setItem("landStates", JSON.stringify(landStateMaster)) } else this.state = landStateMaster[d].props.state, this.crop = landStateMaster[d].props.crop, this.ripeTime = landStateMaster[d].props.ripeTime, this.deathTime = landStateMaster[d].props.deathTime, this.state == farming.GROWING && l.setFill("images/" + e.crops[this.crop].grow1), this.state == farming.GROWING && this.ripeTime < 500 * e.crops[this.crop].time_to_ripe && l.setFill("images/" + e.crops[this.crop].grow2), this.state == farming.READY && l.setFill("images/" + e.crops[this.crop].image), this.state == farming.WITHER && this.setFill("images/" + e.crops[this.crop].withered); function m(r) { (1 == s && t.currentCrop > 5 || "undefined" == t.currentCrop) && (t.currentCrop = t.currentCrop = homeCrop), 32 == s && (t.currentCrop = 9), 3 == s && (t.currentCrop = 8); var a = e.crops[t.currentCrop].grow1; e.crops[t.currentCrop].withered; moneyBefore = player.money, l.state == farming.WITHER ? (3 == s && l.setFill("images/Orchard/wither_treesApple.png"), 32 == s && l.setFill("images/Orchard/wither_treesPear.png"), 5 == s && l.setFill("images/vinyard/grapes_withered.png"), l.setFill(imgArrayGround[0]), "tlt" == n && l.setFill(imgArrayGround[2]), "trt" == n && l.setFill(imgArrayGround[1]), "brt" == n && l.setFill(imgArrayGround[3]), "blt" == n && l.setFill(imgArrayGround[4]), 3 == s && l.setFill("images/Orchard/prune_trees.png"), 32 == s && l.setFill("images/Orchard/prune_trees.png"), 5 == s && l.setFill("images/vinyard/grapes_ClearBrush.png"), l.state = farming.EMPTY) : l.state == farming.EMPTY ? (l.setFill("images/plowed.png"), l.state = farming.PLOWED, 3 == s && l.setFill("images/Orchard/fertilize_trees.png"), 32 == s && l.setFill("images/Orchard/fertilize_trees.png"), 5 == s && l.setFill("images/vinyard/grapes_Fertilize.png"), y()) : l.state == farming.PLOWED && player.money >= e.crops[t.currentCrop].cost ? (l.setFill("images/" + a), l.state = farming.GROWING, l.crop = t.currentCrop, l.ripeTime = 2e3 * e.crops[t.currentCrop].time_to_ripe, l.deathTime = 2e3 * e.crops[t.currentCrop].time_to_death, player.money = player.money - e.crops[t.currentCrop].cost, e.updateMoney(), e.displayCost(o, i, e.crops[t.currentCrop].cost)) : l.state == farming.PLOWED && player.money < e.crops[t.currentCrop].cost ? e.displayCost(o, i, e.crops[t.currentCrop].cost + " Required") : l.state == farming.READY && (l.setFill(imgArrayGround[0]), "tlt" == n && l.setFill(imgArrayGround[2]), "trt" == n && l.setFill(imgArrayGround[1]), "brt" == n && l.setFill(imgArrayGround[3]), "blt" == n && l.setFill(imgArrayGround[4]), 3 == s && l.setFill("images/Orchard/prune_trees.png"), 32 == s && l.setFill("images/Orchard/prune_trees.png"), 5 == s && l.setFill("images/vinyard/grapes_ClearBrush.png"), l.state = farming.EMPTY, player.cropsStored[l.crop].stored += 1, pickedEver += 1, 3 == s && 2 == orchardBarnLevel && (l.setFill("images/Orchard/prune_trees.png"), player.cropsStored[l.crop].stored += 1, pickedEver += 1), 32 == s && 2 == orchardBarnLevel && (l.setFill("images/Orchard/prune_trees.png"), player.cropsStored[l.crop].stored += 1, pickedEver += 1), e.updateMoney(), e.updateHarvest(o, i, l.crop), e.updateStored(), e.haySize()) } var p = "", h = 90, u = 0, y = function () { if (1 == collectItems.storeItems[2].owned && (h = 80), 1 == s && 0 == u) { if (u = 1, randomChance = Math.round(Math.random() * h), !(randomChance >= h - 1)) return; var t = Object.keys(collectItems.digUpSells).length; randomItemNumber = Math.round(Math.random() * (t - 1)), 0 == collectItems.digUpSells[randomItemNumber].owned && 0 == collectibleOnScreen && (p = collectItems.digUpSells[randomItemNumber].name, itemCarryOver = randomItemNumber, collectItems.digUpSells[randomItemNumber].owned = 1, localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), e.displayCollectible(o, i, p, !1), setTimeout(function () { u = 0 }, 1e3)) } }; 3 == s && l.state == farming.EMPTY && l.setFill("images/Orchard/prune_trees.png"), 32 == s && l.state == farming.EMPTY && l.setFill("images/Orchard/prune_trees.png"), 5 == s && l.state == farming.EMPTY && l.setFill("images/vinyard/grapes_ClearBrush.png"), dt = 2e3, adWatched = 0; var S = 0, f = 0; lime.scheduleManager.scheduleWithDelay(function () { S = localStorage.getItem("adWatched"), f = localStorage.getItem("MedFarm_StarCashBoost"), 1 == S && l.state == farming.GROWING && 0 == f && (l.ripeTime = 0, setTimeout(function () { localStorage.setItem("adWatched", 0), S = 0 }, 400)) }, this, 1e3), lime.scheduleManager.scheduleWithDelay(function () { this.state == farming.GROWING ? 0 >= this.ripeTime ? (this.state = farming.READY, this.setFill("images/" + e.crops[this.crop].image)) : this.ripeTime -= 1e3 : this.state == farming.READY && (0 >= this.deathTime ? (this.state = farming.WITHER, this.setFill("images/" + e.crops[this.crop].withered)) : this.deathTime -= 1e3), 1 == pickedEver && (showHighLight = 1, showHighLight2 = 1, localStorage.setItem("showHighLight", 1)), 8 == e.crops[this.crop] && this.deathTime < 0 && this.setFill("images/Orchard/prune_trees.png"), 9 == e.crops[this.crop] && this.deathTime < 0 && this.setFill("images/Orchard/prune_trees.png"), 12 == e.crops[this.crop] && this.deathTime < 0 && this.setFill("images/vinyard/grapes_ClearBrush.png"); var o = 1e3 * e.crops[t.currentCrop].time_to_ripe; this.state == farming.GROWING && (o >= this.ripeTime ? this.setFill("images/" + e.crops[this.crop].grow2) : this.deathTime -= 1e3), 3 == s && l.state == farming.EMPTY && l.setFill("images/Orchard/prune_trees.png"), 32 == s && l.state == farming.EMPTY && l.setFill("images/Orchard/prune_trees.png"), 5 == s && l.state == farming.EMPTY && l.setFill("images/vinyard/grapes_ClearBrush.png"); var i = { state: this.state, deathTime: this.deathTime, ripeTime: this.ripeTime, crop: this.crop }, n = a(landStateMaster, "name", r); landStateMaster[n].props = i, localStorage.setItem("landStates", JSON.stringify(landStateMaster)) }, this, dt) } }; goog.inherits(farming.Land, lime.Sprite), lime.Scene = function () { lime.Node.call(this), this.setAnchorPoint(0, 0), this.domClassName = "lime-scene", this.createDomElement() }, goog.inherits(lime.Scene, lime.Node), lime.Scene.prototype.getScene = function () { return this }, lime.Scene.prototype.measureContents = function () { return this.getFrame() }, lime.Button = function (e, t) { lime.Layer.call(this), this.domClassName = "lime-button", goog.isDef(e) && this.setUpState(e), goog.isDef(t) && this.setDownState(t); var o = this; goog.events.listen(this, ["mousedown", "touchstart", "touchmove"], function (e) { o.setState(lime.Button.State.DOWN), e.swallow("mousemove", function (e) { o.hitTest(e) ? o.setState(lime.Button.State.DOWN) : o.setState(lime.Button.State.UP) }), e.swallow("touchmove", function (e) { o.hitTest(e) || (o.setState(lime.Button.State.UP), e.release()) }), e.swallow(["mouseup", "touchend"], function (e) { o.hitTest(e) && o.dispatchEvent({ type: lime.Button.Event.CLICK }), this.setState(lime.Button.State.UP) }) }) }, goog.inherits(lime.Button, lime.Layer), lime.Button.State = { UP: 0, DOWN: 1 }, lime.Button.Event = { UP: "up", DOWN: "down", CLICK: "click" }, lime.Button.prototype.setUpState = function (e) { return this.upstate = e, this.appendChild(this.upstate), this.state_ = -1, this.setState(lime.Button.State.UP) }, lime.Button.prototype.setDownState = function (e) { return this.downstate = e, this.appendChild(e), this.state_ = -1, this.setState(lime.Button.State.UP) }, lime.Button.prototype.getState = function () { return this.state_ }, lime.Button.prototype.setState = function (e) { if (e == this.state_) return this; this.state_ == lime.Button.State.UP && e == lime.Button.State.DOWN && this.dispatchEvent({ type: lime.Button.Event.DOWN }), this.state_ == lime.Button.State.DOWN && e == lime.Button.State.UP && this.dispatchEvent({ type: lime.Button.Event.UP }); var t = this.upstate; return goog.isDef(this.downstate) && (lime.Button.State.DOWN == e ? t = this.downstate : this.downstate.setHidden(!0)), t != this.upstate && this.upstate.setHidden(!0), t.setHidden(!1), this.state_ = e, this }, lime.Renderer.CANVAS.ROUNDEDRECT = {}, lime.Renderer.DOM.ROUNDEDRECT = {}, lime.RoundedRect = function () { lime.Sprite.call(this), this.setRadius(5) }, goog.inherits(lime.RoundedRect, lime.Sprite), lime.RoundedRect.prototype.id = "roundedrect", lime.RoundedRect.prototype.supportedRenderers = [lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.ROUNDEDRECT), lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.ROUNDEDRECT)], lime.RoundedRect.prototype.getRadius = function () { return this.radius_ }, lime.RoundedRect.prototype.getUnitPercentage = function () { return this.unitPercentage_ }, lime.RoundedRect.prototype.setRadius = function (e, t) { return this.unitPercentage_ = t || !1, this.radius_ = e, this }, lime.Renderer.DOM.ROUNDEDRECT.draw = function (e) { this.getSize(), lime.Renderer.DOM.SPRITE.draw.call(this, e), lime.style.setBorderRadius(e, [this.radius_ * this.getQuality(), this.radius_ * this.getQuality()]) }, lime.Renderer.CANVAS.ROUNDEDRECT.draw = function (e) { this.getSize(), this.getFill(); var t = this.getFrame(), o = this.getRadius(), i = t.left, s = t.top, n = t.right - t.left; t = t.bottom - t.top; e.save(), e.beginPath(), e.moveTo(i + o, s), e.lineTo(i + n - o, s), e.quadraticCurveTo(i + n, s, i + n, s + o), e.lineTo(i + n, s + t - o), e.quadraticCurveTo(i + n, s + t, i + n - o, s + t), e.lineTo(i + o, s + t), e.quadraticCurveTo(i, s + t, i, s + t - o), e.lineTo(i, s + o), e.quadraticCurveTo(i, s, i + o, s), e.closePath(), e.clip(), lime.Renderer.CANVAS.SPRITE.draw.call(this, e), this.stroke_ && (e.lineWidth *= 2, e.stroke()), e.restore() }, lime.Renderer.CANVAS.LABEL = {}, lime.Renderer.DOM.LABEL = {}, lime.Label = function (e) { lime.Sprite.call(this), this.setText(e), this.setFontFamily(lime.Label.defaultFont), this.setFontSize(14), this.setFontColor("#000"), this.setAlign("center"), this.setFontWeight("400"), this.setPadding(0), this.setLineHeight(1.15), this.setShadow(null), this.setFill(255, 255, 255, 0) }, goog.inherits(lime.Label, lime.Sprite), lime.Label.prototype.id = "label", lime.Label.defaultFont = "Arial", lime.Label.prototype.supportedRenderers = [lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.LABEL), lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.LABEL)], function () { var e; lime.Label.prototype.measureText = function () { goog.isDef(e) || (e = document.createElement("canvas").getContext("2d")); var t = this.getLineHeight() * this.getFontSize(); e.font = this.getFontSize() + "px " + this.getFontFamily(); var o = e.measureText(this.text_); o = goog.userAgent.WEBKIT ? o.width : o.width + 1; lime.userAgent.IOS5 && (o += 1); var i = this.stroke_ ? this.stroke_.width_ : 0; return new goog.math.Size(this.padding_[1] + this.padding_[3] + o + 2 * i, this.padding_[0] + this.padding_[2] + t + 2 * i) } }(), lime.Label.prototype.getSize = function () { var e = lime.Node.prototype.getSize.call(this); return e && (e.width || e.height) ? e : this.measureText() }, lime.Label.prototype.getText = function () { return this.text_ }, lime.Label.prototype.setText = function (e) { return this.text_ = e + "", this.setDirty(lime.Dirty.CONTENT), delete this.words_, this }, lime.Label.prototype.getFontFamily = function () { return this.fontFamily_ }, lime.Label.prototype.setFontWeight = function (e) { return this.fontWeight_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getFontWeight = function () { return this.fontWeight_ }, lime.Label.prototype.setFontFamily = function (e) { return this.fontFamily_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getFontSize = function () { return this.fontSize_ }, lime.Label.prototype.setFontSize = function (e) { return this.fontSize_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getFontColor = function () { return this.fontColor_ }, lime.Label.prototype.setFontColor = function (e) { return this.fontColor_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getPadding = function () { return this.padding_ }, lime.Label.prototype.setPadding = function (e, t, o, i) { return e = [e, e, e, e], goog.isDef(t) && (e[1] = e[3] = t), goog.isDef(o) && (e[2] = o), goog.isDef(i) && (e[3] = i), this.padding_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.setLineHeight = function (e, t) { return this.lineHeightAbsolute_ = t || !1, this.lineHeight_ = e, this }, lime.Label.prototype.getLineHeight = function () { var e = Math.abs(this.getShadowOffset().y) + 2 * this.shadowBlur_; return this.lineHeightAbsolute_ ? (this.lineHeight_ + e) / this.getFontSize() : this.lineHeight_ + e / this.getFontSize() }, lime.Label.prototype.getAlign = function () { return this.align_ }, lime.Label.prototype.setAlign = function (e) { return this.align_ = e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.setShadow = function (e, t, o, i) { return 1 == arguments.length && goog.isNull(e) ? (this.setShadowColor("#ccc"), this.setShadowBlur(0), this.setShadowOffset(0, 0)) : 2 == arguments.length ? (this.setShadowColor(e), this.setShadowBlur(t), this.setShadowOffset(new goog.math.Vec2(0, 0))) : 3 == arguments.length ? (this.setShadowColor(e), this.setShadowBlur(t), this.setShadowOffset(o)) : (this.setShadowColor(e), this.setShadowBlur(t), this.setShadowOffset(o, i)), this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.hasShadow_ = function () { return this.shadowBlur_ || this.shadowOffset_.x || this.shadowOffset_.y }, lime.Label.prototype.getShadowColor = function () { return this.shadowColor_ }, lime.Label.prototype.getShadowOffset = function () { return this.shadowOffset_ }, lime.Label.prototype.setShadowColor = function (e) { return this.shadowColor_ = e, this }, lime.Label.prototype.setShadowBlur = function (e) { return this.shadowBlur_ = e, this }, lime.Label.prototype.setShadowOffset = function (e, t) { return this.shadowOffset_ = 2 == arguments.length ? new goog.math.Vec2(arguments[0], arguments[1]) : e, this.setDirty(lime.Dirty.FONT), this }, lime.Label.prototype.getShadowBlur = function () { return this.shadowBlur_ }, lime.Label.prototype.calcWordsArray = function () { var e = [], t = this.text_.length, o = this.text_.match(goog.userAgent.GECKO ? /[\s\.]+/g : /[\s-\.]+/g), i = 0; if (o) for (var s = 0; s < o.length; s++) { var n = o[s]; n = this.text_.indexOf(n, i) + n.length; e.push(this.text_.substring(i, n)), i = n } return i != t && e.push(this.text_.substring(i, t)), e }, lime.Label.prototype.wrapText = function (e, t) { for (var o = [], i = "", s = this.words_, n = 0; n < s.length; n++)"" == i ? i = s[n] : e.measureText(goog.string.trim(i + s[n])).width > t ? (o.push(goog.string.trim(i)), i = s[n]) : i += s[n]; return o.push(i), o }, lime.Label.prototype.update = function () { this.getDirty() & lime.Dirty.CONTENT && delete this.lastDrawnWidth_, lime.Node.prototype.update.apply(this, arguments) }, lime.Renderer.DOM.LABEL.draw = function (e) { lime.Renderer.DOM.SPRITE.draw.call(this, e); var t = e.style; this.dirty_ & lime.Dirty.CONTENT && goog.dom.setTextContent(e, this.text_), this.dirty_ & lime.Dirty.FONT && (t.lineHeight = this.getLineHeight(), t.padding = goog.array.map(this.padding_, function (e) { return e * this.getRelativeQuality() }, this).join("px ") + "px", t.color = this.getFontColor(), t.fontFamily = this.getFontFamily(), t.fontSize = this.getFontSize() * this.getRelativeQuality() + "px", t.fontWeight = this.getFontWeight(), t.textAlign = this.getAlign(), t.textShadow = this.hasShadow_() ? this.getShadowColor() + " " + this.getShadowOffset().x + "px " + this.getShadowOffset().y + "px " + this.getShadowBlur() + "px" : "") }, lime.Renderer.CANVAS.LABEL.draw = function (e) { lime.Renderer.CANVAS.SPRITE.draw.call(this, e); var t = this.getFrame(), o = -t.left - this.padding_[3] + t.right - this.padding_[1] + Math.abs(this.getShadowOffset().x) + Math.abs(2 * this.getShadowBlur()), i = 0; this.words_ || (this.words_ = this.calcWordsArray(), i = 1); var s = this.stroke_ ? this.stroke_.width_ : 0; e.save(); var n = this.getAlign(); if ("left" == n ? e.translate(t.left + this.padding_[3] + s, t.top + this.padding_[0] + s) : "right" == n ? e.translate(t.right - this.padding_[1] - s, t.top + this.padding_[0] + s) : "center" == n && e.translate(.5 * (t.left + this.padding_[3] + t.right - this.padding_[1]), t.top + this.padding_[0] + s), t = this.getLineHeight(), e.fillStyle = this.getFontColor(), e.font = this.getFontWeight() + " " + this.getFontSize() + "px/" + t + " " + this.getFontFamily(), e.textAlign = n, e.textBaseline = "top", this.hasShadow_() && (e.shadowColor = this.getShadowColor(), e.shadowOffsetX = this.getShadowOffset().x, e.shadowOffsetY = this.getShadowOffset().y, e.shadowBlur = this.getShadowBlur()), (i || o != this.lastDrawnWidth_) && (this.lines_ = this.wrapText(e, o), this.lastDrawnWidth_ = o), this.lines_) for (o = t * this.getFontSize(), i = (goog.isDef(this.getShadowBlur()) ? Math.abs(this.getShadowBlur()) : 0) + (goog.isDef(this.getShadowOffset()) ? Math.abs(this.getShadowOffset().y) / 2 : 0), o = goog.userAgent.WEBKIT ? Math.floor(o) : Math.round(o), n = 0; n < this.lines_.length; n++)e.fillText(this.lines_[n], 0, o * n + i - .5); e.restore() }, lime.Label.installFont = function (e, t, o) { goog.style.installStyles('@font-face{font-family: "' + e + '";src: url(' + t + ') format("' + (o || "truetype") + '");})') }, lime.fill.LinearGradient = function () { lime.fill.Fill.call(this), this.colors_ = [], this.setDirection(0, 0, 0, 1) }, goog.inherits(lime.fill.LinearGradient, lime.fill.Fill), lime.fill.LinearGradient.prototype.id = "lineargradient", lime.fill.LinearGradient.prototype.initForSprite = function (e) { (goog.userAgent.OPERA || goog.userAgent.IE) && e.setRenderer(lime.Renderer.CANVAS) }, lime.fill.LinearGradient.prototype.setDirection = function (e, t, o, i) { return this.points_ = [e, t, o, i], this }, lime.fill.LinearGradient.prototype.addColorStop = function (e, t) { var o = goog.array.toArray(arguments); return o.shift(), this.colors_.push([e, lime.fill.parse(o)]), this }, lime.fill.LinearGradient.prototype.formatColorStop_ = function (e) { return goog.userAgent.WEBKIT ? "color-stop(" + e[0] + ", " + e[1].str + ")" : e[1].str + " " + 100 * e[0] * this.rate + "%" }, lime.fill.LinearGradient.prototype.setDOMStyle = function (e, t) { var o, i = t.getFrame(); o = i.right - i.left; var s = i.bottom - i.top; if (!goog.userAgent.WEBKIT) { var n = (this.points_[2] - this.points_[0]) * o, r = (this.points_[1] - this.points_[3]) * s, a = i.left + o * this.points_[0], l = i.top + s * this.points_[1], g = Math.atan2(r, n), d = -r / n; 1 / 0 == d && (d = Math.pow(10, 10)), d = d * (i = ((i = 0 < g && g < Math.PI / 2 ? [i.right, i.top] : 0 < g ? [i.left, i.top] : g > -Math.PI / 2 ? [i.right, i.bottom] : [i.left, i.bottom])[1] + 1 / d * i[0] - l + d * a) / (d + 1 / d)) + l - a * d, i -= a, d -= l, this.rate = Math.sqrt((n * n + r * r) / (i * i + d * d)) } n = goog.array.map(this.colors_, this.formatColorStop_, this), o = goog.userAgent.WEBKIT ? "-webkit-gradient(linear," + 100 * this.points_[0] + "% " + 100 * this.points_[1] + "%," + 100 * this.points_[2] + "% " + 100 * this.points_[3] + "%," + n.join(",") + ")" : "linear-gradient(" + 100 * this.points_[0] + "% " + 100 * this.points_[1] + "% " + Math.atan2((this.points_[1] - this.points_[3]) * s, (this.points_[2] - this.points_[0]) * o) + "rad," + n.join(",") + ")", goog.userAgent.GECKO && (o = "-moz-" + o), e.style.background = o }, lime.fill.LinearGradient.prototype.setCanvasStyle = function (e, t) { for (var o = this.points_, i = (n = t.getFrame()).right - n.left, s = n.bottom - n.top, n = (o = e.createLinearGradient(n.left + i * o[0], n.top + s * o[1], n.left + i * o[2], n.top + s * o[3]), 0); n < this.colors_.length; n++)o.addColorStop(this.colors_[n][0], this.colors_[n][1].str); e.fillStyle = o }, lime.GlossyButton = function (e) { lime.Button.call(this, this.makeState_(e), this.makeState_(e)), this.borderWidth = 2, this.setText(e), this.setColor("#62be00") }, goog.inherits(lime.GlossyButton, lime.Button), lime.GlossyButton.prototype.makeState_ = function (e) { var t = new lime.RoundedRect; return t.inner = new lime.RoundedRect, t.label = new lime.Label(e).setAlign("center").setFontFamily('"Trebuchet MS"').setFontColor("#010101").setFontSize(17), t.appendChild(t.inner), t.inner.appendChild(t.label), t }, lime.GlossyButton.prototype.setColor = function (e) { return e = lime.fill.parse(e), goog.array.forEach([this.upstate, this.downstate], function (t) { var o = t == this.downstate ? e.clone().addSaturation(-.2) : e; t.setFill(o); var i = (new lime.fill.LinearGradient).setDirection(0, 0, 0, 1); i.addColorStop(0, o.clone().addBrightness(.13)), i.addColorStop(.5, o.clone().addBrightness(.05)), i.addColorStop(.52, o), i.addColorStop(1, o), t.inner.setFill(i) }, this), this }, lime.GlossyButton.prototype.setText = function (e) { return this.upstate.label.setText(e), this.downstate.label.setText(e), this }, lime.GlossyButton.prototype.setSize = function (e, t) { if (this.upstate) { this.upstate.setSize.apply(this.upstate, arguments); var o = this.upstate.getSize(); goog.array.forEach([this.upstate, this.downstate], function (e) { e.setSize(o); var t = o.clone(); t.width -= this.borderWidth, t.height -= this.borderWidth, e.inner.setSize(t) }, this) } return this }, lime.GlossyButton.prototype.getSize = function () { return this.upstate.getSize() }, lime.CoverNode = function () { lime.Node.call(this); var e = this.baseElement; this.baseElement = document.createElement("canvas"), goog.dom.replaceNode(this.baseElement, e), this.context = this.baseElement.getContext("2d"), goog.dom.classes.add(this.baseElement, "lime-cover") }, goog.inherits(lime.CoverNode, lime.Node), lime.CoverNode.prototype.update = function () { if (this.director) { var e = goog.style.getSize(this.director.baseElement.parentNode), t = this.baseElement.style, o = this.director.getScale(), i = this.getQuality(); t.width = e.width + "px", t.height = e.height + "px", this.baseElement.width = e.width / o.x * i, this.baseElement.height = e.height / o.y * i, this.updateRect_ ? this.setNeedsRedrawInRect(this.updateRect_) : this.setNeedsRedraw() } }, lime.CoverNode.prototype.setNeedsRedraw = function () { this.setNeedsRedrawInRect(this.director.getBounds(new goog.math.Box(0, this.baseElement.width / this.getQuality(), this.baseElement.height / this.getQuality(), 0))) }, lime.CoverNode.prototype.setNeedsRedrawInRect = function (e) { var t = this.director, o = this.getQuality(), i = t.getScale(); t = t.getPosition(); this.context.save(), this.context.scale(o, o), this.context.translate(t.x / i.x, t.y / i.y), this.drawInRect(e), this.context.restore() }, lime.helper = {}, lime.helper.PauseScene = function () { lime.Scene.call(this), this.domElement.style.cssText = "background:rgba(255,255,255,.8)" }, goog.inherits(lime.helper.PauseScene, lime.Scene), goog.fx = {}, goog.fx.easing = {}, goog.fx.easing.easeIn = function (e) { return e * e * e }, goog.fx.easing.easeOut = function (e) { return 1 - Math.pow(1 - e, 3) }, goog.fx.easing.inAndOut = function (e) { return 3 * e * e - 2 * e * e * e }, lime.scheduleManager = new function () { this.taskStack_ = [], this.active_ = !1, this.intervalID_ = 0, this.displayRate_ = 1e3 / 30, this.lastRunTime_ = 0 }, lime.scheduleManager.Task = function (e, t) { this.delta = this.maxdelta = e, this.limit = goog.isDef(t) ? t : -1, this.functionStack_ = [] }, lime.scheduleManager.Task.prototype.step_ = function (e) { if (this.functionStack_.length) if (this.delta > e) this.delta -= e; else { var t = this.maxdelta + e - this.delta; this.delta = this.maxdelta - (e - this.delta), 0 > this.delta && (this.delta = 0); var o; for (e = this.functionStack_.length; 0 <= --e;)(o = this.functionStack_[e]) && o[0] && goog.isFunction(o[1]) && o[1].call(o[2], t); -1 != this.limit && (this.limit-- , 0 == this.limit && lime.scheduleManager.unschedule(o[1], o[2])) } }, lime.scheduleManager.taskStack_.push(new lime.scheduleManager.Task(0)), lime.scheduleManager.USE_ANIMATION_FRAME = goog.global.mozRequestAnimationFrame || goog.global.webkitRequestAnimationFrame, lime.scheduleManager.getDisplayRate = function () { return this.displayRate_ }, lime.scheduleManager.setDisplayRate = function (e) { this.displayRate_ = e, this.active_ && (lime.scheduleManager.disable_(), lime.scheduleManager.activate_()) }, lime.scheduleManager.schedule = function (e, t, o) { o = goog.isDef(o) ? o : this.taskStack_[0], goog.array.insert(o.functionStack_, [1, e, t]), goog.array.insert(this.taskStack_, o), this.active_ || lime.scheduleManager.activate_() }, lime.scheduleManager.unschedule = function (e, t) { for (var o = this.taskStack_.length; 0 <= --o;) { for (var i, s = this.taskStack_[o], n = s.functionStack_, r = n.length; 0 <= --r;)(i = n[r])[1] == e && i[2] == t && goog.array.remove(n, i); 0 == n.length && 0 != o && goog.array.remove(this.taskStack_, s) } 1 == this.taskStack_.length && 0 == this.taskStack_[0].functionStack_.length && lime.scheduleManager.disable_() }, lime.scheduleManager.activate_ = function () { this.active_ || (this.lastRunTime_ = goog.now(), lime.scheduleManager.USE_ANIMATION_FRAME ? goog.global.mozRequestAnimationFrame ? 11 <= goog.userAgent.VERSION ? (this.animationFrameHandlerBinded_ = goog.bind(lime.scheduleManager.animationFrameHandler_, this), goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_)) : (goog.global.mozRequestAnimationFrame(), this.beforePaintHandlerBinded_ = goog.bind(lime.scheduleManager.beforePaintHandler_, this), goog.global.addEventListener("MozBeforePaint", this.beforePaintHandlerBinded_, !1)) : (this.animationFrameHandlerBinded_ = goog.bind(lime.scheduleManager.animationFrameHandler_, this), goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_)) : this.intervalID_ = setInterval(goog.bind(lime.scheduleManager.stepTimer_, this), lime.scheduleManager.getDisplayRate()), this.active_ = !0) }, lime.scheduleManager.disable_ = function () { this.active_ && (lime.scheduleManager.USE_ANIMATION_FRAME ? goog.global.mozRequestAnimationFrame ? 11 <= goog.userAgent.VERSION ? goog.global.mozCancelRequestAnimationFrame(this.animationFrameHandlerBinded_) : goog.global.removeEventListener("MozBeforePaint", this.beforePaintHandlerBinded_, !1) : goog.global.webkitCancelRequestAnimationFrame(this.animationFrameHandlerBinded_) : clearInterval(this.intervalID_), this.active_ = !1) }, lime.scheduleManager.animationFrameHandler_ = function (e) { var t, o = goog.global.performance; o && (t = o.now || o.webkitNow) ? e = o.timing.navigationStart + t.call(o) : e || (e = goog.now()), 0 > (o = e - this.lastRunTime_) && (o = 1), lime.scheduleManager.dispatch_(o), this.lastRunTime_ = e, goog.global.requestAnimationFrame ? goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_) : goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_) }, lime.scheduleManager.beforePaintHandler_ = function (e) { lime.scheduleManager.dispatch_(e.timeStamp - this.lastRunTime_), this.lastRunTime_ = e.timeStamp, goog.global.mozRequestAnimationFrame() }, lime.scheduleManager.stepTimer_ = function () { var e = goog.now(), t = e - this.lastRunTime_; 0 > t && (t = 1), lime.scheduleManager.dispatch_(t), this.lastRunTime_ = e }, lime.scheduleManager.dispatch_ = function (e) { for (var t = this.taskStack_.length; 0 <= --t;)this.taskStack_[t].step_(e); 1 == lime.transformSet_ && /Firefox\/4./.test(goog.userAgent.getUserAgentString()) && !lime.FF4_USE_HW_ACCELERATION && (lime.scheduleManager.odd_ ? (document.body.style.MozTransform = "", lime.scheduleManager.odd_ = 0) : (document.body.style.MozTransform = "scale(1,1)", lime.scheduleManager.odd_ = 1), lime.transformSet_ = 0) }, lime.scheduleManager.changeDirectorActivity = function (e, t) { for (var o, i, s, n, r = this.taskStack_.length; 0 <= --r;)for (n = (o = this.taskStack_[r]).functionStack_.length; 0 <= --n;)i = (s = o.functionStack_[n])[2], goog.isFunction(i.getDirector) && ((i = i.getDirector()) == e && (s[0] = t)) }, lime.scheduleManager.callAfter = function (e, t, o) { lime.scheduleManager.scheduleWithDelay(e, t, o, 1) }, lime.scheduleManager.scheduleWithDelay = function (e, t, o, i) { o = new lime.scheduleManager.Task(o, i), lime.scheduleManager.schedule(e, t, o) }, lime.animation = {}, lime.animation.Animation = function () { goog.events.EventTarget.call(this), this.targets = [], this.initTargets_ = [], this.targetProp_ = {}, this.isPlaying_ = !1, this.duration_ = 1, this.ease = lime.animation.Easing.EASEINOUT, this.status_ = 0 }, goog.inherits(lime.animation.Animation, goog.events.EventTarget), lime.animation.Animation.prototype.scope = "", lime.animation.Event = { START: "start", STOP: "stop" }, lime.animation.Animation.prototype.getDuration = function () { return this.duration_ }, lime.animation.Animation.prototype.setDuration = function (e) { return this.duration_ = e, this }, lime.animation.Animation.prototype.setEasing = function (e) { return this.ease = e, this }, lime.animation.Animation.prototype.getEasing = function () { return this.ease }, lime.animation.Animation.prototype.addTarget = function (e) { return goog.array.insert(this.targets, e), this }, lime.animation.Animation.prototype.removeTarget = function (e) { return goog.array.remove(this.targets, e), this }, lime.animation.Animation.prototype.play = function () { this.playTime_ = 0, this.firstFrame_ = this.status_ = 1, lime.scheduleManager.schedule(this.step_, this), this.dispatchEvent({ type: lime.animation.Event.START }) }, lime.animation.Animation.prototype.stop = function () { if (0 != this.status_) { var e = this.initTargets_; if (this.useTransitions() && this.clearTransition) for (var t = e.length; 0 <= --t;)this.clearTransition(e[t]); this.initTargets_ = [], this.targetProp_ = {}, this.status_ = 0, lime.scheduleManager.unschedule(this.step_, this), this.dispatchEvent({ type: lime.animation.Event.STOP }) } }, lime.animation.Animation.prototype.makeTargetProp = function () { return {} }, lime.animation.Animation.prototype.getTargetProp = function (e) { var t = goog.getUid(e); return goog.isDef(this.targetProp_[t]) || (this.initTarget(e), this.targetProp_[t] = this.makeTargetProp(e)), this.targetProp_[t] }, lime.animation.Animation.prototype.initTarget = function (e) { lime.animation.actionManager.register(this, e), this.status_ = 1, goog.array.insert(this.initTargets_, e), this.speed_ && !this.speedCalcDone_ && this.calcDurationFromSpeed_ && this.calcDurationFromSpeed_() }, lime.animation.Animation.prototype.getDirector = function () { return this.targets[0] ? this.targets[0].getDirector() : null }, lime.animation.Animation.prototype.step_ = function (e) { this.speed_ && !this.speedCalcDone_ && this.calcDurationFromSpeed_ && this.calcDurationFromSpeed_(), this.firstFrame_ && (delete this.firstFrame_, e = 1), this.playTime_ += e, this.dt_ = e, e = this.playTime_ / (1e3 * this.duration_), (isNaN(e) || 1 <= e) && (e = 1), 1 == (e = this.updateAll(e, this.targets)) && this.stop() }, lime.animation.Animation.prototype.updateAll = function (e, t) { e = this.getEasing()[0](e), isNaN(e) && (e = 1); for (var o = t.length; 0 <= --o;)this.update(e, t[o]); return e }, lime.animation.Animation.prototype.useTransitions = function () { return 0 < this.duration_ && lime.style.isTransitionsSupported && this.optimizations_ && !lime.userAgent.ANDROID && !goog.userAgent.GECKO }, lime.animation.Animation.prototype.enableOptimizations = function (e) { return this.optimizations_ = !goog.isDef(e) || e, this }, lime.animation.Animation.prototype.cloneParam = function (e) { return this.setDuration(e.getDuration()).enableOptimizations(e.optimizations_) }, lime.animation.Animation.prototype.reverse = function () { throw "Reverseform not supported for this animation" }, lime.animation.actionManager = new function () { this.actions = {} }, lime.animation.actionManager.register = function (e, t) { if (e.scope.length) { var o = goog.getUid(t); goog.isDef(this.actions[o]) || (this.actions[o] = {}), goog.isDef(this.actions[o][e.scope]) && this.actions[o][e.scope].stop(), this.actions[o][e.scope] = e } }, lime.animation.actionManager.stopAll = function (e) { if (e = goog.getUid(e), goog.isDef(this.actions[e])) for (var t in this.actions[e]) this.actions[e][t].stop(), delete this.actions[e][t] }, function () { var e = 0, t = 0, o = 0, i = 0, s = 0, n = 0; lime.animation.getEasingFunction = function (r, a, l, g) { return [function (d) { return e = 1 - (o = 3 * r) - (t = 3 * (l - r) - o), i = 1 - (n = 3 * a) - (s = 3 * (g - a) - n), d = function (i, s) { var n, r, a, l; for (a = i, r = 0; 8 > r; r++) { if ((0 <= (l = ((e * a + t) * a + o) * a - i) ? l : 0 - l) < s) return a; if (1e-6 > (0 <= (n = (3 * e * a + 2 * t) * a + o) ? n : 0 - n)) break; a -= l / n } if ((a = i) < (n = 0)) return n; if (a > (r = 1)) return r; for (; n < r && !((0 <= (l = ((e * a + t) * a + o) * a) - i ? l - i : 0 - (l - i)) < s);)i > l ? n = a : r = a, a = .5 * (r - n) + n; return a }(d, 5e-5), ((i * d + s) * d + n) * d }, r, a, l, g] } }(), lime.animation.Easing = { EASE: lime.animation.getEasingFunction(.25, .1, .25, 1), LINEAR: lime.animation.getEasingFunction(0, 0, 1, 1), EASEIN: lime.animation.getEasingFunction(.42, 0, 1, 1), EASEOUT: lime.animation.getEasingFunction(0, 0, .58, 1), EASEINOUT: lime.animation.getEasingFunction(.42, 0, .58, 1) }, lime.animation.MoveTo = function (e, t) { lime.animation.Animation.call(this), this.position_ = 2 == arguments.length ? new goog.math.Coordinate(arguments[0], arguments[1]) : e }, goog.inherits(lime.animation.MoveTo, lime.animation.Animation), lime.animation.MoveTo.prototype.scope = "move", lime.animation.MoveTo.prototype.setSpeed = function (e) { return this.speed_ = e, delete this.speedCalcDone_, this }, lime.animation.MoveTo.prototype.makeTargetProp = function (e) { var t = e.getPosition(), o = new goog.math.Coordinate(this.position_.x - t.x, this.position_.y - t.y); return this.useTransitions() && (e.addTransition(lime.Transition.POSITION, this.position_, this.duration_, this.getEasing()), e.setDirty(lime.Dirty.POSITION)), { startpos: t, delta: o } }, lime.animation.MoveTo.prototype.calcDurationFromSpeed_ = function () { if (this.speed_ && this.targets.length) { var e = this.targets[0].getPosition(); e = new goog.math.Coordinate(this.position_.x - e.x, this.position_.y - e.y); this.setDuration(this.speed_ * goog.math.Coordinate.distance(e, new goog.math.Coordinate(0, 0)) / 100), this.speedCalcDone_ = 1 } }, lime.animation.MoveTo.prototype.update = function (e, t) { if (0 != this.status_) { var o = this.getTargetProp(t); t.setPosition(o.startpos.x + o.delta.x * e, o.startpos.y + o.delta.y * e) } }, lime.animation.MoveTo.prototype.clearTransition = function (e) { this.useTransitions() && (e.clearTransition(lime.Transition.POSITION), e.setDirty(lime.Dirty.POSITION)) }, lime.events = {}, lime.events.Drag = function (e, t, o, i) { goog.events.EventTarget.call(this), this.target = i || e.targetObject, this.dropTargets_ = [], this.dropIndex_ = -1, this.y = this.x = 0, t || (t = this.target.localToScreen(new goog.math.Coordinate(0, 0)), this.x = e.screenPosition.x - t.x, this.y = e.screenPosition.y - t.y), e.swallow(["touchmove", "mousemove"], goog.bind(this.moveHandler_, this)), e.swallow(["touchend", "touchcancel", "mouseup"], goog.bind(this.releaseHandler_, this)), this.setBounds(o || null), this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.START)) }, goog.inherits(lime.events.Drag, goog.events.EventTarget), lime.events.Drag.Event = { START: "start", END: "end", MOVE: "move", CHANGE: "change", DROP: "drop", CANCEL: "cancel" }, lime.events.Drag.prototype.disposeInternal = function () { lime.events.Drag.superClass_.disposeInternal.call(this), this.dropTargets_ = this.target = this.event_ = null }, lime.events.Drag.prototype.getBounds = function () { return this.bounds_ }, lime.events.Drag.prototype.setBounds = function (e) { this.bounds_ = e }, lime.events.Drag.prototype.moveHandler_ = function (e) { (e = e.screenPosition.clone()).x -= this.x, e.y -= this.y; e = this.target.getParent().screenToLocal(e); var t = this.getBounds(); goog.isDefAndNotNull(t) && (e.x < t.left ? e.x = t.left : e.x > t.right && (e.x = t.right), e.y < t.top ? e.y = t.top : e.y > t.bottom && (e.y = t.bottom)), this.target.setPosition(e), this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.MOVE)); e = -1, t = goog.math.Rect.createFromBox(this.target.getFrame()); for (var o = [], i = 0; i < this.dropTargets_.length; i++) { var s = this.dropTargets_[i]; if (!goog.isFunction(s.confirmTargetActive) || s.confirmTargetActive(this.target)) { var n = s.getFrame(), r = s.localToNode(new goog.math.Coordinate(n.left, n.top), this.target); s = s.localToNode(new goog.math.Coordinate(n.right, n.bottom), this.target), r = goog.math.Rect.createFromBox(new goog.math.Box(Math.min(r.y, s.y), Math.max(r.x, s.x), Math.max(r.y, s.y), Math.min(s.x, r.x))); (s = goog.math.Rect.intersection(t, r)) && o.push([s.width * s.height / (r.width * r.height), i]) } } o.length && (e = (o = o.sort(function (e, t) { return t[0] - e[0] }))[0][1]), e != this.dropIndex_ && (-1 != this.dropIndex_ && goog.isFunction(this.dropTargets_[this.dropIndex_].hideDropHighlight) && this.dropTargets_[this.dropIndex_].hideDropHighlight(), this.dropIndex_ = e, -1 != this.dropIndex_ && goog.isFunction(this.dropTargets_[this.dropIndex_].showDropHighlight) && this.dropTargets_[this.dropIndex_].showDropHighlight(), (e = new goog.events.Event(lime.events.Drag.Event.CHANGE)).activeDropTarget = -1 != this.dropIndex_ ? this.dropTargets_[this.dropIndex_] : null, this.dispatchEvent(e)) }, lime.events.Drag.prototype.releaseHandler_ = function () { if (-1 != this.dropIndex_) { var e = new goog.events.Event(lime.events.Drag.Event.DROP); if (e.activeDropTarget = this.dropTargets_[this.dropIndex_], goog.isFunction(e.activeDropTarget.showDropHighlight) && e.activeDropTarget.hideDropHighlight(), this.dispatchEvent(e), !e.propagationStopped_) { var t = e.activeDropTarget.getParent().localToNode(e.activeDropTarget.getPosition(), this.target.getParent()); t = new lime.animation.MoveTo(t).setDuration(.5).enableOptimizations(); this.target.runAction(t), goog.isFunction(e.moveEndedCallback) && goog.events.listen(t, lime.animation.Event.STOP, e.moveEndedCallback, !1, this.target) } } else this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.CANCEL)); this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.END)), lime.scheduleManager.callAfter(this.dispose, this, 100) }, lime.events.Drag.prototype.addDropTarget = function (e) { this.dropTargets_.push(e) }, lime.events.Event = function (e) { this.dispatcher_ = e, this.identifier = 0 }, lime.events.Event.prototype.swallow = function (e, t, o) { e = goog.isArray(e) ? e : [e]; for (var i = 0; i < e.length; i++)this.dispatcher_.swallow(this, e[i], t); o && this.event.stopPropagation() }, lime.events.Event.prototype.release = function (e) { var t = goog.isDef(e), o = goog.isArray(e) ? e : [e]; if (e = this.dispatcher_.swallows[this.identifier]) { var i = this; (e = goog.array.filter(e, function (e) { return !(!goog.isDef(i.targetObject) || e[0] == i.targetObject && (!t || goog.array.contains(o, e[1]))) || (goog.events.unlisten(e[0], e[1], e[2]), !1) })).length ? this.dispatcher_.swallows[this.identifier] = e : delete this.dispatcher_.swallows[this.identifier] } }, lime.events.Event.prototype.startDrag = function (e, t, o) { return new lime.events.Drag(this, e, t, o) }, lime.events.Event.prototype.clone = function () { var e = new lime.events.Event(this.dispatcher_); return goog.object.extend(e, this), e }, lime.events.EventDispatcher = function (e) { this.director = e, this.handlers = {}, this.swallows = {} }, lime.events.EventDispatcher.prototype.register = function (e, t) { goog.isDef(this.handlers[t]) ? goog.array.contains(this.handlers[t], e) || (this.handlers[t].push(e), this.handlers[t].sort(lime.Node.compareNode)) : (this.handlers[t] = [e], goog.events.listen("touch" == t.substring(0, 5) && e != this.director ? document : "key" == t.substring(0, 3) ? window : this.director.domElement.parentNode, t, this, !1, this)) }, lime.events.EventDispatcher.prototype.release = function (e, t) { goog.isDef(this.handlers[t]) && (goog.array.remove(this.handlers[t], e), this.handlers[t].length || (goog.events.unlisten(this.director.domElement.parentNode, t, this, !1, this), delete this.handlers[t])) }, lime.events.EventDispatcher.prototype.updateDispatchOrder = function (e) { for (var t in this.handlers) { var o = this.handlers[t]; goog.array.contains(o, e) && o.sort(lime.Node.compareNode) } }, lime.events.EventDispatcher.prototype.swallow = function (e, t, o) { var i = e.identifier; goog.isDef(this.swallows[i]) || (this.swallows[i] = []), this.swallows[i].push([e.targetObject, t, o]), goog.events.listen(e.targetObject, t, goog.nullFunction) }, lime.events.EventDispatcher.prototype.handleEvent = function (e) { if (goog.isDef(this.handlers[e.type])) { for (var t = this.handlers[e.type].slice(), o = !1, i = 0, s = 0; !s;) { var n = new lime.events.Event(this); if (n.type = e.type, n.event = e, "touch" == e.type.substring(0, 5)) { var r = e.getBrowserEvent().changedTouches[i]; n.screenPosition = new goog.math.Coordinate(r.pageX, r.pageY), n.identifier = r.identifier, ++i >= e.getBrowserEvent().changedTouches.length && (s = 1) } else n.screenPosition = new goog.math.Coordinate(e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, e.clientY + document.body.scrollTop + document.documentElement.scrollTop), s = 1; if (goog.isDef(this.swallows[n.identifier])) { r = this.swallows[n.identifier]; for (var a = 0; a < r.length; a++)if (r[a][1] == e.type || goog.isArray(r[a][1]) && goog.array.contains(r[a][1], e.type)) { var l = r[a][0]; n.targetObject = l, n.position = l.screenToLocal(n.screenPosition), r[a][2].call(l, n), o = !0 } "touchend" != e.type && "touchcancel" != e.type && "mouseup" != e.type && "keyup" != e.type || (delete n.targetObject, n.release()) } else for (a = 0; a < t.length && (l = t[a], this.director.getCurrentScene() != l.getScene() && l != this.director || l.getHidden() || !l.inTree_ || (n.targetObject = l, !l.hitTest(n) && "key" != e.type.substring(0, 3)) || (n.targetObject = l, l.dispatchEvent(n), o = !0, !n.event.propagationStopped_)); a++); } o && e.preventDefault() } }, goog.dom.ViewportSizeMonitor = function (e) { goog.events.EventTarget.call(this), this.window_ = e || window, this.listenerKey_ = goog.events.listen(this.window_, goog.events.EventType.RESIZE, this.handleResize_, !1, this), this.size_ = goog.dom.getViewportSize(this.window_), this.isPollingRequired_() && (this.windowSizePollInterval_ = window.setInterval(goog.bind(this.checkForSizeChange_, this), goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE)) }, goog.inherits(goog.dom.ViewportSizeMonitor, goog.events.EventTarget), goog.dom.ViewportSizeMonitor.getInstanceForWindow = function (e) { e = e || window; var t = goog.getUid(e); return goog.dom.ViewportSizeMonitor.windowInstanceMap_[t] = goog.dom.ViewportSizeMonitor.windowInstanceMap_[t] || new goog.dom.ViewportSizeMonitor(e) }, goog.dom.ViewportSizeMonitor.removeInstanceForWindow = function (e) { e = goog.getUid(e || window), goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]), delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[e] }, goog.dom.ViewportSizeMonitor.windowInstanceMap_ = {}, goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE = 500, goog.dom.ViewportSizeMonitor.prototype.listenerKey_ = null, goog.dom.ViewportSizeMonitor.prototype.window_ = null, goog.dom.ViewportSizeMonitor.prototype.size_ = null, goog.dom.ViewportSizeMonitor.prototype.windowSizePollInterval_ = null, goog.dom.ViewportSizeMonitor.prototype.isPollingRequired_ = function () { return goog.userAgent.WEBKIT && goog.userAgent.WINDOWS || goog.userAgent.OPERA && this.window_.self != this.window_.top }, goog.dom.ViewportSizeMonitor.prototype.getSize = function () { return this.size_ ? this.size_.clone() : null }, goog.dom.ViewportSizeMonitor.prototype.disposeInternal = function () { goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this), this.listenerKey_ && (goog.events.unlistenByKey(this.listenerKey_), this.listenerKey_ = null), this.windowSizePollInterval_ && (window.clearInterval(this.windowSizePollInterval_), this.windowSizePollInterval_ = null), this.size_ = this.window_ = null }, goog.dom.ViewportSizeMonitor.prototype.handleResize_ = function () { this.checkForSizeChange_() }, goog.dom.ViewportSizeMonitor.prototype.checkForSizeChange_ = function () { var e = goog.dom.getViewportSize(this.window_); goog.math.Size.equals(e, this.size_) || (this.size_ = e, this.dispatchEvent(goog.events.EventType.RESIZE)) }, lime.transitions = {}, lime.transitions.Transition = function (e, t) { goog.events.EventTarget.call(this), this.duration_ = 1, this.outgoing_ = e, this.incoming_ = t, this.finished_ = !1 }, goog.inherits(lime.transitions.Transition, goog.events.EventTarget), lime.transitions.Transition.prototype.getDuration = function () { return this.duration_ }, lime.transitions.Transition.prototype.setDuration = function (e) { return this.duration_ = e, this }, lime.transitions.Transition.prototype.setFinishCallback = function () { return goog.DEBUG && console && console.warn && console.warn("Transition.prototype.setFinishCallback() is deprecated. Use event listeners."), this }, lime.transitions.Transition.prototype.start = function () { this.incoming_.setPosition(new goog.math.Coordinate(0, 0)), this.incoming_.setHidden(!1), this.finish() }, lime.transitions.Transition.prototype.finish = function () { this.dispatchEvent(new goog.events.Event("end")), this.finished_ = !0, this.incoming_ = this.outgoing_ = null }, lime.Director = function (e, t, o) { if (lime.Node.call(this), this.inTree_ = !0, this.setAnchorPoint(0, 0), this.sceneStack_ = [], this.coverStack_ = [], this.domClassName = "lime-director", this.createDomElement(), e.appendChild(this.domElement), goog.userAgent.WEBKIT && goog.userAgent.MOBILE && (this.coverElementBelow = document.createElement("div"), goog.dom.classes.add(this.coverElementBelow, "lime-cover-below"), goog.dom.insertSiblingBefore(this.coverElementBelow, this.domElement), this.coverElementAbove = document.createElement("div"), goog.dom.classes.add(this.coverElementAbove, "lime-cover-above"), goog.dom.insertSiblingAfter(this.coverElementAbove, this.domElement)), "absolute" != e.style.position && (e.style.position = "relative"), e.style.overflow = "hidden", e == document.body) { goog.style.installStyles("html,body{margin:0;padding:0;height:100%;}"); var i = document.createElement("meta"); i.name = "viewport"; var s = "width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no"; if (/android/i.test(navigator.userAgent) && (s += ",target-densityDpi=device-dpi"), i.content = s, document.getElementsByTagName("head").item(0).appendChild(i), goog.userAgent.MOBILE && !goog.global.navigator.standalone) { var n = this; setTimeout(function () { window.scrollTo(0, 0), n.invalidateSize_() }, 100) } } var r; e = goog.style.getSize(e); this.setSize(new goog.math.Size(r = t || e.width || lime.Director.DEFAULT_WIDTH, o || e.height * r / e.width || lime.Director.DEFAULT_HEIGHT)), this.setDisplayFPS(goog.DEBUG), this.setPaused(!1), t = new goog.dom.ViewportSizeMonitor, goog.events.listen(t, goog.events.EventType.RESIZE, this.invalidateSize_, !1, this), goog.events.listen(goog.global, "orientationchange", this.invalidateSize_, !1, this), lime.scheduleManager.schedule(this.step_, this), this.eventDispatcher = new lime.events.EventDispatcher(this), goog.events.listen(this, ["touchmove", "touchstart"], function (e) { e.event.preventDefault() }, !1, this), goog.events.listen(this, ["mouseup", "touchend", "mouseout", "touchcancel"], function () { }, !1), this.invalidateSize_(), goog.DEBUG && goog.events.listen(goog.global, "keyup", this.keyUpHandler_, !1, this) }, goog.inherits(lime.Director, lime.Node), lime.Director.FPS_INTERVAL = 100, lime.Director.DEFAULT_WIDTH = 400, lime.Director.DEFAULT_HEIGHT = 400, lime.Director.prototype.isPaused = function () { return this.isPaused_ }, lime.Director.prototype.setPaused = function (e) { return this.isPaused_ = e, lime.scheduleManager.changeDirectorActivity(this, !e), this.isPaused_ ? (this.pauseScene = new (this.pauseClassFactory || lime.helper.PauseScene), this.pushScene(this.pauseScene)) : this.pauseScene && (this.popScene(), delete this.pauseScene), this }, lime.Director.prototype.isDisplayFPS = function () { return this.displayFPS_ }, lime.Director.prototype.setDisplayFPS = function (e) { return this.displayFPS_ && !e ? goog.dom.removeNode(this.fpsElement_) : !this.displayFPS_ && e && (this.accumDt_ = this.frames_ = 0, this.fpsElement_ = goog.dom.createDom("div"), goog.dom.classes.add(this.fpsElement_, "lime-fps"), this.domElement.parentNode.appendChild(this.fpsElement_)), this.displayFPS_ = e, this }, lime.Director.prototype.getCurrentScene = function () { return this.sceneStack_.length ? this.sceneStack_[this.sceneStack_.length - 1] : null }, lime.Director.prototype.getDirector = function () { return this }, lime.Director.prototype.getScene = function () { return null }, lime.Director.prototype.step_ = function (e) { this.isDisplayFPS() && (this.frames_++ , this.accumDt_ += e, this.accumDt_ > lime.Director.FPS_INTERVAL && (this.fps = 1e3 * this.frames_ / this.accumDt_, goog.dom.setTextContent(this.fpsElement_, this.fps.toFixed(2)), this.accumDt_ = this.frames_ = 0)), lime.updateDirtyObjects() }, lime.Director.prototype.replaceScene = function (e, t, o) { e.setSize(this.getSize().clone()); t = t || lime.transitions.Transition; var i = null; this.sceneStack_.length && (i = this.sceneStack_[this.sceneStack_.length - 1]); for (var s = [], n = this.sceneStack_.length; 0 <= --n;)this.sceneStack_[n].wasRemovedFromTree(), s.push(this.sceneStack_[n].domElement), this.sceneStack_[n].parent_ = null; return this.sceneStack_.length = 0, this.sceneStack_.push(e), e.domElement.style.display = "none", this.domElement.appendChild(e.domElement), e.parent_ = this, e.wasAddedToTree(), e = new t(i, e), goog.events.listenOnce(e, "end", function () { for (var e = s.length; 0 <= --e;)goog.dom.removeNode(s[e]); s.length = 0 }, !1, this), goog.isDef(o) && e.setDuration(o), e.start(), e }, lime.Director.prototype.updateLayout = function () { this.dirty_ &= ~lime.Dirty.LAYOUT }, lime.Director.prototype.pushScene = function (e, t, o) { var i; if (e.setSize(this.getSize().clone()), goog.isDef(t) && this.sceneStack_.length && (i = new t(i = this.sceneStack_[this.sceneStack_.length - 1], e), goog.isDef(o) && i.setDuration(o), e.domElement.style.display = "none"), this.sceneStack_.push(e), this.domElement.appendChild(e.domElement), e.parent_ = this, e.wasAddedToTree(), i) return i.start(), i }, lime.Director.prototype.popScene = function () { this.sceneStack_.length && (this.sceneStack_[this.sceneStack_.length - 1].wasRemovedFromTree(), this.sceneStack_[this.sceneStack_.length - 1].parent_ = null, goog.dom.removeNode(this.sceneStack_[this.sceneStack_.length - 1].domElement), this.sceneStack_.pop()) }, lime.Director.prototype.addCover = function (e, t) { goog.userAgent.WEBKIT && goog.userAgent.MOBILE ? t ? this.coverElementAbove.appendChild(e.domElement) : this.coverElementBelow.appendChild(e.domElement) : t ? goog.dom.insertSiblingAfter(e.domElement, this.domElement) : goog.dom.insertSiblingBefore(e.domElement, this.domElement), e.director = this, this.coverStack_.push(e) }, lime.Director.prototype.removeCover = function (e) { goog.array.remove(this.coverStack_, e), goog.dom.removeNode(e.domElement) }, lime.Director.prototype.getBounds = function (e) { var t = this.getPosition(), o = this.getScale(); return new goog.math.Box(e.top - t.y / o.y, e.right - t.x / o.x, e.bottom - t.y / o.y, e.left - t.x / o.x) }, lime.Director.prototype.screenToLocal = function (e) { return (e = e.clone()).x -= this.domOffset.x + this.position_.x, e.y -= this.domOffset.y + this.position_.y, e.x /= this.scale_.x, e.y /= this.scale_.y, e }, lime.Director.prototype.localToScreen = function (e) { return (e = e.clone()).x *= this.scale_.x, e.y *= this.scale_.y, e.x += this.domOffset.x + this.position_.x, e.y += this.domOffset.y + this.position_.y, e }, lime.Director.prototype.update = function () { lime.Node.prototype.update.call(this); for (var e = this.coverStack_.length; 0 <= --e;)this.coverStack_[e].update() }, lime.Director.prototype.invalidateSize_ = function () { var e = goog.style.getSize(this.domElement.parentNode); this.domElement.parentNode == document.body && (window.scrollTo(0, 0), goog.isNumber(window.innerHeight) && (e.height = window.innerHeight)); var t = this.getSize().clone().scaleToFit(e); this.setScale(t.width / this.getSize().width), e.aspectRatio() < t.aspectRatio() ? this.setPosition(0, (e.height - t.height) / 2) : this.setPosition((e.width - t.width) / 2, 0), this.updateDomOffset_(), goog.userAgent.MOBILE && this.domElement.parentNode == document.body && (this.overflowStyle_ && goog.style.uninstallStyles(this.overflowStyle_), this.overflowStyle_ = goog.style.installStyles("html{height:" + (e.height + 120) + "px;overflow:hidden;}")) }, lime.Director.prototype.makeMobileWebAppCapable = function () { var e = document.createElement("meta"); e.name = "apple-mobile-web-app-capable", e.content = "yes", document.getElementsByTagName("head").item(0).appendChild(e), (e = document.createElement("meta")).name = "apple-mobile-web-app-status-bar-style", e.content = "black", document.getElementsByTagName("head").item(0).appendChild(e), e = !1, goog.isDef(localStorage) && localStorage.setItem("_lime_visited", !0) }, lime.Director.prototype.updateDomOffset_ = function () { this.domOffset = goog.style.getPageOffset(this.domElement.parentNode) }, lime.Director.prototype.keyUpHandler_ = function (e) { e.altKey && "d" == String.fromCharCode(e.keyCode).toLowerCase() && (this.debugModeOn_ ? (goog.style.uninstallStyles(this.debugModeOn_), this.debugModeOn_ = null) : this.debugModeOn_ = goog.style.installStyles(".lime-scene div,.lime-scene img,.lime-scene canvas{border: 1px solid #c00;}"), e.stopPropagation(), e.preventDefault()) }, lime.Director.prototype.hitTest = function (e) { return e && e.screenPosition && (e.position = this.screenToLocal(e.screenPosition)), !0 }, lime.Node.prototype.setHidden = function (e) { return this.hidden_ = e, this.setDirty(lime.Dirty.VISIBILITY), this.autoHide_ = 0, this }, goog.provide("lime.transitions.MoveInDown"), goog.provide("lime.transitions.MoveInLeft"), goog.provide("lime.transitions.MoveInRight"), goog.provide("lime.transitions.MoveInUp"), goog.provide("lime.transitions.SlideIn"), goog.provide("lime.transitions.SlideInDown"), goog.provide("lime.transitions.SlideInLeft"), goog.provide("lime.transitions.SlideInRight"), goog.provide("lime.transitions.SlideInUp"), goog.require("goog.math.Coordinate"), goog.require("lime.Sprite"), goog.require("lime.animation.Animation"), goog.require("lime.animation.MoveBy"), lime.animation.MoveBy = function (e, t) { lime.animation.Animation.call(this), 2 == arguments.length ? this.delta_ = new goog.math.Coordinate(arguments[0], arguments[1]) : this.delta_ = e }, goog.inherits(lime.animation.MoveBy, lime.animation.Animation), lime.animation.MoveBy.prototype.scope = "move", lime.animation.MoveBy.prototype.setSpeed = function (e) { return this.speed_ = e, this.calcDurationFromSpeed_(), this }, lime.animation.MoveBy.prototype.makeTargetProp = function (e) { return this.useTransitions() && (e.addTransition(lime.Transition.POSITION, goog.math.Coordinate.sum(e.getPosition(), this.delta_), this.duration_, this.getEasing()), e.setDirty(lime.Dirty.POSITION)), { startpos: e.getPosition() } }, lime.animation.MoveBy.prototype.calcDurationFromSpeed_ = function () { this.speed_ && (this.setDuration(this.speed_ * goog.math.Coordinate.distance(this.delta_, new goog.math.Coordinate(0, 0)) / 100), this.speedCalcDone_ = 1) }, lime.animation.MoveBy.prototype.update = function (e, t) { if (0 != this.status_) { var o = this.getTargetProp(t); t.setPosition(o.startpos.x + this.delta_.x * e, o.startpos.y + this.delta_.y * e) } }, lime.animation.MoveBy.prototype.clearTransition = function (e) { this.useTransitions() && (e.clearTransition(lime.Transition.POSITION), e.setDirty(lime.Dirty.POSITION)) }, lime.animation.MoveBy.prototype.reverse = function () { var e = this.delta_.clone(); return e.x *= -1, e.y *= -1, new lime.animation.MoveBy(e).cloneParam(this) }, goog.require("lime.transitions.Transition"), lime.transitions.SlideIn = function (e, t, o) { goog.base(this, e, t), this.mode_ = lime.transitions.SlideIn.Mode.LEFT, this.movein_ = o || !1 }, goog.inherits(lime.transitions.SlideIn, lime.transitions.Transition), lime.transitions.SlideIn.Mode = { LEFT: 0, UP: 1, RIGHT: 2, DOWN: 4 }, lime.transitions.SlideIn.prototype.start = function () { var e = this.incoming_.getSize(), t = new goog.math.Coordinate(0, 0); switch (this.mode_) { case lime.transitions.SlideIn.Mode.LEFT: this.incoming_.setPosition(-e.width, 0), t.x = e.width; break; case lime.transitions.SlideIn.Mode.UP: this.incoming_.setPosition(0, -e.height), t.y = e.height; break; case lime.transitions.SlideIn.Mode.RIGHT: this.incoming_.setPosition(e.width, 0), t.x = -e.width; break; case lime.transitions.SlideIn.Mode.DOWN: this.incoming_.setPosition(0, e.height), t.y = -e.height }this.incoming_.setHidden(!1); var o = new lime.animation.MoveBy(t).setDuration(this.getDuration()); this.outgoing_ && !this.movein_ && o.addTarget(this.outgoing_), o.addTarget(this.incoming_), goog.events.listen(o, lime.animation.Event.STOP, this.finish, !1, this), o.play() }, lime.transitions.SlideIn.prototype.finish = function () { this.outgoing_ && this.outgoing_.setPosition(0, 0), lime.transitions.Transition.prototype.finish.call(this) }, lime.transitions.SlideIn.prototype.setMode = function (e) { return this.mode_ = e, this }, lime.transitions.SlideInLeft = lime.transitions.SlideIn, lime.transitions.SlideInUp = function (e, t, o) { goog.base(this, e, t, o), this.setMode(lime.transitions.SlideIn.Mode.UP) }, goog.inherits(lime.transitions.SlideInUp, lime.transitions.SlideIn), lime.transitions.SlideInRight = function (e, t, o) { goog.base(this, e, t, o), this.setMode(lime.transitions.SlideIn.Mode.RIGHT) }, goog.inherits(lime.transitions.SlideInRight, lime.transitions.SlideIn), lime.transitions.SlideInDown = function (e, t, o) { goog.base(this, e, t, o), this.setMode(lime.transitions.SlideIn.Mode.DOWN) }, goog.inherits(lime.transitions.SlideInDown, lime.transitions.SlideIn), lime.transitions.MoveInLeft = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInLeft, lime.transitions.SlideInLeft), lime.transitions.MoveInUp = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInUp, lime.transitions.SlideInUp), lime.transitions.MoveInRight = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInRight, lime.transitions.SlideInRight), lime.transitions.MoveInDown = function (e, t) { goog.base(this, e, t, !0) }, goog.inherits(lime.transitions.MoveInDown, lime.transitions.SlideInDown); var sceneBefore = 1, player = { playerLevel: 1, barnLevel: 1, pastureLevel: 1, fields: 2, farms: 1, tools: 50, money: 500, currentCrop: 0, treesP: 0, cropsStored: [{ index: 0, name: "Tomatoes", stored: 0 }, { index: 1, name: "Carrots", stored: 0 }, { index: 2, name: "Artichoke", stored: 0 }, { index: 3, name: "Eggplant", stored: 0 }, { index: 4, name: "Peppers", stored: 0 }, { index: 5, name: "Corn", stored: 0 }, { index: 6, name: "Hay", stored: 0 }, { index: 7, name: "Milk", stored: 0 }, { index: 8, name: "Apple", stored: 0 }, { index: 9, name: "Pear", stored: 0 }, { index: 10, name: "Pork", stored: 0 }, { index: 11, name: "Eggs", stored: 0 }, { index: 12, name: "Grapes", stored: 0 }, { index: 13, name: "Jelly", stored: 0 }, { index: 14, name: "Wood", stored: 100 }, { index: 15, name: "Iron", stored: 200 }, { index: 16, name: "Jars", stored: 0 }, { index: 17, name: "Barrels", stored: 0 }, { index: 18, name: "Cider", stored: 0 }, { index: 19, name: "Grape Juice", stored: 0 }, { index: 20, name: "Bottles", stored: 0 }] }, tutSeen = 0; localStorage.setItem("MedFarm_LoadAd", 0), void 0 === localStorage.GuiGhostFarms_player && localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), player = JSON.parse(localStorage.getItem("GuiGhostFarms_player")), void 0 === localStorage.GuiGhostFarms_playerItems && localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), collectItems = JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems")); var checkWoodType = Number.isInteger(player.cropsStored[14].stored); 0 == checkWoodType && (player.cropsStored[14].stored = 0); try { player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) } catch (e) { player.cropsStored[14].stored = 1e3 } player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 1e3), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)); var globalModalBlock = 0; void 0 === player.cropsStored[14] && (void 0 !== localStorage.GuiGhostFarms_tutSeen ? (tutCheck = localStorage.getItem("GuiGhostFarms_tutSeen"), 1 == tutCheck && player.cropsStored.push({ name: "Wood", stored: 500 })) : player.cropsStored.push({ name: "Wood", stored: 200 })), void 0 === player.cropsStored[14] && player.cropsStored.push({ name: "Wood", stored: 200 }), void 0 === player.cropsStored[15] && player.cropsStored.push({ name: "Iron", stored: 200 }), void 0 === player.cropsStored[16] && player.cropsStored.push({ name: "Jars", stored: 0 }), void 0 === player.cropsStored[17] && player.cropsStored.push({ name: "Barrels", stored: 0 }), void 0 === player.cropsStored[18] && player.cropsStored.push({ name: "Cider", stored: 0 }), void 0 === player.cropsStored[19] && player.cropsStored.push({ name: "Grape Juice", stored: 0 }), void 0 === player.cropsStored[20] && player.cropsStored.push({ name: "Bottles", stored: 0 }), "Jars" != parseInt(player.cropsStored[16].name) && (player.cropsStored[16].name = "Jars"), "Barrels" != parseInt(player.cropsStored[17].name) && (player.cropsStored[17].name = "Barrels"), void 0 === localStorage.starCash && (localStorage.starCash = 0, starCash = 0), starCash = parseInt(localStorage.starCash); var fsClicked = 0, orchardTreeBlock = 1, vinyardBlocks = 1, vinyardBlocks2 = 1, vinyardHouseLevel = 1, orchardBarnLevel = 0; void 0 === localStorage.MedFarm_orchardBarnLevel && (localStorage.MedFarm_orchardBarnLevel = 0, orchardBarnLevel = 0), (orchardBarnLevel = localStorage.getItem("MedFarm_orchardBarnLevel")) < 0 && (orchardBarnLevel = 0), void 0 === localStorage.MedFarm_ciderPlaceOwned && (localStorage.MedFarm_ciderPlaceOwned = 0); var ciderEnabled = localStorage.getItem("MedFarm_ciderPlaceOwned"); void 0 === localStorage.GuiGhostFarms_vinyardBlocks && (localStorage.GuiGhostFarms_vinyardBlocks = 1), vinyardBlocks = localStorage.getItem.GuiGhostFarms_vinyardBlocks, void 0 === localStorage.GuiGhostFarms_vinyardBlocks2 && (localStorage.GuiGhostFarms_vinyardBlocks2 = 1), vinyardBlocks2 = localStorage.getItem.GuiGhostFarms_vinyardBlocks2, void 0 === localStorage.GuiGhostFarms_vinyardHouseLevel && (localStorage.GuiGhostFarms_vinyardHouseLevel = 1), vinyardHouseLevel = parseInt(localStorage.GuiGhostFarms_vinyardHouseLevel), void 0 === localStorage.GuiGhostFarms_orchardTreeBlock && (localStorage.GuiGhostFarms_orchardTreeBlock = 1), orchardTreeBlock = parseInt(localStorage.GuiGhostFarms_orchardTreeBlock); var coopLevel = 1; void 0 === localStorage.GuiGhostFarms_coopLevel && (localStorage.GuiGhostFarms_coopLevel = 1), coopLevel = parseInt(localStorage.GuiGhostFarms_coopLevel); var dayCount = 1; void 0 === localStorage.GuiGhostFarms_dayCount && (localStorage.GuiGhostFarms_dayCount = 1), dayCount = parseInt(localStorage.GuiGhostFarms_dayCount); var yearCount = 1; void 0 === localStorage.GuiGhostFarms_yearCount && (localStorage.GuiGhostFarms_yearCount = 1), yearCount = parseInt(localStorage.GuiGhostFarms_yearCount); var toolsEver = 0; void 0 === localStorage.GuiGhostFarms_toolsEver && (localStorage.GuiGhostFarms_toolsEver = 0), toolsEver = parseInt(localStorage.GuiGhostFarms_toolsEver); var pickedEver = 0; void 0 === localStorage.GuiGhostFarms_pickedEver && (localStorage.GuiGhostFarms_pickedEver = 0), pickedEver = parseInt(localStorage.GuiGhostFarms_pickedEver); var moneyEver = 0; void 0 === localStorage.GuiGhostFarms_moneyEver && (localStorage.GuiGhostFarms_moneyEver = 0), moneyEver = parseInt(localStorage.GuiGhostFarms_moneyEver); var boughtStarCash = !1; void 0 === localStorage.GuiGhostFarms_boughtStarCash && (localStorage.GuiGhostFarms_boughtStarCash = !1), boughtStarCash = parseInt(localStorage.GuiGhostFarms_boughtStarCash), void 0 === localStorage.GuiGhostFarms_tutSeen && (localStorage.setItem("GuiGhostFarms_tutSeen", 0), localStorage.setItem("MedFarms_onlyOnceUpdateNotif", 1)), tutSeen = parseInt(localStorage.GuiGhostFarms_tutSeen); var onlyOnceUpdateNotif = 0; void 0 === localStorage.MedFarms_onlyOnceUpdateNotif && localStorage.setItem("MedFarms_onlyOnceUpdateNotif", 0), onlyOnceUpdateNotif = localStorage.getItem("MedFarms_onlyOnceUpdateNotif"); var isblocked1 = localStorage.getItem("GuiGhostFarms_vinyardBlocks"), isblocked2 = localStorage.getItem("GuiGhostFarms_vinyardBlocks2"), compassVisible = !1, playerMuted = 0, warningSeen = 0; farming.start = function () { var e = { width: 310, height: 540, tile_size: 30, num_tiles_x: 4, num_tiles_y: 4, landLayer_w: 320, landLayer_h: 388, controlsLayer_w: 320, controlsLayer_h: 70, costPlowing: 0, shop_margin_x: 50, shop_margin_y: 38 }, t = { money: 500, currentCrop: 0 }; t.currentCrop = homeCrop, (t.currentCrop > 5 || "null" == t.currentCrop) && (t.currentCrop = 0), e.crops = [{ name: "Tomatoes  ", cost: 4, revenue: 8, time_to_ripe: 30, time_to_death: 120, image: "tomato.png", harvest: "tomato2.png", grow1: "tomatoGrow1.png", grow2: "tomatoGrow2.png", stored: 0, withered: "tomatoWithered.png" }, { name: "Carrots    ", cost: 6, revenue: 12, time_to_ripe: 35, time_to_death: 130, image: "carrots.png", harvest: "carrots2.png", grow1: "carrotGrow1.png", grow2: "carrotGrow2.png", stored: 0, withered: "carrotsWithered.png" }, { name: "Artichoke  ", cost: 8, revenue: 16, time_to_ripe: 42, time_to_death: 140, image: "artichoke.png", harvest: "artichoke2.png", grow1: "artiGrow1.png", grow2: "artiGrow2.png", stored: 0, withered: "artichokeWithered.png" }, { name: "Eggplant ", cost: 11, revenue: 22, time_to_ripe: 50, time_to_death: 150, image: "eggplant.png", harvest: "eggplant2.png", grow1: "eggplantGrow1.png", grow2: "eggplantGrow2.png", stored: 0, withered: "eggplantWithered.png" }, { name: "Peppers  ", cost: 13, revenue: 24, time_to_ripe: 55, time_to_death: 160, image: "peppers.png", harvest: "peppers2.png", grow1: "pepperGrow1.png", grow2: "pepperGrow2.png", stored: 0, withered: "peppersWithered.png" }, { name: "Corn  ", cost: 15, revenue: 28, time_to_ripe: 60, time_to_death: 180, image: "corn.png", harvest: "corn2.png", grow1: "cornGrow1.png", grow2: "cornGrow2.png", stored: 0, withered: "cornWithered.png" }, { name: "Hay  ", cost: 5, revenue: 10, time_to_ripe: 35, time_to_death: 280, image: "hay.png", harvest: "hayCartFull.png", grow1: "hayGrow1.png", grow2: "hayGrow2.png", stored: 0, withered: "hayWithered.png" }, { name: "Milk  ", cost: 12, revenue: 22, time_to_ripe: 65, time_to_death: 22280, image: "Pasture/bucket.png", harvest: "Pasture/bucket.png", grow1: "Pasture/bucket.png", grow2: "Pasture/bucket.png", stored: 0, withered: "Pasture/bucket.png" }, { name: "Apple", cost: 10, revenue: 25, time_to_ripe: 80, time_to_death: 180, image: "Orchard/ready_Apples.png", harvest: "apple.png", grow1: "Orchard/growing2_trees.png", grow2: "Orchard/growing3_trees.png", stored: 0, withered: "Orchard/wither_treesApple.png" }, { name: "Pear", cost: 15, revenue: 30, time_to_ripe: 90, time_to_death: 180, image: "Orchard/ready_treesPear.png", harvest: "pear.png", grow1: "Orchard/growing22_trees.png", grow2: "Orchard/growing4_trees.png", stored: 0, withered: "Orchard/wither_treesPear.png" }, { name: "Pork", cost: 20, revenue: 35, time_to_ripe: 70, time_to_death: 14e3, image: "livestockPens/hams.png", harvest: "livestockPens/hams.png", grow1: "livestockPens/hams.png", grow2: "livestockPens/hams.png", stored: 0, withered: "tomatoWithered.png" }, { name: "Eggs", cost: 5, revenue: 10, time_to_ripe: 70, time_to_death: 14e3, image: "livestockPens/eggs.png", harvest: "livestockPens/eggs.png", grow1: "livestockPens/eggs.png", grow2: "livestockPens/eggs.png", stored: 0, withered: "tomatoWithered.png" }, { name: "Grapes", cost: 15, revenue: 25, time_to_ripe: 60, time_to_death: 180, image: "vinyard/grapes_ready.png", harvest: "vinyard/grapes2.png", grow1: "vinyard/grapes_Grow1.png", grow2: "vinyard/grapes_Grow2.png", stored: 0, withered: "vinyard/grapes_withered.png" }, { name: "Jelly", cost: 30, revenue: 35, time_to_ripe: 75, time_to_death: 14e3, image: "vinyard/jelly.png", harvest: "vinyard/jelly.png", grow1: "vinyard/jelly.png", grow2: "vinyard/jelly.png", stored: 0 }, { name: "Wood", cost: 100, revenue: 0, time_to_ripe: 75, time_to_death: 14e3, image: "items/logs.png", harvest: "items/logs.png", grow1: "items/logs.png", grow2: "items/logs.png", stored: 0 }, { name: "Iron", cost: 100, revenue: 0, time_to_ripe: 75, time_to_death: 14e3, image: "items/ironBar.png", harvest: "items/ironBar.png", grow1: "items/ironBar.png", grow2: "items/ironBar.png", stored: 0 }, { name: "Jars", cost: 100, revenue: 0, time_to_ripe: 75, time_to_death: 14e3, image: "items/jars.png", harvest: "items/jars.png", grow1: "items/jars.png", grow2: "items/jars.png", stored: 0 }, { name: "Barrels", cost: 200, revenue: 0, time_to_ripe: 75, time_to_death: 14e3, image: "items/barrels.png", harvest: "items/barrels.png", grow1: "items/barrels.png", grow2: "items/barrels.png", stored: 0 }, { name: "Cider", cost: 0, revenue: 40, time_to_ripe: 75, time_to_death: 14e3, image: "items/ciderBarrel.png", harvest: "items/ciderBarrel.png", grow1: "items/ciderBarrel.png", grow2: "items/ciderBarrel.png", stored: 0 }, { name: "Grape Juice", cost: 0, revenue: 40, time_to_ripe: 75, time_to_death: 14e3, image: "items/planks.png", harvest: "items/planks.png", grow1: "items/planks.png", grow2: "items/planks.png", stored: 0 }, { name: "Bottles", cost: 200, revenue: 0, time_to_ripe: 75, time_to_death: 14e3, image: "items/bottles.png", harvest: "items/bottles.png", grow1: "items/bottles.png", grow2: "items/bottles.png", stored: 0 }, { name: "Planks", cost: 100, revenue: 0, time_to_ripe: 75, time_to_death: 14e3, image: "items/planks.png", harvest: "items/planks.png", grow1: "items/planks.png", grow2: "items/planks.png", stored: 0 }], e.barnyard = [{ name: "yard", image: "grass.png" }, { name: "road", image: "vertRoad.png" }, { name: "sacks", image: "sacks.png" }, { name: "market", image: "marketCoin2.png" }, { name: "vertFence", image: "vertFence.png" }, { name: "horizFence", image: "horizFence.png" }, { name: "shelter1", image: "shelter1.png" }, { name: "shelter2", image: "shelter2.png" }, { name: "crate1", image: "eggplantCrate.png" }, { name: "crate2", image: "cornCrate.png" }, { name: "well", image: "well2.png" }, { name: "anvil", image: "anvil1.png" }, { name: "anvil2", image: "anvil2.png" }, { name: "trees1", image: "leftTrees.png" }, { name: "trees2", image: "rightTrees.png" }, { name: "horizRoad", image: "horizRoad.png" }, { name: "toolTable", image: "toolTable.png" }, { name: "forge", image: "forge2.png" }, { name: "gateFence", image: "gateFence.png" }, { name: "marketArrow", image: "marketCoinArrow2.png" }], e.barnlevelImg = [{ name: "Basic Shed", image: "barn1-1.png" }, { name: "Small Barn", image: "barn2-1.png" }, { name: "Large Barn", image: "barn3-1.png" }, { name: "XLarge Barn", image: "barn4-1.png" }, { name: "Double Silo Barn", image: "barn5-1.png" }, { name: "Pasture", image: "pasture.png" }], e.PastureUpgrades = [{ name: "Feed Stall", image: "FeedBinsLeft.png" }, { name: "Feed Stall 2", image: "FeedBinsRight.png" }], e.pasture = [{ name: "pond1", image: "water.png" }, { name: "dairyBarnP", image: "dairyBarn.png" }, { name: "vertBridge", image: "bridgeVert.png" }, { name: "pTree1", image: "pTree1.png" }, { name: "pTree2", image: "pTree2.png" }, { name: "dirtRoad", image: "dirt.png" }, { name: "cowEatR4", image: "cow_eatR4.png" }, { name: "cowForward1", image: "cow_eatF3.png" }, { name: "rocks1", image: "rocks.png" }, { name: "treeBlockP", image: "treeBlockP.png" }, { name: "cowEatR1", image: "cow_eatR1.png" }, { name: "cowEatR2", image: "cow_eatR2.png" }, { name: "cowEatR4", image: "cow_eatR4.png" }, { name: "cowWalkLeft1", image: "cowLeft1.png" }, { name: "cowWalkLeft2", image: "cowLeft2.png" }, { name: "cowWalkLeft3", image: "cowLeft3.png" }, { name: "cowWalkLeft4", image: "cowLeft4.png" }, { name: "cowRight1", image: "cowRight1.png" }, { name: "cowRight2", image: "cowRight2.png" }], e.orchard = [{ name: "waterfallMtn", image: "Orchard/OrchardBack4.png" }, { name: "shack", image: "FeedBinsRight.png" }], e.waterfallImg = [{ name: "waterfall1", image: "Orchard/waterfall1.png" }, { name: "waterfall2", image: "Orchard/waterfall2.png" }, { name: "waterfall3", image: "Orchard/waterfall3.png" }, { name: "waterfall4", image: "Orchard/waterfall4.png" }, { name: "movingWater1", image: "Orchard/waterMoving1.png" }, { name: "movingWater2", image: "Orchard/waterMoving2.png" }], e.achievements = { 0: !1, 1: !1, 2: !1, 3: !1, 4: !1, 5: !1, 6: !1, 7: !1, 8: !1, 9: !1, 10: !1, 11: !1, 12: !1, 13: !1, 14: !1, 15: !1, 16: !1 }, void 0 === localStorage.GuiGhostFarms_achievements && localStorage.setItem("GuiGhostFarms_achievements", JSON.stringify(e.achievements)), e.achievements = JSON.parse(localStorage.getItem("GuiGhostFarms_achievements")), e.achieveText = [{ index: 0, title: "Harvester I", sub: "Harvested 500 crops", reward: 5 }, { index: 1, title: "Harvester II", sub: "Harvested 5000 crops", reward: 10 }, { index: 2, title: "Expansion", sub: "Purchased another acre", reward: 5 }, { index: 3, title: "Carpenter", sub: "Upgraded Barn to Max", reward: 10 }, { index: 4, title: "Blacksmith I", sub: "Made 500 Tools", reward: 5 }, { index: 5, title: "Blacksmith II", sub: "Made 5000 Tools", reward: 10 }, { index: 6, title: "Patience", sub: "Played for 1 farm year", reward: 5 }, { index: 7, title: "Acreage", sub: "Own all 5 acres", reward: 10 }, { index: 8, title: "Jelly Making", sub: "Unlock Jelly production", reward: 10 }, { index: 9, title: "Lumberjack", sub: "Collect 2500 Wood", reward: 10 }, { index: 10, title: "Breakfast Time", sub: "100 Ham and 100 Eggs", reward: 5 }, { index: 11, title: "Balanced Diet", sub: "10 of every crop", reward: 10 }, { index: 12, title: "Milk Master", sub: "Upgrade Dairy to max", reward: 5 }, { index: 13, title: "Merchant", sub: "Earn $5000 at Market", reward: 5 }, { index: 14, title: "Crossover", sub: "Buy $ with StarCash", reward: 10 }, { index: 15, title: "Back for More", sub: "Play 10 farm years", reward: 50 }], e.sceneBefore = 1; var o = [{ name: "Home", owned: 0, cost: 0, text: "Home Sweet Home" }, { name: "Dairy", owned: 0, cost: 2500, text: "MOOOOOO.....Got Milk?" }, { name: "Orchard", owned: 0, cost: 5e3, text: "Apples and Pears" }, { name: "Vineyard", owned: 0, cost: 7500, text: "Grapes & Jelly - YUM!" }, { name: "StockPens", owned: 0, cost: 1e4, text: "Livestock Pens" }]; void 0 === localStorage.GuiGhostFarms_acres && localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)), o = JSON.parse(localStorage.getItem("GuiGhostFarms_acres")), e.sceneBefore = 1, dt = 1e4, lime.scheduleManager.scheduleWithDelay(function () { player.cropsStored[15].stored >= 1 ? (player.cropsStored[15].stored = player.cropsStored[15].stored - 1, Za.setText(player.cropsStored[15].stored), player.tools = player.tools + 2 + parseInt(player.barnLevel), toolsEver += 2 + parseInt(player.barnLevel), D.setText("+" + (2 + player.barnLevel)), localStorage.GuiGhostFarms_toolsEver = toolsEver, e.updateTools()) : Ie.setHidden(!1) }, this, dt); var i = new lime.audio.Audio("audio/farming2.mp3"), s = new lime.audio.Audio("audio/blacksmith2.mp3"), n = new lime.audio.Audio("audio/cow1.mp3"), r = new lime.audio.Audio("audio/waterfallSound.mp3"), a = new lime.audio.Audio("audio/nice.mp3"), l = new lime.audio.Audio("audio/chickens.mp3"), g = new lime.audio.Audio("audio/snort.mp3"), d = new lime.audio.Audio("audio/ofarm.mp3"), c = new lime.audio.Audio("audio/pig3.mp3"), m = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 438).setSize(320, 25).setFill("images/" + e.barnyard[15].image), p = new lime.Director(document.body, e.width, e.height); p.makeMobileWebAppCapable(), p.setDisplayFPS(!1); var h = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), u = (new lime.Layer).setAnchorPoint(0, 0), y = (new lime.Layer).setAnchorPoint(0, 0); h.appendChild(u), h.appendChild(y); var S = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, 0).setSize(e.controlsLayer_w, e.controlsLayer_h - 22).setFill("images/UI/greenButtonLg.png"); y.appendChild(S); var f = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(245, 24); y.appendChild(f); var v = (new lime.Sprite).setPosition(285, 20).setSize(35, 35).setFill(imgArray11[0]); y.appendChild(v); var F = (new lime.Sprite).setPosition(e.controlsLayer_w / 2 - 5, 23).setSize(38, 38).setFill(imgArrayItems[25].src); y.appendChild(F); goog.events.listen(F, ["mousedown", "touchstart"], function () { e.sceneBefore = 1, Gl(), ll.setText(starCash), p.replaceScene(ha, lime.transitions.SlideInUp), sceneActive = "Inventory", count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }); var P = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 3).setSize(35, 35).setFill("images/UI/toolsIcon2.png"), w = (new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(65, 24).setFontSize(18); y.appendChild(P), y.appendChild(w), e.updateStored = function () { count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }; var A = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h + 5).setFill("images/UI/blackButton.png"); y.appendChild(A); var C = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(14, 467).setSize(35, 33).setFill("images/UI/gearButton.png"); y.appendChild(C); var T = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(14, 502).setSize(35, 33).setFill(imgArray[15]); y.appendChild(T); var _ = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(52, 467).setSize(35, 33).setFill("images/UI/trophyBtn.png"); y.appendChild(_); var I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(52, 502).setSize(35, 33).setFill("images/UI/starButton.png"); y.appendChild(I); var b = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(135, 449).setSize(35, 35).setFill("images/UI/compass22.png"); y.appendChild(b); var H = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); y.appendChild(H); var E = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); H.appendChild(E); var z = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); H.appendChild(z); var M = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); H.appendChild(M); var k = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); H.appendChild(k); var L = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); H.appendChild(L); var B = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); function O(e) { 0 == e ? compassVisible = !1 : (compassVisible = !0, globalModalBlock = 1, mt.setHidden(!1), as.setHidden(!1), Tr.setHidden(!1), ny.setHidden(!1)), 0 == o[1].owned && (L.setFill("images/UI/lockBtn.png"), hr.setFill("images/UI/lockBtn.png"), Os.setFill("images/UI/lockBtn.png"), Fy.setFill("images/UI/lockBtn.png"), Fh.setFill("images/UI/lockBtn.png")), 1 == o[1].owned && (L.setFill("images/UI/pastureBtn.png"), hr.setFill("images/UI/pastureBtn.png"), Os.setFill("images/UI/pastureBtn.png"), Fy.setFill("images/UI/pastureBtn.png"), Fh.setFill("images/UI/pastureBtn.png")), 0 == o[2].owned && (E.setFill("images/UI/lockBtn.png"), dr.setFill("images/UI/lockBtn.png"), Ms.setFill("images/UI/lockBtn.png"), yy.setFill("images/UI/lockBtn.png"), yh.setFill("images/UI/lockBtn.png")), 1 == o[2].owned && (E.setFill("images/UI/orchardBtn.png"), dr.setFill("images/UI/orchardBtn.png"), Ms.setFill("images/UI/orchardBtn.png"), yy.setFill("images/UI/orchardBtn.png"), yh.setFill("images/UI/orchardBtn.png")), 0 == o[3].owned && (M.setFill("images/UI/lockBtn.png"), mr.setFill("images/UI/lockBtn.png"), Ls.setFill("images/UI/lockBtn.png"), fy.setFill("images/UI/lockBtn.png"), fh.setFill("images/UI/lockBtn.png")), 1 == o[3].owned && (M.setFill("images/UI/vinyardBtn.png"), mr.setFill("images/UI/vinyardBtn.png"), Ls.setFill("images/UI/vinyardBtn.png"), fy.setFill("images/UI/vinyardBtn.png"), fh.setFill("images/UI/vinyardBtn.png")), 0 == o[4].owned && (z.setFill("images/UI/lockBtn.png"), cr.setFill("images/UI/lockBtn.png"), ks.setFill("images/UI/lockBtn.png"), Sy.setFill("images/UI/lockBtn.png"), Sh.setFill("images/UI/lockBtn.png")), 1 == o[4].owned && (z.setFill("images/UI/lsBtn.png"), cr.setFill("images/UI/lsBtn.png"), ks.setFill("images/UI/lsBtn.png"), Sy.setFill("images/UI/lsBtn.png"), Sh.setFill("images/UI/lsBtn.png")), H.setHidden(!1), gr.setHidden(!1), zs.setHidden(!1), uy.setHidden(!1), uh.setHidden(!1), su.setHidden(!0), mu.setHidden(!0) } function R() { globalModalBlock = 0, mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0), gh.setHidden(!0), gr.setHidden(!0), H.setHidden(!0), zs.setHidden(!0), uy.setHidden(!0), uh.setHidden(!0), compassVisible = !1, isblocked1 = localStorage.getItem("GuiGhostFarms_vinyardBlocks"), isblocked2 = localStorage.getItem("GuiGhostFarms_vinyardBlocks2"), isblocked1 <= 1 && (eu.setHidden(!1), ou.setHidden(!1), su.setHidden(!1)), isblocked2 <= 1 && (au.setHidden(!1), lu.setHidden(!1), mu.setHidden(!1)) } H.appendChild(B), H.setHidden(!0), goog.events.listen(b, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (O(), mt.setHidden(!1)) }), goog.events.listen(B, ["mousedown", "touchstart"], function () { R() }), goog.events.listen(k, ["mousedown", "touchstart"], function () { R() }), goog.events.listen(L, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (e.sceneBefore = 2, R(), ((homeCrop = t.currentCrop) > 5 || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0), localStorage.setItem("MedFarms_selectedHomeCrop", homeCrop), n.play(), $P(), t.currentCrop, t.currentCrop = 6, globalModalBlock = 0, mt.setHidden(!0), p.replaceScene(_o, lime.transitions.SlideInLeft), sceneActive = "Pasture") }), goog.events.listen(E, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (e.sceneBefore = 3, r.play(), R(), ((homeCrop = t.currentCrop) > 5 || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0), localStorage.setItem("MedFarms_selectedHomeCrop", homeCrop), t.currentCrop, t.currentCrop = 8, p.replaceScene(Us, lime.transitions.SlideInRight), sceneActive = "Orchard", globalModalBlock = 0, mt.setHidden(!0)) }), goog.events.listen(M, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (R(), e.sceneBefore = 4, p.replaceScene(Eh, lime.transitions.SlideInLeft), sceneActive = "Vineyard", homeCrop = t.currentCrop, localStorage.setItem("MedFarms_selectedHomeCrop", t.currentCrop), t.currentCrop, t.currentCrop = 12, $P(), globalModalBlock = 0, mt.setHidden(!0)) }), goog.events.listen(z, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (((homeCrop = t.currentCrop) > 5 || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0), localStorage.setItem("MedFarms_selectedHomeCrop", homeCrop), R(), e.sceneBefore = 5, p.replaceScene(dp, lime.transitions.SlideInRight), sceneActive = "LS", r.stop(), l.play(), g.play(), setTimeout(function () { d.play() }, 5e3), $P(), globalModalBlock = 0, mt.setHidden(!0)) }), goog.events.listen(T, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (lime.audio.getMute() ? (lime.audio.setMute(!1), i.play(!0), localStorage.setItem("GuiGhostFarms_muted", 0), KP(2)) : (lime.audio.setMute(!0), KP(1), localStorage.setItem("GuiGhostFarms_muted", 1))) }), document.addEventListener("visibilitychange", function () { lime.audio.getMute(), document.hidden ? (lime.audio.setMute(!0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_dayCount", dayCount), localStorage.setItem("GuiGhostFarms_yearCount", yearCount), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", parseInt(moneyEver))) : 0 == playerMuted && (lime.audio.setMute(!1), i.play(!0)) }, !1), goog.events.listen(_, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && qP(sceneBefore = 1) }), goog.events.listen(I, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && QP() }), e.updateMoney = function () { player.money < 0 && (player.money = moneyBefore), t.money = player.money, f.setText(player.money), Do.setText(player.money), oc.setText(player.money), Wd.setText(player.money), up.setText(player.money), $n.setText(player.money), Bh.setText(player.money), Rf.setText(player.money), _a.setText(player.money), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_dayCount", dayCount), localStorage.setItem("GuiGhostFarms_yearCount", yearCount), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", parseInt(moneyEver)), player.money < e.crops[t.currentCrop].cost && 0 == warningSeen && (mt.setHidden(!1), as.setHidden(!1), Tr.setHidden(!1), gh.setHidden(!1), ny.setHidden(!1), xt.setHidden(!1), Et.setHidden(!1), Ht.setHidden(!1), $r.setHidden(!1), ds.setHidden(!1), Xr.setHidden(!1), ls.setHidden(!1), Qr.setHidden(!1), gs.setHidden(!1), ry.setHidden(!1), ly.setHidden(!1), ay.setHidden(!1), globalModalBlock = 1) }, setInterval(function () { e.updateDates() }, 3e3), e.updateDates = function () { (dayCount += 1) > 365 && (yearCount += 1, dayCount = 1, ka.setText("Year " + yearCount)), Ma.setText("Day " + dayCount) }, e.updateTools = function () { w.setText(player.tools), w.setFontColor("#4dff4d"), P.setSize(35, 35), Uo.setSize(35, 35), Zn.setSize(35, 35), Go.setText(player.tools), Go.setFontColor("#4dff4d"), er.setText(player.tools), er.setFontColor("#4dff4d"), ah.setText(player.tools), ah.setFontColor("#4dff4d"), Nh.setText(player.tools), Nh.setFontColor("#4dff4d"), countTools.setText(player.tools), Of.setText(player.tools), wa.setText(player.tools), D.setHidden(!1), N.setHidden(!1), setTimeout(function () { D.setPosition(35, 85), D.setOpacity(.7), P.setSize(20, 20), Uo.setSize(20, 20), Zn.setSize(20, 20), rh.setSize(20, 20), Dh.setSize(20, 20) }, 250), setTimeout(function () { D.setPosition(35, 80), D.setOpacity(.8), P.setSize(25, 25), Uo.setSize(25, 25), Zn.setSize(25, 25), rh.setSize(25, 25), Dh.setSize(25, 25) }, 500), setTimeout(function () { w.setFontColor("#E8FC08"), Go.setFontColor("#E8FC08"), er.setFontColor("#E8FC08"), Nh.setFontColor("#E8FC08"), ah.setFontColor("#E8FC08"), D.setFontColor("#E8FC08"), D.setPosition(35, 75), D.setOpacity(.9), P.setSize(35, 35), Uo.setSize(35, 35), Zn.setSize(35, 35), rh.setSize(35, 35), Dh.setSize(35, 35) }, 750), setTimeout(function () { D.setPosition(35, 70), D.setOpacity(.8) }, 1e3), setTimeout(function () { D.setPosition(35, 65), D.setOpacity(.7) }, 1250), setTimeout(function () { D.setHidden(!0), D.setPosition(35, 90), D.setOpacity(.2) }, 1500) }; var D = (new lime.Label).setText("+" + (2 + player.barnLevel)).setFontWeight(600).setFontColor("#E8FC08").setPosition(35, 90).setOpacity(.6).setSize(30, 30); y.appendChild(D); var N = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-12, -7).setSize(30, 30).setFill("images/UI/toolsIcon2.png").setOpacity(.9); D.appendChild(N), D.setHidden(!0); var U = (new lime.GlossyButton).setColor("#100F13").setText("").setPosition(e.controlsLayer_w / 4 - 15, e.height / 2).setSize(28, 28).setOpacity(.9), G = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-15, -15).setFill("images/items/shield1.png").setSize(30, 30); y.appendChild(U), U.appendChild(G), U.setHidden(!0); var W = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 15, e.height / 2).setFill("images/" + e.crops[0].harvest).setSize(26, 21); y.appendChild(W), W.setHidden(!0), e.updateHarvest = function (t, o, i) { W.setPosition(t, o), W.setFill("images/" + e.crops[i].harvest), W.setHidden(!1), is.setPosition(t, o), is.setHidden(!1), Fr.setPosition(t, o), Fr.setFill("images/" + e.crops[i].harvest), Fr.setHidden(!1), $u.setPosition(t, o), Fr.setFill("images/" + e.crops[12].harvest), $u.setHidden(!1); var s = (t - 130) / 7, n = (o - 80) / 7, r = t - s, a = o - n; for (y = 0; y < 7; y++)setTimeout(function () { W.setPosition(r, a), is.setPosition(r, a), Fr.setPosition(r, a), $u.setPosition(r, a), r -= s, a -= n }, 70 * y + 1), y > 4 && (fadeAdj = "0." + (12 - y), W.setOpacity(fadeAdj), is.setOpacity(fadeAdj), Fr.setOpacity(fadeAdj), $u.setOpacity(fadeAdj)), setTimeout(function () { W.setOpacity(1), W.setHidden(!0), is.setOpacity(1), is.setHidden(!0), Fr.setOpacity(1), Fr.setHidden(!0), $u.setOpacity(1), $u.setHidden(!0) }, 800) }, e.displayCost = function (e, t, o) { Ao.setHidden(!1), Ao.setPosition(e + 35, t), Ao.setText("-" + o), setTimeout(function () { Ao.setHidden(!0) }, 750), Ru.setHidden(!1), Ru.setPosition(e + 35, t), Ru.setText("-$" + o), setTimeout(function () { Ru.setHidden(!0) }, 750), Qi.setHidden(!1), Qi.setPosition(e + 35, t), Qi.setText("-$" + o), setTimeout(function () { Qi.setHidden(!0) }, 750), On.setHidden(!1), On.setPosition(e + 35, t), On.setText("-$" + o), setTimeout(function () { On.setHidden(!0) }, 750) }, e.displayCollectible = function (e, t, o, i) { var s = ""; if (0 == collectibleOnScreen) { if (0 == i) { for (var n = 0; n < collectItems.digUpSells.length; n++)collectItems.digUpSells[n].name == o && (s = collectItems.digUpSells[n].src); G.setFill(s) } else if (1 == i) { for (var r = 0; r < collectItems.digUpCollect.length; r++)collectItems.digUpCollect[r].name == o && (s = collectItems.digUpCollect[r].src); G.setFill(s) } U.setHidden(!1), U.setPosition(e + 20, t), collectibleOnScreen = !0, setTimeout(function () { U.setPosition(e + 20, t - 10) }, 200), setTimeout(function () { U.setPosition(e + 20, t) }, 400), setTimeout(function () { U.setPosition(e + 20, t - 10) }, 600), setTimeout(function () { U.setPosition(e + 20, t) }, 800), setTimeout(function () { U.setPosition(e + 20, t - 10) }, 1e3), setTimeout(function () { U.setPosition(e + 20, t) }, 1200), setTimeout(function () { U.setPosition(e + 20, t - 10) }, 1400), setTimeout(function () { U.setPosition(e + 20, t) }, 1600) } }, goog.events.listen(U, ["mousedown", "touchstart"], function () { U.setHidden(!0), collectibleOnScreen = !1, mt.setHidden(!1), globalModalBlock = 1, document.getElementById("foundIt").classList.remove("blazingStar"), document.getElementById("foundIt").style.display = "block", document.getElementById("foundIt").classList.add("blazingStar"), document.getElementById("foundItSubTitle").innerHTML = collectItems.digUpSells[itemCarryOver].name, document.getElementById("foundItImage").style.backgroundImage = "url('" + collectItems.digUpSells[itemCarryOver].src + "')" }); var V = t.currentCrop, J = (new lime.Label).setText("Plant " + e.crops[V].name).setFontColor("#E8FC08").setFontSize(12).setFontFamily("Comic Sans MS").setPosition(155, e.height - e.controlsLayer_h / 2 - 12); y.appendChild(J); var Y = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(133, e.height - e.controlsLayer_h / 2 - 5).setFill("images/" + e.crops[V].harvest).setSize(1.2 * e.tile_size, 1.2 * e.tile_size); y.appendChild(Y); var j = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(208, e.height - e.controlsLayer_h).setSize(90, 61).setFill("images/" + e.barnyard[3].image), q = 0; setInterval(function () { 1 == (showHighlight2 = localStorage.getItem("showHighLight")) ? (1 == ++q && j.setFill("images/" + e.barnyard[3].image), 2 == q && (j.setFill("images/marketCoin2.png"), q = 0)) : j.setFill("images/" + e.barnyard[3].image) }, 500); y.appendChild(j), goog.events.listen(j, ["mousedown", "touchstart"], function () { e.sceneBefore = 1, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", Bc() }); var K = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 45).setSize(e.controlsLayer_w, e.landLayer_h + 35).setFill("images/" + e.barnyard[0].image); u.appendChild(K); var $ = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(144, 60).setSize(21, 440).setFill("images/" + e.barnyard[1].image); u.appendChild($); var X = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(3, 93).setSize(300, 75).setFill("images/" + e.barnyard[10].image); u.appendChild(X); var Q = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(75, 65).setSize(40, 22).setFill("images/" + e.barnyard[2].image); u.appendChild(Q); var Z = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(190, 72).setSize(40, 22).setFill("images/" + e.barnyard[2].image); u.appendChild(Z); var ee = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(197, 74).setSize(40, 22).setFill("images/" + e.barnyard[2].image); u.appendChild(ee); var te = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 33).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(te); var oe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 33).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(oe); var ie = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ie); var se = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(se); var ne = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ne); var re = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(re); var ae = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 293).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ae); var le = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 293).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(le); var ge = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 383).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(ge); var de = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 383).setSize(8, 90).setFill("images/" + e.barnyard[4].image); u.appendChild(de); var ce = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 35).setSize(315, 30).setFill("images/" + e.barnyard[5].image); u.appendChild(ce); var me = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 410).setSize(315, 30).setFill("images/" + e.barnyard[5].image); u.appendChild(me); var pe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(15, 15); m.appendChild(pe), pe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, -12).setSize(42, 42).setFill("images/UI/pastureBtn.png"), m.appendChild(pe); var he = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(272, -12).setSize(40, 40).setFill("images/UI/orchardBtn.png"); m.appendChild(he), u.appendChild(m); var ue = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(3, 420).setSize(40, 40).setFill("images/UI/pastureBtn100.png"); u.appendChild(ue); var ye = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(268, 420).setSize(40, 40).setFill("images/UI/orchardBtn.png"); u.appendChild(ye); var Se = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(134, 255).setSize(40, 40).setFill("images/UI/changeSeeds2.png"); u.appendChild(Se); var fe = (new lime.GlossyButton).setColor("#663300").setText("").setPosition(134, 200).setSize(40, 40).setOpacity(.8); fe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(134, 200).setSize(40, 40).setFill("images/UI/adBoostBtn.png"), u.appendChild(fe), goog.events.listen(fe, ["mousedown", "touchstart"], function () { vt.setHidden(!1), mt.setHidden(!1), Ft.setText(starCash) }); var ve = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(85, 2).setSize(132, 155).setFill("images/" + e.barnlevelImg[player.barnLevel - 1].image); u.appendChild(ve); var Fe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(238, 23).setSize(60, 92).setFill("images/house1.png"); u.appendChild(Fe); var Pe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(251, 115).setSize(30, 30).setFill("images/UI/houseButton.png"); u.appendChild(Pe); var we = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(2, 32).setSize(86, 120).setFill("images/" + e.barnyard[17].image); u.appendChild(we); var Ae = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(65, 85).setSize(20, 20).setFill("images/" + e.barnyard[12].image); u.appendChild(Ae); var Ce = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 118).setSize(16, 18).setFill("images/" + e.barnyard[16].image); u.appendChild(Ce); var Te = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 75).setSize(26, 26).setFill("images/blacksmith2.png"); u.appendChild(Te); var _e = 0, Ie = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, -30).setSize(30, 30).setFill(imgArray[19].src); Te.appendChild(Ie), Ie.setHidden(!0), goog.events.listen(Ie, ["mousedown", "touchstart"], function () { pt.setHidden(!1) }), 1 == houseUpgrades.upgrades[0].owned && Fe.setFill("images/house2.png").setSize(75, 100).setPosition(229, 22), 5 == player.barnLevel && (ve.setFill(imgArray6[4]), ve.setPosition(85, 1).setSize(134, 157)); var be = 0; for (lime.scheduleManager.scheduleWithDelay(function () { "Home" == sceneActive && (player.cropsStored[15].stored >= 1 ? ((_e += 1) >= 20 && (_e = 1), _e < 15 && Te.setFill("images/blacksmith" + _e + ".png"), 4 == _e && Te.setPosition(50, 80), 5 == _e && Te.setPosition(50, 85), 6 == _e && Te.setPosition(50, 90), 7 == _e && Te.setPosition(45, 90), 8 == _e && Te.setPosition(37, 95), 9 == _e && Te.setPosition(32, 100), 10 == _e && Te.setPosition(37, 105), 11 == _e && Te.setPosition(42, 100), 12 == _e && Te.setPosition(45, 95), 13 == _e && Te.setPosition(50, 90), 14 == _e && (Te.setPosition(50, 85), 1 == sceneBefore && s.play()), 15 == _e && (Te.setPosition(50, 80), Te.setFill("images/blacksmith13.png")), 16 == _e && (Te.setPosition(50, 71), Te.setFill("images/blacksmith1.png")), 17 == _e && (Te.setPosition(50, 71), Te.setFill("images/blacksmith2.png")), 18 == _e && (Te.setPosition(50, 73), Te.setFill("images/blacksmith1.png")), 19 == _e && (Te.setPosition(50, 73), Te.setFill("images/blacksmith2.png"), YP())) : ++be < 5 ? Ie.setHidden(!1) : 5 == be && (Ie.setHidden(!0), be = 0)) }, this, 300), y = 0; y < e.num_tiles_x; y++)for (var xe = 0; xe < e.num_tiles_y; xe++) { var He = y * e.tile_size + 8, Ee = xe * e.tile_size + 181, ze = xe, Me = y, ke = "", Le = ""; if (ke = "j", Le = Le.concat(ke.toString(), Me.toString(), ze.toString()), 0 == y && 0 == xe) { var Be = new farming.Land(e, t, He, Ee, 1, "tlt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 166); u.appendChild(Be) } else if (3 == y && 0 == xe) { Be = new farming.Land(e, t, He, Ee, 1, "trt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 166); u.appendChild(Be) } else if (3 == y && 3 == xe) { Be = new farming.Land(e, t, He, Ee, 1, "brt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 166); u.appendChild(Be) } else if (0 == y && 3 == xe) { Be = new farming.Land(e, t, He, Ee, 1, "blt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 166); u.appendChild(Be) } else { Be = new farming.Land(e, t, He, Ee, 1, "non", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 166); u.appendChild(Be) } if (He = y * e.tile_size + 171, Le = (Le = "").concat((ke = "v").toString(), Me.toString(), ze.toString()), 0 == y && 0 == xe) { var Oe = new farming.Land(e, t, He, Ee, 1, "tlt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 166); u.appendChild(Oe) } else if (3 == y && 0 == xe) { Oe = new farming.Land(e, t, He, Ee, 1, "trt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 166); u.appendChild(Oe) } else if (3 == y && 3 == xe) { Oe = new farming.Land(e, t, He, Ee, 1, "brt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 166); u.appendChild(Oe) } else if (0 == y && 3 == xe) { Oe = new farming.Land(e, t, He, Ee, 1, "blt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 166); u.appendChild(Oe) } else { Oe = new farming.Land(e, t, He, Ee, 1, "non", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 166); u.appendChild(Oe) } if (He = y * e.tile_size + 19, Ee = xe * e.tile_size + 296, Le = (Le = "").concat((ke = "u").toString(), Me.toString(), ze.toString()), 0 == y && 0 == xe) { var Re = new farming.Land(e, t, He, Ee, 1, "tlt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 296); u.appendChild(Re) } else if (3 == y && 0 == xe) { Re = new farming.Land(e, t, He, Ee, 1, "trt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 296); u.appendChild(Re) } else if (3 == y && 3 == xe) { Re = new farming.Land(e, t, He, Ee, 1, "brt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 296); u.appendChild(Re) } else if (0 == y && 3 == xe) { Re = new farming.Land(e, t, He, Ee, 1, "blt", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 296); u.appendChild(Re) } else { Re = new farming.Land(e, t, He, Ee, 1, "non", Le).setPosition(y * e.tile_size + 8, xe * e.tile_size + 296); u.appendChild(Re) } if (He = y * e.tile_size + 171, Le = (Le = "").concat((ke = "t").toString(), Me.toString(), ze.toString()), 0 == y && 0 == xe) { var De = new farming.Land(e, t, He, Ee, 1, "tlt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 296); u.appendChild(De) } else if (3 == y && 0 == xe) { De = new farming.Land(e, t, He, Ee, 1, "trt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 296); u.appendChild(De) } else if (3 == y && 3 == xe) { De = new farming.Land(e, t, He, Ee, 1, "brt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 296); u.appendChild(De) } else if (0 == y && 3 == xe) { De = new farming.Land(e, t, He, Ee, 1, "blt", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 296); u.appendChild(De) } else { De = new farming.Land(e, t, He, Ee, 1, "non", Le).setPosition(y * e.tile_size + 181, xe * e.tile_size + 296); u.appendChild(De) } 1 == homeTreesLeft && (Re.setHidden(!1), 1 == homeTreesRight && De.setHidden(!1)) } var Ne = (new lime.GlossyButton).setColor("#4CFF33").setText("").setPosition(68, 353).setSize(120, 125).setOpacity(.8), Ue = (new lime.GlossyButton).setColor("#4CFF33").setText("").setPosition(241, 353).setSize(120, 125).setOpacity(.8), Ge = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(136, 69).setSize(38, 35).setFill("images/UI/upBtn.png"); lime.scheduleManager.scheduleWithDelay(function () { if ("Home" == sceneActive) { var e = Ge.getPosition(); e.x -= 2, e.x < 134 && (e.x = 136), Ge.setPosition(e) } }, this, 500), parseInt(player.barnLevel) >= 5 && Ge.setHidden(!0), u.appendChild(Ge); var We = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(105, 80).setSize(110, 80).setFill("images/scaffold.png"); u.appendChild(We); var Ve = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 0).setSize(120, 200).setFill(imgArray[24].src); u.appendChild(Ve); var Je = (new lime.Label).setText("60").setPosition(155, 127).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill("images/countBack.png"), Ye = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-22, -50).setSize(50, 50).setFill("images/toolHammer.png"), je = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(117, 145).setSize(70, 16).setFontSize(16).setFontWeight(600).setText("Lvl " + player.barnLevel + "/5").setFill("images/UI/greenButtonLg3.png"); u.appendChild(je), u.appendChild(Je), Je.appendChild(Ye), Ye.setRotation(-10); var qe = -10; if (Je.setHidden(!0), We.setHidden(!0), Ve.setHidden(!0), 0 == homeTreesLeft && player.fields < 3) { u.appendChild(Ne); var Ke = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 295).setSize(110, 120).setFill("images/" + e.barnyard[13].image); u.appendChild(Ke); var $e = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(12, 335).setSize(110, 120).setText(""); u.appendChild($e); var Xe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 20).setSize(40, 40).setFill("images/axe.png"); Ke.appendChild(Xe); var Qe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(48, 355).setSize(40, 35).setFill("images/tools50.png"); u.appendChild(Qe) } if (0 == homeTreesRight && player.fields < 4) { u.appendChild(Ue); var Ze = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(181, 295).setSize(120, 120).setFill("images/" + e.barnyard[14].image); u.appendChild(Ze); var et = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(182, 335).setSize(120, 120).setText(""); u.appendChild(et); var tt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 20).setSize(40, 40).setFill("images/axe.png"); Ze.appendChild(tt); var ot = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(220, 355).setSize(38, 35).setFill("images/tools250.png"); u.appendChild(ot) } var it = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 230).setSize(130, 250).setFill(imgArray[24].src); u.appendChild(it); var st = (new lime.Label).setText("60").setPosition(65, 380).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFill("images/countBack.png"); u.appendChild(st); var nt = 0; it.setHidden(!0), st.setHidden(!0); var rt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(165, 230).setSize(130, 250).setFill(imgArray[24].src); u.appendChild(rt); var at = (new lime.Label).setText("60").setPosition(250, 380).setSize(40, 25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill("images/countBack.png"); u.appendChild(at); var lt = 0; rt.setHidden(!0), at.setHidden(!0); var gt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-400, -190).setSize(e.controlsLayer_w, e.height + 250).setFill(imgArray[24].src).setOpacity(.1); u.appendChild(gt); var ct = 1, mt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#000F00").setOpacity(.75); u.appendChild(mt), goog.events.listen(mt, ["mousedown", "touchstart"], function () { var e; e = vt.getHidden(), 1 == tutSeen && 1 == e ? mt.setHidden(!0) : mt.setHidden(!1) }, !0, this), 1 == tutSeen && mt.setHidden(!0); var pt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 100).setSize(e.width - 30, e.height / 2).setFill("images/UI/blankBack4.png"); u.appendChild(pt), pt.setHidden(!0); var ht = (new lime.Label).setAnchorPoint(0, 0).setPosition(45, 25).setText("Blacksmith Blacwin").setFontFamily("Comic Sans MS").setFontSize(24); pt.appendChild(ht); var ut = (new lime.Label).setAnchorPoint(0, 0).setPosition(20, 150).setText("I need more IRON BARS to make tools. You can buy some at the SHOP in town").setFontFamily("Comic Sans MS").setFontSize(16).setSize(e.width - 80, e.height / 2 - 50); pt.appendChild(ut); var yt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 48).setSize(90, 90).setFill("images/blacksmith5.png"); pt.appendChild(yt); var St = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(180, 70).setSize(50, 50).setFill(imgArrayStore[0].src); pt.appendChild(St); var ft = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140, 235).setSize(100, 20); pt.appendChild(ft), pt.setHidden(!0), goog.events.listen(ft, ["mousedown", "touchstart"], function (e) { pt.setHidden(!0), e.stopPropagation() }); var vt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 150).setSize(200, 200).setFill("images/UI/cropBoostBack2.png"); u.appendChild(vt), vt.setHidden(!0); var Ft = (new lime.Label).setText(starCash).setPosition(105, 22).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#000F00").setFontWeight(600).setFontSize(20).setFontFamily("ComicSans MS"); vt.appendChild(Ft); var Pt = (new lime.GlossyButton).setColor("#00FF00").setText("View").setPosition(73, 163).setSize(50, 32); vt.appendChild(Pt), 1 == adFreeVersion && Pt.setHidden(!0); var wt = (new lime.GlossyButton).setColor("#00FF00").setText("-       ").setPosition(142, 163).setSize(50, 32); vt.appendChild(wt); var At = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-10, -17).setSize(35, 35).setFill("images/UI/plus3StarCash.png"); wt.appendChild(At); var Ct = (new lime.GlossyButton).setColor("#8B0000").setText("").setPosition(105, 208).setSize(40, 40); vt.appendChild(Ct); var Tt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-20, -20).setSize(40, 40).setFill("images/UI/XButton.png"); Ct.appendChild(Tt); goog.events.listen(Pt, ["mousedown", "touchstart"], function () { 0 == vt.getHidden() && (localStorage.setItem("MedFarm_LoadAd", 1), localStorage.setItem("MedFarm_StarCashBoost", 0), lime.audio.setMute(!0)) }), goog.events.listen(wt, ["mousedown", "touchstart"], function () { 0 == vt.getHidden() && starCash >= 3 && (adWatched2 = 1, localStorage.setItem("adWatched", 1), localStorage.setItem("MedFarm_StarCashBoost", 0), starCash -= 3, vt.setHidden(!0), mt.setHidden(!0)) }), goog.events.listen(Ct, ["mousedown", "touchstart"], function () { 0 == vt.getHidden() && (1 == parseInt(localStorage.getItem("GuiGhostFarms_muted")) ? (lime.audio.setMute(!0), KP(1)) : (lime.audio.setMute(!1), i.play(!0), s.play(), KP(2)), mt.setHidden(!0), vt.setHidden(!0)) }); var _t = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(48, 130).setSize(210, 220).setFill("images/UI/tut1.png"); u.appendChild(_t); var It = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 250).setSize(35, 35).setFill("images/UI/nextButton.png"); _t.appendChild(It); var bt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 125).setSize(44, 44).setFill("images/UI/swipe-right.png"); _t.appendChild(bt), bt.setHidden(!0), goog.events.listen(Pe, ["mousedown", "touchstart"], function () { p.replaceScene(mf, lime.transitions.SlideInUp), sceneActive = "House", 1 == (seen1stHouseNotif = localStorage.getItem("MedFarms_seen1stHouseNotif")) && xP.setHidden(!0), gP(), sceneBefore = 1 }), goog.events.listen(It, ["mousedown", "touchstart"], function () { e.tutModalBehav() }), goog.events.listen(_t, ["mousedown", "touchstart"], function () { e.tutModalBehav() }), e.tutModalBehav = function (e) { bt.setHidden(!0), Jt.setHidden(!0), mt.setHidden(!1), ct <= 13 && _t.setFill(imgArray5[ct]), ct > 13 && (tutSeen = 1, _t.setHidden(!0), mt.setHidden(!0), localStorage.setItem("GuiGhostFarms_tutSeen", 1), Jt.setHidden(!1), Vt = 1, lime.scheduleManager.scheduleWithDelay(function () { var e = Jt.getPosition(); e.x += 5, e.x > 70 && (e.x = 20), Jt.setPosition(e), Jt.getHidden() || (Vt += 1), Vt > 20 && Jt.setHidden(!0) }, this, 200, 20)), 2 != (ct += 1) && bt.setHidden(!0), 2 == ct ? (bt.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { var e = bt.getPosition(); e.x += 5, e.x >= 31 && e.x < 60 && bt.setHidden(!0), e.x >= 60 && e.x < 105 && 2 == ct && bt.setHidden(!1), e.x >= 105 && bt.setHidden(!0), e.x >= 125 && 2 == ct && (bt.setHidden(!1), e.x = 0), bt.setPosition(e) }, this, 100)) : bt.setHidden(!0) }, e.checkTutSeen = function () { 1 == tutSeen && _t.setHidden(!0) }, e.checkTutSeen(); var xt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 100).setSize(210, 220).setFill("images/UI/outOfCash.png"); u.appendChild(xt); var Ht = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(122, 212).setSize(75, 35).setFill("images/UI/buyStarCash.png"); xt.appendChild(Ht); var Et = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 212).setSize(75, 35).setFill("images/UI/marketBtn.png"); xt.appendChild(Et); var zt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(89, 212).setSize(35, 35).setFill("images/UI/XButton.png"); xt.appendChild(zt), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), goog.events.listen(Ht, ["mousedown", "touchstart"], function () { xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), warningSeen = 1, document.getElementById("starCashOuterLabel").innerHTML = starCash, QP() }), goog.events.listen(Et, ["mousedown", "touchstart"], function () { xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), warningSeen = 1, e.updateStored(), globalModalBlock = 0, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", Bc(), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }), goog.events.listen(zt, ["mousedown", "touchstart"], function () { xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), warningSeen = 1, globalModalBlock = 0 }), player.money < e.crops[t.currentCrop].cost && 0 == warningSeen && (mt.setHidden(!1), xt.setHidden(!1), Et.setHidden(!1), Ht.setHidden(!1), warningSeen = 1, globalModalBlock = 1); var Mt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 140).setSize(210, 220).setFill("images/UI/saleBack.png"); u.appendChild(Mt); var kt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000000").setPosition(45, 128).setSize(135, 60).setFontSize(20).setText("Dairy Farm 2500"); Mt.appendChild(kt); var Lt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 143).setSize(30, 30).setFill(imgArray11[0]); Mt.appendChild(Lt); var Bt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#FF0000").setPosition(55, 178).setSize(110, 60).setFontSize(12).setText("Earn more $ to buy"); Mt.appendChild(Bt); var Ot = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 212).setSize(75, 35).setFill("images/UI/greenBuy.png"); Mt.appendChild(Ot); var Rt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 212).setSize(35, 35).setFill("images/UI/XButton.png"); Mt.appendChild(Rt), Mt.setHidden(!0); var Dt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), Nt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(13, 45).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); Dt.appendChild(Nt); var Ut = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(30, 123).setSize(150, 60).setFontSize(14).setText("Achieve Text"); Dt.appendChild(Ut); var Gt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(21, 182).setSize(190, 60).setFontSize(18).setText(" + "); Dt.appendChild(Gt); var Wt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); Dt.appendChild(Wt), u.appendChild(Dt), Dt.setHidden(!0); var Vt = 1, Jt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 180).setSize(44, 44).setFill("images/UI/swipe-right.png"); u.appendChild(Jt), Jt.setHidden(!1), 0 == tutSeen ? Jt.setHidden(!0) : lime.scheduleManager.scheduleWithDelay(function () { var e = Jt.getPosition(); e.x += 5, e.x > 70 && (e.x = 20), Jt.setPosition(e), Jt.getHidden() || (Vt += 1), Vt > 20 && Jt.setHidden(!0) }, this, 200, 22); var Yt = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(20, 50).setSize(270, 390).setFill("images/UI/blankBack4.png"); u.appendChild(Yt); var jt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(23, 35).setSize(220, 60).setFontSize(18).setText("Medieval Farms v1.5   MARKET TOWN"); Yt.appendChild(jt); var qt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20, 80).setSize(220, 20).setFontSize(14).setText("Visit Market Town, but be nice... Rep matters!"); Yt.appendChild(qt); var Kt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20, 120).setSize(220, 20).setFontSize(14).setText("Meet Villagers for quests/rumors"); Yt.appendChild(Kt); var $t = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(15, 147).setSize(230, 20).setFontSize(14).setText("Added random LOOT when digging"); Yt.appendChild($t); var Xt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(15, 175).setSize(220, 20).setFontSize(14).setText("New goods IRON, WOOD, BARRELS, and CIDER"); Yt.appendChild(Xt); var Qt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20, 215).setSize(220, 20).setFontSize(14).setText("Added Game SHOP for General and Premium Items"); Yt.appendChild(Qt); var Zt = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20, 253).setSize(230, 20).setFontSize(14).setText("Added Inventory scene with stats"); Yt.appendChild(Zt); var eo = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20, 280).setSize(220, 20).setFontSize(14).setText("Blacksmith now requires Iron"); Yt.appendChild(eo); var to = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20, 308).setSize(220, 20).setFontSize(14).setText("Added Special Tools in SHOP"); Yt.appendChild(to); var oo = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(15, 332).setSize(230, 20).setFontSize(14).setText("Farmers Market is now in town"); Yt.appendChild(oo); var io = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(112, 350).setSize(40, 40).setFill("images/UI/XButton.png"); Yt.appendChild(io), Yt.setHidden(!0), goog.events.listen(io, ["mousedown", "touchstart"], function () { Yt.setHidden(!0) }), tutSeen = parseInt(localStorage.GuiGhostFarms_tutSeen), onlyOnceUpdateNotif = localStorage.getItem("MedFarms_onlyOnceUpdateNotif"), 1 == tutSeen && 0 == onlyOnceUpdateNotif && (Yt.setHidden(!1), onlyOnceUpdateNotif = 1, localStorage.setItem("MedFarms_onlyOnceUpdateNotif", 1)); var so = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 150).setSize(250, 250).setFill("images/UI/blankBack4.png"); u.appendChild(so); var no = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(10, 45).setSize(230, 60).setFontSize(18).setText("NEW SEEDS TO PLANT!"); so.appendChild(no); var ro = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 105).setSize(70, 70).setFill("images/" + e.crops[2].harvest); so.appendChild(ro); var ao = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(50, 190).setSize(150, 50).setFontSize(18).setText("Artichoke"); so.appendChild(ao), so.setHidden(!0); var lo = (new lime.GlossyButton).setColor("#1ce636").setText("Build").setPosition(125, 200).setSize(60, 35); so.appendChild(lo); var go = (new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(125, 265).setSize(40, 40); so.appendChild(go); var co = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-20, -20).setSize(40, 40).setFill("images/UI/XButton.png"); go.appendChild(co); var mo = 60, po = 0, ho = 0, uo = imgArray6[0].src, yo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(40, 118).setSize(40, 40).setFill("images/toolsIcon.png").setHidden(!0); so.appendChild(yo); var So = (new lime.Label).setPosition(60, 175).setSize(25, 25).setText(po).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000").setHidden(!0); so.appendChild(So); var fo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 115).setSize(40, 40).setFill("images/" + e.crops[14].harvest).setHidden(!0); so.appendChild(fo); var vo = (new lime.Label).setPosition(190, 175).setSize(25, 25).setText(ho).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000").setHidden(!0); so.appendChild(vo); var Fo = (new lime.Label).setPosition(125, 200).setSize(175, 25).setText("You need more Resources").setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000").setHidden(!0); so.appendChild(Fo), goog.events.listen(Wt, ["mousedown", "touchstart"], function () { Dt.setHidden(!0), fs.setHidden(!0), dy.setHidden(!0), Jr.setHidden(!0), dh.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), ny.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0) }), p.replaceScene(h), sceneActive = "Home", goog.events.listen(ue, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (globalModalBlock = 1, fsClicked = 1, e.updateMoney(), mt.setHidden(!1), Mt.setHidden(!1), kt.setText("Dairy Farm 2500"), parseInt(player.money) >= 2500 ? (Bt.setHidden(!0), Ot.setHidden(!1)) : Ot.setHidden(!0)) }), goog.events.listen(ye, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (fsClicked = 2, globalModalBlock = 1, e.updateMoney(), mt.setHidden(!1), Mt.setHidden(!1), parseInt(player.money) >= 5e3 ? (Bt.setHidden(!0), Ot.setHidden(!1)) : Ot.setHidden(!0), kt.setText("Fruit Orchard 5000")) }), goog.events.listen(Ot, ["mousedown", "touchstart"], function () { Mt.setHidden(!0), mt.setHidden(!0), 1 == fsClicked && (o[1].owned = 1, player.money = player.money - 2500, e.updateMoney(), pe.setHidden(!1), ue.setHidden(!0), Mt.setHidden(!0), setTimeout(function () { globalModalBlock = 0 }, 500)), 2 == fsClicked && (o[2].owned = 1, player.money = player.money - 5e3, e.updateMoney(), he.setHidden(!1), ye.setHidden(!0), Mt.setHidden(!0), setTimeout(function () { globalModalBlock = 0 }, 500)), localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)), fsclicked = 0 }), goog.events.listen(Rt, ["mousedown", "touchstart"], function () { sceneBefore = 1, Mt.setHidden(!0), mt.setHidden(!0), fsclicked = 0, setTimeout(function () { globalModalBlock = 0 }, 500) }); var Po = 0; goog.events.listen(Ne, ["mousedown", "touchstart"], function () { 1 == tutSeen && 0 == globalModalBlock && player.tools >= 50 && 0 == Po && (Po = 1, lime.scheduleManager.scheduleWithDelay(function () { player.tools = player.tools - 50, e.updateTools(), Qe.setHidden(!0), it.setHidden(!1), st.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (nt += 10) > 35 && (nt = -10), Xe.setRotation(nt) }, this, 200, 300); var t = 60, o = 100, i = 0, s = 230; lime.scheduleManager.scheduleWithDelay(function () { it.setPosition(i, s).setSize(o, 200), o += 10, s -= 5, (i -= 5) < -15 && (i = 0, s = 230, o = 100) }, this, 250, 240), lime.scheduleManager.scheduleWithDelay(function () { t -= 1, st.setText(t), t <= 0 && (st.setHidden(!0), it.setHidden(!0), t = 60, player.fields = player.fields + 1, localStorage.setItem("MedFarms_homeTreesLeft", 1), e.updateTools(), Ke.setHidden(!0), $e.setHidden(!0), Ne.setHidden(!0), Xe.setHidden(!0), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) + 250, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 250), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver)) }, this, 1e3, 60) }, this, 300, 1)) }); var wo = 0; goog.events.listen(Ue, ["mousedown", "touchstart"], function () { 1 == tutSeen && 0 == globalModalBlock && player.tools >= 250 && 0 == wo && (wo = 1, lime.scheduleManager.scheduleWithDelay(function () { player.tools = player.tools - 250, e.updateTools(), ot.setHidden(!0), rt.setHidden(!1), at.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (lt += 10) > 35 && (lt = -10), tt.setRotation(lt) }, this, 200, 300); var t = 60, o = 100, i = 165, s = 250; lime.scheduleManager.scheduleWithDelay(function () { rt.setPosition(i, s).setSize(o, 200), o += 10, s -= 5, (i -= 5) < 155 && (i = 165, s = 250, o = 250) }, this, 250, 240), lime.scheduleManager.scheduleWithDelay(function () { t -= 1, at.setText(t), t <= 0 && (at.setHidden(!0), rt.setHidden(!0), t = 60, player.fields = player.fields + 1, localStorage.setItem("MedFarms_homeTreesRight", 1), e.updateTools(), Ze.setHidden(!0), et.setHidden(!0), Ue.setHidden(!0), tt.setHidden(!0), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) + 250, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 250), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver)) }, this, 1e3, 60) }, this, 300, 1)) }), goog.events.listen(Ge, ["mousedown", "touchstart"], function () { 1 == player.barnLevel && (po = 100, ho = 50, mo = 60, uo = imgArray6[1].src), 2 == player.barnLevel ? (po = 250, ho = 100, mo = 120, uo = imgArray6[2].src) : 3 == player.barnLevel ? (po = 500, ho = 150, mo = 180, uo = imgArray6[3].src) : 4 == player.barnLevel ? (po = 1500, ho = 250, mo = 300, uo = imgArray6[4].src) : po = 100, so.setHidden(!1), no.setText("Upgrade Barn to Level " + (player.barnLevel + 1)), ao.setText(""), ro.setFill(uo), so.setHidden(!1), lo.setHidden(!1), go.setHidden(!1), yo.setHidden(!1), fo.setHidden(!1), vo.setHidden(!1), So.setHidden(!1), yo.setAnchorPoint(0, 0).setPosition(40, 118).setSize(40, 40).setFill("images/toolsIcon.png").setHidden(!1), so.appendChild(yo), So.setPosition(60, 175).setSize(25, 25).setText(po).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000"), so.appendChild(So), fo.setAnchorPoint(0, 0).setPosition(170, 115).setSize(40, 40).setFill("images/" + e.crops[14].harvest), so.appendChild(fo), vo.setPosition(190, 175).setSize(25, 25).setText(ho).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000"), so.appendChild(vo), Fo.setPosition(125, 200).setSize(175, 25).setText("You need more Resources").setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000"), so.appendChild(Fo), (po > player.tools || ho > parseInt(player.cropsStored[14].stored)) && (lo.setHidden(!0), Fo.setHidden(!1)) }); goog.events.listen(go, ["mousedown", "touchstart"], function () { 0 == go.getHidden() && (so.setHidden(!0), lo.setHidden(!0), go.setHidden(!0), yo.setHidden(!0), fo.setHidden(!0), vo.setHidden(!0), Fo.setHidden(!0), no.setText("NEW SEEDS TO PLANT!")) }), goog.events.listen(lo, ["mousedown", "touchstart"], function () { var t = lo.getHidden(); 1 == player.barnLevel && (po = 100, ho = 50, mo = 60, uo = imgArray6[1].src), 2 == player.barnLevel ? (po = 250, ho = 100, mo = 120, uo = imgArray6[2].src) : 3 == player.barnLevel ? (po = 500, ho = 150, mo = 180, uo = imgArray6[3].src) : 4 == player.barnLevel ? (po = 1500, ho = 250, mo = 300, uo = imgArray6[4].src) : po = 100, 0 == t && (so.setHidden(!0), lo.setHidden(!0), go.setHidden(!0), yo.setHidden(!0), fo.setHidden(!0), vo.setHidden(!0), no.setText("NEW SEEDS TO PLANT!"), Fo.setHidden(!0), function (t, o) { if (Je.setText(mo), player.tools >= po && parseInt(player.barnLevel) < 5 && 0 == globalModalBlock && parseInt(player.cropsStored[14].stored) >= ho) { Ge.setHidden(!0), player.tools = player.tools - po, e.updateTools(), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) - parseInt(ho), player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), e.updateStored(), Ve.setHidden(!1), We.setHidden(!1), Je.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { Ve.setPosition(s, n).setSize(i, 200), i += 10, n -= 5, (s -= 5) < 80 && (s = 100, n = 10, i = 100), (qe += 10) > 35 && (qe = -10), Ye.setRotation(qe) }, this, 250, 4 * mo); var i = 100, s = 90, n = 10; lime.scheduleManager.scheduleWithDelay(function () { mo -= 1, Je.setText(mo), mo <= 0 && (Je.setHidden(!0), We.setHidden(!0), Ve.setHidden(!0), 2 == player.barnLevel && (ve.setFill(imgArray6[1]), so.setHidden(!1), ao.setText("Artichoke"), ro.setFill("images/" + e.crops[2].harvest), Ge.setHidden(!1), yo.setHidden(!0), fo.setHidden(!0), vo.setHidden(!0), Fo.setHidden(!0)), 3 == player.barnLevel && (ve.setFill(imgArray6[2]), so.setHidden(!1), ao.setText("Eggplant"), ro.setFill("images/" + e.crops[3].harvest), Ge.setHidden(!1), yo.setHidden(!0), fo.setHidden(!0), vo.setHidden(!0), Fo.setHidden(!0)), 4 == player.barnLevel && (ve.setFill(imgArray6[3]), so.setHidden(!1), ao.setText("Peppers"), ro.setFill("images/" + e.crops[4].harvest), Ge.setHidden(!1), yo.setHidden(!0), fo.setHidden(!0), vo.setHidden(!0), Fo.setHidden(!0)), 5 == player.barnLevel && (ve.setFill(imgArray6[4]), so.setHidden(!1), ao.setText("Corn"), ro.setFill("images/" + e.crops[5].harvest), Ge.setHidden(!0), ve.setPosition(86, 4).setSize(134, 155), yo.setHidden(!0), fo.setHidden(!0), vo.setHidden(!0), Fo.setHidden(!0)), je.setText("Lvl " + player.barnLevel + "/5"), setTimeout(function () { so.setHidden(!0), YP() }, 2e3)) }, this, 1e3, mo), setTimeout(function () { Ge.setHidden(!0), player.barnLevel = player.barnLevel + 1, e.updateTools(), player.barnLevel > 5 && (player.barnLevel = 5, Ge.setHidden(!0)), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver), 2 == player.barnLevel && (ve.setFill(imgArray6[1]), so.setHidden(!1), ao.setText("Artichoke"), ro.setFill("images/" + e.crops[2].harvest), Ge.setHidden(!1)), 3 == player.barnLevel && (ve.setFill(imgArray6[2]), so.setHidden(!1), ao.setText("Eggplant"), ro.setFill("images/" + e.crops[3].harvest), Ge.setHidden(!1)), 4 == player.barnLevel && (ve.setFill(imgArray6[3]), so.setHidden(!1), ao.setText("Peppers"), ro.setFill("images/" + e.crops[4].harvest), Ge.setHidden(!1)), 5 == player.barnLevel && (ve.setFill(imgArray6[4]), so.setHidden(!1), ao.setText("Corn"), ro.setFill("images/" + e.crops[5].harvest), Ge.setHidden(!0), ve.setPosition(86, 4).setSize(134, 155)), je.setText("Lvl " + player.barnLevel + "/5"), setTimeout(function () { so.setHidden(!0), YP() }, 2e3) }, 1e3 * mo) } }()) }), Re.setHidden(!1); var Ao = (new lime.Label).setPosition(156, 180).setSize(40, 25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600); u.appendChild(Ao); var Co = (new lime.Sprite).setPosition(30, -8).setSize(30, 30).setFill(imgArray11[0]); Ao.appendChild(Co), Ao.setHidden(!0); var To = (new lime.Scene).setRenderer(lime.Renderer.CANVAS); u = (new lime.Layer).setAnchorPoint(0, 0), y = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#0D0D0D"); u.appendChild(y), To.appendChild(u), y = (new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(e.width / 2, e.height - 20).setSize(80, 35), u.appendChild(y), seedSceneBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, 40).setFill("images/UI/greenButtonLg.png"), u.appendChild(seedSceneBack), seedSceneLabel = (new lime.Label).setText("Change Seeds to Plant ").setFontFamily("ComicSans MS").setFontColor("#E8FC08").setFontSize(22).setPosition(155, 23), u.appendChild(seedSceneLabel), seedSceneSeeds1 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 1).setSize(40, 40).setFill("images/grain.png"), u.appendChild(seedSceneSeeds1), seedSceneSeeds2 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(265, 1).setSize(40, 40).setFill("images/grain.png"), u.appendChild(seedSceneSeeds2), goog.events.listen(Se, ["mousedown", "touchstart"], function () { if (0 == globalModalBlock) for (p.replaceScene(To, lime.transitions.SlideInDown), y = 0; y < player.barnLevel + 1; y++)backSeed = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.shop_margin_x - 45, e.shop_margin_y + (e.shop_margin_y + e.tile_size) * y + 9 * y - 1 * y + 15).setFill(imgArray[18].src).setSize(e.width - 10, 60), u.appendChild(backSeed), A = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.shop_margin_x - 21, e.shop_margin_y + (e.shop_margin_y + e.tile_size) * y + 9 * y - 1 * y + 24).setFill("images/" + e.crops[y].harvest).setSize(35, 35), u.appendChild(A), xe = (new lime.Label).setText(e.crops[y].name + " (" + e.crops[y].time_to_ripe + " days) ").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontSize(20).setPosition(e.shop_margin_x + 130, 1.4 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * y + 7 * y - 1 * y + 20 + 1 * y), u.appendChild(xe), i2 = (new lime.Label).setText("   -" + e.crops[y].cost + " ").setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setFontSize(18).setPosition(e.shop_margin_x + 79, 2.1 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * y + (9 * y - y) + 24), u.appendChild(i2), i3 = (new lime.Sprite).setSize(30, 30).setFill(imgArray11[0]).setPosition(e.shop_margin_x + 58, 2.1 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * y + (9 * y - y) + 15), u.appendChild(i3), i4 = (new lime.Label).setText("   +" + e.crops[y].revenue + " ").setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setFontSize(18).setPosition(e.shop_margin_x + 190, 2.1 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * y + (9 * y - y) + 24), u.appendChild(i4), i5 = (new lime.Sprite).setSize(30, 30).setFill(imgArray11[0]).setPosition(e.shop_margin_x + 170, 2.1 * e.shop_margin_y + (e.shop_margin_y + e.tile_size) * y + (9 * y - y) + 15), u.appendChild(i5), function (o, i) { goog.events.listen(o, ["mousedown", "touchstart"], function () { t.currentCrop = i, p.replaceScene(h, lime.transitions.moveInRight), sceneActive = "Home", Y.setFill("images/" + e.crops[i].harvest), J.setText("Plant " + e.crops[i].name), ((homeCrop = parseInt(t.currentCrop)) > 5 || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0), localStorage.setItem("MedFarms_selectedHomeCrop", homeCrop), h.appendChild(Y) }) }(backSeed, y), function (o, i) { goog.events.listen(o, ["mousedown", "touchstart"], function () { t.currentCrop = i, p.replaceScene(h, lime.transitions.moveInRight), sceneActive = "Home", Y.setFill("images/" + e.crops[i].harvest), J.setText("Plant " + e.crops[i].name), ((homeCrop = parseInt(t.currentCrop)) > 5 || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0), localStorage.setItem("MedFarms_selectedHomeCrop", homeCrop), h.appendChild(Y) }) }(xe, y) }), goog.events.listen(y, ["mousedown", "touchstart"], function () { p.replaceScene(h, lime.transitions.SlideInUp), sceneActive = "Home" }); var _o = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Io = (new lime.Layer).setAnchorPoint(0, 0), bo = (new lime.Sprite).setAnchorPoint(0, 10).setPosition(0, 0).setSize(e.width, e.height - 90).setFill("#0D0D0D"); _o.appendChild(bo), _o.appendChild(Io); var xo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 40).setSize(e.controlsLayer_w, e.landLayer_h + 37).setFill("images/" + e.barnyard[0].image); Io.appendChild(xo); var Ho = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 435).setSize(320, 25).setFill("images/" + e.barnyard[15].image); Io.appendChild(Ho); var Eo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 10).setSize(15, 15); Ho.appendChild(Eo), Eo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, -12).setSize(43, 43).setFill("images/UI/vinyardBtn.png"), Ho.appendChild(Eo), goog.events.listen(Eo, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 4, p.replaceScene(Eh, lime.transitions.SlideInLeft), sceneActive = "Vineyard", t.currentCrop = 12, $P()) }); var zo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(285, 10).setSize(15, 15); Ho.appendChild(zo), zo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(269, -11).setSize(42, 42).setFill("images/UI/homeButton.png"), Ho.appendChild(zo); S = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, 0).setSize(e.controlsLayer_w, e.controlsLayer_h - 22).setFill("images/UI/greenButtonLg.png"); Io.appendChild(S); var Mo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 37).setSize(315, 29).setFill("images/" + e.barnyard[5].image); Io.appendChild(Mo); var ko = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(59, 44).setSize(190, 137).setFill("images/Pasture/" + e.pasture[1].image); Io.appendChild(ko); A = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h + 5).setFill("images/UI/blackButton.png"); Io.appendChild(A), menuP = (new lime.Sprite).setAnchorPoint(0, 0).setFill("images/UI/gearButton.png").setPosition(12, 467).setSize(35, 35), Io.appendChild(menuP); var Lo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 467).setSize(35, 35).setFill("images/UI/trophyBtn.png"); Io.appendChild(Lo); var Bo = (new lime.Sprite).setFill("images/UI/starButton.png").setAnchorPoint(0, 0).setPosition(50, 503).setSize(35, 35); Io.appendChild(Bo), goog.events.listen(Bo, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && QP() }); var Oo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(135, 449).setSize(35, 35).setFill("images/UI/compass22.png"); Io.appendChild(Oo); var Ro = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 503).setSize(35, 35).setFill(imgArray[15]); Io.appendChild(Ro), goog.events.listen(menuP, ["mousedown", "touchstart"], function () { e.sceneBefore = 2, p.replaceScene(ra, lime.transitions.SlideInUp), sceneActive = "Menu" }), goog.events.listen(Ro, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (lime.audio.getMute() ? (lime.audio.setMute(!1), i.play(!0), localStorage.setItem("GuiGhostFarms_muted", 0), KP(2)) : (lime.audio.setMute(!0), KP(1), localStorage.setItem("GuiGhostFarms_muted", 1))) }), goog.events.listen(Lo, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && qP(sceneBefore = 2) }); var Do = (new lime.Label).setText(player.money).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(245, 24).setFontSize(18); Io.appendChild(Do); var No = (new lime.Sprite).setPosition(285, 20).setSize(35, 35).setFill(imgArray11[0]); Io.appendChild(No); var Uo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(7, 5).setSize(35, 35).setFill("images/UI/toolsIcon2.png"), Go = (new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(60, 24).setFontSize(18); Io.appendChild(Uo), Io.appendChild(Go); t.currentCrop; var Wo = (new lime.Label).setText("Plant " + e.crops[6].name).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontSize(12).setPosition(e.controlsLayer_w / 2 - 5, e.height - e.controlsLayer_h / 2 - 12); Io.appendChild(Wo); var Vo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 28, e.height - e.controlsLayer_h / 2 - 5).setFill("images/" + e.crops[6].harvest).setSize(48, 35); Io.appendChild(Vo); te = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 40).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(te); oe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 40).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(oe); ie = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(ie); se = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 203).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(se); ne = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(ne); re = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 123).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(re); ae = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-3, 293).setSize(8, 55).setFill("images/" + e.barnyard[4].image); Io.appendChild(ae); le = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(302, 293).setSize(8, 55).setFill("images/" + e.barnyard[4].image); Io.appendChild(le); var Jo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-4, 315).setSize(315, 29).setFill("images/" + e.barnyard[5].image); Io.appendChild(Jo); var Yo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 215).setSize(130, 80).setFill("images/Pasture/" + e.pasture[0].image); Io.appendChild(Yo); var jo = (new lime.Label).setText("Lvl " + player.pastureLevel + "/3 ").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setPosition(155, 58).setSize(90, 15).setFontSize(16).setFill("images/UI/greenButtonLg.png"); Io.appendChild(jo); var qo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 70).setSize(60, 45).setFill("images/scaffold.png"); Io.appendChild(qo); var Ko = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 10).setSize(70, 140).setFill(imgArray[24].src); Io.appendChild(Ko); var $o = (new lime.Label).setText("60").setPosition(35, 80).setSize(40, 25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill("images/countBack.png"), Xo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-22, -50).setSize(50, 50).setFill("images/toolHammer.png"); Io.appendChild($o), $o.appendChild(Xo), Xo.setRotation(-10); var Qo = -10; Ko.setHidden(!0), qo.setHidden(!0), $o.setHidden(!0); var Zo = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(135, 210).setSize(38, 85).setFill("images/Pasture/" + e.pasture[2].image); Io.appendChild(Zo); te = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 250).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(te); oe = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(168, 250).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(oe); var ei = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(63, 100).setSize(8, 68).setFill("images/" + e.barnyard[4].image); Io.appendChild(ei); var ti = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 100).setSize(8, 68).setFill("images/" + e.barnyard[4].image); Io.appendChild(ti); var oi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(68, 147).setSize(70, 25).setFill("images/" + e.barnyard[18].image); Io.appendChild(oi); var ii = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(169, 147).setSize(70, 25).setFill("images/" + e.barnyard[18].image); Io.appendChild(ii); var si = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(168, 160).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(si); var ni = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 160).setSize(8, 90).setFill("images/" + e.barnyard[4].image); Io.appendChild(ni); var ri = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 135).setSize(43, 56).setFill("images/Pasture/" + e.pasture[3].image); Io.appendChild(ri); var ai = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(228, 135).setSize(43, 56).setFill("images/Pasture/" + e.pasture[3].image); Io.appendChild(ai); var li = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(164, 270).setSize(50, 57).setFill("images/Pasture/" + e.pasture[4].image); Io.appendChild(li); var gi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 270).setSize(50, 57).setFill("images/Pasture/" + e.pasture[4].image); Io.appendChild(gi); var di = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(143, 170).setSize(20, 43).setFill("images/Pasture/" + e.pasture[5].image); Io.appendChild(di); var ci = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(143, 294).setSize(20, 27).setFill("images/Pasture/" + e.pasture[5].image); Io.appendChild(ci); var mi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(270, 270).setSize(32, 16).setFill("images/Pasture/" + e.pasture[8].image); Io.appendChild(mi); var pi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(44, 185).setSize(32, 16).setFill("images/Pasture/" + e.pasture[8].image); Io.appendChild(pi); var hi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(102, 413).setFill("images/" + e.crops[6].harvest).setSize(39, 27); Io.appendChild(hi); var ui = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(178, 415).setSize(32, 16).setFill("images/Pasture/" + e.pasture[8].image); Io.appendChild(ui); var yi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(175, 120).setSize(140, 200).setFill("images/Pasture/" + e.pasture[9].image); Io.appendChild(yi); var Si = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(60, 70).setSize(40, 40).setFill("images/axe.png"); yi.appendChild(Si); var fi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 240).setSize(35, 35).setFill("images/tools500.png"); Io.appendChild(fi); var vi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(175, 90).setSize(130, 285).setFill(imgArray[24].src); Io.appendChild(vi); var Fi = (new lime.Label).setText("60").setPosition(240, 255).setSize(40, 25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill("images/countBack.png"); Io.appendChild(Fi); var Pi = 0; vi.setHidden(!0), Fi.setHidden(!0), player.treesP > 0 && (yi.setHidden(!0), fi.setHidden(!0)); var wi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(67, 230).setSize(54, 26).setFill("images/Pasture/" + e.pasture[6].image); Io.appendChild(wi); var Ai = (new lime.Sprite).setPosition(50, 290).setSize(22, 38).setFill("images/Pasture/" + e.pasture[7].image); Io.appendChild(Ai); var Ci = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(28, 193).setSize(80, 30).setFill("images/Pasture/" + e.pasture[13].image); Io.appendChild(Ci); var Ti = 0, _i = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(20, 180).setSize(10, 11).setFill("images/Pasture/poop.png"); Io.appendChild(_i); var Ii = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(20, 250).setSize(10, 11).setFill("images/Pasture/poop.png"); Io.appendChild(Ii); var bi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(75, 290).setSize(10, 11).setFill("images/Pasture/poop.png"); Io.appendChild(bi); var xi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(200, 202).setSize(10, 11).setFill("images/Pasture/poop.png"); Io.appendChild(xi); var Hi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(276, 245).setSize(10, 11).setFill("images/Pasture/poop.png"); Io.appendChild(Hi); var Ei = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(210, 295).setSize(10, 11).setFill("images/Pasture/poop.png"); Io.appendChild(Ei); var zi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(105, 190).setSize(20, 21).setFill("images/Pasture/bucket.png"); Io.appendChild(zi); var Mi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 285).setSize(58, 26).setFill("images/Pasture/" + e.pasture[6].image); Io.appendChild(Mi); var ki = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(225, 235).setSize(21, 36).setFill("images/Pasture/" + e.pasture[7].image); Io.appendChild(ki); var Li = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(207, 193).setSize(80, 29).setFill("images/Pasture/" + e.pasture[18].image); Io.appendChild(Li); var Bi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(140, 85).setSize(32, 32).setFill(imgArrayJosiah[0].src); Io.appendChild(Bi), 0 == player.treesP && (Mi.setHidden(!0), ki.setHidden(!0), Li.setHidden(!0), xi.setHidden(!0), Hi.setHidden(!0), Ei.setHidden(!0)); var Oi = 0; lime.scheduleManager.scheduleWithDelay(function () { "Pasture" == sceneActive && (Oi++ , (Ti += 1) >= 16 && (Ti = 1), 1 == player.treesP && (Mi.setHidden(!1), ki.setHidden(!1), Li.setHidden(!1)), 2 == Ti && (wi.setFill("images/Pasture/" + e.pasture[11].image), Ci.setFill("images/Pasture/" + e.pasture[14].image), Ci.setPosition(21, 193), Ai.setFill("images/Pasture/cow_eatF1.png"), 1 == player.treesP && (Mi.setFill("images/Pasture/" + e.pasture[10].image), Li.setFill("images/Pasture/" + e.pasture[17].image), Li.setPosition(214, 193), ki.setFill("images/Pasture/cow_eatF1.png"), xi.setHidden(!1), Hi.setHidden(!1), Ei.setHidden(!1))), 4 == Ti && (wi.setFill("images/Pasture/" + e.pasture[10].image), Ci.setFill("images/Pasture/" + e.pasture[15].image), Ci.setPosition(14, 193), Ai.setFill("images/Pasture/cow_eatF2.png"), ki.setFill("images/Pasture/cow_eatF2.png"), 1 == player.treesP && (Mi.setFill("images/Pasture/" + e.pasture[11].image), Li.setFill("images/Pasture/" + e.pasture[18].image), Li.setPosition(221, 193))), 6 == Ti && (wi.setFill("images/Pasture/" + e.pasture[11].image), Ci.setFill("images/Pasture/" + e.pasture[16].image), Ci.setPosition(7, 193), 1 == player.treesP && (Mi.setFill("images/Pasture/" + e.pasture[6].image), Li.setFill("images/Pasture/" + e.pasture[17].image), Li.setPosition(228, 193))), 8 == Ti && (wi.setFill("images/Pasture/" + e.pasture[6].image), Ci.setFill("images/Pasture/" + e.pasture[17].image), Ci.setPosition(7, 193), Ai.setFill("images/Pasture/cow_eatF2.png"), ki.setFill("images/Pasture/cow_eatF3.png"), 1 == player.treesP && (Mi.setFill("images/Pasture/" + e.pasture[11].image), Li.setFill("images/Pasture/" + e.pasture[16].image), Li.setPosition(228, 193))), 10 == Ti && (wi.setFill("images/Pasture/" + e.pasture[11].image), Ci.setFill("images/Pasture/" + e.pasture[18].image), Ci.setPosition(14, 193), Ai.setFill("images/Pasture/cow_eatF1.png"), ki.setFill("images/Pasture/cow_eatF1.png"), 1 == player.treesP && (Mi.setFill("images/Pasture/" + e.pasture[6].image), Li.setFill("images/Pasture/" + e.pasture[15].image), Li.setPosition(221, 193))), 12 == Ti && (wi.setFill("images/Pasture/" + e.pasture[10].image), Ci.setFill("images/Pasture/" + e.pasture[17].image), Ci.setPosition(21, 193), Ai.setFill("images/Pasture/cow_eatF2.png"), ki.setFill("images/Pasture/cow_eatF2.png"), 1 == player.treesP && (Mi.setFill("images/Pasture/" + e.pasture[11].image), Li.setFill("images/Pasture/" + e.pasture[16].image), Li.setPosition(214, 193))), 14 == Ti && (wi.setFill("images/Pasture/" + e.pasture[11].image), Ci.setFill("images/Pasture/" + e.pasture[18].image), Ci.setPosition(28, 193), 1 == player.treesP && (Mi.setFill("images/Pasture/" + e.pasture[10].image), Li.setFill("images/Pasture/" + e.pasture[17].image), Li.setPosition(207, 193), ki.setFill("images/Pasture/cow_eatF1.png"))), 1 == Oi && Bi.setPosition(140, 90).setFill(imgArrayJosiah[1].src), 2 == Oi && Bi.setPosition(140, 95).setFill(imgArrayJosiah[2].src), 3 == Oi && Bi.setPosition(140, 100).setFill(imgArrayJosiah[3].src), 4 == Oi && Bi.setPosition(140, 105).setFill(imgArrayJosiah[0].src), 5 == Oi && Bi.setPosition(140, 110).setFill(imgArrayJosiah[1].src), 6 == Oi && Bi.setPosition(140, 115).setFill(imgArrayJosiah[2].src), 7 == Oi && Bi.setPosition(140, 120).setFill(imgArrayJosiah[3].src), 8 == Oi && Bi.setPosition(140, 123).setFill(imgArrayJosiah[0].src), 9 == Oi && Bi.setPosition(140, 123).setFill(imgArrayJosiah[4].src), 10 == Oi && Bi.setPosition(135, 123).setFill(imgArrayJosiah[5].src), 11 == Oi && Bi.setPosition(130, 123).setFill(imgArrayJosiah[6].src), 12 == Oi && Bi.setPosition(125, 123).setFill(imgArrayJosiah[7].src), 13 == Oi && Bi.setPosition(120, 123).setFill(imgArrayJosiah[4].src), 14 == Oi && Bi.setPosition(115, 123).setFill(imgArrayJosiah[5].src), 15 == Oi && Bi.setPosition(110, 123).setFill(imgArrayJosiah[6].src), 16 == Oi && Bi.setPosition(105, 123).setFill(imgArrayJosiah[7].src), 17 == Oi && Bi.setPosition(100, 123).setFill(imgArrayJosiah[4].src), 18 == Oi && Bi.setPosition(100, 123).setFill(imgArrayJosiah[12].src), 19 == Oi && Bi.setPosition(100, 120).setFill(imgArrayJosiah[15].src), 20 == Oi && Bi.setPosition(100, 115).setFill(imgArrayJosiah[14].src), 21 == Oi && Bi.setPosition(100, 110).setFill(imgArrayJosiah[13].src), 22 == Oi && Bi.setPosition(100, 105).setFill(imgArrayJosiah[15].src), 23 == Oi && Bi.setPosition(100, 105).setFill(imgArrayJosiah[8].src), 24 == Oi && Bi.setPosition(105, 100).setFill(imgArrayJosiah[9].src), 25 == Oi && Bi.setPosition(110, 105).setFill(imgArrayJosiah[10].src), 26 == Oi && Bi.setPosition(115, 105).setFill(imgArrayJosiah[11].src), 27 == Oi && Bi.setPosition(120, 105).setFill(imgArrayJosiah[8].src), 28 == Oi && Bi.setPosition(125, 100).setFill(imgArrayJosiah[9].src), 29 == Oi && Bi.setPosition(130, 100).setFill(imgArrayJosiah[10].src), 30 == Oi && Bi.setPosition(135, 95).setFill(imgArrayJosiah[11].src), 31 == Oi && Bi.setPosition(140, 90).setFill(imgArrayJosiah[13].src), 32 == Oi && Bi.setPosition(140, 85).setFill(imgArrayJosiah[15].src), 33 == Oi && Bi.setPosition(140, 85).setFill(imgArrayJosiah[8].src), 34 == Oi && Bi.setPosition(140, 85).setFill(imgArrayJosiah[0].src), 35 == Oi && Bi.setPosition(140, 85).setFill(imgArrayJosiah[0].src), 36 == Oi && Bi.setPosition(140, 90).setFill(imgArrayJosiah[1].src), 37 == Oi && Bi.setPosition(140, 95).setFill(imgArrayJosiah[2].src), 38 == Oi && Bi.setPosition(145, 95).setFill(imgArrayJosiah[8].src), 39 == Oi && Bi.setPosition(150, 95).setFill(imgArrayJosiah[9].src), 40 == Oi && Bi.setPosition(155, 95).setFill(imgArrayJosiah[10].src), 41 == Oi && Bi.setPosition(160, 100).setFill(imgArrayJosiah[11].src), 42 == Oi && Bi.setPosition(165, 105).setFill(imgArrayJosiah[8].src), 43 == Oi && Bi.setPosition(170, 110).setFill(imgArrayJosiah[9].src), 44 == Oi && Bi.setPosition(170, 110).setFill(imgArrayJosiah[12].src), 45 == Oi && Bi.setPosition(170, 110).setFill(imgArrayJosiah[12].src), 56 == Oi && Bi.setPosition(170, 110).setFill(imgArrayJosiah[4].src), 57 == Oi && Bi.setPosition(165, 105).setFill(imgArrayJosiah[5].src), 58 == Oi && Bi.setPosition(160, 105).setFill(imgArrayJosiah[6].src), 59 == Oi && Bi.setPosition(155, 100).setFill(imgArrayJosiah[7].src), 60 == Oi && Bi.setPosition(150, 100).setFill(imgArrayJosiah[5].src), 61 == Oi && Bi.setPosition(145, 95).setFill(imgArrayJosiah[6].src), 62 == Oi && Bi.setPosition(140, 90).setFill(imgArrayJosiah[7].src), 63 == Oi && Bi.setPosition(140, 90).setFill(imgArrayJosiah[1].src), Oi > 75 && (Oi = 0)) }, this, 250); var Ri = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(137, 67).setSize(34, 32).setFill("images/UI/upBtn.png"); lime.scheduleManager.scheduleWithDelay(function () { if ("Pasture" == sceneActive) { var e = Ri.getPosition(); e.x -= 5, e.x < 132 && (e.x = 137), Ri.setPosition(e) } }, this, 500), Io.appendChild(Ri), player.pastureLevel >= 3 && (Ri.setHidden(!0), jo.setHidden(!0)); var Di = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(190, 45).setSize(50, 64).setFill("images/UI/speechBubble.png"); Io.appendChild(Di); var Ni = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 2).setSize(27, 30).setFill("images/" + e.crops[7].harvest); Di.appendChild(Ni); var Ui = (new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23, 42).setSize(30, 18).setFontFamily("Comic Sans MS"); Di.appendChild(Ui), Di.setHidden(!0); var Gi = 0; goog.events.listen(Di, ["mousedown", "touchstart"], function () { Di.setHidden(!0), a.play(), player.cropsStored[7].stored = player.cropsStored[7].stored + Gi, count7.setText(player.cropsStored[7].stored), Ja.setText(player.cropsStored[7].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), Gi = 0 }); var Wi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-400, -100).setSize(e.width, 750).setFill(imgArray[24].src).setOpacity(.5); Io.appendChild(Wi); lime.scheduleManager.scheduleWithDelay(function () { 2 == sceneBefore && n.play(), 1 == o[1].owned && e.harvestMilk(), vinyardHouseLevel > 1 && e.makeJelly() }, this, 6e4), e.harvestMilk = function () { player.cropsStored[6].stored >= player.pastureLevel + player.treesP && (Gi += player.pastureLevel + player.treesP, player.cropsStored[6].stored = player.cropsStored[6].stored - (player.pastureLevel + player.treesP), count6.setText(player.cropsStored[6].stored), Va.setText(player.cropsStored[6].stored), Di.setHidden(!1), Ui.setText("+ " + Gi), e.haySize()) }, e.makeJelly = function () { player.cropsStored[12].stored >= 2 && vinyardHouseLevel > 1 && (Mu.setHidden(!1), Bu += 1, player.cropsStored[12].stored = player.cropsStored[12].stored - 2, count12.setText(player.cropsStored[12].stored), $a.setText(player.cropsStored[12].stored), Lu.setText("+ " + Bu), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver), YP(), setTimeout(function () { Ou.setHidden(!1), Ou.setPosition(145, 320), Ou.setOpacity(1) }, 500), setTimeout(function () { Ou.setHidden(!1), Ou.setPosition(145, 310), Ou.setOpacity(.8) }, 1e3), setTimeout(function () { Ou.setHidden(!1), Ou.setPosition(145, 300), Ou.setOpacity(.6) }, 1500), setTimeout(function () { Ou.setHidden(!1), Ou.setPosition(145, 290), Ou.setOpacity(.4) }, 2e3), setTimeout(function () { Ou.setHidden(!1), Ou.setPosition(145, 280), Ou.setOpacity(.2) }, 2500), setTimeout(function () { Ou.setHidden(!0) }, 3e3)) }, e.haySize = function () { player.cropsStored[6].stored <= 0 && (es.setHidden(!0), ts.setHidden(!0)), player.cropsStored[6].stored >= 1 && es.setHidden(!1), player.cropsStored[6].stored >= 2 && ts.setHidden(!1), player.cropsStored[6].stored >= 12 && es.setSize(30, 15), player.cropsStored[6].stored >= 24 && ts.setSize(30, 15), player.cropsStored[6].stored >= 50 && es.setSize(40, 20), player.cropsStored[6].stored >= 75 && es.setSize(40, 20), player.cropsStored[6].stored >= 85 && es.setSize(50, 25), player.cropsStored[6].stored >= 100 && es.setSize(50, 25) }; var Vi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 55).setSize(59, 83).setFill("images/Pasture/" + e.PastureUpgrades[0].image); Io.appendChild(Vi); var Ji = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(243, 55).setSize(59, 83).setFill("images/Pasture/" + e.PastureUpgrades[1].image); for (Io.appendChild(Ji), Vi.setHidden(!0), Ji.setHidden(!0), player.pastureLevel > 1 && (Vi.setHidden(!1), player.pastureLevel > 2 && Ji.setHidden(!1)), y = 0; y < e.num_tiles_x; y++)for (xe = 0; xe < 2; xe++) { He = y * e.tile_size + 12, Ee = xe * e.tile_size + 352; var Yi, ji = xe, qi = y; if (Yi = (Yi = "").concat("hay1-".toString(), qi.toString(), ji.toString()), 0 == y && 0 == xe) { var Ki = new farming.Land(e, t, He, Ee, 2, "tlt", Yi).setPosition(y * e.tile_size + 12, xe * e.tile_size + 352); Io.appendChild(Ki) } else if (3 == y && 0 == xe) { Ki = new farming.Land(e, t, He, Ee, 2, "trt", Yi).setPosition(y * e.tile_size + 12, xe * e.tile_size + 352); Io.appendChild(Ki) } else if (3 == y && 1 == xe) { Ki = new farming.Land(e, t, He, Ee, 2, "brt", Yi).setPosition(y * e.tile_size + 12, xe * e.tile_size + 352); Io.appendChild(Ki) } else if (0 == y && 1 == xe) { Ki = new farming.Land(e, t, He, Ee, 2, "blt", Yi).setPosition(y * e.tile_size + 12, xe * e.tile_size + 352); Io.appendChild(Ki) } else { Ki = new farming.Land(e, t, He, Ee, 2, "non", Yi).setPosition(y * e.tile_size + 12, xe * e.tile_size + 352); Io.appendChild(Ki) } if (He = y * e.tile_size + 175, Yi = (Yi = "").concat("hay2-".toString(), qi.toString(), ji.toString()), 0 == y && 0 == xe) { var $i = new farming.Land(e, t, He, Ee, 2, "tlt", Yi).setPosition(y * e.tile_size + 175, xe * e.tile_size + 352); Io.appendChild($i) } else if (3 == y && 0 == xe) { $i = new farming.Land(e, t, He, Ee, 2, "trt", Yi).setPosition(y * e.tile_size + 175, xe * e.tile_size + 352); Io.appendChild($i) } else if (3 == y && 1 == xe) { $i = new farming.Land(e, t, He, Ee, 2, "brt", Yi).setPosition(y * e.tile_size + 175, xe * e.tile_size + 352); Io.appendChild($i) } else if (0 == y && 1 == xe) { $i = new farming.Land(e, t, He, Ee, 2, "blt", Yi).setPosition(y * e.tile_size + 175, xe * e.tile_size + 352); Io.appendChild($i) } else { $i = new farming.Land(e, t, He, Ee, 2, "non", Yi).setPosition(y * e.tile_size + 175, xe * e.tile_size + 352); Io.appendChild($i) } } var Xi = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(143, 345).setSize(21, 92).setFill("images/Pasture/" + e.pasture[5].image); Io.appendChild(Xi); t.currentCrop; var Qi = (new lime.Label).setPosition(156, 180).setSize(25, 25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600); Io.appendChild(Qi); var Zi = (new lime.Sprite).setPosition(30, -8).setSize(30, 30).setFill(imgArray11[0]); Qi.appendChild(Zi), Qi.setHidden(!0); var es = (new lime.Sprite).setPosition(98, 138).setSize(20, 10).setFill("images/Pasture/hayPile.png"); Io.appendChild(es); var ts = (new lime.Sprite).setPosition(211, 138).setSize(20, 10).setFill("images/Pasture/hayPile.png"); Io.appendChild(ts); var os = (new lime.Sprite).setPosition(285, 310).setSize(11, 6).setFill("images/Pasture/hayPile.png"); Io.appendChild(os); var is = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 19, e.height / 2 + 100).setFill("images/" + e.crops[6].image).setSize(26, 21); Io.appendChild(is), is.setHidden(!0); var ss = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(208, e.height - e.controlsLayer_h).setSize(90, 61).setFill("images/" + e.barnyard[3].image); Io.appendChild(ss), goog.events.listen(ss, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 2, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", Bc(), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored)) }); var ns = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(1, 424).setSize(40, 40).setFill("images/UI/vinyardBtn.png"); Io.appendChild(ns); var rs = (new lime.Sprite).setPosition(e.controlsLayer_w / 2 - 5, 23).setSize(38, 38).setFill(imgArrayItems[25].src); Io.appendChild(rs), goog.events.listen(rs, ["mousedown", "touchstart"], function () { e.sceneBefore = 2, Gl(), ll.setText(starCash), p.replaceScene(ha, lime.transitions.SlideInDown), sceneActive = "Invntory", xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }); var as = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#000F00").setOpacity(.75); Io.appendChild(as), as.setHidden(!0); var ls = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 100).setSize(210, 220).setFill("images/UI/outOfCash.png"); Io.appendChild(ls); var gs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(122, 212).setSize(75, 35).setFill("images/UI/buyStarCash.png"); ls.appendChild(gs); var ds = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 212).setSize(75, 35).setFill("images/UI/marketBtn.png"); ls.appendChild(ds); var cs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(89, 212).setSize(35, 35).setFill("images/UI/XButton.png"); ls.appendChild(cs), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), goog.events.listen(gs, ["mousedown", "touchstart"], function () { warningSeen = 1, ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0), gh.setHidden(!0), QP() }), goog.events.listen(ds, ["mousedown", "touchstart"], function () { warningSeen = 1, ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0), gh.setHidden(!0), e.updateStored(), globalModalBlock = 0, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", Bc() }), goog.events.listen(cs, ["mousedown", "touchstart"], function () { ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0), as.setHidden(!0), gh.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), warningSeen = 1, globalModalBlock = 0 }), player.money < e.crops[t.currentCrop].cost && 0 == warningSeen && (as.setHidden(!1), mt.setHidden(!1), Tr.setHidden(!1), gh.setHidden(!1), ny.setHidden(!1), globalModalBlock = 1, ls.setHidden(!1), ds.setHidden(!1), gs.setHidden(!1), $r.setHidden(!1), Qr.setHidden(!1), Xr.setHidden(!1), ry.setHidden(!1), ly.setHidden(!1), ay.setHidden(!1), xt.setHidden(!1), Et.setHidden(!1), Ht.setHidden(!1)); var ms = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 100).setSize(210, 220).setFill("images/UI/saleBack.png"); Io.appendChild(ms); var ps = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000000").setPosition(45, 135).setSize(125, 60).setFontSize(22).setText("Vineyard         12,500"); ms.appendChild(ps); var hs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 165).setSize(30, 30).setFill(imgArray11[0]); ms.appendChild(hs); var us = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#FF0000").setPosition(55, 190).setSize(110, 60).setFontSize(10).setText("Earn more $ to buy"); ms.appendChild(us); var ys = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 212).setSize(75, 35).setFill("images/UI/greenBuy.png"); ms.appendChild(ys); var Ss = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 212).setSize(35, 35).setFill("images/UI/XButton.png"); ms.appendChild(Ss), ms.setHidden(!0), goog.events.listen(ns, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (globalModalBlock = 1, fsClicked = 3, as.setHidden(!1), ms.setHidden(!1), player.money >= 12500 ? (us.setHidden(!0), ys.setHidden(!1)) : ys.setHidden(!0), ps.setText("Vineyard         12,500")) }), goog.events.listen(ys, ["mousedown", "touchstart"], function () { player.money = player.money - 7500, e.updateMoney(), o[3].owned = 1, localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)), ms.setHidden(!0), Eo.setHidden(!1), ns.setHidden(!0), ms.setHidden(!0), as.setHidden(!0), ny.setHidden(!0), fsClicked = 0, globalModalBlock = 0 }), goog.events.listen(Ss, ["mousedown", "touchstart"], function () { ms.setHidden(!0), as.setHidden(!0), globalModalBlock = 0 }); var fs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), vs = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(13, 45).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); fs.appendChild(vs); var Fs = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(30, 123).setSize(150, 60).setFontSize(14).setText("Achieve Text"); fs.appendChild(Fs); var Ps = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(21, 182).setSize(190, 60).setFontSize(18).setText(" + "); fs.appendChild(Ps); var ws = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); fs.appendChild(ws), Io.appendChild(fs), fs.setHidden(!0), goog.events.listen(ws, ["mousedown", "touchstart"], function () { globalModalBlock = 0, Dt.setHidden(!0), fs.setHidden(!0), dy.setHidden(!0), Jr.setHidden(!0), dh.setHidden(!0) }); var As = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(62, 145).setSize(180, 200).setFill("images/UI/shortage.png"); Io.appendChild(As); var Cs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 195).setSize(40, 40).setFill("images/UI/checkButton.png"); As.appendChild(Cs); var Ts = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(5, 120).setSize(170, 40).setFontSize(14).setText("Livestock Hungry!"); As.appendChild(Ts); var _s = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 140).setSize(55, 30).setFill("images/Pasture/cow_eatR1.png"); As.appendChild(_s); var Is = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setPosition(55, 145).setFontColor("#E8FC08").setSize(24, 140).setFontSize(22).setText("+"); As.appendChild(Is); var bs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(77, 140).setFill("images/" + e.crops[6].harvest).setSize(30, 30); As.appendChild(bs); var xs = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setPosition(110, 145).setSize(24, 140).setFontColor("#E8FC08").setFontSize(22).setText("="); As.appendChild(xs); var Hs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(132, 140).setFill("images/" + e.crops[7].harvest).setSize(35, 35); As.appendChild(Hs); var Es = (new lime.Label).setPosition(90, 186).setSize(20, 16).setText(player.cropsStored[6].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); As.appendChild(Es), As.setHidden(!0), goog.events.listen(Cs, ["mousedown", "touchstart"], function () { As.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0) }); var zs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); Io.appendChild(zs); var Ms = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); zs.appendChild(Ms); var ks = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); zs.appendChild(ks); var Ls = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); zs.appendChild(Ls); var Bs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); zs.appendChild(Bs); var Os = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); zs.appendChild(Os); var Rs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); zs.appendChild(Rs), zs.setHidden(!0), goog.events.listen(Oo, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && O() }), goog.events.listen(Rs, ["mousedown", "touchstart"], function () { R(), globalModalBlock = 0 }), goog.events.listen(Bs, ["mousedown", "touchstart"], function () { compassVisible && (t.currentCrop = parseInt(homeCrop), (t.currentCrop > 5 || isNan(t.currentCrop)) && (t.currentCrop = 0), R(), e.sceneBefore = 1, p.replaceScene(h, lime.transitions.SlideInRight), sceneActive = "Home", globalModalBlock = 0) }), goog.events.listen(Os, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (R(), e.sceneBefore = 2, t.currentCrop = 6, globalModalBlock = 0) }), goog.events.listen(Ms, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (t.currentCrop, t.currentCrop = 8, e.sceneBefore = 3, r.play(), R(), p.replaceScene(Us, lime.transitions.SlideInRight), sceneActive = "Orchard", globalModalBlock = 0) }), goog.events.listen(Ls, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (R(), e.sceneBefore = 4, p.replaceScene(Eh, lime.transitions.SlideInLeft), sceneActive = "Vineyard", r.stop(), t.currentCrop, t.currentCrop = 12, $P(), globalModalBlock = 0) }), goog.events.listen(ks, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (R(), e.sceneBefore = 5, p.replaceScene(dp, lime.transitions.SlideInRight), sceneActive = "LS", r.stop(), l.play(), g.play(), setTimeout(function () { d.play() }, 5e3), $P(), globalModalBlock = 0) }), goog.events.listen(pe, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (p.replaceScene(_o, lime.transitions.SlideInLeft), sceneActive = "Pasture", ((homeCrop = parseInt(t.currentCrop)) > 5 || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0), localStorage.setItem("MedFarms_selectedHomeCrop", parseInt(homeCrop)), t.currentCrop, t.currentCrop = 6, sceneBefore = 2, n.play(), $P()) }), goog.events.listen(zo, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (p.replaceScene(h, lime.transitions.SlideInRight), sceneActive = "Home", t.currentCrop = parseInt(homeCrop), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = 0)), sceneBefore = 1) }), goog.events.listen(fi, ["mousedown", "touchstart"], function () { if (player.tools >= 500 && 0 == globalModalBlock) { fi.setHidden(!0), player.tools = player.tools - 500, e.updateTools(), vi.setHidden(!1), Fi.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (Pi += 10) > 35 && (Pi = -10), Si.setRotation(Pi) }, this, 200, 300); var t = 60, o = 100, i = 175, s = 90; lime.scheduleManager.scheduleWithDelay(function () { vi.setPosition(i, s).setSize(o, 200), o += 10, s -= 5, (i -= 5) < 165 && (i = 175, s = 90, o = 285) }, this, 250, 240), lime.scheduleManager.scheduleWithDelay(function () { t -= 1, Fi.setText(t), t <= 0 && (Fi.setHidden(!0), vi.setHidden(!0), t = 60, player.treesP = 1, e.updateTools(), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) + 500, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 500), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), yi.setHidden(!0), Si.setHidden(!0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver)) }, this, 1e3, 60) } }); var Ds = 0, Ns = 0; imgArray6[0].src; goog.events.listen(Ri, ["mousedown", "touchstart"], function () { Ds = 250, Ns = 100; var t = (new lime.Sprite).setPosition(155, 240).setSize(250, 250).setFill("images/UI/blankBack5.png"); Io.appendChild(t); var o = (new lime.Label).setPosition(0, -90).setSize(250, 30).setText("Upgrade Dairy Barn").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22); t.appendChild(o); var i = (new lime.Sprite).setPosition(-40, -20).setSize(40, 40).setFill("images/UI/toolsIcon2.png"); t.appendChild(i); var s = (new lime.Label).setPosition(-40, 30).setSize(250, 25).setText(Ds).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22); t.appendChild(s); var n = (new lime.Sprite).setPosition(40, -20).setSize(40, 40).setFill("images/" + e.crops[14].harvest); t.appendChild(n); var r = (new lime.Label).setPosition(40, 30).setSize(250, 25).setText(Ns).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22); t.appendChild(r); var a = (new lime.Label).setPosition(0, 50).setSize(250, 25).setText("You need more resources").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(14); t.appendChild(a), a.setHidden(!0); var l = (new lime.GlossyButton).setColor("#1ce636").setText("Upgrade").setPosition(0, 70).setSize(80, 35); t.appendChild(l); var g = (new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(0, 130).setSize(40, 40); t.appendChild(g); var d = (new lime.Sprite).setPosition(0, 0).setSize(40, 40).setFill(imgArray[21].src); g.appendChild(d), parseInt(player.cropsStored[14].stored) < Ns && (l.setHidden(!0), a.setHidden(!1)), player.tools < Ds && (l.setHidden(!0), a.setHidden(!1)), goog.events.listen(g, ["mousedown", "touchstart"], function () { t.setHidden(!0) }), goog.events.listen(l, ["mousedown", "touchstart"], function () { t.setHidden(!0), function (t, o) { if (player.tools >= t && parseInt(player.pastureLevel) <= 3 && 0 == globalModalBlock && parseInt(player.cropsStored[14].stored) >= o) { Ri.setHidden(!0), player.tools = player.tools - t, player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) - parseInt(o), player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), e.updateTools(), e.updateStored(), Ko.setHidden(!1), qo.setHidden(!1), $o.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (Qo += 10) > 35 && (Qo = -10), Xo.setRotation(Qo) }, this, 200, 300); var i = 120, s = 70, n = 10, r = 5; lime.scheduleManager.scheduleWithDelay(function () { i -= 1, $o.setText(i), i <= 0 && ($o.setHidden(!0), qo.setHidden(!0), Ko.setHidden(!0), i = 60) }, this, 1e3, i), 1 == player.pastureLevel && lime.scheduleManager.scheduleWithDelay(function () { Ko.setPosition(n, r).setSize(s, 200), s += 10, r -= 5, (n -= 5) < -10 && (n = 10, r = 5, s = 60) }, this, 250, 4 * i), 2 == player.pastureLevel && (qo.setPosition(240, 70), $o.setPosition(275, 80), Xo.setPosition(-22, -50), s = 70, n = 240, r = 5, lime.scheduleManager.scheduleWithDelay(function () { Ko.setPosition(n, r).setSize(s, 200), s += 10, r -= 5, (n -= 5) < 220 && (n = 240, r = 5, s = 60) }, this, 250, 4 * i)), setTimeout(function () { player.pastureLevel = parseInt(player.pastureLevel) + 1, player.pastureLevel > 3 && (player.pastureLevel = 3), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), 2 == player.pastureLevel && (jo.setText("Lvl 2/3 "), Vi.setHidden(!1), Ri.setHidden(!1)), player.pastureLevel >= 3 && (Vi.setHidden(!1), Ji.setHidden(!1), jo.setHidden(!0), Ri.setHidden(!0), YP(), jo.setText("Lvl 3/3 "), Vi.setHidden(!1)), Ko.setHidden(!0), qo.setHidden(!0), $o.setHidden(!0), e.updateTools() }, 1e3 * i) } }(Ds, Ns) }) }); var Us = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Gs = (new lime.Layer).setAnchorPoint(0, 0), Ws = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height - 5); Us.appendChild(Ws), Us.appendChild(Gs); var Vs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 40).setSize(e.controlsLayer_w, e.landLayer_h + 37).setFill("images/" + e.barnyard[0].image); Gs.appendChild(Vs); var Js = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 44).setSize(310, 420).setFill("images/" + e.orchard[0].image); Gs.appendChild(Js); var Ys = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 435).setSize(109, 25).setFill("images/" + e.barnyard[15].image); Gs.appendChild(Ys); var js = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(152, 435).setSize(170, 25).setFill("images/" + e.barnyard[15].image); Gs.appendChild(js); var qs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 76).setSize(140, 140).setFill("images/Orchard/orchardBarn1.png"); Gs.appendChild(qs); var Ks = (new lime.GlossyButton).setColor("#00ff00").setText("").setPosition(58, 65).setSize(40, 40).setOpacity(.1); qs.appendChild(Ks); var $s = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(38, 43).setSize(39, 42).setFill("images/UI/upBtn.png"); qs.appendChild($s); var Xs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(98, 135).setSize(38, 43).setFill("images/UI/rockBlock.png"); Gs.appendChild(Xs); var Qs = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 150).setSize(38, 43).setFill("images/UI/rockBlock.png"); Gs.appendChild(Qs); var Zs = (new lime.GlossyButton).setColor("#00ff00").setText("").setPosition(121, 190).setSize(32, 32).setOpacity(.9); Gs.appendChild(Zs); var en = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(105, 175).setSize(32, 32).setFill("images/UI/pickBtn.png"); Gs.appendChild(en), 0 == orchardBarnLevel && (qs.setFill("images/Orchard/orchardBarn1.png"), Xs.setHidden(!1), Qs.setHidden(!1), Zs.setHidden(!1), en.setHidden(!1), Ks.setHidden(!0), $s.setHidden(!0)), 1 == orchardBarnLevel && (qs.setFill("images/Orchard/orchardBarn1.png"), Xs.setHidden(!0), Qs.setHidden(!0), Zs.setHidden(!0), en.setHidden(!0), Ks.setHidden(!1), $s.setHidden(!1)), 2 == orchardBarnLevel && (qs.setFill("images/Orchard/orchardBarn2.png"), Xs.setHidden(!0), Qs.setHidden(!0), Zs.setHidden(!0), en.setHidden(!0), Ks.setHidden(!0), $s.setHidden(!0)); var tn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 114).setSize(110, 100).setFill("images/scaffold.png"); Gs.appendChild(tn); var on = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 90).setSize(120, 150).setFill(imgArray[24].src); Gs.appendChild(on); var sn = (new lime.Label).setText("60").setPosition(50, 145).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill("images/countBack.png"), nn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-22, -50).setSize(50, 50).setFill("images/toolHammer.png"), rn = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(20, 74).setSize(70, 16).setFontSize(16).setFontWeight(600).setText("Lvl 1/2").setFill("images/UI/greenButtonLg3.png"); Gs.appendChild(rn), Gs.appendChild(sn), sn.appendChild(nn), nn.setRotation(-10); var an = -10, ln = 60; sn.setHidden(!0), tn.setHidden(!0), on.setHidden(!0); var gn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(98, 135).setSize(38, 43).setFill(imgArrayStore[3].src).setRotation(-45); Gs.appendChild(gn); var dn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(98, 135).setSize(38, 43).setFill(imgArray[24].src); Gs.appendChild(dn); var cn = (new lime.Label).setText("60").setPosition(120, 185).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill("images/countBack.png"); Gs.appendChild(cn), gn.setHidden(!0), dn.setHidden(!0), cn.setHidden(!0), goog.events.listen(Zs, ["mousedown", "touchstart"], function () { if (1 == collectItems.storeItems[3].owned) { Zs.setHidden(!0), en.setHidden(!0), gn.setHidden(!1), dn.setHidden(!1), cn.setHidden(!1); var e = 60, t = 38, o = 98, i = 135, s = 0, n = 0, r = 4 * e; lime.scheduleManager.scheduleWithDelay(function () { r -= 1, 4 == (n += 1) && (e -= 1, cn.setText(e), n = 0), dn.setPosition(o, i).setSize(t, 46), t += 10, i -= 5, (o -= 5) < 70 && (o = 98, i = 135, t = 38), (s += 10) > -15 && (s = -45), gn.setRotation(s), r <= 0 && (gn.setHidden(!0), dn.setHidden(!0), Xs.setHidden(!0), Qs.setHidden(!0), cn.setHidden(!0), Ks.setHidden(!1), $s.setHidden(!1), orchardBarnLevel = 1, localStorage.setItem("MedFarm_orchardBarnLevel", 1), oa.setText("If you upgrade the barn, we can increase our harvests"), sa.setHidden(!0), ia.setFill("images/Orchard/girlF2.png")) }, this, 250, 241) } else ea.setHidden(!1) }); var mn = 0, pn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(148, 240).setSize(70, 70).setFill("images/Orchard/ciderPlace1.png"); Gs.appendChild(pn), pn.owned = 0, pn.setHidden(!0); var hn = (new lime.GlossyButton).setColor("#663300").setText("").setPosition(35, 35).setSize(70, 70).setOpacity(.2); pn.appendChild(hn); var un = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, -60).setSize(45, 66).setFill("images/UI/speechBubble.png"); pn.appendChild(un); var yn = (new lime.Label).setAnchorPoint(0, 0).setPosition(0, 5).setSize(40, 25).setText("+ " + mn).setFontColor("#E8FC08").setFontSize(14).setFontFamily("ComicSans MS"); un.appendChild(yn); var Sn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(8, 17).setSize(30, 30).setFill("images/items/ciderBarrel.png"); un.appendChild(Sn), mn <= 0 && un.setHidden(!0), 1 == (ciderEnabled = localStorage.getItem("MedFarm_ciderPlaceOwned")) && (pn.setHidden(!1), hn.setHidden(!0), pn.setFill("images/Orchard/ciderPlace2.png")); var fn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-18, -30).setSize(35, 40).setFill("images/UI/needFruit.png").setHidden(!0); pn.appendChild(fn), 1 == collectItems.storeItems[4].owned && 1 == ciderEnabled && player.cropsStored[8].stored < 1 && player.cropsStored[9].stored < 1 && fn.setHidden(!1), goog.events.listen(fn, ["mousedown", "touchstart"], function () { ea.setHidden(!1), oa.setText("We need APPLES or PEARS to make more CIDER"), sa.setHidden(!1), sa.setFill("images/apple.png"), ia.setFill("images/pear.png") }); var vn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(14, -30).setSize(35, 40).setFill("images/UI/needBarrels.png").setHidden(!0); pn.appendChild(vn), 1 == collectItems.storeItems[4].owned && 1 == ciderEnabled && player.cropsStored[17].stored < 1 && vn.setHidden(!1), goog.events.listen(vn, ["mousedown", "touchstart"], function () { ea.setHidden(!1), oa.setText("We need more BARRELS to make more CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill("images/Orchard/girlF2.png") }), goog.events.listen(hn, ["mousedown", "touchstart"], function () { var e; if (e = localStorage.getItem("MedFarm_ciderPlaceOwned"), 1 == collectItems.storeItems[4].owned && 0 == e) { ea.setHidden(!1), oa.setText("Put that FRUIT PRESS here. Place it now?"), sa.setHidden(!1), sa.setFill("images/items/ciderBarrel.png"), ia.setFill("images/Orchard/girlF2.png"); var t = (new lime.GlossyButton).setPosition(125, 177).setSize(65, 21).setColor("#00FF00").setText("PLACE"); ea.appendChild(t), goog.events.listen(t, ["mousedown", "touchstart"], function () { pn.setFill("images/Orchard/ciderPlace2.png"), ea.setHidden(!0), t.setHidden(!0), pn.owned = 1, ciderEnabled = 1, localStorage.setItem("MedFarm_ciderPlaceOwned", 1), hn.setHidden(!0) }) } else 1 == collectItems.storeItems[4].owned && 1 == e ? (ea.setHidden(!1), oa.setText("If we had some BARRELS, we could make CIDER with Apples and Pears"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill(imgArrayStore[4])) : player.cropsStored[17] >= 1 && 1 == e ? (ea.setHidden(!1), oa.setText("Making Cider out of our spare apples and pears"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill(imgArrayStore[4])) : 0 == collectItems.storeItems[4].owned && 0 == e && (ea.setHidden(!1), oa.setText("This would be a good place to put a FRUIT PRESS to make CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill(imgArrayStore[4])) }), goog.events.listen(un, ["mousedown", "touchstart"], function () { player.cropsStored[18].stored = player.cropsStored[18].stored + mn, ol.setText(player.cropsStored[18].stored), e.updateStored(), mn = 0, un.setHidden(!0) }); e.tile_size, e.tile_size; var Fn = new farming.Land(e, t, 5, 195, 3, "non", "tree1").setPosition(5, 195); Fn.setSize(40, 50), Gs.appendChild(Fn); var Pn = new farming.Land(e, t, 65, 195, 3, "non", "tree2").setPosition(65, 195); Pn.setSize(40, 50), Gs.appendChild(Pn); var wn = new farming.Land(e, t, 5, 250, 3, "non", "tree3").setPosition(5, 250); wn.setSize(40, 50), Gs.appendChild(wn); var An = new farming.Land(e, t, 65, 250, 3, "non", "tree4").setPosition(65, 250); An.setSize(40, 50), Gs.appendChild(An); var Cn = new farming.Land(e, t, 5, 310, 3, "non", "tree5").setPosition(5, 310); Cn.setSize(40, 50), Gs.appendChild(Cn); var Tn = new farming.Land(e, t, 65, 310, 3, "non", "tree6").setPosition(65, 310); Tn.setSize(40, 50), Gs.appendChild(Tn); var _n = new farming.Land(e, t, 5, 365, 3, "non", "tree7").setPosition(5, 365); _n.setSize(40, 50), Gs.appendChild(_n); var In = new farming.Land(e, t, 65, 365, 3, "non", "tree8").setPosition(65, 365); In.setSize(40, 50), Gs.appendChild(In); var bn = new farming.Land(e, t, 215, 245, 32, "non", "tree9").setPosition(215, 245); bn.setSize(40, 50), Gs.appendChild(bn); var xn = new farming.Land(e, t, 250, 180, 32, "non", "tree10").setPosition(250, 180); xn.setSize(40, 50), Gs.appendChild(xn); var Hn = new farming.Land(e, t, 160, 310, 32, "non", "tree12").setPosition(160, 310); Hn.setSize(40, 50), Gs.appendChild(Hn); var En = new farming.Land(e, t, 160, 375, 32, "non", "tree13").setPosition(160, 375); En.setSize(40, 50), Gs.appendChild(En); var zn = new farming.Land(e, t, 215, 375, 32, "non", "tree14").setPosition(215, 375); zn.setSize(40, 50), Gs.appendChild(zn); var Mn = new farming.Land(e, t, 270, 375, 32, "non", "tree15").setPosition(270, 375); Mn.setSize(40, 50), Gs.appendChild(Mn); var kn = new farming.Land(e, t, 215, 310, 32, "non", "tree16").setPosition(215, 310); kn.setSize(40, 50), Gs.appendChild(kn); var Ln = new farming.Land(e, t, 270, 310, 32, "non", "tree17").setPosition(270, 310); Ln.setSize(40, 50), Gs.appendChild(Ln); var Bn = new farming.Land(e, t, 270, 245, 32, "non", "tree18").setPosition(270, 245); Bn.setSize(40, 50), Gs.appendChild(Bn); var On = (new lime.Label).setPosition(156, 180).setSize(25, 25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600); Gs.appendChild(On); var Rn = (new lime.Sprite).setPosition(30, -8).setSize(30, 30).setFill(imgArray11[0]); On.appendChild(Rn), On.setHidden(!0); var Dn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(155, 88).setSize(36, 75).setFill("images/" + e.waterfallImg[0].image); Gs.appendChild(Dn); var Nn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(120, 290).setSize(22, 44).setFill("images/" + e.waterfallImg[4].image); Gs.appendChild(Nn); var Un = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(120, 350).setSize(22, 44).setFill("images/" + e.waterfallImg[4].image); Gs.appendChild(Un), e.waterAnim = function () { var t = 0, o = 0, i = 0, s = 0; setInterval(function () { t > 3 && (t = 0), o > 3 && (o = 0), i++ , s++ , Dn.setFill("images/" + e.waterfallImg[t].image), 0 == o && (Nn.setFill("images/" + e.waterfallImg[5].image), Un.setFill("images/" + e.waterfallImg[5].image)), o > 1 && (Nn.setFill("images/" + e.waterfallImg[4].image), Un.setFill("images/" + e.waterfallImg[4].image)), t += 1, o += 1, 0 == orchardBarnLevel ? (qs.setFill("images/Orchard/orchardBarn1.png"), Xs.setHidden(!1), Qs.setHidden(!1), Ks.setHidden(!0), $s.setHidden(!0), pn.setHidden(!0), hn.setHidden(!0)) : 1 == orchardBarnLevel ? (qs.setFill("images/Orchard/orchardBarn1.png"), Zs.setHidden(!0), en.setHidden(!0), Xs.setHidden(!0), Qs.setHidden(!0), pn.setHidden(!0), pn.setHidden(!0), 2 == i && (Ks.setPosition(58, 65), $s.setPosition(38, 43)), 4 == i && (Ks.setPosition(58, 60), $s.setPosition(38, 38), i = 0)) : 2 == orchardBarnLevel && (Ks.setHidden(!0), $s.setHidden(!0), pn.setHidden(!1), qs.setFill("images/Orchard/orchardBarn2.png"), Zs.setHidden(!0), en.setHidden(!0), Xs.setHidden(!0), Qs.setHidden(!0), rn.setText("Lvl 2/2")); var n = localStorage.getItem("GuiGhostFarms_orchardTreeBlock"); orchardBarnLevel = localStorage.getItem("MedFarm_orchardBarnLevel"), n < 2 ? (pn.setHidden(!0), pn.setHidden(!0), hn.setHidden(!0)) : 2 == n && 2 == orchardBarnLevel && (pn.setHidden(!1), hn.setHidden(!1), pn.setFill("images/Orchard/ciderPlace1.png")), 1 == (ciderEnabled = localStorage.getItem("MedFarm_ciderPlaceOwned")) ? (pn.setFill("images/Orchard/ciderPlace2.png"), hn.setHidden(!0)) : (pn.setFill("images/Orchard/ciderPlace1.png"), hn.setHidden(!1)), s > 240 && (1 == ciderEnabled && player.cropsStored[17].stored > 0 && player.cropsStored[9].stored > 0 ? (player.cropsStored[17].stored = player.cropsStored[17].stored - 1, player.cropsStored[9].stored = player.cropsStored[9].stored - 1, mn += 1, un.setHidden(!1), yn.setText("+ " + mn)) : 1 == ciderEnabled && player.cropsStored[17].stored > 0 && player.cropsStored[8].stored > 0 && (player.cropsStored[17].stored = player.cropsStored[17].stored - 1, player.cropsStored[8].stored = player.cropsStored[8].stored - 1, mn += 1, un.setHidden(!1), yn.setText("+ " + mn)), s = 0), 1 == ciderEnabled && player.cropsStored[8].stored < 1 && player.cropsStored[9].stored < 1 ? fn.setHidden(!1) : fn.setHidden(!0), 1 == collectItems.storeItems[4].owned && 1 == ciderEnabled && player.cropsStored[17].stored < 1 && vn.setHidden(!1) }, 250) }, e.waterAnim(); var Gn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(158, 150).setSize(150, 290).setFill("images/Orchard/treeBlockO.png").setHidden(!1); Gs.appendChild(Gn); var Wn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 60).setSize(150, 320).setFill(imgArray[24].src); Gn.appendChild(Wn); var Vn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 105).setSize(40, 40).setFill("images/axe.png"); Gn.appendChild(Vn); var Jn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(225, 290).setSize(35, 35).setFill("images/tools500.png"); Gs.appendChild(Jn); var Yn = (new lime.Label).setText("60").setPosition(75, 200).setSize(40, 25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill("images/countBack.png"); Gn.appendChild(Yn); var jn = 0; Wn.setHidden(!0), Yn.setHidden(!0), orchardTreeBlock > 1 && (Gn.setHidden(!0), Jn.setHidden(!0), 2 == orchardBarnLevel && pn.setHidden(!1)), goog.events.listen(Jn, ["mousedown", "touchstart"], function () { if (0 == globalModalBlock && (1 == Tr.getHidden() && player.tools >= 500)) { player.tools = player.tools - 500, e.updateTools(), Jn.setHidden(!0), Wn.setHidden(!1), Yn.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (jn += 10) > 35 && (jn = -10), Vn.setRotation(jn) }, this, 200, 300); var t = 60, o = 380, i = 0, s = 60; lime.scheduleManager.scheduleWithDelay(function () { Wn.setPosition(i, s).setSize(o, 200), o += 10, s -= 5, (i -= 5) < -15 && (i = 0, s = 60, o = 290) }, this, 250, 240), lime.scheduleManager.scheduleWithDelay(function () { t -= 1, Yn.setText(t), t <= 0 && (Yn.setHidden(!0), Wn.setHidden(!0), t = 60, player.fields = player.fields + 1, e.updateTools(), orchardTreeBlock = 2, Gn.setHidden(!0), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) + 500, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 500), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), _r.setHidden(!1), setTimeout(function () { _r.setHidden(!0) }, 3e3), localStorage.GuiGhostFarms_orchardTreeBlock = 2) }, this, 1e3, 60) } }); var qn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, 0).setSize(e.controlsLayer_w, 46).setFill("images/UI/greenButtonLg.png"); Gs.appendChild(qn); var Kn = (new lime.Sprite).setPosition(285, 18).setSize(35, 35).setFill(imgArray11[0]); Gs.appendChild(Kn); var $n = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(245, 24).setFontSize(18); Gs.appendChild($n); var Xn = (new lime.Sprite).setPosition(e.controlsLayer_w / 2 - 5, 21).setSize(35, 35).setFill(imgArrayItems[25].src); Gs.appendChild(Xn), goog.events.listen(Xn, ["mousedown", "touchstart"], function () { e.sceneBefore = 3, Gl(), ll.setText(starCash), p.replaceScene(ha, lime.transitions.SlideInUp), sceneActive = "Inventory", xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }); var Qn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 448).setSize(15, 15); Gs.appendChild(Qn); var Zn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 7).setSize(35, 35).setFill("images/UI/toolsIcon2.png"), er = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(65, 24).setFontSize(18); Gs.appendChild(Zn), Gs.appendChild(er); var tr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(44, 230).setSize(25, 26).setFill("images/Orchard/girlF2.png"); Gs.appendChild(tr); var or = (new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(15, -8).setSize(25, 23).setOpacity(.2); tr.appendChild(or); var ir = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(3, -19).setSize(25, 25).setFill(imgArrayTown[15].src).setOpacity(.8); tr.appendChild(ir), goog.events.listen(or, ["mousedown", "touchstart"], function () { ea.setHidden(!1), 1 == orchardBarnLevel && (oa.setText("If you upgrade the barn, we can increase our harvests"), sa.setHidden(!0), ia.setFill("images/Orchard/girlF2.png")), 2 == orchardBarnLevel && 0 == collectItems.storeItems[6].owned && (oa.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill(imgArrayStore[4])), 2 == orchardBarnLevel && 1 == collectItems.storeItems[6].owned && 0 == pn.owned && (oa.setText("That looks like a good place to brew Cider"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill("images/Orchard/girlF2.png")), 2 == orchardBarnLevel && 1 == collectItems.storeItems[6].owned && 1 == pn.owned && player.cropsStored[17].stored < 1 && (oa.setText("We need more BARRELS to keep making CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill("images/Orchard/girlF2.png")), 2 == orchardBarnLevel && 1 == collectItems.storeItems[6].owned && player.cropsStored[17].stored > 1 && (oa.setText("I don't need anything at the moment"), sa.setHidden(!0), ia.setFill("images/Orchard/girlF2.png")) }); var sr = 1; e.moveGirl = function () { (sr += 1) > 53 && (sr = 1), 2 == sr && (tr.setPosition(44, 235), tr.setFill("images/Orchard/girlF2.png")), 3 == sr && (tr.setPosition(44, 240), tr.setFill("images/Orchard/girlF3.png")), 4 == sr && (tr.setPosition(44, 245), tr.setFill("images/Orchard/girlF2.png")), 5 == sr && (tr.setPosition(44, 250), tr.setFill("images/Orchard/girlF1.png")), 6 == sr && (tr.setPosition(44, 255), tr.setFill("images/Orchard/girlF2.png")), 7 == sr && (tr.setPosition(44, 260), tr.setFill("images/Orchard/girlF3.png")), 8 == sr && (tr.setPosition(44, 265), tr.setFill("images/Orchard/girlF2.png")), 9 == sr && (tr.setPosition(44, 270), tr.setFill("images/Orchard/girlF1.png")), 10 == sr && (tr.setPosition(44, 275), tr.setFill("images/Orchard/girlF2.png")), 11 == sr && (tr.setPosition(44, 280), tr.setFill("images/Orchard/girlF3.png")), 12 == sr && (tr.setPosition(44, 285), tr.setFill("images/Orchard/girlF2.png")), 13 == sr && (tr.setPosition(44, 290), tr.setFill("images/Orchard/girlF1.png")), 14 == sr && (tr.setPosition(44, 295), tr.setFill("images/Orchard/girlF2.png")), 15 == sr && (tr.setPosition(44, 300), tr.setFill("images/Orchard/girlF3.png")), 16 == sr && (tr.setPosition(44, 305), tr.setFill("images/Orchard/girlF2.png")), 17 == sr && (tr.setPosition(44, 310), tr.setFill("images/Orchard/girlF1.png")), 18 == sr && (tr.setPosition(44, 315), tr.setFill("images/Orchard/girlF2.png")), 19 == sr && (tr.setPosition(44, 320), tr.setFill("images/Orchard/girlF3.png")), 20 == sr && (tr.setPosition(44, 325), tr.setFill("images/Orchard/girlF2.png")), 21 == sr && (tr.setPosition(44, 330), tr.setFill("images/Orchard/girlF1.png")), 22 == sr && (tr.setPosition(44, 335), tr.setFill("images/Orchard/girlF2.png")), 23 == sr && (tr.setPosition(44, 340), tr.setFill("images/Orchard/girlF3.png")), 24 == sr && (tr.setPosition(44, 345), tr.setFill("images/Orchard/girlF2.png")), 25 == sr && (tr.setPosition(44, 350), tr.setFill("images/Orchard/girlF1.png")), 26 == sr && (tr.setPosition(44, 350), tr.setFill("images/Orchard/girlL1.png")), 27 == sr && (tr.setPosition(44, 350), tr.setFill("images/Orchard/girlF1.png")), 28 == sr && (tr.setPosition(44, 350), tr.setFill("images/Orchard/girlR1.png")), 29 == sr && (tr.setPosition(44, 345), tr.setFill("images/Orchard/girlUp1.png")), 30 == sr && (tr.setPosition(44, 345), tr.setFill("images/Orchard/girlUp2.png")), 31 == sr && (tr.setPosition(44, 340), tr.setFill("images/Orchard/girlUp3.png")), 32 == sr && (tr.setPosition(44, 335), tr.setFill("images/Orchard/girlUp2.png")), 33 == sr && (tr.setPosition(44, 330), tr.setFill("images/Orchard/girlUp1.png")), 34 == sr && (tr.setPosition(44, 325), tr.setFill("images/Orchard/girlUp2.png")), 35 == sr && (tr.setPosition(44, 320), tr.setFill("images/Orchard/girlUp3.png")), 36 == sr && (tr.setPosition(44, 315), tr.setFill("images/Orchard/girlUp2.png")), 37 == sr && (tr.setPosition(44, 310), tr.setFill("images/Orchard/girlUp1.png")), 38 == sr && (tr.setPosition(44, 305), tr.setFill("images/Orchard/girlUp2.png")), 39 == sr && (tr.setPosition(44, 300), tr.setFill("images/Orchard/girlUp3.png")), 40 == sr && (tr.setPosition(44, 295), tr.setFill("images/Orchard/girlUp2.png")), 41 == sr && (tr.setPosition(44, 290), tr.setFill("images/Orchard/girlUp3.png")), 42 == sr && (tr.setPosition(44, 285), tr.setFill("images/Orchard/girlUp2.png")), 43 == sr && (tr.setPosition(44, 280), tr.setFill("images/Orchard/girlUp1.png")), 44 == sr && (tr.setPosition(44, 275), tr.setFill("images/Orchard/girlUp2.png")), 45 == sr && (tr.setPosition(44, 270), tr.setFill("images/Orchard/girlUp3.png")), 46 == sr && (tr.setPosition(44, 265), tr.setFill("images/Orchard/girlUp2.png")), 47 == sr && (tr.setPosition(44, 260), tr.setFill("images/Orchard/girlUp1.png")), 48 == sr && (tr.setPosition(44, 255), tr.setFill("images/Orchard/girlUp2.png")), 49 == sr && (tr.setPosition(44, 250), tr.setFill("images/Orchard/girlUp3.png")), 50 == sr && (tr.setPosition(44, 245), tr.setFill("images/Orchard/girlUp2.png")), 51 == sr && (tr.setPosition(44, 240), tr.setFill("images/Orchard/girlUp1.png")), 52 == sr && (tr.setPosition(44, 235), tr.setFill("images/Orchard/girlUp2.png")), 53 == sr && (tr.setPosition(44, 230), tr.setFill("images/Orchard/girlR1.png")) }, lime.scheduleManager.scheduleWithDelay(function () { "Orchard" == sceneActive && e.moveGirl() }, this, 300), Qn = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 422).setSize(45, 45).setFill("images/UI/homeButton.png"), Gs.appendChild(Qn), roadRightO = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(267, 422).setSize(45, 45).setFill("images/UI/lsBtn.png"), Gs.appendChild(roadRightO); var nr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-500, -30).setSize(e.width, 600).setFill(imgArray[24].src).setOpacity(.5); Gs.appendChild(nr); var rr = 0; lime.scheduleManager.scheduleWithDelay(function () { rr += 2, nr.setPosition(rr, -30), rr > e.width + 200 && (rr = -400) }, this, 150); var ar = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h + 5).setFill("images/UI/blackButton.png"); Gs.appendChild(ar); var lr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(128, 449).setSize(35, 35).setFill("images/UI/compass22.png"); Gs.appendChild(lr); var gr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); Gs.appendChild(gr); var dr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); gr.appendChild(dr); var cr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); gr.appendChild(cr); var mr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); gr.appendChild(mr); var pr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); gr.appendChild(pr); var hr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); gr.appendChild(hr); var ur = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); gr.appendChild(ur), gr.setHidden(!0), goog.events.listen(lr, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (O(), Tr.setHidden(!0), globalModalBlock = 1) }), goog.events.listen(ur, ["mousedown", "touchstart"], function () { R() }), goog.events.listen(pr, ["mousedown", "touchstart"], function () { compassVisible && (t.currentCrop = parseInt(homeCrop), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = 0)), R(), e.sceneBefore = 1, r.stop(), p.replaceScene(h, lime.transitions.SlideInLeft), sceneActive = "Home") }), goog.events.listen(hr, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (e.sceneBefore = 2, r.stop(), R(), n.play(), $P(), t.currentCrop, t.currentCrop = 6, p.replaceScene(_o, lime.transitions.SlideInLeft), sceneActive = "Pasture") }), goog.events.listen(dr, ["mousedown", "touchstart"], function () { 1 == o[2].owned && R() }), goog.events.listen(mr, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (R(), e.sceneBefore = 4, p.replaceScene(Eh, lime.transitions.SlideInLeft), sceneActive = "Vineyard", r.stop(), t.currentCrop, t.currentCrop = 12, $P()) }), goog.events.listen(cr, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (R(), e.sceneBefore = 5, t.currentCrop, t.currentCrop = 12, p.replaceScene(dp, lime.transitions.SlideInRight), sceneActive = "LS", r.stop(), l.play(), g.play(), setTimeout(function () { d.play() }, 5e3), $P()) }); var yr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 503).setSize(35, 35).setFill(imgArray[15]); Gs.appendChild(yr); var Sr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 467).setSize(35, 35).setFill("images/UI/trophyBtn.png"); Gs.appendChild(Sr), goog.events.listen(yr, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (lime.audio.getMute() ? (lime.audio.setMute(!1), i.play(!0), r.play(!0), yr.setFill(imgArray[15]), KP(2), localStorage.setItem("GuiGhostFarms_muted", 0)) : (lime.audio.setMute(!0), KP(1), localStorage.setItem("GuiGhostFarms_muted", 1))) }), goog.events.listen(Sr, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && qP(sceneBefore = 3) }); t.currentCrop; 2 == orchardTreeBlock && (orchardText = "Pears and Apples"); var fr = (new lime.Label).setText(orchardText).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(e.controlsLayer_w / 2 - 15, e.height - e.controlsLayer_h / 2 - 12); Gs.appendChild(fr); var vr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 35, e.height - e.controlsLayer_h / 2 - 5).setFill("images/" + e.crops[8].harvest).setSize(1.2 * e.tile_size, 1.2 * e.tile_size); Gs.appendChild(vr); var Fr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 15, e.height / 2).setFill("images/" + e.crops[8].harvest).setSize(26, 21); Gs.appendChild(Fr), Fr.setHidden(!0); var Pr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 467).setSize(35, 35).setFill("images/UI/gearButton.png"); Gs.appendChild(Pr); var wr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 503).setSize(35, 35).setFill("images/UI/starButton.png"); Gs.appendChild(wr), goog.events.listen(wr, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && QP() }); var Ar = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(208, e.height - e.controlsLayer_h).setSize(90, 61).setFill("images/" + e.barnyard[3].image); Gs.appendChild(Ar), goog.events.listen(Pr, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 3, p.replaceScene(ra, lime.transitions.SlideInUp), sceneActive = "Menu") }); var Cr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(268, 424).setSize(40, 40).setFill("images/UI/lsBtn.png"); Gs.appendChild(Cr); var Tr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#000F00").setOpacity(.75); Gs.appendChild(Tr), Tr.setHidden(!0); var _r = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 150).setSize(250, 250).setFill("images/UI/blankBack2.png"); Gs.appendChild(_r); var Ir = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(10, 45).setSize(230, 60).setFontSize(18).setText("You found some Pear Trees!"); _r.appendChild(Ir); var br = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 110).setSize(70, 70).setFill("images/" + e.crops[9].harvest); _r.appendChild(br); var xr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(50, 185).setSize(150, 50).setFontSize(18).setText("Pears"); _r.appendChild(xr), _r.setHidden(!0); var Hr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 130).setSize(250, 220).setFill("images/UI/blankBack5.png"); Gs.appendChild(Hr); var Er = (new lime.Label).setAnchorPoint(0, 0).setPosition(23, 25).setText("Upgrade Orchard Barn?").setFontFamily("Comic Sans MS").setFontSize(18); Hr.appendChild(Er); var zr = (new lime.Label).setAnchorPoint(0, 0).setPosition(25, 122).setText("Increases Apple and Pear harvests by 100%").setFontFamily("Comic Sans MS").setFontSize(16).setSize(195, e.height / 2 - 50); Hr.appendChild(zr); var Mr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(52, 50).setSize(40, 40).setFill("images/toolsIcon.png"); Hr.appendChild(Mr); var kr = (new lime.Label).setAnchorPoint(0, 0).setPosition(50, 95).setText("250").setFontFamily("Comic Sans MS").setFontSize(16).setSize(40, 40); Hr.appendChild(kr); var Lr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(142, 50).setSize(40, 40).setFill("images/" + e.crops[14].image); Hr.appendChild(Lr); var Br = (new lime.Label).setAnchorPoint(0, 0).setPosition(145, 95).setText("200").setFontFamily("Comic Sans MS").setFontSize(16).setSize(40, 40); Hr.appendChild(Br); var Or = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125, 208).setSize(100, 20); Hr.appendChild(Or); var Rr = (new lime.GlossyButton).setColor("#00ff00").setText("Upgrade").setPosition(125, 175).setSize(100, 20); Hr.appendChild(Rr), Rr.setHidden(!0), Hr.setHidden(!0), goog.events.listen(Ks, ["mousedown", "touchstart"], function (e) { Hr.setHidden(!1), parseInt(player.cropsStored[14].stored) >= 200 && player.tools >= 250 ? (Rr.setHidden(!1), zr.setText("Increases Apple and Pear yield by 50%")) : (zr.setText("Need more resources to upgrade"), Rr.setHidden(!0)), goog.events.listen(na, ["mousedown", "touchstart"], function (e) { Hr.setHidden(!0), e.event.stopPropagation(), e.swallow(["mouseup", "touchend", "touchcancel"], function () { }) }), e.event.stopPropagation(), e.swallow(["mouseup", "touchend", "touchcancel"], function () { }) }), goog.events.listen(Rr, ["mousedown", "touchstart"], function (t) { 0 == Hr.getHidden() && (!function () { player.tools = player.tools - 250, player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) - 200, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 0); localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), e.updateTools(), (an -= 10) < -50 && (an = -10); nn.setRotation(an), Ks.setHidden(!0), $s.setHidden(!0), sn.setHidden(!1), tn.setHidden(!1), on.setHidden(!1); var t = 150, o = 0, i = 90, s = 0, n = 4 * ln; lime.scheduleManager.scheduleWithDelay(function () { n -= 1, 4 == (s += 1) && (ln -= 1, sn.setText(ln), s = 0), on.setPosition(o, i).setSize(t, 200), t += 10, i -= 5, (o -= 5) < -20 && (o = 0, i = 90, t = 90), (an += 10) > 35 && (an = -10), nn.setRotation(an), n <= 0 && (sn.setHidden(!0), tn.setHidden(!0), on.setHidden(!0), orchardBarnLevel = 2, localStorage.setItem("MedFarm_orchardBarnLevel", 2), rn.setText("Lvl 2/2"), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) - 200, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), 2 == orchardBarnLevel && 0 == collectItems.storeItems[6].owned && (oa.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[4]), ia.setFill(imgArrayStore[6])), 2 == orchardBarnLevel && 1 == collectItems.storeItems[6].owned && player.cropsStored[17].stored < 1 && (oa.setText("We need more BARRELS to keep making CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill("images/Orchard/girlF2.png")), 2 == orchardBarnLevel && 1 == collectItems.storeItems[6].owned && player.cropsStored[17].stored > 1 && (oa.setText("I don't need anything at the moment"), sa.setHidden(!0), ia.setFill("images/Orchard/girlF2.png"))) }, this, 250, 241) }(), Hr.setHidden(!0)), t.event.stopPropagation(), t.swallow(["mouseup", "touchend", "touchcancel"], function () { }) }); var Dr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 150).setSize(210, 220).setFill("images/UI/saleBack.png"); Gs.appendChild(Dr); var Nr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000000").setFontFamily("Comic Sans MS").setPosition(50, 125).setSize(115, 60).setFontSize(22).setText("StockPens  10,000"); Dr.appendChild(Nr); var Ur = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 144).setSize(30, 30).setFill(imgArray11[0]); Dr.appendChild(Ur); var Gr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FF0000").setFontFamily("Comic Sans MS").setPosition(8, 185).setSize(190, 60).setFontSize(12).setText("Earn more Coin to buy"); Dr.appendChild(Gr); var Wr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 212).setSize(75, 35).setFill("images/UI/greenBuy.png"); Dr.appendChild(Wr); var Vr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 212).setSize(35, 35).setFill("images/UI/XButton.png"); Dr.appendChild(Vr), Dr.setHidden(!0), goog.events.listen(Cr, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (fsClicked = 4, globalModalBlock = 1, Tr.setHidden(!1), Dr.setHidden(!1), player.money >= 1e4 ? (Gr.setHidden(!0), Wr.setHidden(!1)) : Wr.setHidden(!0), Nr.setText("StockPens  10,000")) }), goog.events.listen(Wr, ["mousedown", "touchstart"], function () { globalModalBlock = 0, player.money = player.money - 1e4, e.updateMoney(), o[4].owned = 1, localStorage.setItem("GuiGhostFarms_acres", JSON.stringify(o)), Dr.setHidden(!0), roadRightO.setHidden(!1), Cr.setHidden(!0), Dr.setHidden(!0), Tr.setHidden(!0), fsClicked = 0 }), goog.events.listen(Vr, ["mousedown", "touchstart"], function () { Dr.setHidden(!0), Tr.setHidden(!0), globalModalBlock = 0 }); var Jr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), Yr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(13, 45).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); Jr.appendChild(Yr); var jr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(30, 123).setSize(150, 60).setFontSize(12).setText("Achieve Text"); Jr.appendChild(jr); var qr = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(21, 182).setSize(190, 60).setFontSize(18).setText(" + "); Jr.appendChild(qr); var Kr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); Jr.appendChild(Kr), Gs.appendChild(Jr), Jr.setHidden(!0), goog.events.listen(Kr, ["mousedown", "touchstart"], function () { Dt.setHidden(!0), fs.setHidden(!0), dy.setHidden(!0), Jr.setHidden(!0), dh.setHidden(!0), Tr.setHidden(!0), as.setHidden(!0), 1 == tutSeen && (mt.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0)) }), goog.events.listen(roadRightO, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 5, p.replaceScene(dp, lime.transitions.SlideInRight), sceneActive = "LS", r.stop(), l.play(), g.play(), setTimeout(function () { d.play() }, 5e3), $P()) }), goog.events.listen(Ar, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 3, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", Bc(), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored)) }); var $r = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 100).setSize(210, 220).setFill("images/UI/outOfCash.png"); Gs.appendChild($r); var Xr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(122, 212).setSize(75, 35).setFill("images/UI/buyStarCash.png"); $r.appendChild(Xr); var Qr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 212).setSize(75, 35).setFill("images/UI/marketBtn.png"); $r.appendChild(Qr); var Zr = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(89, 212).setSize(35, 35).setFill("images/UI/XButton.png"); $r.appendChild(Zr), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), goog.events.listen(Xr, ["mousedown", "touchstart"], function () { xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ls.setHidden(!0), $r.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), QP(), warningSeen = 1 }), goog.events.listen(Qr, ["mousedown", "touchstart"], function () { ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), Tr.setHidden(!0), mt.setHidden(!0), ny.setHidden(!0), as.setHidden(!0), gh.setHidden(!0), townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", Bc(), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored), warningSeen = 1, globalModalBlock = 0 }), goog.events.listen(Zr, ["mousedown", "touchstart"], function () { ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), Tr.setHidden(!0), mt.setHidden(!0), ny.setHidden(!0), as.setHidden(!0), gh.setHidden(!0), warningSeen = 1, globalModalBlock = 0 }), player.money < e.crops[t.currentCrop].cost && 0 == warningSeen && (ry.setHidden(!1), ly.setHidden(!1), ay.setHidden(!1), $r.setHidden(!1), Qr.setHidden(!1), Xr.setHidden(!1), ls.setHidden(!1), ds.setHidden(!1), gs.setHidden(!1), xt.setHidden(!1), Et.setHidden(!1), Ht.setHidden(!1), Tr.setHidden(!1), mt.setHidden(!1), ny.setHidden(!1), as.setHidden(!1), gh.setHidden(!1), globalModalBlock = 1); var ea = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 130).setSize(250, 220).setFill("images/UI/blankBack5.png"); Gs.appendChild(ea); var ta = (new lime.Label).setAnchorPoint(0, 0).setPosition(23, 25).setText("Cultivator Isabel").setFontFamily("Comic Sans MS").setFontSize(24); ea.appendChild(ta); var oa = (new lime.Label).setAnchorPoint(0, 0).setPosition(20, 130).setText("If you had a STEEL PICK to clear rocks, we could upgrade this barn").setFontFamily("Comic Sans MS").setFontSize(16).setSize(200, e.height / 2 - 50); ea.appendChild(oa); var ia = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(62, 50).setSize(64, 70).setFill("images/Orchard/girlF2.png"); ea.appendChild(ia); var sa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 50).setSize(50, 60).setFill("images/UI/rockBlock.png"); ea.appendChild(sa); var na = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125, 207).setSize(100, 20); ea.appendChild(na), ea.setHidden(!0), goog.events.listen(na, ["mousedown", "touchstart"], function (e) { ea.setHidden(!0), e.event.stopPropagation(), e.swallow(["mouseup", "touchend", "touchcancel"], function () { }) }), 1 == orchardBarnLevel && (oa.setText("If you upgrade the barn, we can increase our harvests"), sa.setHidden(!0), ia.setFill("images/Orchard/girlF2.png")), 2 == orchardBarnLevel && 0 == collectItems.storeItems[6].owned && (oa.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill(imgArrayStore[4])), 2 == orchardBarnLevel && 1 == collectItems.storeItems[6].owned && player.cropsStored[17].stored < 1 && (oa.setText("We need more BARRELS to keep making CIDER"), sa.setHidden(!1), sa.setFill(imgArrayStore[6]), ia.setFill("images/Orchard/girlF2.png")), 2 == orchardBarnLevel && 1 == collectItems.storeItems[6].owned && player.cropsStored[17].stored > 1 && (oa.setText("I don't need anything at the moment"), sa.setHidden(!0), ia.setFill("images/Orchard/girlF2.png")); var ra = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), aa = (new lime.Layer).setAnchorPoint(0, 0), la = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#0D0D0D"); ra.appendChild(la), ra.appendChild(aa); var ga = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 10).setSize(300, 520).setFill("images/UI/CoverImg2.png"); aa.appendChild(ga); var da = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, 175).setSize(e.width / 2 + 40, 50).setFill("#663300"); da = (new lime.GlossyButton).setColor("#4dff4d").setText("Save & Quit").setPosition(150, 175).setSize(e.width / 2 + 40, 50), aa.appendChild(da); var ca = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 4 - 20, 250).setSize(e.width / 2 + 40, 50).setFill("#663300"); ca = (new lime.GlossyButton).setColor("#ff0000").setText("Clear Data (start over)").setPosition(150, 250).setSize(e.width / 2 + 40, 50), aa.appendChild(ca); var ma = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 4 - 20, 400).setSize(e.width / 2 + 40, 50).setFill("#663300"); function pa() { localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("MedFarm_StarCashBoost", 1), lime.audio.setMute(!0), setTimeout(function () { starCash = localStorage.getItem("starCash"), document.getElementById("starCashOuterLabel").innerHTML = starCash, document.getElementById("starCashOuterLabel").innerHTML = starCash }, 1500), setTimeout(function () { document.getElementById("waitText").style.display = "none" }, 33e3); var e = document.getElementById("viewAdImg"); document.getElementById("waitText").innerHTML = "Wait time is required before you can boost again", e.style.display = "none", setTimeout(function () { e.style.display = "block", document.getElementById("waitText").innerHTML = "" }, 12e4) } ma = (new lime.GlossyButton).setColor("#1ce636").setText("Back to Game").setPosition(150, 400).setSize(e.width / 2 + 40, 50), aa.appendChild(ma), goog.events.listen(C, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (p.replaceScene(ra, lime.transitions.SlideInUp), sceneActive = "Menu", e.sceneBefore = 1) }), goog.events.listen(he, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (p.replaceScene(Us, lime.transitions.SlideInRight), sceneBefore = 3, r.play(!0), sceneActive = "Orchard", homeCrop = t.currentCrop, ((homeCrop = parseInt(homeCrop)) > 5 || isNaN(homeCrop) || homeCrop < 0) && ((homeCrop = parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))) || isNaN(homeCrop) || homeCrop < 0) && (homeCrop = 0), localStorage.setItem("MedFarms_selectedHomeCrop", parseInt(homeCrop)), t.currentCrop, t.currentCrop = 8) }), goog.events.listen(Qn, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (p.replaceScene(h, lime.transitions.SlideInLeft), sceneBefore = 1, r.stop(), sceneActive = "Home", t.currentCrop = parseInt(homeCrop), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = 0))) }), goog.events.listen(da, ["mousedown", "touchstart"], function () { localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_dayCount", dayCount), localStorage.setItem("GuiGhostFarms_yearCount", yearCount), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_pickedEver", pickedEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver), p.replaceScene(sp, lime.transitions.SlideInUp), lime.audio.setMute(!0) }), goog.events.listen(ca, ["mousedown", "touchstart"], function () { player.barnLevel = 1, player.pastureLevel = 1, player.treesP = 0, player.tools = 50, player.fields = 1, player.money = 500, player.cropsStored[0].stored = 0, player.cropsStored[1].stored = 0, player.cropsStored[2].stored = 0, player.cropsStored[3].stored = 0, player.cropsStored[4].stored = 0, player.cropsStored[5].stored = 0, player.cropsStored[6].stored = 0, player.cropsStored[7].stored = 0, player.cropsStored[8].stored = 0, player.cropsStored[9].stored = 0, player.cropsStored[10].stored = 0, player.cropsStored[11].stored = 0, player.cropsStored[12].stored = 0, player.cropsStored[13].stored = 0, player.cropsStored[14].stored = 0, player.cropsStored[15].stored = 200, player.cropsStored[16].stored = 0, player.cropsStored[17].stored = 0, showHighLight = 0, showHighlight2 = 0, localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), dayCount = 1, yearCount = 1, toolsEver = 0, moneyEver = 0, pickedEver = 0, townRep = 0, ciderEnabled = 0, mayorReady = 0, friarReady = 0, feliciaReady = 0, saraReady = 0, player.money = 500, player.tools = 50, e.achievements[1], e.achievements[2], e.achievements[3], e.achievements[4], e.achievements[5], e.achievements[6], e.achievements[7], e.achievements[8], e.achievements[9], e.achievements[10], e.achievements[11], e.achievements[12], e.achievements[13], e.achievements[14], e.achievements[15], e.achievements[16], localStorage.setItem("MedFarm_orchardBarnLevel", 0), localStorage.setItem("GuiGhostFarms_achievements", JSON.stringify(e.achievements)), localStorage.setItem("GuiGhostFarms_moneyEver", 0), localStorage.setItem("GuiGhostFarms_pickedEver", 0), localStorage.setItem("GuiGhostFarms_dayCount", 0), localStorage.setItem("GuiGhostFarms_yearCount", 1), localStorage.setItem("GuiGhostFarms_toolsEver", 0), localStorage.setItem("GuiGhostFarms_boughtStarCash", !1), localStorage.removeItem("GuiGhostFarms_player"), localStorage.removeItem("GuiGhostFarms_vinyardBlocks"), localStorage.removeItem("GuiGhostFarms_vinyardBlocks2"), localStorage.removeItem("GuiGhostFarms_vinyardHouseLevel"), localStorage.removeItem("GuiGhostFarms_orchardTreeBlock"), localStorage.removeItem("GuiGhostFarms_dayCount"), localStorage.removeItem("GuiGhostFarms_yearCount"), localStorage.removeItem("GuiGhostFarms_toolsEver"), localStorage.removeItem("GuiGhostFarms_pickedEver"), localStorage.removeItem("GuiGhostFarms_moneyEver"), localStorage.removeItem("GuiGhostFarms_achievements"), localStorage.removeItem("GuiGhostFarms_acres"), localStorage.removeItem("GuiGhostFarms_boughtStarCash"), localStorage.removeItem("GuiGhostFarms_coopLevel"), localStorage.removeItem("GuiGhostFarms_tutSeen"), localStorage.removeItem("GuiGhostFarms_houseUpgrades"), localStorage.removeItem("showHighLight"), localStorage.removeItem("landStates"), localStorage.removeItem("GuiGhostFarms_muted"), localStorage.removeItem("GuiGhostFarms_playerItems"), localStorage.removeItem("MedFarm_StarCashBoost"), localStorage.removeItem("MedFarm_LoadAd"), localStorage.removeItem("adWatched"), localStorage.removeItem("MedFarm_orchardBarnLevel"), localStorage.removeItem("GuiGhostFarms_playerItems"), localStorage.removeItem("MedFarm_StarCashBoost"), localStorage.removeItem("MedFarm_ciderPlaceOwned"), localStorage.removeItem("MedFarms_townRep"), localStorage.removeItem("MedFarms_seenPremiumPromo"), localStorage.removeItem("MedFarms_seen1stHouseNotif"), localStorage.removeItem("MedFarm_Rewarded"), localStorage.removeItem("MedFarms_homeTreesLeft"), localStorage.removeItem("MedFarms_homeTreesRight"), localStorage.removeItem("MedFarms_selectedHomeCrop"), setTimeout(function () { location.reload() }, 750) }), goog.events.listen(ma, ["mousedown", "touchstart"], function (t) { 1 == parseInt(e.sceneBefore) && (p.replaceScene(h, lime.transitions.SlideInDown), sceneActive = "Home"), 2 == e.sceneBefore && (p.replaceScene(_o, lime.transitions.SlideInDown), sceneActive = "Pasture"), 3 == e.sceneBefore && (p.replaceScene(Us, lime.transitions.SlideInDown), sceneActive = "Orchard"), 4 == e.sceneBefore && (p.replaceScene(Eh, lime.transitions.SlideInDown), $P(), sceneActive = "Vineyard"), 5 == e.sceneBefore && (p.replaceScene(dp, lime.transitions.SlideInDown), l.play(), sceneActive = "LS", g.play(), setTimeout(function () { d.play() }, 1e3), setTimeout(function () { c.play() }, 2e3)), t.stopPropagation() }), document.getElementById("buyWithStarCash").addEventListener("touchstart", function (t) { starCash >= 5 && (boughtStarCash = !0, player.money += 500, e.updateMoney(), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), starCash -= 5, localStorage.setItem("starCash", starCash), document.getElementById("starCashOuterLabel").innerHTML = starCash, document.getElementById("waitText").innerHTML = "+ 500 Coins", document.getElementById("waitText").style.display = "block", setTimeout(function () { document.getElementById("waitText").style.display = "none" }, 1e3), YP()), t.stopPropagation() }, !1), document.getElementById("buyWithStarCash").addEventListener("click", function (t) { starCash >= 5 && (boughtStarCash = !0, player.money += 500, e.updateMoney(), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), starCash -= 5, localStorage.setItem("starCash", starCash), document.getElementById("starCashOuterLabel").innerHTML = starCash, document.getElementById("waitText").innerHTML = "+ 500 Coins", document.getElementById("waitText").style.display = "block", setTimeout(function () { document.getElementById("waitText").style.display = "none" }, 750)), t.stopPropagation() }, !1), document.getElementById("buyWithStarCashTools").addEventListener("touchstart", function (t) { starCash >= 10 && (player.tools += 500, localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), starCash -= 10, e.updateTools(), localStorage.setItem("starCash", starCash), document.getElementById("starCashOuterLabel").innerHTML = starCash, document.getElementById("waitText").innerHTML = "+ 500 Tools", document.getElementById("waitText").style.display = "block", setTimeout(function () { document.getElementById("waitText").style.display = "none" }, 1e3)), t.stopPropagation() }, !1), document.getElementById("buyWithStarCashTools").addEventListener("click", function (t) { starCash >= 10 && (player.tools += 500, localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), starCash -= 10, e.updateTools(), localStorage.setItem("starCash", starCash), document.getElementById("starCashOuterLabel").innerHTML = starCash, document.getElementById("waitText").innerHTML = "+ 500 Tools", document.getElementById("waitText").style.display = "block", setTimeout(function () { document.getElementById("waitText").style.display = "none" }, 1e3)), t.stopPropagation() }, !1), document.getElementById("viewAdImg").addEventListener("touchstart", function (e) { pa(), e.stopPropagation() }, !1), document.getElementById("viewAdImg").addEventListener("click", function (e) { pa(), e.stopPropagation() }, !1), document.getElementById("closeFB").addEventListener("touchstart", function (e) { document.getElementById("fbshare").style.display = "none", mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), globalModalBlock = 0, XP = 0, 0 == localStorage.getItem("GuiGhostFarms_muted") ? (lime.audio.setMute(!1), i.play(!0), s.play()) : (lime.audio.setMute(!0), KP(1)), e.stopPropagation() }, !1), document.getElementById("closeFB").addEventListener("click", function (e) { document.getElementById("fbshare").style.display = "none", mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), globalModalBlock = 0, e.stopPropagation(), XP = 0, 0 == localStorage.getItem("GuiGhostFarms_muted") ? (lime.audio.setMute(!1), i.play(!0), s.play()) : (lime.audio.setMute(!0), KP(1)) }, !1), document.getElementById("buyStarsFromModal").addEventListener("touchstart", function (e) { document.getElementById("fbshare").style.display = "none", mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), globalModalBlock = 0, XP = 0, p.replaceScene(Jl, lime.transitions.SlideInDown), $d.setOpacity(1), Kd.setOpacity(.5), Yl.setHidden(!0), Kl.setHidden(!0), storeBuyPremiumLayer.setHidden(!1), e.stopPropagation() }, !1), document.getElementById("buyStarsFromModal").addEventListener("click", function (e) { document.getElementById("fbshare").style.display = "none", mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), globalModalBlock = 0, XP = 0, p.replaceScene(Jl, lime.transitions.SlideInDown), sceneActive = "Store", $d.setOpacity(1), Kd.setOpacity(.5), Yl.setHidden(!0), Kl.setHidden(!0), storeBuyPremiumLayer.setHidden(!1), e.stopPropagation() }, !1), document.getElementById("foundItClose").addEventListener("touchstart", function (e) { document.getElementById("foundIt").style.display = "none", mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), globalModalBlock = 0, e.stopPropagation() }, !1), document.getElementById("foundItClose").addEventListener("click", function (e) { document.getElementById("foundIt").style.display = "none", mt.setHidden(!0), as.setHidden(!0), Tr.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), globalModalBlock = 0, e.stopPropagation() }, !1), currentStarCashBack3, currentStarCashBack4, 1 == adFreeVersion && (document.getElementById("currentStarCashBack3").style.display = "none", document.getElementById("currentStarCashBack4").style.display = "none"); var ha = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), ua = (new lime.Layer).setAnchorPoint(0, 0), ya = (new lime.Layer).setAnchorPoint(0, 0), Sa = (new lime.Layer).setAnchorPoint(0, 0), fa = (new lime.Layer).setAnchorPoint(0, 0); ha.appendChild(ua), ha.appendChild(ya), ha.appendChild(Sa), ha.appendChild(fa); var va = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, 81).setFill("#2F4F4F"); ua.appendChild(va); var Fa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, 55).setFill("images/UI/greenButtonLg.png"); ua.appendChild(Fa); var Pa = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 3).setSize(35, 35).setFill("images/UI/toolsIcon2.png"), wa = (new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(65, 24).setFontSize(18); ua.appendChild(Pa), ua.appendChild(wa); var Aa = (new lime.Label).setText("Fordwin").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150, 18).setFontSize(18); ua.appendChild(Aa); var Ca = (new lime.Label).setText("Peasant Farmer").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150, 40).setFontSize(14); ua.appendChild(Ca); var Ta = (new lime.Sprite).setPosition(285, 20).setSize(35, 35).setFill(imgArray11[0]); ua.appendChild(Ta); var _a = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setPosition(243, 24).setFontSize(18).setFontFamily("Comic Sans MS"); ua.appendChild(_a); var Ia = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(2, 74).setSize(100, 100).setFill(imgArrayPlayer[0]); ha.appendChild(Ia); var ba = 0, xa = (setInterval(function () { 5 == ++ba && Ia.setFill(imgArrayPlayer[1].src), 6 == ba && Ia.setFill(imgArrayPlayer[2].src), 7 == ba && Ia.setFill(imgArrayPlayer[0].src), 8 == ba && Ia.setFill(imgArrayPlayer[1].src), 10 == ba && Ia.setFill(imgArrayPlayer[0].src), 19 == ba && Ia.setFill(imgArrayPlayer[2].src), 20 == ba && Ia.setFill(imgArrayPlayer[0].src), 25 == ba && (ba = 0) }, 200), (new lime.GlossyButton).setColor("#46CD2D").setText("Close").setPosition(e.width / 2, e.height - 12).setSize(100, 25)); ha.appendChild(xa), goog.events.listen(xa, ["mousedown", "touchstart"], function () { YP(), cl.setPosition(110, 25).setText("Item Information"), ml.setPosition(110, 65).setText("Click on an item"), pl.setPosition(110, 90).setText("to see the details"), 1 == parseInt(e.sceneBefore) && (p.replaceScene(h, lime.transitions.SlideInDown), sceneActive = "Home"), 2 == e.sceneBefore && (p.replaceScene(_o, lime.transitions.SlideInDown), sceneActive = "Pasture"), 3 == e.sceneBefore && (p.replaceScene(Us, lime.transitions.SlideInDown), sceneActive = "Orchard"), 4 == e.sceneBefore && (p.replaceScene(Eh, lime.transitions.SlideInDown), sceneActive = "Vineyard"), 5 == e.sceneBefore && (p.replaceScene(dp, lime.transitions.SlideInDown), l.play(), g.play(), sceneActive = "LS"), 7 == e.sceneBefore && (p.replaceScene(mf, lime.transitions.SlideInDown), sceneActive = "House"), 8 == e.sceneBefore && (townSceneActive = 1, sceneActive = "Town", p.replaceScene(Xd, lime.transitions.SlideInDown), sceneActive = "Market", Bc(), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored)), 9 == e.sceneBefore && (p.replaceScene(Jl, lime.transitions.SlideInDown), sceneActive = "Store") }); var Ha = (new lime.GlossyButton).setColor("#8B4513").setText("Goods").setPosition(e.width / 3 - 50, 70).setSize(e.width / 3 - 10, 23); ua.appendChild(Ha); var Ea = (new lime.GlossyButton).setColor("#F4A460").setText("Items").setPosition(e.width / 3 * 2 - 50, 70).setSize(e.width / 3 - 10, 23); ua.appendChild(Ea); var za = (new lime.GlossyButton).setColor("#7B68EE").setText("Heirlooms").setPosition(e.width - e.width / 3 + 55, 70).setSize(e.width / 3 - 10, 23); ua.appendChild(za); var Ma = (new lime.Label).setFontSize(10).setPosition(40, 45).setSize(60, 15).setFill("images/UI/purpleButtonLg.png").setText("Day " + dayCount).setFontFamily("Comic Sans MS").setFontColor("#ffffff").setFontSize(14); ua.appendChild(Ma); var ka = (new lime.Label).setFontSize(10).setPosition(e.width - 40, 45).setSize(60, 15).setFill("images/UI/purpleButtonLg.png").setText("Year " + yearCount).setFontFamily("Comic Sans MS").setFontColor("#ffffff").setFontSize(14); ua.appendChild(ka); var La = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 81).setSize(e.width, e.height - 81).setFill("#8B4513"); ya.appendChild(La); var Ba = (new lime.RoundedRect).setPosition(52, 358).setSize(99, 236).setFill("#00ff00"); ya.appendChild(Ba); var Oa = (new lime.Label).setPosition(51, 270).setSize(71, 50).setText("Consumables").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(16); for (ya.appendChild(Oa), x = 0; x < 9; x++)storedBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(105, 88 + 42 * x + 6).setFill("images/UI/woodFrame.png").setSize(95, 40), ya.appendChild(storedBack); for (x = 0; x < 7; x++)storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(115, 90 + 42 * x + 7).setFill("images/" + e.crops[x].harvest).setSize(33, 33), ya.appendChild(storedIcon); for (x = 9; x < 18; x++)storedBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(210, 88 + 42 * (x - 9) + 6).setFill("images/UI/woodFrame.png").setSize(95, 40), ya.appendChild(storedBack); for (x = 7; x < 14; x++)storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(220, 90 + 42 * (x - 7) + 7).setFill("images/" + e.crops[x].harvest).setSize(33, 33), ya.appendChild(storedIcon); storedBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(4, 262).setFill("images/UI/woodFrame.png").setSize(95, 40), ya.appendChild(storedBack), storedBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(4, 304).setFill("images/UI/woodFrame.png").setSize(95, 40), ya.appendChild(storedBack), storedBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(4, 346).setFill("images/UI/woodFrame.png").setSize(95, 40), ya.appendChild(storedBack), storedBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(4, 388).setFill("images/UI/woodFrame.png").setSize(95, 40), ya.appendChild(storedBack), storedBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(4, 430).setFill("images/UI/woodFrame.png").setSize(95, 40), ya.appendChild(storedBack), storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, 265).setFill("images/" + e.crops[14].harvest).setSize(33, 33), ya.appendChild(storedIcon), storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, 308).setFill("images/" + e.crops[15].harvest).setSize(33, 33), ya.appendChild(storedIcon), storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, 348).setFill("images/" + e.crops[16].harvest).setSize(33, 33), ya.appendChild(storedIcon), storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, 393).setFill("images/" + e.crops[17].harvest).setSize(33, 33), ya.appendChild(storedIcon), storedIcon = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(114, 393).setFill("images/" + e.crops[18].harvest).setSize(33, 33), ya.appendChild(storedIcon); var Ra = (new lime.Label).setPosition(170, 115).setSize(26, 20).setText(player.cropsStored[0].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Ra); var Da = (new lime.Label).setPosition(170, 157).setSize(26, 20).setText(player.cropsStored[1].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Da); var Na = (new lime.Label).setPosition(170, 205).setSize(26, 20).setText(player.cropsStored[2].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Na); var Ua = (new lime.Label).setPosition(170, 248).setSize(26, 20).setText(player.cropsStored[3].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Ua); var Ga = (new lime.Label).setPosition(170, 290).setSize(26, 20).setText(player.cropsStored[4].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Ga); var Wa = (new lime.Label).setPosition(170, 330).setSize(26, 20).setText(player.cropsStored[5].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Wa); var Va = (new lime.Label).setPosition(170, 370).setSize(26, 12).setText(player.cropsStored[6].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Va); var Ja = (new lime.Label).setPosition(270, 112).setSize(26, 12).setText(player.cropsStored[7].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Ja); var Ya = (new lime.Label).setPosition(270, 157).setSize(26, 12).setText(player.cropsStored[8].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Ya); var ja = (new lime.Label).setPosition(270, 205).setSize(26, 12).setText(player.cropsStored[9].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(ja); var qa = (new lime.Label).setPosition(270, 245).setSize(26, 12).setText(player.cropsStored[10].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(qa); var Ka = (new lime.Label).setPosition(270, 290).setSize(26, 12).setText(player.cropsStored[11].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Ka); var $a = (new lime.Label).setPosition(270, 330).setSize(26, 18).setText(player.cropsStored[12].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild($a); var Xa = (new lime.Label).setPosition(270, 370).setSize(26, 18).setText(player.cropsStored[13].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Xa); var Qa = (new lime.Label).setPosition(67, 290).setSize(26, 12).setText(player.cropsStored[14].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Qa); var Za = (new lime.Label).setPosition(67, 330).setSize(26, 12).setText(player.cropsStored[15].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(Za); var el = (new lime.Label).setPosition(67, 370).setSize(26, 12).setText(player.cropsStored[16].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(el); var tl = (new lime.Label).setPosition(67, 410).setSize(26, 12).setText(player.cropsStored[17].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(tl); var ol = (new lime.Label).setPosition(170, 410).setSize(26, 12).setText(player.cropsStored[18].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(ol); var il = (new lime.Label).setPosition(270, 410).setSize(26, 12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(il); var sl = (new lime.Label).setPosition(67, 450).setSize(26, 12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(sl); var nl = (new lime.Label).setPosition(270, 450).setSize(26, 12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(nl); var rl = (new lime.Label).setPosition(170, 450).setSize(26, 12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); ya.appendChild(rl); var al = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(8, 180).setSize(90, 40).setFill(imgArray[25].src); ya.appendChild(al); var ll = (new lime.Label).setText(starCash).setFontFamily("Comic Sans MS").setFontColor("#000000").setPosition(60, 201).setFontSize(18); ya.appendChild(ll), ll.setText(starCash); var gl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 81).setSize(e.width, e.height - 81).setFill("#F4A460"); Sa.appendChild(gl); var dl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(48, 85).setSize(e.width - 85, 110).setFill("images/UI/blankBack5.png"); gl.appendChild(dl); var cl = (new lime.Label).setPosition(110, 25).setText("Item Information").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#000000"); dl.appendChild(cl); var ml = (new lime.Label).setPosition(110, 65).setText("Hit an item to").setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#000000"); dl.appendChild(ml); var pl = (new lime.Label).setPosition(110, 90).setText("see the details").setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#000000"); dl.appendChild(pl); var hl = (new lime.Sprite).setPosition(150, 30).setSize(50, 50).setFill(imgArrayItems[18].src); gl.appendChild(hl); var ul = (new lime.Label).setFontSize(12).setPosition(3, 45).setSize(70, 18).setText("IRON SHOVEL").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(10); hl.appendChild(ul), 1 == collectItems.storeItems[2].owned && (hl.setFill(imgArrayStore[2].src), ul.setFontSize(10).setPosition(3, 45).setSize(70, 18).setText("BLESSED SHOVEL").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(10)); var yl = (new lime.Sprite).setPosition(240, 33).setSize(50, 50).setFill(imgArray[20].src); gl.appendChild(yl); var Sl = (new lime.Label).setPosition(3, 45).setSize(70, 18).setText("????").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(12); for (yl.appendChild(Sl), 1 == collectItems.storeItems[3].owned && (yl.setFill(imgArrayStore[3].src), Sl.setText("STEEL PICK")), goog.events.listen(hl, ["click", "touchstart"], function () { 0 == collectItems.storeItems[2].owned && (cl.setText("IRON SHOVEL"), ml.setText("Gives 1% luck to "), pl.setText("find items when digging")), 1 == collectItems.storeItems[2].owned && (cl.setText("Blessed Shovel"), ml.setText("Gives 10% luck to"), pl.setText("find items when digging")) }), goog.events.listen(yl, ["click", "touchstart"], function () { 0 == collectItems.storeItems[3].owned && (cl.setText("???  HMMMM  ???"), ml.setText("I wonder what is "), pl.setText(" going to go here?")), 1 == collectItems.storeItems[3].owned && (cl.setText("Steel Pick"), ml.setText("Breaks rocks that"), pl.setText("are in the way")) }), xe = 0; xe < 4; xe++)for (x = 0; x < 3; x++)itemsStoredBack = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(20 + 70 * xe, 195 + 62 * x + 6).setFill("images/UI/woodFrame.png").setSize(60, 52), gl.appendChild(itemsStoredBack); itemsStoredBack.setHidden(!0); var fl = (new lime.GlossyButton).setPosition(50, 229).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(fl); var vl = (new lime.GlossyButton).setPosition(120, 229).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(vl); var Fl = (new lime.GlossyButton).setPosition(185, 229).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(Fl); var Pl = (new lime.GlossyButton).setPosition(255, 229).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(Pl); var wl = (new lime.GlossyButton).setPosition(50, 294).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(wl); var Al = (new lime.GlossyButton).setPosition(120, 294).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(Al); var Cl = (new lime.GlossyButton).setPosition(190, 294).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(Cl); var Tl = (new lime.GlossyButton).setPosition(260, 294).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(Tl); var _l = (new lime.GlossyButton).setPosition(50, 358).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(_l); var Il = (new lime.GlossyButton).setPosition(120, 358).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(Il); var bl = (new lime.GlossyButton).setPosition(190, 358).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(bl); var xl = (new lime.GlossyButton).setPosition(260, 358).setSize(40, 40).setColor("#000000").setText(""); gl.appendChild(xl); var Hl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(25, 200).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Hl), Hl.filled = 0, Hl.heading = "", Hl.subtext1 = "", Hl.subtext2 = ""; var El = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 200).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(El), El.filled = 0, El.heading = "", El.subtext1 = "", El.subtext2 = ""; var zl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(165, 200).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(zl), zl.filled = 0, zl.heading = "", zl.subtext1 = "", zl.subtext2 = ""; var Ml = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 200).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Ml), Ml.filled = 0, Ml.heading = "", Ml.subtext1 = "", Ml.subtext2 = ""; var kl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(25, 265).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(kl), kl.filled = 0, kl.heading = "", kl.subtext1 = "", kl.subtext2 = ""; var Ll = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 265).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Ll), Ll.filled = 0, Ll.heading = "", Ll.subtext1 = "", Ll.subtext2 = ""; var Bl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(165, 265).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Bl), Bl.filled = 0, Bl.heading = "", Bl.subtext1 = "", Bl.subtext2 = ""; var Ol = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 265).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Ol), Ol.filled = 0, Ol.heading = "", Ol.subtext1 = "", Ol.subtext2 = ""; var Rl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(25, 325).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Rl), Rl.filled = 0, Rl.heading = "", Rl.subtext1 = "", Rl.subtext2 = ""; var Dl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 325).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Dl), Dl.filled = 0, Dl.heading = "", Dl.subtext1 = "", Dl.subtext2 = ""; var Nl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(165, 325).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Nl), Nl.filled = 0, Nl.heading = "", Nl.subtext1 = "", Nl.subtext2 = ""; var Ul = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(235, 325).setSize(48, 48).setFill(imgArray[17].src); gl.appendChild(Ul), Ul.filled = 0, Ul.heading = "", Ul.subtext1 = "", Ul.subtext2 = "", goog.events.listen(fl, ["click", "touchstart"], function () { 1 == Hl.filled && (cl.setText(Hl.heading), ml.setText(Hl.subtext1), pl.setText(Hl.subtext2)) }), goog.events.listen(vl, ["click", "touchstart"], function () { 1 == El.filled && (cl.setText(El.heading), ml.setText(El.subtext1), pl.setText(El.subtext2)) }), goog.events.listen(Fl, ["click", "touchstart"], function () { 1 == zl.filled && (cl.setText(zl.heading), ml.setText(zl.subtext1), pl.setText(zl.subtext2)) }), goog.events.listen(Pl, ["click", "touchstart"], function () { 1 == Ml.filled && (cl.setText(Ml.heading), ml.setText(Ml.subtext1), pl.setText(Ml.subtext2)) }), goog.events.listen(wl, ["click", "touchstart"], function () { 1 == kl.filled && (cl.setText(kl.heading), ml.setText(kl.subtext1), pl.setText(kl.subtext2)) }), goog.events.listen(Al, ["click", "touchstart"], function () { 1 == Ll.filled && (cl.setText(Ll.heading), ml.setText(Ll.subtext1), pl.setText(Ll.subtext2)) }), goog.events.listen(Cl, ["click", "touchstart"], function () { 1 == Bl.filled && (cl.setText(Bl.heading), ml.setText(Bl.subtext1), pl.setText(Bl.subtext2)) }), goog.events.listen(Tl, ["click", "touchstart"], function () { 1 == Ol.filled && (cl.setText(Ol.heading), ml.setText(Ol.subtext1), pl.setText(Ol.subtext2)) }), goog.events.listen(_l, ["click", "touchstart"], function () { 1 == Rl.filled && (cl.setText(Rl.heading), ml.setText(Rl.subtext1), pl.setText(Rl.subtext2)) }), goog.events.listen(Il, ["click", "touchstart"], function () { 1 == Dl.filled && (cl.setText(Dl.heading), ml.setText(Dl.subtext1), pl.setText(Dl.subtext2)) }), goog.events.listen(bl, ["click", "touchstart"], function () { 1 == Nl.filled && (cl.setText(Nl.heading), ml.setText(Nl.subtext1), pl.setText(Nl.subtext2)) }), goog.events.listen(xl, ["click", "touchstart"], function () { 1 == Ul.filled && (cl.setText(Ul.heading), ml.setText(Ul.subtext1), pl.setText(Ul.subtext2)) }); function Gl() { Hl.filled = 0, Hl.heading = "", Hl.subtext1 = "", Hl.subtext2 = "", Hl.setFill(imgArray[17].src), El.filled = 0, El.heading = "", El.subtext1 = "", El.subtext2 = "", El.setFill(imgArray[17].src), zl.filled = 0, zl.heading = "", zl.subtext1 = "", zl.subtext2 = "", zl.setFill(imgArray[17].src), Ml.filled = 0, Ml.heading = "", Ml.subtext1 = "", Ml.subtext2 = "", Ml.setFill(imgArray[17].src), kl.filled = 0, kl.heading = "", kl.subtext1 = "", kl.subtext2 = "", kl.setFill(imgArray[17].src), Ll.filled = 0, Ll.heading = "", Ll.subtext1 = "", Ll.subtext2 = "", Ll.setFill(imgArray[17].src), Bl.filled = 0, Bl.heading = "", Bl.subtext1 = "", Bl.subtext2 = "", Bl.setFill(imgArray[17].src), Ol.filled = 0, Ol.heading = "", Ol.subtext1 = "", Ol.subtext2 = "", Ol.setFill(imgArray[17].src), Rl.filled = 0, Rl.heading = "", Rl.subtext1 = "", Rl.subtext2 = "", Rl.setFill(imgArray[17].src), Dl.filled = 0, Dl.heading = "", Dl.subtext1 = "", Dl.subtext2 = "", Dl.setFill(imgArray[17].src), Nl.filled = 0, Nl.heading = "", Nl.subtext1 = "", Nl.subtext2 = "", Nl.setFill(imgArray[17].src), Ul.filled = 0, Ul.heading = "", Ul.subtext1 = "", Ul.subtext2 = "", Ul.setFill(imgArray[17].src); for (var e = 0; e < collectItems.digUpSells.length; e++) { if (collectItems.digUpSells[e].owned >= 1) t(collectItems.digUpSells[e].src, collectItems.digUpSells[e].name, collectItems.digUpSells[e].sub1, collectItems.digUpSells[e].sub2); function t(e, t, o, i) { 0 == Hl.filled ? (Hl.filled = 1, Hl.setFill(e), Hl.heading = t, Hl.subtext1 = o, Hl.subtext2 = i) : 0 == El.filled ? (El.filled = 1, El.setFill(e), El.heading = t, El.subtext1 = o, El.subtext2 = i) : 0 == zl.filled ? (zl.filled = 1, zl.setFill(e), zl.heading = t, zl.subtext1 = o, zl.subtext2 = i) : 0 == Ml.filled ? (Ml.filled = 1, Ml.setFill(e), Ml.heading = t, Ml.subtext1 = o, Ml.subtext2 = i) : 0 == kl.filled ? (kl.filled = 1, kl.setFill(e), kl.heading = t, kl.subtext1 = o, kl.subtext2 = i) : 0 == Ll.filled ? (Ll.filled = 1, Ll.setFill(e), Ll.heading = t, Ll.subtext1 = o, Ll.subtext2 = i) : 0 == Bl.filled ? (Bl.filled = 1, Bl.setFill(e), Bl.heading = t, Bl.subtext1 = o, Bl.subtext2 = i) : 0 == Ol.filled ? (Ol.filled = 1, Ol.setFill(e), Ol.heading = t, Ol.subtext1 = o, Ol.subtext2 = i) : 0 == Rl.filled ? (Rl.filled = 1, Rl.setFill(e), Rl.heading = t, Rl.subtext1 = o, Rl.subtext2 = i) : 0 == Dl.filled ? (Dl.filled = 1, Dl.setFill(e), Dl.heading = t, Dl.subtext1 = o, Dl.subtext2 = i) : 0 == Nl.filled ? (Nl.filled = 1, Nl.setFill(e), Nl.heading = t, Nl.subtext1 = o, Nl.subtext2 = i) : 0 == Ul.filled && (Ul.filled = 1, Ul.setFill(e), Ul.heading = t, Ul.subtext1 = o, Ul.subtext2 = i) } } } var Wl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 81).setSize(e.width, e.height - 81).setFill("#7B68EE"); fa.appendChild(Wl); var Vl = (new lime.Label).setPosition(160, 225).setText("Coming Soon").setFontSize(24).setFontFamily("Comic Sans MS").setFontColor("#000000"); Wl.appendChild(Vl), gl.setHidden(!0), Wl.setHidden(!0), goog.events.listen(Ha, ["mousedown", "touchstart"], function () { La.setHidden(!1), gl.setHidden(!0), itemsStoredBack.setHidden(!0), Wl.setHidden(!0) }), goog.events.listen(Ea, ["mousedown", "touchstart"], function () { La.setHidden(!0), gl.setHidden(!1), itemsStoredBack.setHidden(!1), Wl.setHidden(!0) }), goog.events.listen(za, ["mousedown", "touchstart"], function () { La.setHidden(!0), gl.setHidden(!0), itemsStoredBack.setHidden(!0), Wl.setHidden(!1) }); var Jl = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Yl = (new lime.Layer).setAnchorPoint(0, 0).setHidden(!1), jl = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("images/shop/shopBack2.png"); Jl.appendChild(jl), Jl.appendChild(Yl); var ql = (new lime.Sprite).setSize(e.width / 2 + 75, 345).setPosition(155, 320).setFill("#000000").setOpacity(.5); Yl.appendChild(ql); var Kl = (new lime.Sprite).setSize(e.width / 2 + 32, 345).setPosition(155, 320); Yl.appendChild(Kl); var $l = (new lime.Sprite).setSize(42, 40).setPosition(65, -250).setFill(imgArrayStore[0].src); Kl.appendChild($l); var Xl = (new lime.Label).setText("+ 50").setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(30, 15).setFontSize(18); $l.appendChild(Xl), $l.setHidden(!0); var Ql = (new lime.Sprite).setSize(220, 58).setPosition(0, -140).setFill(imgArray[18].src); Kl.appendChild(Ql), Ql.price = collectItems.storeItems[0].value, Ql.stars = 3; var Zl = (new lime.Sprite).setSize(40, 40).setPosition(-68, -7).setFill(imgArrayStore[0].src); Ql.appendChild(Zl); var eg = (new lime.Label).setPosition(10, -15).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[0].name).setFontColor("#E8FC08"); Ql.appendChild(eg); var tg = (new lime.Label).setPosition(13, 12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Keep the smith busy").setFontColor("#f0ffff"); Ql.appendChild(tg); var og = (new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[0].value).setPosition(110, 0).setSize(45, 40).setHidden(!1); Ql.appendChild(og); var ig = (new lime.Sprite).setSize(30, 30).setPosition(0, 18).setFill(imgArray11[0].src); og.appendChild(ig); var sg = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115, 0).setSize(40, 40).setHidden(!1); Ql.appendChild(sg); var ng = (new lime.Sprite).setSize(36, 36).setPosition(0, 0).setFill("images/UI/plus3StarCash.png"); sg.appendChild(ng); var rg = 65, ag = 130, lg = 195; goog.events.listen(og, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = og.getHidden(); player.money >= Ql.price && 0 == t && 0 == o && (sd(0), a.play(), player.money = player.money - Ql.price, Wd.setText(player.money), e.updateMoney(), player.cropsStored[15].stored = player.cropsStored[15].stored + 50, Ie.setHidden(!0), townRep += 1, um(), e.updateStored()) }), goog.events.listen(sg, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = sg.getHidden(); starCash >= Ql.stars && 0 == t && 0 == o && (sd(0), a.play(), starCash -= Ql.stars, Jd.setText(starCash), ll.setText(starCash), player.cropsStored[15].stored = player.cropsStored[15].stored + 50, Ie.setHidden(!0), townRep += 1, um(), e.updateStored()) }); var gg = (new lime.Sprite).setSize(220, 58).setPosition(0, -70).setFill(imgArray[18].src); Kl.appendChild(gg), gg.price = collectItems.storeItems[1].value, gg.stars = 3; var dg = (new lime.Sprite).setSize(40, 40).setPosition(-69, -5).setFill(imgArrayStore[1].src); gg.appendChild(dg); var cg = (new lime.Label).setPosition(12, -13).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[1].name).setFontColor("#E8FC08"); gg.appendChild(cg); var mg = (new lime.Label).setPosition(13, 12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Store Jelly in these").setFontColor("#f0ffff"); gg.appendChild(mg); var pg = (new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[1].value).setPosition(110, 0).setSize(46, 40).setHidden(!1); gg.appendChild(pg); var hg = (new lime.Sprite).setSize(30, 30).setPosition(0, 18).setFill(imgArray11[0].src); pg.appendChild(hg); var ug = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115, 0).setSize(40, 40).setHidden(!1); gg.appendChild(ug); var yg = (new lime.Sprite).setSize(36, 36).setPosition(0, 0).setFill("images/UI/plus3StarCash.png"); ug.appendChild(yg), goog.events.listen(pg, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = pg.getHidden(); player.money >= gg.price && 0 == t && 0 == o && (a.play(), player.money = player.money - gg.price, Wd.setText(player.money), e.updateMoney(), player.cropsStored[16].stored = player.cropsStored[16].stored + 50, el.setText(player.cropsStored[16].stored), townRep += 1, um(), e.updateStored(), sd(1)) }), goog.events.listen(ug, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = ug.getHidden(); starCash >= gg.stars && 0 == t && 0 == o && (a.play(), starCash -= gg.stars, Jd.setText(starCash), player.cropsStored[16].stored = player.cropsStored[16].stored + 50, tl.setText(player.cropsStored[17].stored), townRep += 1, um(), e.updateStored(), sd(1)) }); var Sg = (new lime.Sprite).setSize(220, 58).setPosition(0, 0).setFill(imgArray[18].src); Kl.appendChild(Sg), Sg.price = collectItems.storeItems[2].value, Sg.stars = 25; var fg = (new lime.Sprite).setSize(40, 40).setPosition(-68, 0).setFill(imgArrayStore[2].src); Sg.appendChild(fg); var vg = (new lime.Label).setPosition(12, -13).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[2].name).setFontColor("#E8FC08"); Sg.appendChild(vg); var Fg = (new lime.Label).setPosition(13, 12).setFontFamily("Comic Sans MS").setFontSize(14).setText("+ 10% Item Find").setFontColor("#f0ffff"); Sg.appendChild(Fg); var Pg = (new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[2].value).setPosition(110, 0).setSize(46, 40).setHidden(!1); Sg.appendChild(Pg); var wg = (new lime.Sprite).setSize(30, 30).setPosition(0, 18).setFill(imgArray11[0].src); Pg.appendChild(wg); var Ag = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115, 0).setSize(40, 40).setHidden(!1); Sg.appendChild(Ag); var Cg = (new lime.Sprite).setSize(36, 36).setPosition(0, 0).setFill("images/UI/plus25StarCash.png"); Ag.appendChild(Cg), goog.events.listen(Pg, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = Pg.getHidden(); player.money >= Sg.price && 0 == t && 0 == o && (a.play(), player.money = player.money - Sg.price, Wd.setText(player.money), e.updateMoney(), collectItems.storeItems[2].owned = 1, ul.setText("Blessed Shovel + 10% find"), hl.setFill(imgArrayStore[2].src), townRep += 1, um(), e.updateStored(), Sg.setHidden(!0), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), id(), sd(2)) }), goog.events.listen(Ag, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = Ag.getHidden(); starCash >= Sg.stars && 0 == t && 0 == o && (a.play(), starCash -= Sg.stars, Jd.setText(starCash), collectItems.storeItems[2].owned = 1, ul.setText("Blessed Shovel + 10% find"), hl.setFill(imgArrayStore[2].src), townRep += 1, um(), e.updateStored(), Sg.setHidden(!0), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), id(), sd(2)) }), 1 == collectItems.storeItems[2].owned && (rg = 0); var Tg = (new lime.Sprite).setSize(220, 58).setPosition(0, rg).setFill(imgArray[18].src); Kl.appendChild(Tg), Tg.price = collectItems.storeItems[3].value, Tg.stars = 50; var _g = (new lime.Sprite).setSize(40, 40).setPosition(-75, 0).setFill(imgArrayStore[3].src); Tg.appendChild(_g); var Ig = (new lime.Label).setPosition(12, -12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[3].name).setFontColor("#E8FC08"); Tg.appendChild(Ig); var bg = (new lime.Label).setPosition(11, 12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Break rocks in the way").setFontColor("#f0ffff"); Tg.appendChild(bg); var xg = (new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[3].value).setPosition(110, 0).setSize(46, 40).setHidden(!1); Tg.appendChild(xg); var Hg = (new lime.Sprite).setSize(30, 30).setPosition(0, 18).setFill(imgArray11[0].src); xg.appendChild(Hg); var Eg = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115, 0).setSize(40, 40).setHidden(!1); Tg.appendChild(Eg); var zg = (new lime.Sprite).setSize(36, 36).setPosition(0, 0).setFill("images/UI/plus50StarCash.png"); Eg.appendChild(zg), goog.events.listen(xg, ["mousedown", "touchstart"], function () { var t = xg.getHidden(), o = Yl.getHidden(); player.money >= Tg.price && 0 == o && 0 == t && (a.play(), player.money = player.money - Tg.price, Wd.setText(player.money), e.updateMoney(), collectItems.storeItems[3].owned = 1, Sl.setText("Steel Pick"), yl.setFill(imgArrayStore[3].src), townRep += 1, um(), e.updateStored(), Tg.setHidden(!0), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), id(), sd(3)) }), goog.events.listen(Eg, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = Eg.getHidden(); starCash >= Tg.stars && 0 == t && 0 == o && (a.play(), starCash -= Tg.stars, Jd.setText(starCash), collectItems.storeItems[3].owned = 1, Sl.setText("Steel Pick"), yl.setFill(imgArrayStore[3].src), townRep += 1, um(), e.updateStored(), Sg.setHidden(!0), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), id(), sd(3)) }), 1 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned ? (ag = 0, Sg.setHidden(!0), Tg.setHidden(!0)) : 1 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned ? (ag = 65, Sg.setHidden(!0)) : 0 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned ? (ag = 65, Tg.setHidden(!0)) : ag = 130; var Mg = (new lime.Sprite).setSize(220, 55).setPosition(0, ag).setFill(imgArray[18].src); Kl.appendChild(Mg), Mg.price = collectItems.storeItems[4].value, Mg.stars = 75; var kg = (new lime.Sprite).setSize(42, 40).setPosition(-70, 0).setFill(imgArrayStore[4].src); Mg.appendChild(kg); var Lg = (new lime.Label).setPosition(12, -12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[4].name).setFontColor("#E8FC08"); Mg.appendChild(Lg); var Bg = (new lime.Label).setPosition(15, 12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Make Fruit Cider").setFontColor("#f0ffff"); Mg.appendChild(Bg); var Og = (new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[4].value).setPosition(110, 0).setSize(46, 40).setHidden(!1); Mg.appendChild(Og); var Rg = (new lime.Sprite).setSize(30, 30).setPosition(0, 18).setFill(imgArray11[0].src); Og.appendChild(Rg); var Dg = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115, 0).setSize(40, 40).setHidden(!1); Mg.appendChild(Dg); var Ng = (new lime.Sprite).setSize(36, 36).setPosition(0, 0).setFill("images/UI/plus75StarCash.png"); Dg.appendChild(Ng), goog.events.listen(Og, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = Og.getHidden(); player.money >= Mg.price && 0 == t && 0 == o && (a.play(), player.money = player.money - Mg.price, Wd.setText(player.money), e.updateMoney(), collectItems.storeItems[4].owned = 1, townRep += 1, Jd.setText(starCash), um(), e.updateStored(), Mg.setHidden(!0), Kg.setHidden(!1), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), id(), sd(4)) }), goog.events.listen(Dg, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = Dg.getHidden(); starCash >= Mg.stars && 0 == t && 0 == o && (a.play(), starCash -= Mg.stars, Jd.setText(starCash), collectItems.storeItems[4].owned = 1, townRep += 1, Jd.setText(starCash), um(), e.updateStored(), Mg.setHidden(!0), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), id(), sd(4)) }), 1 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? lg = 0 : 1 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? lg = 65 : 0 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? lg = 65 : 1 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 0 == collectItems.storeItems[4].owned ? lg = 65 : 0 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? lg = 130 : 1 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned && 0 == collectItems.storeItems[4].owned ? lg = 130 : 0 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 0 == collectItems.storeItems[4].owned && (lg = 130); var Ug = (new lime.Sprite).setSize(220, 55).setPosition(0, lg).setFill(imgArray[18].src); Kl.appendChild(Ug), Ug.price = collectItems.storeItems[5].value, Ug.stars = 5; var Gg = (new lime.Sprite).setSize(42, 40).setPosition(-70, 0).setFill(imgArrayStore[5].src); Ug.appendChild(Gg); var Wg = (new lime.Label).setPosition(12, -12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[5].name).setFontColor("#E8FC08"); Ug.appendChild(Wg); var Vg = (new lime.Label).setPosition(15, 12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Store Grape Juice").setFontColor("#f0ffff"); Ug.appendChild(Vg); var Jg = (new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[5].value).setPosition(110, 0).setSize(46, 40).setHidden(!1); Ug.appendChild(Jg); var Yg = (new lime.Sprite).setSize(30, 30).setPosition(0, 18).setFill(imgArray11[0].src); Jg.appendChild(Yg); var jg = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115, 0).setSize(40, 40).setHidden(!1); Ug.appendChild(jg); var qg = (new lime.Sprite).setSize(36, 36).setPosition(0, 0).setFill("images/UI/plus5StarCash.png"); jg.appendChild(qg), Ug.setHidden(!0); var Kg = (new lime.Sprite).setSize(220, 55).setPosition(0, 350).setFill(imgArray[18].src).setHidden(!1); Kl.appendChild(Kg), Kg.price = collectItems.storeItems[6].value, Kg.stars = 5; var $g = (new lime.Sprite).setSize(42, 40).setPosition(-70, 0).setFill(imgArrayStore[6].src); Kg.appendChild($g); var Xg = (new lime.Label).setPosition(12, -12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[6].name).setFontColor("#E8FC08"); Kg.appendChild(Xg); var Qg = (new lime.Label).setPosition(15, 12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Store Fruit Cider").setFontColor("#f0ffff"); Kg.appendChild(Qg); var Zg = (new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[6].value).setPosition(110, 0).setSize(46, 40).setHidden(!1); Kg.appendChild(Zg); var ed = (new lime.Sprite).setSize(30, 30).setPosition(0, 18).setFill(imgArray11[0].src); Zg.appendChild(ed); var td = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115, 0).setSize(40, 40).setHidden(!1); Kg.appendChild(td); var od = (new lime.Sprite).setSize(36, 36).setPosition(0, 0).setFill("images/UI/plus5StarCash.png"); function id() { 0 == collectItems.storeItems[4].owned ? (Ug.setHidden(!0), Kg.setHidden(!0)) : Kg.setHidden(!1), rg = 1 == collectItems.storeItems[2].owned ? 0 : 65, ag = 1 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned ? 0 : 1 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned ? 65 : 0 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned ? 65 : 130, 1 == collectItems.storeItems[4].owned && (Mg.setHidden(!0), Kg.setHidden(!1)), 1 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? (lg = 0, Mg.setHidden(!0), Kg.setHidden(!1), Kg.setPosition(0, lg)) : 1 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? (lg = 65, 130, Kg.setHidden(!1)) : 0 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? (lg = 65, 130, Kg.setHidden(!1)) : 1 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 0 == collectItems.storeItems[4].owned ? (lg = 65, 130, Mg.setHidden(!1), Kg.setHidden(!0)) : 0 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned && 1 == collectItems.storeItems[4].owned ? (lg = 130, 195, Kg.setHidden(!1)) : 1 == collectItems.storeItems[2].owned && 0 == collectItems.storeItems[3].owned && 0 == collectItems.storeItems[4].owned ? (lg = 130, 195, Mg.setHidden(!1), Kg.setHidden(!0)) : 0 == collectItems.storeItems[2].owned && 1 == collectItems.storeItems[3].owned && 0 == collectItems.storeItems[4].owned && (lg = 130, 195, Mg.setHidden(!1), Kg.setHidden(!0)), 1 == collectItems.storeItems[4].owned && (Mg.setHidden(!0), Kg.setHidden(!1)), Tg.setPosition(0, rg), Mg.setPosition(0, ag), Ug.setPosition(0, lg), Kg.setPosition(0, lg) } function sd(e) { 0 == e && ($l.setHidden(!1).setFill(imgArrayStore[0].src), Xl.setText("+ 50"), nd()), 1 == e && ($l.setHidden(!1).setFill(imgArrayStore[1].src), Xl.setText("+ 50"), nd()), 2 == e && ($l.setHidden(!1).setFill(imgArrayStore[2].src), Xl.setText("+ 1"), nd()), 3 == e && ($l.setHidden(!1).setFill(imgArrayStore[3].src), Xl.setText("+ 1"), nd()), 4 == e && ($l.setHidden(!1).setFill(imgArrayStore[4].src), Xl.setText("+ 1"), nd()), 5 == e && ($l.setHidden(!1).setFill(imgArrayStore[5].src), Xl.setText("+ 50"), nd()), 6 == e && ($l.setHidden(!1).setFill(imgArrayStore[6].src), Xl.setText("+ 50"), nd()) } td.appendChild(od), goog.events.listen(Zg, ["mousedown", "touchstart"], function () { var t = Yl.getHidden(), o = Zg.getHidden(); player.money >= Kg.price && 0 == t && 0 == o && (a.play(), player.money = player.money - Kg.price, Wd.setText(player.money), e.updateMoney(), collectItems.storeItems[6].owned = 1, player.cropsStored[17].stored = player.cropsStored[17].stored + 50, townRep += 1, Gl(), um(), e.updateStored(), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), sd(6), Jd.setText(starCash)) }), goog.events.listen(td, ["mousedown", "touchstart"], function () { var t = td.getHidden(), o = Yl.getHidden(); starCash >= Kg.stars && 0 == o && 0 == t && (a.play(), starCash = parseInt(starCash) - Kg.stars, Jd.setText(starCash), Wd.setText(player.money), e.updateMoney(), collectItems.storeItems[6].owned = 1, player.cropsStored[17].stored = player.cropsStored[17].stored + 50, townRep += 1, Gl(), um(), e.updateStored(), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), sd(6), Jd.setText(starCash)) }), 0 == (collectItems = JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems"))).storeItems[4].owned ? (Ug.setHidden(!0), Kg.setHidden(!0)) : Kg.setHidden(!1), id(); var nd = function () { setTimeout(function () { $l.setHidden(!0) }, 800) }; storeBuyPremiumLayer = (new lime.Layer).setAnchorPoint(0, 0).setHidden(!1), storeFill2 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("images/shop/shopBack2.png"), Jl.appendChild(storeBuyPremiumLayer), storeBuyPremiumLayer.appendChild(storeFill2); var rd = (new lime.Sprite).setSize(e.width / 2 + 75, 345).setPosition(155, 320).setFill("#000000").setOpacity(.5); storeBuyPremiumLayer.appendChild(rd); var ad = (new lime.Sprite).setSize(e.width / 2 + 75, 345).setPosition(155, 320).setFill(""); storeBuyPremiumLayer.appendChild(ad), storeBuyPremiumLayer.setHidden(!0); var ld = (new lime.Sprite).setSize(220, 60).setPosition(0, -135).setFill(imgArray[18].src); ad.appendChild(ld); var gd = (new lime.Sprite).setSize(30, 30).setPosition(-70, -11).setFill("images/UI/plus50StarCash.png"); ld.appendChild(gd); var dd = (new lime.Sprite).setSize(30, 30).setPosition(70, -11).setFill("images/UI/plus50StarCash.png"); ld.appendChild(dd), ld.owned = localStorage.getItem("MedFarms_boughtSmallStars"), null == ld.owned && (ld.owned = 0); var cd = (new lime.Label).setPosition(0, -10).setFontFamily("Comic Sans MS").setFontSize(16).setText("Star Pack I").setFontColor("#E8FC08"); ld.appendChild(cd); var md = (new lime.Label).setPosition(0, 59).setSize(185, 100).setFontFamily("Comic Sans MS").setFontSize(14).setText("50 Stars - Boost away").setFontColor("#f0ffff"); ld.appendChild(md); var pd = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(115, 0).setSize(50, 30).setHidden(!1); ld.appendChild(pd); var hd = (new lime.Label).setPosition(0, 4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $0.99").setFontColor("#f0ffff").setSize(50, 30); pd.appendChild(hd), 1 == ld.owned ? (ld.setOpacity(.2), pd.setHidden(!0)) : goog.events.listen(pd, ["mousedown", "touchstart"], function () { var e = storeBuyPremiumLayer.getHidden(); 0 == pd.getHidden() && 0 == e && (a.play(), localStorage.setItem("MedFarms_buyingSmallStars", 1), ld.setOpacity(.2), pd.setHidden(!0), Jd.setText(starCash)) }); var ud = (new lime.Sprite).setSize(220, 60).setPosition(0, -71).setFill(imgArray[18].src); ad.appendChild(ud); var yd = (new lime.Sprite).setSize(30, 30).setPosition(-70, -11).setFill("images/UI/plus300StarCash.png"); ud.appendChild(yd); var Sd = (new lime.Sprite).setSize(30, 30).setPosition(70, -11).setFill("images/UI/plus300StarCash.png"); ud.appendChild(Sd), ud.owned = localStorage.getItem("MedFarms_boughtLargeStars"), null == ud.owned && (ud.owned = 0); var fd = (new lime.Label).setPosition(0, -10).setFontFamily("Comic Sans MS").setFontSize(16).setText("Star Pack II").setFontColor("#E8FC08"); ud.appendChild(fd); var vd = (new lime.Label).setPosition(0, 59).setSize(185, 100).setFontFamily("Comic Sans MS").setFontSize(14).setText("300 Stars - Ton's o' Boost").setFontColor("#f0ffff"); ud.appendChild(vd); var Fd = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(115, 0).setSize(46, 30).setHidden(!1); ud.appendChild(Fd); var Pd = (new lime.Label).setPosition(0, 4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $4.99").setFontColor("#f0ffff").setSize(50, 30); Fd.appendChild(Pd), goog.events.listen(Fd, ["mousedown", "touchstart"], function () { var e = storeBuyPremiumLayer.getHidden(); 0 == Fd.getHidden() && 0 == e && (a.play(), localStorage.setItem("MedFarms_buyingLargeStars", 1), ud.setOpacity(.2), Fd.setHidden(!0), Jd.setText(starCash)) }); var wd = (new lime.Sprite).setSize(220, 96).setPosition(0, 12).setFill(imgArray[18].src); ad.appendChild(wd), wd.owned = localStorage.getItem("MedFarms_boughtStarterPack"), null == wd.owned && (wd.owned = 0); var Ad = (new lime.Sprite).setSize(30, 30).setPosition(-60, -8).setFill(imgArrayStore[0].src); wd.appendChild(Ad); var Cd = (new lime.Sprite).setSize(30, 30).setPosition(0, -8).setFill("images/items/logs.png"); wd.appendChild(Cd); var Td = (new lime.Sprite).setSize(30, 30).setPosition(60, -8).setFill("images/UI/toolsIcon2.png"); wd.appendChild(Td); var _d = (new lime.Label).setPosition(0, -31).setFontFamily("Comic Sans MS").setFontSize(16).setText("Starter Pack").setFontColor("#E8FC08"); wd.appendChild(_d); var Id = (new lime.Label).setPosition(0, 68).setSize(185, 100).setFontFamily("Comic Sans MS").setFontSize(14).setText("250 Iron, Wood, and Tools").setFontColor("#f0ffff"); wd.appendChild(Id); var bd = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(115, 0).setSize(46, 40).setHidden(!1); wd.appendChild(bd); var xd = (new lime.Label).setPosition(0, 4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $0.99").setFontColor("#f0ffff").setSize(50, 30); bd.appendChild(xd), 1 == wd.owned ? (wd.setOpacity(.2), bd.setHidden(!0)) : goog.events.listen(bd, ["mousedown", "touchstart"], function () { var e = storeBuyPremiumLayer.getHidden(); 0 == bd.getHidden() && 0 == e && (a.play(), localStorage.setItem("MedFarms_buyingStarterPack", 1), wd.setOpacity(.2), bd.setHidden(!0), Jd.setText(starCash)) }); var Hd = (new lime.Sprite).setSize(220, 100).setPosition(0, 115).setFill(imgArray[18].src); ad.appendChild(Hd), Hd.owned = localStorage.getItem("MedFarms_boughtMasterPack"), null == Hd.owned && (Hd.owned = 0); var Ed = (new lime.Sprite).setSize(30, 30).setPosition(-80, -10).setFill(imgArrayStore[0].src); Hd.appendChild(Ed); var zd = (new lime.Sprite).setSize(30, 30).setPosition(-40, -10).setFill("images/items/logs.png"); Hd.appendChild(zd); var Md = (new lime.Sprite).setSize(30, 30).setPosition(-5, -10).setFill("images/UI/toolsIcon2.png"); Hd.appendChild(Md); var kd = (new lime.Sprite).setSize(30, 30).setPosition(30, -10).setFill(imgArray11[0].src); Hd.appendChild(kd); var Ld = (new lime.Sprite).setSize(30, 30).setPosition(64, -10).setFill("images/UI/plus50StarCash.png"); Hd.appendChild(Ld); var Bd = (new lime.Label).setPosition(0, -32).setFontFamily("Comic Sans MS").setFontSize(16).setText("Masters Pack").setFontColor("#E8FC08"); Hd.appendChild(Bd); var Od = (new lime.Label).setPosition(0, 61).setSize(185, 100).setFontFamily("Comic Sans MS").setFontSize(14).setText("750 Iron, Wood, and Tools + 2500 Coins and 50 Stars").setFontColor("#f0ffff"); Hd.appendChild(Od); var Rd = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(115, 0).setSize(46, 40).setHidden(!1); Hd.appendChild(Rd); var Dd = (new lime.Label).setPosition(0, 4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $4.99").setFontColor("#f0ffff").setSize(50, 30); Rd.appendChild(Dd), 1 == Hd.owned ? (Hd.setOpacity(.2), Rd.setHidden(!0)) : goog.events.listen(Rd, ["mousedown", "touchstart"], function () { var e = storeBuyPremiumLayer.getHidden(), t = Rd.getHidden(); 0 == e && 0 == t && (a.play(), localStorage.setItem("MedFarms_buyingMasterPack", 1), Hd.setOpacity(.2), Rd.setHidden(!0), Jd.setText(starCash)) }), 1 == Hd.owned && (Hd.setOpacity(.2), Rd.setHidden(!0)); var Nd = (new lime.GlossyButton).setColor("#008000").setText("Close").setPosition(155, 520).setSize(52, 30); Jl.appendChild(Nd), goog.events.listen(Nd, ["mousedown", "touchstart"], function () { townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInDown), sceneActive = "Market" }); var Ud = (new lime.Sprite).setPosition(0, 0).setSize(e.width + e.width, 60).setFill("#000000").setOpacity(.4); Jl.appendChild(Ud); var Gd = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w - 100, 5).setSize(25, 25).setFill(imgArray11[0]); Jl.appendChild(Gd); var Wd = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(e.controlsLayer_w - 43, 18).setFontSize(18); Jl.appendChild(Wd); var Vd = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 2).setSize(30, 30).setFill("images/UI/starCash.png"); Jl.appendChild(Vd); var Jd = (new lime.Label).setText(starCash).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(55, 18).setFontSize(18); Jl.appendChild(Jd); var Yd = (new lime.GlossyButton).setColor("#ffc266").setText("").setPosition(e.width / 2 + 5, 17).setSize(35, 35); Jl.appendChild(Yd); var jd = (new lime.Sprite).setFill(imgArrayItems[25].src).setPosition(0, 0).setSize(32, 32); Yd.appendChild(jd), goog.events.listen(Yd, ["mousedown", "touchstart"], function () { ll.setText(starCash), Gl(), townSceneActive = 0, p.replaceScene(ha, lime.transitions.SlideInUp), sceneActive = "Inventory", ll.setText(starCash), e.sceneBefore = 9, Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }); var qd = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(128, 44).setSize(64, 64).setFill(imgArrayTrader[0].src); Jl.appendChild(qd); var Kd = (new lime.GlossyButton).setColor("#00f000").setText("General").setPosition(105, 135).setSize(80, 18); Jl.appendChild(Kd); var $d = (new lime.GlossyButton).setColor("#E8FC08").setText("Premium").setPosition(210, 135).setSize(80, 18).setOpacity(.5); Jl.appendChild($d), adFreeVersion && ($d.setHidden(!0), Kd.setHidden(!0)), goog.events.listen(Kd, ["mousedown", "touchstart"], function () { Kd.setOpacity(1), $d.setOpacity(.5), Kl.setHidden(!1), Yl.setHidden(!1), storeBuyPremiumLayer.setHidden(!0) }), goog.events.listen($d, ["mousedown", "touchstart"], function () { $d.setOpacity(1), Kd.setOpacity(.5), Yl.setHidden(!0), Kl.setHidden(!0), storeBuyPremiumLayer.setHidden(!1) }); var Xd = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Qd = (new lime.Layer).setAnchorPoint(0, 0), Zd = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill(imgArrayTown[0]); Xd.appendChild(Zd), Xd.appendChild(Qd); var ec = (new lime.Sprite).setPosition(0, 0).setSize(e.width + e.width, 60).setFill("#000000").setOpacity(.4); Zd.appendChild(ec); var tc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w - 108, 5).setSize(25, 25).setFill(imgArray11[0]); Xd.appendChild(tc); var oc = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(e.controlsLayer_w - 53, 18).setFontSize(18); Xd.appendChild(oc); var ic = (new lime.Label).setText("Reputation:").setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(46, 12).setFontSize(12); Zd.appendChild(ic); var sc = (new lime.Label).setText(townRep).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(94, 12).setFontSize(12); Zd.appendChild(sc); var nc = (new lime.Label).setText("New in Town").setFontColor("#00FF00").setFontFamily("Comic Sans MS").setPosition(70, 26).setFontSize(12); Zd.appendChild(nc), townRep >= 5 && nc.setText("Local Farmer"), townRep >= 15 && nc.setText("Trusted Resident"), townRep >= 30 && nc.setText("Local Leader"); var rc = (new lime.GlossyButton).setColor("#ffc266").setText("").setPosition(e.width / 2, 17).setSize(35, 35); Zd.appendChild(rc); var ac = (new lime.Sprite).setFill(imgArrayItems[25].src).setPosition(0, 0).setSize(32, 32); rc.appendChild(ac), goog.events.listen(rc, ["mousedown", "touchstart"], function () { ll.setText(starCash), _c.setHidden(!0), Gl(), townSceneActive = 0, p.replaceScene(ha, lime.transitions.SlideInUp), sceneActive = "Inventory", e.sceneBefore = 8, Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }); var lc = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(55, 260).setSize(32, 32); Zd.appendChild(lc); var gc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-16.5, -16).setSize(33, 33).setFill(imgArrayTown[17].src); lc.appendChild(gc), goog.events.listen(lc, ["mousedown", "touchstart"], function () { collectItems = JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems")), p.replaceScene(Jl, lime.transitions.SlideInUp), sceneActive = "Store", id() }); var dc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(46, 155).setSize(35, 35).setFill(imgArrayTown[1].src); Zd.appendChild(dc); var cc = (new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25, -8).setSize(25, 23).setOpacity(.2); dc.appendChild(cc); var mc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, -19).setSize(25, 25).setFill(imgArrayTown[15].src).setOpacity(.8); dc.appendChild(mc); var pc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, e.height - 70).setSize(35, 35).setFill(imgArrayTown2[0].src); Zd.appendChild(pc); var hc = (new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25, -8).setSize(25, 23).setOpacity(.2); pc.appendChild(hc); var uc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, -19).setSize(25, 25).setFill(imgArrayTown[15].src).setOpacity(.8); pc.appendChild(uc); var yc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(200, 165).setSize(35, 35).setFill(imgArrayMayor[0].src); Zd.appendChild(yc); var Sc = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(25, -4).setSize(25, 23).setOpacity(.2); yc.appendChild(Sc); var fc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, -15).setSize(25, 25).setFill(imgArrayTown[15].src).setOpacity(.8); yc.appendChild(fc); var vc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(230, 242).setSize(35, 35).setFill(imgArrayFelicia[0].src); Zd.appendChild(vc); var Fc = (new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25, -8).setSize(25, 23).setOpacity(.2); vc.appendChild(Fc); var Pc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(13, -19).setSize(25, 25).setFill(imgArrayTown[15].src).setOpacity(.8); vc.appendChild(Pc); var wc = 1; wc = parseInt(wc), lime.scheduleManager.scheduleWithDelay(function () { Jd.setText(starCash), 1 == townSceneActive && (wc >= 50 && (wc = 1, dc.setPosition(46, 155), dc.setFill(imgArrayTown[1])), 2 == wc && (dc.setPosition(46, 161), dc.setFill(imgArrayTown[2]), pc.setPosition(55, e.height - 70), pc.setFill(imgArrayTown2[1]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[0]), vc.setPosition(230, 242).setFill(imgArrayFelicia[8].src), qd.setFill(imgArrayTrader[1].src)), 3 == wc && (dc.setPosition(46, 165), dc.setFill(imgArrayTown[3]), pc.setPosition(60, e.height - 70), pc.setFill(imgArrayTown2[2]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[0]), vc.setPosition(225, 242).setFill(imgArrayFelicia[8].src)), 4 == wc && (dc.setPosition(51, 165), dc.setFill(imgArrayTown[4]), pc.setPosition(65, e.height - 70), pc.setFill(imgArrayTown2[3]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[16]), vc.setPosition(220, 242).setFill(imgArrayFelicia[9].src)), 5 == wc && (dc.setPosition(56, 165), dc.setFill(imgArrayTown[5]), pc.setPosition(70, e.height - 70), pc.setFill(imgArrayTown2[1]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[16]), vc.setPosition(215, 242).setFill(imgArrayFelicia[10].src)), 6 == wc && (dc.setPosition(61, 165), dc.setFill(imgArrayTown[6]), pc.setPosition(75, e.height - 70), pc.setFill(imgArrayTown2[2]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[0]), vc.setPosition(210, 242).setFill(imgArrayFelicia[11].src)), 7 == wc && (dc.setPosition(67, 165), dc.setFill(imgArrayTown[5]), pc.setPosition(80, e.height - 70), pc.setFill(imgArrayTown2[3]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[0]), vc.setPosition(205, 242).setFill(imgArrayFelicia[8].src)), 8 == wc && (dc.setPosition(73, 165), dc.setFill(imgArrayTown[6]), pc.setPosition(85, e.height - 70), pc.setFill(imgArrayTown2[1]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[0]), vc.setPosition(200, 242).setFill(imgArrayFelicia[9].src)), 9 == wc && (dc.setPosition(79, 165), dc.setFill(imgArrayTown[5]), pc.setPosition(90, e.height - 70), pc.setFill(imgArrayTown2[2]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[16]), vc.setPosition(195, 242).setFill(imgArrayFelicia[10].src), qd.setFill(imgArrayTrader[2].src)), 10 == wc && (dc.setPosition(84, 165), dc.setFill(imgArrayTown[6]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[3]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[8]), vc.setPosition(190, 242).setFill(imgArrayFelicia[11].src)), 11 == wc && (dc.setPosition(84, 165), dc.setFill(imgArrayTown[1]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[0]), yc.setPosition(195, 165), yc.setFill(imgArrayMayor[9]), vc.setPosition(185, 242).setFill(imgArrayFelicia[8].src)), 12 == wc && (dc.setPosition(84, 165), dc.setFill(imgArrayTown[1]), pc.setPosition(90, e.height - 70), pc.setFill(imgArrayTown2[4]), yc.setPosition(190, 165), yc.setFill(imgArrayMayor[10]), vc.setPosition(180, 242).setFill(imgArrayFelicia[9].src)), 13 == wc && (dc.setPosition(84, 165), dc.setFill(imgArrayTown[7]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[0]), yc.setPosition(185, 165), yc.setFill(imgArrayMayor[11]), vc.setPosition(175, 242).setFill(imgArrayFelicia[10].src)), 14 == wc && (dc.setPosition(79, 165), dc.setFill(imgArrayTown[8]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[1]), yc.setPosition(180, 165), yc.setFill(imgArrayMayor[10]), vc.setPosition(170, 242).setFill(imgArrayFelicia[11].src)), 15 == wc && (dc.setPosition(73, 165), dc.setFill(imgArrayTown[9]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[1]), yc.setPosition(175, 165), yc.setFill(imgArrayMayor[9]), vc.setPosition(165, 242).setFill(imgArrayFelicia[8].src)), 16 == wc && (dc.setPosition(67, 165), dc.setFill(imgArrayTown[7]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[0]), yc.setPosition(170, 165), yc.setFill(imgArrayMayor[8]), vc.setPosition(160, 242).setFill(imgArrayFelicia[9].src)), 17 == wc && (dc.setPosition(61, 165), dc.setFill(imgArrayTown[8]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[0]), yc.setPosition(170, 165), yc.setFill(imgArrayMayor[0]), vc.setPosition(160, 242).setFill(imgArrayFelicia[13].src)), 18 == wc && (dc.setPosition(56, 165), dc.setFill(imgArrayTown[9]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[10]), yc.setPosition(170, 165), yc.setFill(imgArrayMayor[1]), vc.setPosition(160, 242).setFill(imgArrayFelicia[12].src), qd.setFill(imgArrayTrader[0].src)), 19 == wc && (dc.setPosition(51, 165), dc.setFill(imgArrayTown[8]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[10]), yc.setPosition(170, 165), yc.setFill(imgArrayMayor[3]), vc.setPosition(160, 242).setFill(imgArrayFelicia[13].src)), 20 == wc && (dc.setPosition(46, 165), dc.setFill(imgArrayTown[7]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[10]), yc.setPosition(170, 165), yc.setFill(imgArrayMayor[4]), vc.setPosition(160, 242).setFill(imgArrayFelicia[12].src)), 21 == wc && (dc.setPosition(46, 161), dc.setFill(imgArrayTown[11]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[0]), yc.setPosition(170, 165), yc.setFill(imgArrayMayor[3]), vc.setPosition(160, 242).setFill(imgArrayFelicia[13].src)), 22 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[12]), pc.setPosition(95, e.height - 70), pc.setFill(imgArrayTown2[5]), yc.setPosition(175, 165), yc.setFill(imgArrayMayor[5]), vc.setPosition(160, 242).setFill(imgArrayFelicia[4].src)), 23 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[4]), pc.setPosition(90, e.height - 70), pc.setFill(imgArrayTown2[5]), yc.setPosition(180, 165), yc.setFill(imgArrayMayor[6]), vc.setPosition(165, 242).setFill(imgArrayFelicia[4].src)), 24 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[4]), pc.setPosition(85, e.height - 70), pc.setFill(imgArrayTown2[6]), yc.setPosition(185, 165), yc.setFill(imgArrayMayor[7]), vc.setPosition(170, 242).setFill(imgArrayFelicia[5].src)), 25 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[2]), pc.setPosition(80, e.height - 70), pc.setFill(imgArrayTown2[7]), yc.setPosition(190, 165), yc.setFill(imgArrayMayor[6]), vc.setPosition(175, 242).setFill(imgArrayFelicia[6].src)), 26 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[2]), pc.setPosition(75, e.height - 70), pc.setFill(imgArrayTown2[5]), yc.setPosition(195, 165), yc.setFill(imgArrayMayor[7]), vc.setPosition(180, 242).setFill(imgArrayFelicia[7].src), qd.setFill(imgArrayTrader[1].src)), 27 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[7]), pc.setPosition(70, e.height - 70), pc.setFill(imgArrayTown2[6]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[6]), vc.setPosition(185, 242).setFill(imgArrayFelicia[4].src)), 28 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[7]), pc.setPosition(65, e.height - 70), pc.setFill(imgArrayTown2[7]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[3]), vc.setPosition(190, 242).setFill(imgArrayFelicia[5].src)), 29 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[1]), pc.setPosition(60, e.height - 70), pc.setFill(imgArrayTown2[5]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[0]), vc.setPosition(195, 242).setFill(imgArrayFelicia[6].src)), 30 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[1]), pc.setPosition(55, e.height - 70), pc.setFill(imgArrayTown2[6]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(200, 242).setFill(imgArrayFelicia[7].src)), 31 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(50, e.height - 70), pc.setFill(imgArrayTown2[7]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(205, 242).setFill(imgArrayFelicia[4].src)), 32 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(45, e.height - 70), pc.setFill(imgArrayTown2[8]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(210, 242).setFill(imgArrayFelicia[5].src), qd.setFill(imgArrayTrader[2].src)), 33 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(45, e.height - 75), pc.setFill(imgArrayTown2[9]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(215, 242).setFill(imgArrayFelicia[6].src)), 34 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[14]), pc.setPosition(45, e.height - 80), pc.setFill(imgArrayTown2[10]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(220, 242).setFill(imgArrayFelicia[7].src)), 35 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[14]), pc.setPosition(45, e.height - 85), pc.setFill(imgArrayTown2[9]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(225, 242).setFill(imgArrayFelicia[4].src)), 36 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(45, e.height - 80), pc.setFill(imgArrayTown2[0]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(230, 242).setFill(imgArrayFelicia[5].src)), 37 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(45, e.height - 80), pc.setFill(imgArrayTown2[4]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(230, 242).setFill(imgArrayFelicia[12].src)), 38 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(50, e.height - 80), pc.setFill(imgArrayTown2[4]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(230, 242).setFill(imgArrayFelicia[13].src), qd.setFill(imgArrayTrader[0].src)), 39 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(50, e.height - 80), pc.setFill(imgArrayTown2[0]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(235, 242).setFill(imgArrayFelicia[4].src)), 40 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(50, e.height - 75), pc.setFill(imgArrayTown2[0]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(240, 242).setFill(imgArrayFelicia[5].src)), 41 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(50, e.height - 70), pc.setFill(imgArrayTown2[0]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(245, 242).setFill(imgArrayFelicia[6].src)), 42 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(55, e.height - 70), pc.setFill(imgArrayTown2[1]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(245, 242).setFill(imgArrayFelicia[12].src)), 43 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[13]), pc.setPosition(55, e.height - 70), pc.setFill(imgArrayTown2[1]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(245, 242).setFill(imgArrayFelicia[13].src), qd.setFill(imgArrayTrader[1].src)), 46 == wc && (yc.setPosition(200, 165), yc.setFill(imgArrayMayor[8]), vc.setPosition(245, 242).setFill(imgArrayFelicia[8].src)), 48 == wc && (yc.setPosition(200, 165), yc.setFill(imgArrayMayor[15]), vc.setPosition(240, 242).setFill(imgArrayFelicia[9].src)), 49 == wc && (dc.setPosition(46, 155), dc.setFill(imgArrayTown[14]), pc.setPosition(55, e.height - 70), pc.setFill(imgArrayTown2[0]), yc.setPosition(200, 165), yc.setFill(imgArrayMayor[1]), vc.setPosition(210, 242).setFill(imgArrayFelicia[11].src), vc.setPosition(235, 242).setFill(imgArrayFelicia[10].src), qd.setFill(imgArrayTrader[2].src)), wc += 1) }, this, 250); var Ac = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(217, 295).setSize(32, 30).setHidden(!1); Qd.appendChild(Ac), goog.events.listen(Ac, ["mousedown", "touchstart"], function () { e.sceneBefore = 8, Fm.setHidden(!1), Pm.setHidden(!1), townSceneActive = 0, p.replaceScene(vm, lime.transitions.SlideInDown), sceneActive = "MarketSell", _c.setHidden(!0) }); var Cc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-16, -17).setSize(33, 33).setFill("images/marketTown/coinButton.png"); Ac.appendChild(Cc); var Tc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 2 - 20, 500).setSize(40, 40).setFill("images/UI/homeButton.png"); Qd.appendChild(Tc); var _c = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 100).setSize(e.width - 30, e.height / 2).setFill("images/UI/blankBack4.png").setHidden(!1); Qd.appendChild(_c), _c.setHidden(!0), _c.who = ""; var Ic = (new lime.Label).setAnchorPoint(0, 0).setPosition(60, 25).setText("").setFontFamily("Comic Sans MS").setFontSize(22); _c.appendChild(Ic); var bc = (new lime.Label).setAnchorPoint(0, 0).setPosition(20, 150).setText("").setFontFamily("Comic Sans MS").setFontSize(16).setSize(e.width - 80, e.height / 2 - 50); _c.appendChild(bc); var xc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(80, 38).setSize(100, 100).setFill(imgArrayMayor[0].src); _c.appendChild(xc); var Hc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(165, 74).setSize(50, 50).setFill("images/items/ciderBarrel.png"); _c.appendChild(Hc); var Ec = (new lime.Label).setAnchorPoint(0, 0).setPosition(170, 130).setText(player.cropsStored[18].stored).setFontFamily("Comic Sans MS").setFontSize(16).setSize(40, 40); _c.appendChild(Ec); var zc = (new lime.GlossyButton).setPosition(200, 235).setText("Sell for " + e.crops[18].revenue * player.cropsStored[18].stored).setSize(100, 20).setColor("#00ff00").setHidden(!1); _c.appendChild(zc), Hc.setHidden(!0), Ec.setHidden(!0), zc.setHidden(!0); var Mc = (new lime.GlossyButton).setColor("#008000").setText("Give").setPosition(190, 235).setSize(90, 20); _c.appendChild(Mc), Mc.setHidden(!0); var kc = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(75, 235).setSize(100, 20).setHidden(!1); _c.appendChild(kc); var Lc = (new lime.GlossyButton).setColor("#008000").setText("Check Items").setPosition(205, 235).setSize(100, 20).setHidden(!1); function Bc() { var e = Object.keys(collectItems.digUpSells).length; mayorReady = 0, friarReady = 0, feliciaReady = 0, saraReady = 0; for (var t = 0; t < e; t++)1 == collectItems.digUpSells[t].owned && ("Mayor" == collectItems.digUpSells[t].who && (mayorReady = 1), "Friar" == collectItems.digUpSells[t].who && (friarReady = 1, console.log("monk has item " + collectItems.digUpSells[t].name)), "Sara" == collectItems.digUpSells[t].who && (saraReady = 1), "Felicia" == collectItems.digUpSells[t].who && 0 == questParams.felicia[2].completed && (feliciaReady = 1)); if (1 == mayorReady) fc.setFill(imgArrayTown[16].src), fc.setHidden(!1), Sc.setHidden(!1), goog.events.unlisten(Sc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(yc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(Sc, ["mousedown", "touchstart"], function (e) { Oc("mayor", 1), _c.who = "mayor" }), goog.events.listen(yc, ["mousedown", "touchstart"], function (e) { Oc("mayor", 1), _c.who = "mayor" }); else if (0 == mayorReady) { var o = Math.round(5 * Math.random()); o < 1 && (o = 1), o > 5 && (o = 5), fc.setFill(imgArrayTown[15].src), goog.events.unlisten(Sc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(yc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(Sc, ["mousedown", "touchstart"], function (e) { Oc("mayor", 0), bc.setText(questParams.mayor[o].text), _c.who = "mayor" }), goog.events.listen(yc, ["mousedown", "touchstart"], function (e) { Oc("mayor", 0), bc.setText(questParams.mayor[o].text), _c.who = "mayor" }) } if (friarReady > 0) mc.setFill(imgArrayTown[16].src), mc.setHidden(!1), cc.setHidden(!1), goog.events.unlisten(cc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(dc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(cc, ["mousedown", "touchstart"], function (e) { Oc("monk", 1), _c.who = "monk", Lc.setHidden(!1) }), goog.events.listen(dc, ["mousedown", "touchstart"], function (e) { Oc("monk", 1), _c.who = "monk", Lc.setHidden(!1) }); else { var i = Math.round(5 * Math.random()); i < 1 && (i = 1), i > 5 && (i = 5), mc.setFill(imgArrayTown[15].src), goog.events.unlisten(cc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(dc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(cc, ["mousedown", "touchstart"], function (e) { Oc("monk", 0), _c.who = "monk", bc.setText(questParams.monk[i].text) }), goog.events.listen(dc, ["mousedown", "touchstart"], function (e) { Oc("monk", 0), _c.who = "monk", bc.setText(questParams.monk[i].text) }) } saraReady > 0 ? (uc.setFill(imgArrayTown[16].src), goog.events.unlisten(hc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(pc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(hc, ["mousedown", "touchstart"], function (e) { Oc("sara", 1), _c.who = "sara", uc.setHidden(!1), hc.setHidden(!1) }), goog.events.listen(pc, ["mousedown", "touchstart"], function (e) { Oc("sara", 1), _c.who = "sara", uc.setHidden(!1), hc.setHidden(!1) })) : (uc.setFill(imgArrayTown[15].src), bc.setText(questParams.sara[1].text), goog.events.unlisten(hc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(pc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(hc, ["mousedown", "touchstart"], function (e) { Oc("sara", 0), _c.who = "sara", uc.setHidden(!1), hc.setHidden(!1) }), goog.events.listen(pc, ["mousedown", "touchstart"], function (e) { Oc("sara", 0), _c.who = "sara", uc.setHidden(!1), hc.setHidden(!1) })), feliciaReady > 0 ? (Pc.setFill(imgArrayTown[16].src), goog.events.unlisten(Fc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(vc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(Fc, ["mousedown", "touchstart"], function (e) { Oc("felicia", 1), _c.who = "felicia" }), goog.events.listen(vc, ["mousedown", "touchstart"], function (e) { Oc("felicia", 1), _c.who = "felicia" })) : (Pc.setFill(imgArrayTown[15].src), bc.setText(questParams.felicia[1].text), Hc.setHidden(!0), goog.events.unlisten(Fc, ["mousedown", "touchstart"], function (e) { }), goog.events.unlisten(vc, ["mousedown", "touchstart"], function (e) { }), goog.events.listen(Fc, ["mousedown", "touchstart"], function (e) { Oc("felicia", 0), _c.who = "felicia" }), goog.events.listen(vc, ["mousedown", "touchstart"], function (e) { Oc("felicia", 0), _c.who = "felicia" })) } _c.appendChild(Lc), goog.events.listen(Lc, ["mousedown", "touchstart"], function (e) { 0 == Lc.getHidden() && (sellLayer.setHidden(!1), _c.setHidden(!0), sellLayerFill1.setHidden(!1), "mayor" == _c.who && pm("mayor"), "monk" == _c.who && pm("monk"), e.stopPropagation()) }), goog.events.listen(zc, ["mousedown", "touchstart"], function (t) { 0 == zc.getHidden() && (townRep += 1, player.money = player.money + e.crops[18].revenue * player.cropsStored[18].stored, player.cropsStored[18].stored = 0, Ec.setText("0"), zc.setHidden(!0), e.updateStored(), e.updateMoney(), um(), uc.setHidden(!0), hc.setHidden(!0), t.stopPropagation()) }), goog.events.listen(kc, ["mousedown", "touchstart"], function (e) { _c.setHidden(!0), xc.setPosition(80, 38), "sara" == _c.who && (uc.setHidden(!0), hc.setHidden(!0)), Bc(), e.stopPropagation() }), goog.events.listen(kc, ["mousedown", "touchstart"], function (e) { _c.setHidden(!0), xc.setPosition(75, 38), Ac.setHidden(!1), lc.setHidden(!1), player.cropsStored[16].stored = player.cropsStored[16].stored + 50 }); var Oc = function (t, o) { var i = _c.getHidden(); if (Ac.setHidden(!0), lc.setHidden(!0), 1 == i) { if (0 == o) { try { Lc.setHidden(!0) } catch (e) { console.log("caught from sellbtn " + e) } if ("mayor" == t) if (Ic.setText("Mayor Borgan"), bc.setText(questParams.mayor[1].text), swapItM1 = 0, fc.setFill(imgArrayTown[15].src), xc.setFill(imgArrayMayor[0].src), !0 === questParams.mayor[0].available) { var s = questParams.mayor[0].highestCompleted, n = parseInt(s) + 1; bc.setText(questParams.mayor[n].text), _c.setHidden(!1), fc.setHidden(!0), Sc.setHidden(!0) } else bc.setText("Thanks, but I do not need anything right now. Try me later."), _c.setHidden(!1), fc.setHidden(!0), Sc.setHidden(!0); if ("monk" == t) if (Ic.setText("Friar Patrick"), xc.setFill(imgArrayTown[1].src), swapIt = 0, 1 == questParams.monk[0].available) { questLevelMonk = questParams.monk[0].highestCompleted; var r = parseInt(questLevelMonk) + 1; r > 3 && (r = 1); var a = questParams.monk[r].text; bc.setText(a), _c.setHidden(!1), mc.setHidden(!0), cc.setHidden(!0) } else bc.setText("Thanks, but I do not need anything right now. Try me later."), _c.setHidden(!1); if ("felicia" == t) if (Ic.setText("Lady Felicia"), swapIt = 0, xc.setFill(imgArrayFelicia[0].src), 1 == questParams.felicia[0].available) { questLevelFel = questParams.felicia[0].highestCompleted; var l = parseInt(questLevelFel) + 1; l > 3 && (l = 1), bc.setText(questParams.felicia[l].text), _c.setHidden(!1) } else bc.setText("Thanks, but I do not need anything right now. Try me later."), _c.setHidden(!1); if ("sara" == t) { if (Ic.setText("InnKeeper Sara"), xc.setFill(imgArrayTown2[0].src), swapIt = 0, 1 == questParams.sara[0].available) { questLevelSara = questParams.sara[0].highestCompleted; var g = parseInt(questLevelSara) + 1; l > 3 && (g = 1), bc.setText(questParams.sara[g].text), _c.setHidden(!1) } else bc.setText("My patrons are asking for CIDER."), _c.setHidden(!1); 1 == collectItems.storeItems[4].owned && player.cropsStored[18].stored > 0 ? (bc.setText("My Patrons Love CIDER. Sell me all you make!"), xc.setPosition(65, 38), Hc.setHidden(!1), Ec.setText(player.cropsStored[18].stored), Ec.setHidden(!1), _c.setHidden(!1), zc.setText("Sell for " + e.crops[18].revenue * player.cropsStored[18].stored), zc.setHidden(!1)) : (Hc.setHidden(!0), Ec.setHidden(!0), xc.setPosition(80, 38)) } } (o = 1) && (Lc.setHidden(!1), "mayor" == t && (Ic.setText("Mayor Borgan"), xc.setFill(imgArrayMayor[0].src), bc.setText("I will buy those jewels from you"), Rc.setFill(imgArrayMayor[0].src), pm("mayor"), _c.setHidden(!1), Lc.setHidden(!1), pm("mayor")), "monk" == t && (Ic.setText("Friar Patrick"), xc.setFill(imgArrayTown[1].src), bc.setText("You found something interesting to me"), Rc.setFill(imgArrayTown[1].src), pm("monk"), Lc.setHidden(!1), _c.setHidden(!1), pm("monk")), "felicia" == t && (Ic.setText("Lady Felicia"), Lc.setHidden(!0), 1 == collectItems.digUpSells[3].owned && questParams.felicia[0].highestCompleted < 2 ? (xc.setFill(imgArrayFelicia[0].src).setPosition(40, 38), Hc.setHidden(!1).setFill(collectItems.digUpSells[3].src), bc.setText("You found my LOCKET!"), Lc.setHidden(!0), Mc.setHidden(!1), _c.y = _c.y + 30, goog.events.listen(Mc, ["mousedown", "touchstart"], function () { _c.setHidden(!0), questParams.felicia[2].completed = 1, questParams.felicia[0].highestCompleted = 2, collectItems.digUpSells[3].owned = 0, collectItems.digUpSells[3].onlyOnce = 1, townRep += 1, um(), Mc.setHidden(!0), _c.removeChild(Mc), xc.setPosition(80, 38), Hc.setHidden(!0), bc.setText("Thanks, but I do not need anything right now. Try me later."), Bc(), Ac.setHidden(!1), lc.setHidden(!1), Fc.setHidden(!0), Pc.setHidden(!0) })) : (xc.setPosition(80, 38), Hc.setHidden(!0), bc.setText("I heard the king sometimes sends special orders to feed the troops"), Fc.setHidden(!0), Pc.setHidden(!0)), _c.setHidden(!1)), "sara" == t && (Ic.setText("InnKeeper Sara"), xc.setFill(imgArrayTown2[0].src), bc.setText("My patrons want CIDER. If you can make some, I will buy it from you"), Rc.setFill(imgArrayTown[1].src), Lc.setHidden(!0), pm("sara"))) } }; sellLayer = (new lime.Layer).setAnchorPoint(0, 0), sellLayerFill1 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 50).setSize(e.width, e.height - 60).setFill("images/UI/blankBack5.png").setHidden(!1), Xd.appendChild(sellLayer), sellLayer.appendChild(sellLayerFill1), sellLayer.setHidden(!0); var Rc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(25, 40).setSize(128, 128).setFill(imgArrayMayor[0].src); sellLayerFill1.appendChild(Rc); var Dc = (new lime.Label).setAnchorPoint(0, 0).setPosition(130, 80).setText("I will buy these items from you").setFontFamily("Comic Sans MS").setFontSize(16).setSize(150, 50); sellLayerFill1.appendChild(Dc); var Nc = (new lime.GlossyButton).setColor("#008000").setText("Close").setPosition(155, 420).setSize(52, 30); sellLayerFill1.appendChild(Nc); var Uc = (new lime.Label).setAnchorPoint(0, 0).setPosition(90, 175).setText("+").setFontFamily("Comic Sans MS").setFontSize(16).setSize(150, 50); sellLayerFill1.appendChild(Uc); var Gc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(108, 0).setSize(20, 20).setFill(imgArray11[0].src); Uc.appendChild(Gc), Uc.setHidden(!0), goog.events.listen(Nc, ["mousedown", "touchstart"], function () { sellLayerFill1.setHidden(!0), sellLayer.setHidden(!0), Bc(), Ac.setHidden(!1), lc.setHidden(!1) }); var Wc = (new lime.Sprite).setPosition(70, 260).setSize(60, 60).setFill("#008000"); sellLayerFill1.appendChild(Wc).setHidden(!1), Wc = (new lime.GlossyButton).setPosition(70, 260).setSize(55, 55).setColor("#000000").setText(""), sellLayerFill1.appendChild(Wc); var Vc = (new lime.Sprite).setPosition(70, 260).setSize(50, 50).setFill(collectItems.digUpSells[0].src); sellLayerFill1.appendChild(Vc); var Jc = (new lime.Label).setAnchorPoint(0, 0).setPosition(-20, 32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16); Vc.appendChild(Jc); var Yc = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 27).setSize(20, 20).setFill(imgArray11[0].src); Vc.appendChild(Yc), Wc.empty = !0, Wc.value = 0, Wc.collectNumber = -1; var jc = (new lime.Sprite).setPosition(150, 260).setSize(60, 60).setFill("#008000"); sellLayerFill1.appendChild(jc).setHidden(!1), jc = (new lime.GlossyButton).setPosition(150, 260).setSize(55, 55).setColor("#000000").setText(""), sellLayerFill1.appendChild(jc); var qc = (new lime.Sprite).setPosition(150, 260).setSize(50, 50).setFill(collectItems.digUpSells[1].src); sellLayerFill1.appendChild(qc); var Kc = (new lime.Label).setAnchorPoint(0, 0).setPosition(-20, 32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16); qc.appendChild(Kc); var $c = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 27).setSize(20, 20).setFill(imgArray11[0].src); qc.appendChild($c), jc.empty = !0, jc.value = 0, jc.collectNumber = -1; var Xc = (new lime.Sprite).setPosition(230, 260).setSize(60, 60).setFill("#008000"); sellLayerFill1.appendChild(Xc).setHidden(!1), Xc = (new lime.GlossyButton).setPosition(230, 260).setSize(55, 55).setColor("#000000").setText(""), sellLayerFill1.appendChild(Xc); var Qc = (new lime.Sprite).setPosition(230, 260).setSize(50, 50).setFill(collectItems.digUpSells[2].src); sellLayerFill1.appendChild(Qc); var Zc = (new lime.Label).setAnchorPoint(0, 0).setPosition(-20, 32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16); Qc.appendChild(Zc); var em = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 27).setSize(20, 20).setFill(imgArray11[0].src); Qc.appendChild(em), Xc.empty = !0, Xc.value = 0, Xc.collectNumber = -1; var tm = (new lime.Sprite).setPosition(70, 350).setSize(60, 60).setFill("#008000"); sellLayerFill1.appendChild(tm).setHidden(!1), tm = (new lime.GlossyButton).setPosition(70, 350).setSize(55, 55).setColor("#000000").setText(""), sellLayerFill1.appendChild(tm); var om = (new lime.Sprite).setPosition(70, 350).setSize(50, 50).setFill(collectItems.digUpSells[3].src); sellLayerFill1.appendChild(om); var im = (new lime.Label).setAnchorPoint(0, 0).setPosition(-20, 32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16); om.appendChild(im); var sm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 27).setSize(20, 20).setFill(imgArray11[0].src); om.appendChild(sm), tm.empty = !0, tm.value = 0, tm.collectNumber = -1; var nm = (new lime.Sprite).setPosition(150, 350).setSize(60, 60).setFill("#008000"); sellLayerFill1.appendChild(nm).setHidden(!1), nm = (new lime.GlossyButton).setPosition(150, 350).setSize(55, 55).setColor("#000000").setText(""), sellLayerFill1.appendChild(nm); var rm = (new lime.Sprite).setPosition(150, 350).setSize(50, 50).setFill(collectItems.digUpSells[4].src); sellLayerFill1.appendChild(rm); var am = (new lime.Label).setAnchorPoint(0, 0).setPosition(-20, 32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16); rm.appendChild(am); var lm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 27).setSize(20, 20).setFill(imgArray11[0].src); rm.appendChild(lm), nm.empty = !0, nm.value = 0, nm.collectNumber = -1; var gm = (new lime.Sprite).setPosition(230, 350).setSize(60, 60).setFill("#008000"); sellLayerFill1.appendChild(gm).setHidden(!1), gm = (new lime.GlossyButton).setPosition(230, 350).setSize(55, 55).setColor("#000000").setText(""), sellLayerFill1.appendChild(gm); var dm = (new lime.Sprite).setPosition(230, 350).setSize(50, 50).setFill(collectItems.digUpSells[5].src); sellLayerFill1.appendChild(dm); var cm = (new lime.Label).setAnchorPoint(0, 0).setPosition(-20, 32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16); dm.appendChild(cm); var mm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 27).setSize(20, 20).setFill(imgArray11[0].src); function pm(e) { var t = Object.keys(collectItems.digUpSells).length; if (Wc.empty = !0, Vc.setHidden(!0), jc.empty = !0, qc.setHidden(!0), Xc.empty = !0, Qc.setHidden(!0), tm.empty = !0, om.setHidden(!0), nm.empty = !0, rm.setHidden(!0), gm.empty = !0, dm.setHidden(!0), "mayor" == e) for (var o = 0; o < t; o++)collectItems.digUpSells[o].owned > 0 && (Dc.setText("I will buy this jewelery from you. My wife can't get enough"), "Mayor" == collectItems.digUpSells[o].who && (1 == Wc.empty ? (Vc.setFill(collectItems.digUpSells[o].src), Wc.empty = !1, Wc.value = collectItems.digUpSells[o].value, Jc.setText(collectItems.digUpSells[o].value), Vc.setHidden(!1), Wc.collectNumber = o, Wc.setHidden(!1)) : 1 == jc.empty ? (qc.setFill(collectItems.digUpSells[o].src), jc.empty = !1, jc.value = collectItems.digUpSells[o].value, Kc.setText(collectItems.digUpSells[o].value), qc.setHidden(!1), jc.collectNumber = o, jc.setHidden(!1)) : 1 == Xc.empty ? (Qc.setFill(collectItems.digUpSells[o].src), Xc.empty = !1, Xc.value = collectItems.digUpSells[o].value, Zc.setText(collectItems.digUpSells[o].value), Qc.setHidden(!1), Xc.collectNumber = o, Xc.setHidden(!1)) : 1 == tm.empty ? (om.setFill(collectItems.digUpSells[o].src), tm.empty = !1, tm.value = collectItems.digUpSells[o].value, im.setText(collectItems.digUpSells[o].value), om.setHidden(!1), tm.collectNumber = o, tm.setHidden(!1)) : 1 == nm.empty ? (rm.setFill(collectItems.digUpSells[o].src), nm.empty = !1, nm.value = collectItems.digUpSells[o].value, am.setText(collectItems.digUpSells[o].value), rm.setHidden(!1), nm.collectNumber = o, nm.setHidden(!1)) : 1 == gm.empty ? (dm.setFill(collectItems.digUpSells[o].src), gm.empty = !1, gm.value = collectItems.digUpSells[o].value, cm.setText(collectItems.digUpSells[o].value), dm.setHidden(!1), gm.collectNumber = o, gm.setHidden(!1)) : console.log("mayor hit else"))); if ("monk" == e) for (o = 0; o < t; o++)collectItems.digUpSells[o].owned > 0 && (Dc.setText("I will buy these Artifacts from you. Bring me all you can find"), "Friar" == collectItems.digUpSells[o].who && (1 == Wc.empty ? (Vc.setFill(collectItems.digUpSells[o].src), Wc.setHidden(!1), Wc.empty = !1, Wc.value = collectItems.digUpSells[o].value, Jc.setText(collectItems.digUpSells[o].value), Vc.setHidden(!1), Wc.collectNumber = o) : 1 == jc.empty ? (qc.setFill(collectItems.digUpSells[o].src), jc.setHidden(!1), jc.empty = !1, jc.value = collectItems.digUpSells[o].value, Kc.setText(collectItems.digUpSells[o].value), qc.setHidden(!1), jc.collectNumber = o) : 1 == Xc.empty ? (Qc.setFill(collectItems.digUpSells[o].src), Xc.setHidden(!1), Xc.empty = !1, Xc.value = collectItems.digUpSells[o].value, Zc.setText(collectItems.digUpSells[o].value), Qc.setHidden(!1), Xc.collectNumber = o) : 1 == tm.empty ? (om.setFill(collectItems.digUpSells[o].src), tm.setHidden(!1), tm.empty = !1, tm.value = collectItems.digUpSells[o].value, im.setText(collectItems.digUpSells[o].value), om.setHidden(!1), tm.collectNumber = o) : 1 == nm.empty ? (rm.setFill(collectItems.digUpSells[o].src), nm.setHidden(!1), nm.empty = !1, nm.value = collectItems.digUpSells[o].value, am.setText(collectItems.digUpSells[o].value), rm.setHidden(!1), nm.collectNumber = o) : 1 == gm.empty ? (dm.setFill(collectItems.digUpSells[o].src), gm.setHidden(!1), gm.empty = !1, gm.value = collectItems.digUpSells[o].value, cm.setText(collectItems.digUpSells[o].value), dm.setHidden(!1), gm.collectNumber = o) : console.log("monk hit else- all full"))) } function hm() { setTimeout(function () { Uc.setPosition(90, 184).setHidden(!1) }, 75), setTimeout(function () { Uc.setPosition(90, 180).setHidden(!1) }, 150), setTimeout(function () { Uc.setPosition(90, 177).setHidden(!1) }, 225), setTimeout(function () { Uc.setPosition(90, 173).setHidden(!1) }, 300), setTimeout(function () { Uc.setPosition(90, 170).setHidden(!1) }, 350), setTimeout(function () { Uc.setHidden(!0).setText("+ ").setPosition(90, 175).setOpacity(1) }, 450) } function um() { sc.setText(townRep), localStorage.setItem("MedFarms_townRep", townRep), townRep >= 5 && nc.setText("Local Farmer"), townRep >= 15 && nc.setText("Trusted Resident"), townRep >= 30 && nc.setText("Local Leader") } dm.appendChild(mm), gm.empty = !0, gm.value = 0, gm.collectNumber = -1, goog.events.listen(Wc, ["mousedown", "touchstart"], function () { var t = Vc.getHidden(), o = sellLayerFill1.getHidden(); if (0 == t && "undefined" != t && 0 == o) { Vc.setHidden(!0), player.money = parseInt(player.money) + Wc.value, townRep += 1, um(), Uc.setText("+ " + Wc.value), hm(); var i = Wc.collectNumber; collectItems.digUpSells[i].owned = 0; var s = collectItems.digUpSells[i].who; "Mayor" == s && (mayorReady = 0, fc.setHidden(!0), Sc.setHidden(!0)), "Friar" == s && (friarReady = 0, mc.setHidden(!0), cc.setHidden(!0)), localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)), Wc.empty = !0, Wc.value = 0, Wc.collectNumber = -1, Vc.setFill(imgArray[17].src), e.updateMoney() } }), goog.events.listen(jc, ["mousedown", "touchstart"], function () { var t = qc.getHidden(), o = sellLayerFill1.getHidden(); o = sellLayerFill1.getHidden(); if (0 == t && "undefined" != t && 0 == o) { qc.setHidden(!0), player.money = parseInt(player.money) + jc.value, townRep += 1, um(), Uc.setText("+ " + jc.value), hm(); var i = jc.collectNumber; collectItems.digUpSells[i].owned = 0, localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)); var s = collectItems.digUpSells[i].who; "Mayor" == s && (mayorReady = 0, fc.setHidden(!0), Sc.setHidden(!0)), "Friar" == s && (friarReady = 0, mc.setHidden(!0), cc.setHidden(!0)), jc.empty = !0, jc.value = 0, jc.collectNumber = -1, qc.setFill(imgArray[17].src), e.updateMoney() } }), goog.events.listen(Xc, ["mousedown", "touchstart"], function () { var t = Qc.getHidden(), o = sellLayerFill1.getHidden(); if (0 == t && "undefined" != t && 0 == o) { Qc.setHidden(!0), player.money = parseInt(player.money) + Xc.value, townRep += 1, um(), Uc.setText("+ " + Xc.value), hm(); var i = Xc.collectNumber; collectItems.digUpSells[i].owned = 0, localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)); var s = collectItems.digUpSells[i].who; "Mayor" == s && (mayorReady = 0, fc.setHidden(!0), Sc.setHidden(!0)), "Friar" == s && (friarReady = 0, mc.setHidden(!0), cc.setHidden(!0)), Xc.empty = !0, Xc.value = 0, Xc.collectNumber = -1, Qc.setFill(imgArray[17].src), e.updateMoney() } }), goog.events.listen(tm, ["mousedown", "touchstart"], function () { var t = om.getHidden(), o = sellLayerFill1.getHidden(); if (0 == t && "undefined" != t && 0 == o) { om.setHidden(!0), player.money = parseInt(player.money) + tm.value, townRep += 1, um(), Uc.setText("+ " + tm.value), hm(); var i = tm.collectNumber; collectItems.digUpSells[i].owned = 0, localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)); var s = collectItems.digUpSells[i].who; "Mayor" == s && (mayorReady = 0, fc.setHidden(!0), Sc.setHidden(!0)), "Friar" == s && (friarReady = 0, mc.setHidden(!0), cc.setHidden(!0)), tm.empty = !0, tm.value = 0, tm.collectNumber = -1, om.setFill(imgArray[17].src), e.updateMoney() } }), goog.events.listen(nm, ["mousedown", "touchstart"], function () { var t = rm.getHidden(), o = sellLayerFill1.getHidden(); if (0 == t && "undefined" != t && 0 == o) { rm.setHidden(!0), player.money = parseInt(player.money) + nm.value, townRep += 1, um(), Uc.setText("+ " + nm.value), hm(); var i = nm.collectNumber; collectItems.digUpSells[i].owned = 0, localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)); var s = collectItems.digUpSells[i].who; "Mayor" == s && (mayorReady = 0, fc.setHidden(!0), Sc.setHidden(!0)), "Friar" == s && (friarReady = 0, mc.setHidden(!0), cc.setHidden(!0)), nm.empty = !0, nm.value = 0, nm.collectNumber = -1, rm.setFill(imgArray[17].src), e.updateMoney() } }), goog.events.listen(gm, ["mousedown", "touchstart"], function () { var t = dm.getHidden(), o = sellLayerFill1.getHidden(); if (0 == t && "undefined" != t && 0 == o) { dm.setHidden(!0), player.money = parseInt(player.money) + gm.value, townRep += 1, um(), Uc.setText("+ " + gm.value), hm(); var i = gm.collectNumber; collectItems.digUpSells[i].owned = 0, localStorage.setItem("GuiGhostFarms_playerItems", JSON.stringify(collectItems)); var s = collectItems.digUpSells[i].who; "Mayor" == s && (mayorReady = 0, fc.setHidden(!0), Sc.setHidden(!0)), "Friar" == s && (friarReady = 0, mc.setHidden(!0), cc.setHidden(!0)), gm.empty = !0, gm.value = 0, gm.collectNumber = -1, dm.setFill(imgArray[17].src), e.updateMoney() } }); var ym = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(20, 50).setSize(275, 323).setFill("images/UI/goPremium.png"); Qd.appendChild(ym); var Sm = (new lime.GlossyButton).setColor("#00ff00").setText("Visit Shop").setPosition(210, 315).setSize(80, 25); ym.appendChild(Sm); var fm = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(60, 315).setSize(80, 25); ym.appendChild(fm), 1 == (seenPremiumPromo = JSON.parse(localStorage.getItem("MedFarms_seenPremiumPromo"))) ? ym.setHidden(!0) : (goog.events.listen(Sm, ["mousedown", "touchstart"], function (e) { ym.setHidden(!0), p.replaceScene(Jl, lime.transitions.SlideInDown), sceneActive = "Store", $d.setOpacity(1), Kd.setOpacity(.5), Yl.setHidden(!0), Kl.setHidden(!0), storeBuyPremiumLayer.setHidden(!1), seenPremiumPromo = 1, localStorage.setItem("MedFarms_seenPremiumPromo", 1), e.stopPropagation() }), goog.events.listen(fm, ["mousedown", "touchstart"], function (e) { ym.setHidden(!0), seenPremiumPromo = 1, localStorage.setItem("MedFarms_seenPremiumPromo", 1), e.stopPropagation() })), adFreeVersion && ym.setHidden(!0); var vm = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Fm = (new lime.Layer).setAnchorPoint(0, 0), Pm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("images/grass.png").setHidden(!1); vm.appendChild(Pm), vm.appendChild(Fm); var wm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("images/UI/farmersMarket3.png"); Fm.appendChild(wm); var Am = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 2 + 85, 475).setSize(50, 50).setFill("images/UI/XButton.png"); Fm.appendChild(Am); var Cm = (new lime.Label).setText("Hit a tile to sell crop ").setFontSize(18).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(145, 135).setSize(200, 80); Fm.appendChild(Cm); var Tm = 135, _m = 0, Im = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Im), count0 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75, Tm + 15), Fm.appendChild(count0), g0 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(97, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g0), i0 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98, Tm + 36), Fm.appendChild(i0), g0I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(g0I), _m = 1; var bm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(bm), count1 = (new lime.Label).setText(player.cropsStored[1].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170, Tm + 15), Fm.appendChild(count1), g1 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(192, Tm).setFill("images/" + e.crops[1].harvest).setSize(30, 30), Fm.appendChild(g1), i1 = (new lime.Label).setText(" +" + e.crops[1].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188, Tm + 36), Fm.appendChild(i1), i0I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(162, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i0I), Tm += 50, _m = 2; var xm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(xm), count2 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75, Tm + 15), Fm.appendChild(count2), g3 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(97, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g3), i3 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(97, Tm + 36), Fm.appendChild(i3), i3I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i3I), _m = 3; var Hm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Hm), count3 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170, Tm + 15), Fm.appendChild(count3), g4 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g4), i4 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(186, Tm + 36), Fm.appendChild(i4), i4I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(162, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i4I), Tm += 50, _m = 4; var Em = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Em), count4 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75, Tm + 15), Fm.appendChild(count4), g5 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(97, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g5), i5 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(97, Tm + 36), Fm.appendChild(i5), i5I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i5I), _m = 5; var zm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(zm), count5 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170, Tm + 15), Fm.appendChild(count5), g6 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g6), i6 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188, Tm + 36), Fm.appendChild(i6), i6I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(162, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i6I), Tm += 50, _m = 6; var Mm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Mm), count6 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75, Tm + 15), Fm.appendChild(count6), g7 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, Tm).setFill("images/" + e.crops[_m].harvest).setSize(40, 30), Fm.appendChild(g7), i7 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98, Tm + 36), Fm.appendChild(i7), i7I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i7I), _m = 7; var km = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(km), count7 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170, Tm + 15), Fm.appendChild(count7), g8 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(192, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g8), i8 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188, Tm + 36), Fm.appendChild(i8), i8I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(162, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i8I), Tm += 50, _m = 8; var Lm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Lm), count8 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75, Tm + 15), Fm.appendChild(count8), g9 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g9), i9 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98, Tm + 36), Fm.appendChild(i9), i9I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i9I), _m = 9; var Bm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Bm), count9 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170, Tm + 15), Fm.appendChild(count9), g10 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g10), i10 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188, Tm + 38), Fm.appendChild(i10), i10I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(162, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i10I), _m = 10, Tm += 50, _m = 10; var Om = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Om), count10 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75, Tm + 15), Fm.appendChild(count10), g11 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g11), i11 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98, Tm + 36), Fm.appendChild(i11), i11I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i11I), _m = 11; var Rm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Rm), count11 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170, Tm + 15), Fm.appendChild(count11), g12 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g12), i12 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188, Tm + 36), Fm.appendChild(i12), i12I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(162, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i12I), Tm += 50, _m = 12; var Dm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Dm), count12 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75, Tm + 15), Fm.appendChild(count12), g13 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g13), i13 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98, Tm + 36), Fm.appendChild(i13), i13I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i13I), _m = 13; var Nm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, Tm).setSize(80, 44).setFill(imgArray[18].src); Fm.appendChild(Nm), count13 = (new lime.Label).setText(player.cropsStored[_m].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170, Tm + 15), Fm.appendChild(count13), g14 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, Tm).setFill("images/" + e.crops[_m].harvest).setSize(30, 30), Fm.appendChild(g14), i14 = (new lime.Label).setText(" +" + e.crops[_m].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188, Tm + 36), Fm.appendChild(i14), i14I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(162, Tm + 25).setFill(imgArray11[0]).setSize(18, 18), Fm.appendChild(i14I); var Um = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(240, 240).setSize(54, 70).setFill(imgArray[18].src); Fm.appendChild(Um), countTools = (new lime.Label).setText(player.tools).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(266, 255), Fm.appendChild(countTools), g15 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(250, 260).setFill("images/UI/toolsIcon2.png").setSize(30, 30), Fm.appendChild(g15), i15 = (new lime.Label).setText("+5").setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(275, 303), Fm.appendChild(i15), i15I = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(245, 290).setFill(imgArray11[0]).setSize(20, 20), Fm.appendChild(i15I); var Gm = 0, Wm = 0, Vm = 0, Jm = 0, Ym = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("images/UI/blocker.png").setHidden(!1); Fm.appendChild(Ym); var jm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 150).setSize(250, 250).setFill("images/UI/blankBack4.png"); Ym.appendChild(jm); var qm = (new lime.Label).setText("$ Sell Crop $").setFontColor("#00004d").setFontFamily("Comic Sans MS").setFontSize(26).setPosition(125, 60); jm.appendChild(qm); var Km = (new lime.Label).setText(Wm + "/" + Gm).setFontColor("#00004d").setFontFamily("Comic Sans MS").setFontSize(20).setPosition(55, 140); jm.appendChild(Km); var $m = (new lime.Label).setText(" $0 ").setFontColor("#00004d").setFontFamily("Comic Sans MS").setFontSize(20).setPosition(190, 140); jm.appendChild($m); var Xm = (new lime.Label).setText("Sell For").setFontColor("#004d00").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(181, 110); jm.appendChild(Xm); var Qm = (new lime.Label).setText("Stock").setFontColor("#004d00").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(53, 110); jm.appendChild(Qm); var Zm = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 80).setFill("images/" + e.crops[_m].harvest).setSize(40, 40); jm.appendChild(Zm); var ep = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(65, 165).setFill("images/UI/sellBtn.png").setSize(120, 40); jm.appendChild(ep); var tp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(20, 165).setFill("images/UI/downBtn.png").setSize(40, 40); jm.appendChild(tp); var op = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(188, 165).setFill("images/UI/upBtn.png").setSize(40, 40); jm.appendChild(op); var ip = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 210).setFill("images/UI/XButton.png").setSize(60, 60); jm.appendChild(ip), Ym.setHidden(!0), goog.events.listen(ip, ["mousedown", "touchstart"], function () { Ym.setHidden(!0) }), goog.events.listen(op, ["mousedown", "touchstart"], function () { e.cropUp(Vm) }), goog.events.listen(tp, ["mousedown", "touchstart"], function () { e.cropDown(Vm) }), goog.events.listen(Tc, ["mousedown", "touchstart"], function () { YP(), townSceneActive = 0, 1 == parseInt(e.sceneBefore) ? (p.replaceScene(h, lime.transitions.SlideInDown), sceneActive = "Home") : 2 == e.sceneBefore ? (p.replaceScene(_o, lime.transitions.SlideInDown), sceneActive = "Pasture") : 3 == e.sceneBefore ? (p.replaceScene(Us, lime.transitions.SlideInDown), sceneActive = "Orchard") : 4 == e.sceneBefore ? (p.replaceScene(Eh, lime.transitions.SlideInDown), sceneActive = "Vineyard") : 5 == e.sceneBefore ? (p.replaceScene(dp, lime.transitions.SlideInDown), l.play(), sceneActive = "LS", g.play()) : 7 == e.sceneBefore ? (p.replaceScene(mf, lime.transitions.SlideInDown), sceneActive = "House") : (p.replaceScene(h, lime.transitions.SlideInDown), sceneActive = "Home"), Qd.setHidden(!1), Zd.setHidden(!1), Fm.setHidden(!0), Pm.setHidden(!0), Tc.setHidden(!1) }), goog.events.listen(Am, ["mousedown", "touchstart"], function () { YP(), townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", Qd.setHidden(!1), Zd.setHidden(!1), Tc.setHidden(!1), lc.setHidden(!1), _c.setHidden(!0) }); goog.events.listen(Im, ["mousedown", "touchstart"], function () { e.updateCropsandCash(0) }), goog.events.listen(bm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(1) }), goog.events.listen(xm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(2) }), goog.events.listen(Hm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(3) }), goog.events.listen(Em, ["mousedown", "touchstart"], function () { e.updateCropsandCash(4) }), goog.events.listen(zm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(5) }), goog.events.listen(Mm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(6) }), goog.events.listen(km, ["mousedown", "touchstart"], function () { e.updateCropsandCash(7) }), goog.events.listen(Lm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(8) }), goog.events.listen(Bm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(9) }), goog.events.listen(Om, ["mousedown", "touchstart"], function () { e.updateCropsandCash(10) }), goog.events.listen(Rm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(11) }), goog.events.listen(Dm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(12) }), goog.events.listen(Nm, ["mousedown", "touchstart"], function () { e.updateCropsandCash(13) }), goog.events.listen(Um, ["mousedown", "touchstart"], function () { e.updateCropsandCash(14) }), e.updateCropsandCash = function (t) { var o = Ym.getHidden(); 14 == t && o ? (Vm = parseInt(t), Gm = player.tools, Wm = player.tools, Jm = 5 * player.tools, $m.setText(Jm), Km.setText(Wm + "/" + Gm), Zm.setFill("images/UI/toolsIcon2.png"), Ym.setHidden(!1), goog.events.listen(ep, ["mousedown", "touchstart"], function () { Ym.getHidden() || e.finalSale(Vm) })) : player.cropsStored[t].stored > 0 && o && (Vm = parseInt(t), Gm = player.cropsStored[t].stored, Wm = player.cropsStored[t].stored, Jm = e.crops[t].revenue * player.cropsStored[t].stored, $m.setText(Jm), Km.setText(Wm + "/" + Gm), Zm.setFill("images/" + e.crops[t].harvest), Ym.setHidden(!1), goog.events.listen(ep, ["mousedown", "touchstart"], function () { Ym.getHidden() || e.finalSale(Vm) })) }, e.hideRowBacks = function () { }, e.cropDown = function (t) { Wm < 100 ? Wm -= 1 : Wm >= 100 && Wm < 1e3 ? Wm -= 10 : Wm >= 1e3 && (Wm -= 100), Wm <= 1 && (Wm = 1), t < 14 ? Jm = e.crops[t].revenue * Wm : 14 == t && (Jm = 5 * Wm), Km.setText(Wm + "/" + Gm), $m.setText(Jm) }, e.cropUp = function (t) { Wm += 1, 14 == t && (Wm += 9), Wm >= Gm && (Wm = Gm), t < 14 ? Jm = e.crops[t].revenue * Wm : 14 == t && (Jm = 5 * Wm), Km.setText(Wm + "/" + Gm), $m.setText(Jm) }, e.interMedSale = function (t) { e.finalSale(t) }, e.finalSale = function (t) { var o = player.money + Jm; isNaN(o) || (player.money = player.money + Jm), moneyEver += Jm, localStorage.GuiGhostFarms_moneyEver = moneyEver, a.play(), Ym.setHidden(!0), !0, t < 14 ? player.cropsStored[t].stored = player.cropsStored[t].stored - Wm : 14 == t && (player.tools = player.tools - Wm), t >= 2 && (questParams.felicia[0].highestcompleted = 1, questParams.felicia[1].completed = 1), count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ym.setHidden(!0), e.updateMoney(), e.updateStored(), ep.removeEventListener("mousedown", function () { console.log("howmanysellBtn removed listener") }) }; var sp = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), np = (new lime.Layer).setAnchorPoint(0, 0); introFill1 = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height), sp.appendChild(np), np.appendChild(introFill1), playGameBtn = (new lime.GlossyButton).setColor("#663300").setText("").setPosition(150, 250).setSize(e.width / 2 + 10, 70), np.appendChild(playGameBtn); var rp = (new lime.Label).setText("PLAY").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150, 255).setFontSize(36); np.appendChild(rp); var ap = (new lime.GlossyButton).setColor("#663300").setText("").setPosition(150, 340).setSize(e.width / 2 - 5, 50); np.appendChild(ap); var lp = (new lime.Label).setText("MORE GAMES").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150, 346).setFontSize(20); np.appendChild(lp), 1 == adFreeVersion && (ap.setHidden(!0), lp.setHidden(!0)); var gp = (new lime.Sprite).setPosition(157, 260).setSize(300, 490).setFill("images/UI/CoverImg2.png"); sp.appendChild(gp), lime.audio.setMute(!0), goog.events.listen(playGameBtn, ["mousedown", "touchstart"], function () { p.replaceScene(h, lime.transitions.SlideInUp), sceneBefore = 1, lime.audio.setMute(!1), sceneActive = "Home", 0 == localStorage.getItem("GuiGhostFarms_muted") ? (lime.audio.setMute(!1), i.play(!0), s.play()) : (lime.audio.setMute(!0), KP(1)), e.checkTutSeen() }), goog.events.listen(ap, ["mousedown", "touchstart"], function () { localStorage.setItem("moreGamesClicked", 1) }), p.replaceScene(sp), document.getElementById("loadingGG").style.display = "none"; var dp = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), cp = (new lime.Layer).setAnchorPoint(0, 0), mp = (new lime.Sprite).setPosition(0, 0).setSize(e.width, e.height); dp.appendChild(cp), cp.appendChild(mp), 5 != sceneBefore && (l.stop(), g.stop(), d.stop(), c.stop()); var pp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, 0).setSize(e.controlsLayer_w, e.controlsLayer_h - 24).setFill("images/UI/greenButtonLg.png"); cp.appendChild(pp); var hp = (new lime.Sprite).setPosition(285, 20).setSize(35, 35).setFill(imgArray11[0]); cp.appendChild(hp); var up = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setPosition(243, 24).setFontSize(18).setFontFamily("Comic Sans MS"); cp.appendChild(up); var yp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 45).setSize(e.controlsLayer_w, 420).setFill("images/livestockPens/livestockPensBack3-1.png"); coopLevel > 1 && yp.setFill("images/livestockPens/livestockPensBackUpCoop-1.png"), cp.appendChild(yp); var Sp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(105, 210).setSize(39, 42).setFill("images/toolUp3.png"); cp.appendChild(Sp); var fp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(65, 240).setSize(110, 80).setFill("images/scaffold.png"); cp.appendChild(fp); var vp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, 185).setSize(120, 200).setFill(imgArray[24].src); cp.appendChild(vp); var Fp = (new lime.Label).setText("60").setPosition(118, 275).setSize(40, 25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill("images/countBack.png"), Pp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-22, -50).setSize(50, 50).setFill("images/toolHammer.png"); cp.appendChild(Fp), Fp.appendChild(Pp), Pp.setRotation(-10); var wp = -10; Fp.setHidden(!0), fp.setHidden(!0), vp.setHidden(!0), lime.scheduleManager.scheduleWithDelay(function () { if ("LS" == sceneActive) { var e = Sp.getPosition(); e.y += 5, e.y > 215 && (e.y = 210), Sp.setPosition(e) } }, this, 500), goog.events.listen(Sp, ["mousedown", "touchstart"], function () { if (0 == globalModalBlock && player.tools > 500) { player.tools = player.tools - 500, Sp.setHidden(!0), vp.setHidden(!1), fp.setHidden(!1), Fp.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (wp += 10) > 35 && (wp = -10), Pp.setRotation(wp) }, this, 200, 300); var t = 60, o = 120, i = 55, s = 185; lime.scheduleManager.scheduleWithDelay(function () { t -= 1, Fp.setText(t), t <= 0 && (Fp.setHidden(!0), fp.setHidden(!0), vp.setHidden(!0), t = 60, yp.setFill("images/livestockPens/livestockPensBackUpCoop-1.png"), e.updateTools(), coopLevel = 2, localStorage.GuiGhostFarms_coopLevel = 2, _p.setHidden(!1), e.sparkles()) }, this, 1e3, 60), lime.scheduleManager.scheduleWithDelay(function () { vp.setPosition(i, s).setSize(o, 200), o += 10, s -= 5, (i -= 5) < 40 && (i = 55, s = 185, o = 120) }, this, 250, 240) } }); var Ap = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 436).setSize(245, 25).setFill("images/" + e.barnyard[15].image); cp.appendChild(Ap), roadLeftLS = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, -12).setSize(40, 40).setFill("images/UI/orchardBtn.png"), Ap.appendChild(roadLeftLS); var Cp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h + 5).setFill("images/UI/blackButton.png"); cp.appendChild(Cp); var Tp = (new lime.Sprite).setPosition(90, 282).setFill("images/livestockPens/egg3.png").setSize(17, 13); cp.appendChild(Tp); var _p = (new lime.Sprite).setPosition(123, 292).setFill("images/livestockPens/egg3.png").setSize(17, 13); cp.appendChild(_p), coopLevel < 2 && _p.setHidden(!0), 2 == coopLevel && Sp.setHidden(!0); var Ip = (new lime.Sprite).setPosition(155, 282).setFill("images/livestockPens/egg3.png").setSize(17, 13); cp.appendChild(Ip); var bp = (new lime.Sprite).setPosition(159, 285).setFill("images/livestockPens/stars4.png").setSize(25, 30); cp.appendChild(bp); var xp = 0, Hp = { egg1: !1, egg2: !1, egg3: !1 }, Ep = { egg1: !1, egg2: !1, egg3: !1 }, zp = 0, Mp = 1, kp = 0; e.sparkles = function () { lime.scheduleManager.scheduleWithDelay(function () { "LS" == sceneActive && (zp += 1, 2 == (Mp += 1) ? (bp.setHidden(!0), 0 == Hp[Tp] && 0 == kp && Tp.setPosition(90, 279), 0 == Hp[_p] && 0 == kp && _p.setPosition(123, 292), 0 == Hp[Ip] && 0 == kp && Ip.setPosition(159, 279)) : (bp.setHidden(!1), Mp = 1, 0 == Hp[Tp] && 0 == kp && Tp.setPosition(90, 282), 0 == Hp[_p] && 0 == kp && _p.setPosition(123, 289), 0 == Hp[Ip] && 0 == kp && Ip.setPosition(159, 282)), bp.setHidden(!0), zp > 3 && (zp = 0)) }, this, 500) }, e.sparkles(), e.LivestockHarvest = function () { lime.scheduleManager.scheduleWithDelay(function () { xp += 1, player.cropsStored[5].stored >= 1 && (2 == xp && (Tp.setHidden(!1), Hp[Tp] = !1, player.cropsStored[5].stored = player.cropsStored[5].stored - 1), 3 == xp && (Ip.setHidden(!1), Hp[Ip] = !1, player.cropsStored[5].stored = player.cropsStored[5].stored - 1), 4 == xp && coopLevel > 1 && (_p.setHidden(!1), Hp[_p] = !1, player.cropsStored[5].stored = player.cropsStored[5].stored - 1), xp > 5 && (xp = 0), gLabel5LS.setText(player.cropsStored[5].stored), xh.setText(player.cropsStored[5].stored)) }, this, 15e3) }, e.LivestockHarvest(), goog.events.listen(Tp, ["mousedown", "touchstart", "touchmove"], function () { e.eggClick(1) }), goog.events.listen(_p, ["mousedown", "touchstart", "touchmove"], function () { e.eggClick(2) }), goog.events.listen(Ip, ["mousedown", "touchstart", "touchmove"], function () { e.eggClick(3) }), e.eggClick = function (e) { 1 == e && (Ep[Tp] = !0, player.cropsStored[11].stored = player.cropsStored[11].stored + 3, Hp[Tp] = !0, xp = 0, kp = 1, count11.setText(player.cropsStored[11].stored), Ka.setText(player.cropsStored[11].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), setTimeout(function () { Tp.setPosition(90, 272) }, 100), setTimeout(function () { Tp.setPosition(90, 262) }, 200), setTimeout(function () { Tp.setPosition(90, 242) }, 300), setTimeout(function () { Tp.setPosition(90, 222) }, 400), setTimeout(function () { Tp.setPosition(90, 182) }, 500), setTimeout(function () { Tp.setPosition(90, 150) }, 600), setTimeout(function () { Tp.setPosition(90, 130) }, 700), setTimeout(function () { Tp.setPosition(90, 120) }, 730), setTimeout(function () { Tp.setPosition(90, 110) }, 760), setTimeout(function () { Tp.setPosition(90, 100) }, 790), setTimeout(function () { Tp.setPosition(90, 90) }, 820), setTimeout(function () { Tp.setPosition(90, 70) }, 850), setTimeout(function () { Tp.setPosition(90, 50) }, 875), setTimeout(function () { Tp.setHidden(!0), kp = 0, Ep[Tp] = !1 }, 900), setTimeout(function () { Tp.setPosition(90, 282) }, 1e3)), 2 == e && (player.cropsStored[11].stored = player.cropsStored[11].stored + 3, kp = 2, xp = 0, Ep[_p] = !0, count11.setText(player.cropsStored[11].stored), Ka.setText(player.cropsStored[11].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), setTimeout(function () { _p.setPosition(123, 282) }, 100), setTimeout(function () { _p.setPosition(123, 272) }, 150), setTimeout(function () { _p.setPosition(123, 262) }, 200), setTimeout(function () { _p.setPosition(123, 252) }, 100), setTimeout(function () { _p.setPosition(123, 242) }, 300), setTimeout(function () { _p.setPosition(123, 222) }, 400), setTimeout(function () { _p.setPosition(123, 182) }, 500), setTimeout(function () { _p.setPosition(123, 150) }, 600), setTimeout(function () { _p.setPosition(123, 130) }, 700), setTimeout(function () { _p.setPosition(123, 120) }, 730), setTimeout(function () { _p.setPosition(123, 110) }, 760), setTimeout(function () { _p.setPosition(123, 100) }, 790), setTimeout(function () { _p.setPosition(123, 90) }, 820), setTimeout(function () { _p.setPosition(123, 70) }, 850), setTimeout(function () { _p.setPosition(123, 50) }, 875), setTimeout(function () { _p.setHidden(!0), kp = 0, Ep[_p] = !1 }, 900), setTimeout(function () { _p.setPosition(123, 292) }, 1e3)), 3 == e && (player.cropsStored[11].stored = player.cropsStored[11].stored + 3, kp = 3, xp = 0, Ep[Ip] = !0, count11.setText(player.cropsStored[11].stored), Ka.setText(player.cropsStored[11].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), setTimeout(function () { Ip.setPosition(155, 272) }, 100), setTimeout(function () { Ip.setPosition(155, 262) }, 200), setTimeout(function () { Ip.setPosition(155, 242) }, 300), setTimeout(function () { Ip.setPosition(155, 222) }, 400), setTimeout(function () { Ip.setPosition(155, 182) }, 500), setTimeout(function () { Ip.setPosition(155, 150) }, 600), setTimeout(function () { Ip.setPosition(155, 130) }, 700), setTimeout(function () { Ip.setPosition(155, 120) }, 730), setTimeout(function () { Ip.setPosition(155, 110) }, 760), setTimeout(function () { Ip.setPosition(155, 100) }, 790), setTimeout(function () { Ip.setPosition(155, 90) }, 820), setTimeout(function () { Ip.setPosition(155, 70) }, 850), setTimeout(function () { Ip.setPosition(155, 50) }, 875), setTimeout(function () { Ip.setHidden(!0), kp = 0, Ep[Ip] = !1 }, 900), setTimeout(function () { Ip.setPosition(155, 282) }, 1e3)) }; var Lp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(16, 115).setSize(35, 35).setFill(imgArrayEva[0].src); cp.appendChild(Lp); var Bp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(175, 350).setSize(23, 22).setFill("images/livestockPens/chicken_eatLeft1.png"); cp.appendChild(Bp); var Op = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 315).setSize(23, 22).setFill("images/livestockPens/chicken_eatLeft1.png"); cp.appendChild(Op); var Rp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(156, 309).setSize(23, 22).setFill("images/livestockPens/chicken_eatLeft1.png"); cp.appendChild(Rp); var Dp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 180).setSize(37, 25).setFill("images/livestockPens/pig_Left3.png"); cp.appendChild(Dp); var Np = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, 100).setSize(22, 33).setFill("images/livestockPens/pig_down1.png"); cp.appendChild(Np); var Up = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(195, 135).setSize(21, 33).setFill("images/livestockPens/pig_down1.png"); cp.appendChild(Up), goog.events.listen(Dp, ["mousedown", "touchstart"], function () { g.play() }), goog.events.listen(Np, ["mousedown", "touchstart"], function () { d.play() }), goog.events.listen(Up, ["mousedown", "touchstart"], function () { c.play() }); var Gp = 0, Wp = 0; e.movechicken = function () { lime.scheduleManager.scheduleWithDelay(function () { "LS" == sceneActive && (Wp++ , ++Gp > 30 && (Gp = 1), 1 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft1.png"), Op.setFill("images/livestockPens/chicken_eatLeft2.png"), Op.setPosition(100, 315), Rp.setFill("images/livestockPens/chicken_eatLeft2.png"), Np.setSize(20, 33)), 2 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft2.png"), Op.setFill("images/livestockPens/chicken_eatLeft3.png"), Op.setPosition(100, 315), Rp.setFill("images/livestockPens/chicken_eatLeft3.png"), Dp.setFill("images/livestockPens/pig_right1.png"), Np.setFill("images/livestockPens/pig_down2.png"), Np.setPosition(160, 115), Up.setFill("images/livestockPens/pig_down2.png")), 3 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft3.png"), Op.setFill("images/livestockPens/chicken_eatLeft2.png"), Op.setPosition(100, 315), Rp.setFill("images/livestockPens/chicken_eatLeft2.png")), 4 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft2.png"), Op.setFill("images/livestockPens/chicken_eatLeft2.png"), Op.setPosition(100, 315), Rp.setFill("images/livestockPens/chicken_eatLeft3.png"), Dp.setFill("images/livestockPens/pig_right2.png"), Dp.setPosition(160, 180), Up.setFill("images/livestockPens/pig_down3.png")), 5 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft3.png"), Op.setFill("images/livestockPens/chicken_walkLeft1.png"), Op.setPosition(95, 315), Rp.setFill("images/livestockPens/chicken_eatLeft2.png")), 6 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft4.png"), Op.setFill("images/livestockPens/chicken_walkLeft2.png"), Op.setPosition(90, 315), Rp.setFill("images/livestockPens/chicken_eatLeft3.png"), Dp.setFill("images/livestockPens/pig_right3.png"), Dp.setPosition(150, 180)), 7 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft1.png"), Op.setFill("images/livestockPens/chicken_walkLeft3.png"), Op.setPosition(85, 315), Rp.setFill("images/livestockPens/chicken_eatLeft2.png")), 8 == Gp && (Bp.setFill("images/livestockPens/chicken_walkLeft1.png"), Bp.setPosition(170, 350), Op.setFill("images/livestockPens/chicken_walkLeft2.png"), Op.setPosition(80, 315), Rp.setFill("images/livestockPens/chicken_eatLeft2.png"), Np.setFill("images/livestockPens/pig_down3.png"), Np.setPosition(160, 120), Up.setFill("images/livestockPens/pig_down2.png")), 9 == Gp && (Bp.setFill("images/livestockPens/chicken_walkLeft2.png"), Bp.setPosition(165, 350), Op.setFill("images/livestockPens/chicken_walkLeft1.png"), Op.setPosition(75, 315), Rp.setFill("images/livestockPens/chicken_eatLeft3.png"), Dp.setFill("images/livestockPens/pig_right2.png"), Dp.setPosition(140, 180)), 10 == Gp && (Bp.setFill("images/livestockPens/chicken_walkLeft3.png"), Bp.setPosition(160, 350), Op.setFill("images/livestockPens/chicken_walkLeft2.png"), Op.setPosition(70, 315), Rp.setFill("images/livestockPens/chicken_eatLeft2.png"), Np.setPosition(160, 125), Np.setFill("images/livestockPens/pig_down2.png")), 11 == Gp && (Bp.setFill("images/livestockPens/chicken_walkLeft1.png"), Bp.setPosition(155, 350), Op.setFill("images/livestockPens/chicken_up1.png"), Op.setPosition(70, 315), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Dp.setFill("images/livestockPens/pig_right3.png")), 12 == Gp && (Bp.setFill("images/livestockPens/chicken_walkLeft2.png"), Bp.setPosition(150, 350), Op.setFill("images/livestockPens/chicken_up2.png"), Op.setPosition(70, 310), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Np.setPosition(160, 130), Np.setFill("images/livestockPens/pig_down1.png"), Up.setFill("images/livestockPens/pig_down1.png")), 13 == Gp && (Bp.setFill("images/livestockPens/chicken_walkLeft3.png"), Bp.setPosition(145, 350), Op.setFill("images/livestockPens/chicken_up3.png"), Op.setPosition(70, 305), Rp.setFill("images/livestockPens/chicken_eatLeft1.png")), 14 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft2.png"), Op.setFill("images/livestockPens/chicken_walkRight1.png"), Op.setPosition(70, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Np.setFill("images/livestockPens/pig_down2.png"), Np.setPosition(160, 135)), 15 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft3.png"), Op.setFill("images/livestockPens/chicken_walkRight2.png"), Op.setPosition(75, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png")), 16 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft2.png"), Op.setFill("images/livestockPens/chicken_walkRight3.png"), Op.setPosition(80, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png")), 17 == Gp && (Bp.setFill("images/livestockPens/chicken_eatLeft3.png"), Op.setFill("images/livestockPens/chicken_walkRight3.png"), Op.setPosition(80, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Dp.setFill("images/livestockPens/pig_right2.png"), Np.setSize(39, 21), Np.setPosition(150, 147), Np.setFill("images/livestockPens/pig_right2.png"), Up.setFill("images/livestockPens/pig_down2.png")), 18 == Gp && (Bp.setFill("images/livestockPens/chicken_down3.png"), Op.setFill("images/livestockPens/chicken_walkRight1.png"), Op.setPosition(85, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Np.setSize(20, 33), Np.setFill("images/livestockPens/pig_up2.png"), Np.setPosition(150, 130), Up.setFill("images/livestockPens/pig_down3.png")), 19 == Gp && (Bp.setFill("images/livestockPens/chicken_walkRight1.png"), Bp.setPosition(145, 350), Op.setFill("images/livestockPens/chicken_walkRight2.png"), Op.setPosition(90, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Up.setFill("images/livestockPens/pig_down2.png")), 20 == Gp && (Bp.setFill("images/livestockPens/chicken_walkRight2.png"), Bp.setPosition(150, 350), Op.setFill("images/livestockPens/chicken_walkRight3.png"), Op.setPosition(95, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Np.setSize(20, 33), Np.setFill("images/livestockPens/pig_up1.png"), Np.setPosition(150, 120), Up.setFill("images/livestockPens/pig_down3.png")), 21 == Gp && (Bp.setFill("images/livestockPens/chicken_walkRight3.png"), Bp.setPosition(155, 350), Op.setFill("images/livestockPens/chicken_walkRight2.png"), Op.setPosition(100, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png")), 22 == Gp && (Bp.setFill("images/livestockPens/chicken_walkRight1.png"), Bp.setPosition(160, 350), Op.setFill("images/livestockPens/chicken_eatRight1.png"), Op.setPosition(100, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Dp.setFill("images/livestockPens/pig_Left3.png"), Up.setFill("images/livestockPens/pig_down2.png")), 23 == Gp && (Bp.setFill("images/livestockPens/chicken_walkRight2.png"), Bp.setPosition(165, 350), Op.setFill("images/livestockPens/chicken_eatRight2.png"), Op.setPosition(100, 300), Rp.setFill("images/livestockPens/chicken_eatLeft1.png")), 24 == Gp && (Bp.setFill("images/livestockPens/chicken_walkRight3.png"), Bp.setPosition(170, 350), Op.setFill("images/livestockPens/chicken_eatRight1.png"), Op.setPosition(100, 300), Rp.setFill("images/livestockPens/chicken_eatLeft2.png"), Np.setFill("images/livestockPens/pig_up2.png"), Np.setPosition(150, 117), Up.setFill("images/livestockPens/pig_down3.png")), 25 == Gp && (Bp.setFill("images/livestockPens/chicken_eatRight1.png"), Bp.setPosition(175, 350), Op.setFill("images/livestockPens/chicken_down2.png"), Op.setPosition(100, 300), Rp.setFill("images/livestockPens/chicken_eatLeft3.png")), 26 == Gp && (Bp.setFill("images/livestockPens/chicken_eatRight2.png"), Bp.setPosition(175, 350), Op.setFill("images/livestockPens/chicken_down1.png"), Op.setPosition(100, 305), Rp.setFill("images/livestockPens/chicken_eatLeft2.png"), Np.setFill("images/livestockPens/pig_up3.png"), Np.setPosition(150, 115)), 27 == Gp && (Bp.setFill("images/livestockPens/chicken_eatRight1.png"), Bp.setPosition(175, 350), Op.setFill("images/livestockPens/chicken_down2.png"), Op.setPosition(100, 310), Rp.setFill("images/livestockPens/chicken_eatLeft3.png"), Dp.setFill("images/livestockPens/pig_walkLeft1.png"), Dp.setPosition(150, 180), Np.setFill("images/livestockPens/pig_up1.png"), Np.setPosition(150, 110)), 28 == Gp && (Bp.setFill("images/livestockPens/chicken_eatRight2.png"), Bp.setPosition(175, 350), Op.setFill("images/livestockPens/chicken_eatLeft1.png"), Op.setPosition(100, 315), Rp.setFill("images/livestockPens/chicken_eatLeft2.png")), 29 == Gp && (Bp.setFill("images/livestockPens/chicken_down1.png"), Op.setFill("images/livestockPens/chicken_eatLeft2.png"), Dp.setFill("images/livestockPens/pig_walkLeft2.png"), Rp.setFill("images/livestockPens/chicken_eatLeft2.png"), Dp.setPosition(160, 180), Np.setFill("images/livestockPens/pig_up2.png"), Np.setPosition(150, 105)), 30 == Gp && (Bp.setFill("images/livestockPens/chicken_down1.png"), Op.setFill("images/livestockPens/chicken_eatLeft3.png"), Rp.setFill("images/livestockPens/chicken_eatLeft1.png"), Np.setSize(39, 21), Np.setPosition(150, 105), Np.setFill("images/livestockPens/pig_Left3.png")), Wp >= 81 && (Wp = 1), 1 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[0].src), 2 == Wp && Lp.setPosition(16, 150).setFill(imgArrayEva[1].src), 3 == Wp && Lp.setPosition(16, 155).setFill(imgArrayEva[2].src), 4 == Wp && Lp.setPosition(16, 160).setFill(imgArrayEva[3].src), 5 == Wp && Lp.setPosition(16, 165).setFill(imgArrayEva[0].src), 6 == Wp && Lp.setPosition(16, 170).setFill(imgArrayEva[1].src), 7 == Wp && Lp.setPosition(16, 175).setFill(imgArrayEva[2].src), 8 == Wp && Lp.setPosition(16, 180).setFill(imgArrayEva[3].src), 9 == Wp && Lp.setPosition(16, 185).setFill(imgArrayEva[0].src), 10 == Wp && Lp.setPosition(16, 190).setFill(imgArrayEva[1].src), 11 == Wp && Lp.setPosition(16, 195).setFill(imgArrayEva[2].src), 12 == Wp && Lp.setPosition(16, 200).setFill(imgArrayEva[3].src), 13 == Wp && Lp.setPosition(16, 205).setFill(imgArrayEva[0].src), 14 == Wp && Lp.setPosition(16, 210).setFill(imgArrayEva[1].src), 15 == Wp && Lp.setPosition(16, 215).setFill(imgArrayEva[2].src), 16 == Wp && Lp.setPosition(16, 220).setFill(imgArrayEva[3].src), 17 == Wp && Lp.setPosition(16, 225).setFill(imgArrayEva[0].src), 18 == Wp && Lp.setPosition(16, 230).setFill(imgArrayEva[1].src), 19 == Wp && Lp.setPosition(16, 235).setFill(imgArrayEva[2].src), 20 == Wp && Lp.setPosition(16, 240).setFill(imgArrayEva[3].src), 21 == Wp && Lp.setPosition(16, 245).setFill(imgArrayEva[0].src), 22 == Wp && Lp.setPosition(16, 250).setFill(imgArrayEva[1].src), 23 == Wp && Lp.setPosition(16, 255).setFill(imgArrayEva[2].src), 24 == Wp && Lp.setPosition(16, 260).setFill(imgArrayEva[3].src), 25 == Wp && Lp.setPosition(16, 265).setFill(imgArrayEva[0].src), 26 == Wp && Lp.setPosition(16, 270).setFill(imgArrayEva[1].src), 27 == Wp && Lp.setPosition(16, 275).setFill(imgArrayEva[2].src), 28 == Wp && Lp.setPosition(16, 280).setFill(imgArrayEva[3].src), 29 == Wp && Lp.setPosition(18, 285).setFill(imgArrayEva[0].src), 30 == Wp && Lp.setPosition(20, 290).setFill(imgArrayEva[1].src), 31 == Wp && Lp.setPosition(22, 295).setFill(imgArrayEva[2].src), 32 == Wp && Lp.setPosition(24, 300).setFill(imgArrayEva[3].src), 33 == Wp && Lp.setPosition(27, 305).setFill(imgArrayEva[0].src), 34 == Wp && Lp.setPosition(27, 310).setFill(imgArrayEva[1].src), 35 == Wp && Lp.setPosition(24, 315).setFill(imgArrayEva[2].src), 36 == Wp && Lp.setPosition(27, 320).setFill(imgArrayEva[3].src), 37 == Wp && Lp.setPosition(27, 320).setFill(imgArrayEva[8].src), 38 == Wp && Lp.setPosition(27, 320).setFill(imgArrayEva[12].src), 39 == Wp && Lp.setPosition(25, 315).setFill(imgArrayEva[13].src), 40 == Wp && Lp.setPosition(23, 310).setFill(imgArrayEva[14].src), 41 == Wp && Lp.setPosition(20, 305).setFill(imgArrayEva[15].src), 42 == Wp && Lp.setPosition(18, 300).setFill(imgArrayEva[12].src), 43 == Wp && Lp.setPosition(16, 295).setFill(imgArrayEva[13].src), 44 == Wp && Lp.setPosition(16, 290).setFill(imgArrayEva[14].src), 45 == Wp && Lp.setPosition(16, 285).setFill(imgArrayEva[15].src), 46 == Wp && Lp.setPosition(16, 280).setFill(imgArrayEva[12].src), 47 == Wp && Lp.setPosition(16, 275).setFill(imgArrayEva[13].src), 48 == Wp && Lp.setPosition(16, 270).setFill(imgArrayEva[14].src), 49 == Wp && Lp.setPosition(16, 265).setFill(imgArrayEva[15].src), 50 == Wp && Lp.setPosition(16, 260).setFill(imgArrayEva[14].src), 51 == Wp && Lp.setPosition(16, 255).setFill(imgArrayEva[15].src), 52 == Wp && Lp.setPosition(16, 250).setFill(imgArrayEva[12].src), 53 == Wp && Lp.setPosition(16, 245).setFill(imgArrayEva[13].src), 54 == Wp && Lp.setPosition(16, 240).setFill(imgArrayEva[14].src), 55 == Wp && Lp.setPosition(16, 235).setFill(imgArrayEva[15].src), 56 == Wp && Lp.setPosition(16, 230).setFill(imgArrayEva[12].src), 57 == Wp && Lp.setPosition(16, 225).setFill(imgArrayEva[13].src), 58 == Wp && Lp.setPosition(16, 220).setFill(imgArrayEva[14].src), 59 == Wp && Lp.setPosition(16, 215).setFill(imgArrayEva[15].src), 60 == Wp && Lp.setPosition(16, 210).setFill(imgArrayEva[14].src), 61 == Wp && Lp.setPosition(16, 205).setFill(imgArrayEva[15].src), 62 == Wp && Lp.setPosition(16, 200).setFill(imgArrayEva[12].src), 63 == Wp && Lp.setPosition(16, 195).setFill(imgArrayEva[13].src), 64 == Wp && Lp.setPosition(16, 190).setFill(imgArrayEva[14].src), 65 == Wp && Lp.setPosition(16, 185).setFill(imgArrayEva[15].src), 66 == Wp && Lp.setPosition(16, 180).setFill(imgArrayEva[12].src), 67 == Wp && Lp.setPosition(16, 175).setFill(imgArrayEva[13].src), 68 == Wp && Lp.setPosition(16, 170).setFill(imgArrayEva[14].src), 69 == Wp && Lp.setPosition(16, 165).setFill(imgArrayEva[15].src), 70 == Wp && Lp.setPosition(16, 160).setFill(imgArrayEva[12].src), 71 == Wp && Lp.setPosition(16, 155).setFill(imgArrayEva[13].src), 72 == Wp && Lp.setPosition(16, 150).setFill(imgArrayEva[14].src), 73 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[15].src), 74 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[8].src), 75 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[0].src), 76 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[4].src), 77 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[0].src), 78 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[8].src), 79 == Wp && Lp.setPosition(16, 145).setFill(imgArrayEva[0].src), 80 == Wp && (Lp.setPosition(16, 145).setFill(imgArrayEva[4].src), Wp = 1)) }, this, 250) }, e.movechicken(); var Vp = (new lime.Label).setText("+ 2 Ham").setFontWeight(600).setFontColor("#E8FC08").setPosition(155, 110).setOpacity(.9).setSize(200, 20).setFontFamily("Comic Sans MS"); cp.appendChild(Vp); var Jp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(95, 95).setSize(35, 24).setFill("images/" + e.crops[10].harvest); cp.appendChild(Jp), Vp.setHidden(!0), Jp.setHidden(!0); var Yp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 60).setSize(50, 55).setFill("images/UI/speechBubble.png"); cp.appendChild(Yp); var jp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(8, 2).setSize(35, 24).setFill("images/" + e.crops[10].harvest); Yp.appendChild(jp); var qp = (new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23, 37).setSize(30, 18).setFontFamily("Comic Sans MS"); Yp.appendChild(qp), Yp.setHidden(!0); var Kp = 0, $p = 0, Xp = 0; Kp = 0, o[1].owned, o[2].owned, o[3].owned, o[4].owned; lime.scheduleManager.scheduleWithDelay(function () { if ("LS" == sceneActive) { $p += 1; var e = Vp.getPosition().y - 5; e < 70 && (e = 110), $p > 240 && player.cropsStored[8].stored >= 1 && 1 == o[4].owned && (Vp.setHidden(!1), Vp.setPosition(155, e), Jp.setHidden(!1), Jp.setPosition(95, e - 15), Yp.setHidden(!1), 0 == Xp && (Xp = 1, Kp += 2, qp.setText("+ " + Kp), player.cropsStored[8].stored = player.cropsStored[8].stored - 1, count8.setText(player.cropsStored[8].stored), Ya.setText(player.cropsStored[8].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)))), $p > 248 && ($p = 0, Vp.setHidden(!0), Xp = 0, Jp.setHidden(!0)) } }, this, 250), goog.events.listen(Yp, ["mousedown", "touchstart"], function () { player.cropsStored[10].stored = player.cropsStored[10].stored + Kp, Kp = 0, count10.setText(player.cropsStored[10].stored), qa.setText(player.cropsStored[10].stored), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), Yp.setHidden(!0), a.play() }); var Qp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(208, e.height - e.controlsLayer_h).setSize(90, 61).setFill("images/" + e.barnyard[3].image); cp.appendChild(Qp), goog.events.listen(Qp, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 5, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored)) }); var Zp = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 467).setSize(35, 35).setFill("images/UI/gearButton.png"); cp.appendChild(Zp), goog.events.listen(Zp, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (sceneBefore = 5, p.replaceScene(ra, lime.transitions.SlideInUp), sceneActive = "Menu") }); var eh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 503).setSize(35, 35).setFill(imgArray[15]); cp.appendChild(eh); var th = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 467).setSize(35, 35).setFill("images/UI/trophyBtn.png"); cp.appendChild(th); var oh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 503).setSize(35, 35).setFill("images/UI/starButton.png"); cp.appendChild(oh), goog.events.listen(eh, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (lime.audio.getMute() ? (lime.audio.setMute(!1), i.play(!0), localStorage.setItem("GuiGhostFarms_muted", 0), KP(2)) : (lime.audio.setMute(!0), KP(1), localStorage.setItem("GuiGhostFarms_muted", 1))) }), goog.events.listen(oh, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && QP() }), goog.events.listen(th, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && qP(sceneBefore = 5) }); var ih = (new lime.Label).setText("Raising Chickens and Pigs").setFontColor("#E8FC08").setPosition(148, 525).setSize(125, 75).setFontFamily("Comic Sans MS"); cp.appendChild(ih), goog.events.listen(roadLeftLS, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (p.replaceScene(Us, lime.transitions.SlideInLeft), sceneActive = "Orchard", sceneBefore = 3, r.play(), l.stop(), g.stop(), d.stop(), c.stop()) }); var sh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-400, -105).setSize(e.width, 650).setFill(imgArray[24].src).setOpacity(.3); cp.appendChild(sh); var nh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 449).setSize(35, 35).setFill("images/UI/compass22.png"); cp.appendChild(nh); var rh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 7).setSize(35, 35).setFill("images/UI/toolsIcon2.png"), ah = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(65, 24).setFontSize(18).setFontFamily("Comic Sans MS"); cp.appendChild(rh), cp.appendChild(ah); var lh = (new lime.Sprite).setPosition(e.controlsLayer_w / 2 - 5, 22).setSize(38, 38).setFill(imgArrayItems[25].src); cp.appendChild(lh), goog.events.listen(lh, ["mousedown", "touchstart"], function () { e.sceneBefore = 4, Gl(), ll.setText(starCash), p.replaceScene(ha, lime.Transition.SlideInUp), sceneActive = "Inventory", count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }); var gh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#000F00").setOpacity(.75); cp.appendChild(gh), gh.setHidden(!0); var dh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), ch = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setPosition(13, 45).setSize(190, 60).setFontSize(16).setText("Blacksmith I").setFontFamily("Comic Sans MS"); dh.appendChild(ch); var mh = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setPosition(30, 123).setSize(150, 35).setFontSize(12).setText("Achieve Text").setFontFamily("Comic Sans MS"); dh.appendChild(mh); var ph = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#000033").setPosition(21, 182).setSize(190, 60).setFontSize(18).setText(" + ").setFontFamily("Comic Sans MS"); dh.appendChild(ph); var hh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); dh.appendChild(hh), cp.appendChild(dh), dh.setHidden(!0), goog.events.listen(hh, ["mousedown", "touchstart"], function () { Dt.setHidden(!0), fs.setHidden(!0), dy.setHidden(!0), Jr.setHidden(!0), dh.setHidden(!0) }); var uh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); cp.appendChild(uh); var yh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); uh.appendChild(yh); var Sh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); uh.appendChild(Sh); var fh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); uh.appendChild(fh); var vh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); uh.appendChild(vh); var Fh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); uh.appendChild(Fh); var Ph = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); uh.appendChild(Ph), uh.setHidden(!0), goog.events.listen(nh, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && O() }), goog.events.listen(Ph, ["mousedown", "touchstart"], function () { R() }), goog.events.listen(vh, ["mousedown", "touchstart"], function () { compassVisible && (t.currentCrop = parseInt(homeCrop), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = 0)), R(), e.sceneBefore = 1, r.stop(), globalModalBlock = 0, p.replaceScene(h, lime.transitions.SlideInLeft), sceneActive = "Home", l.stop(), g.stop(), d.stop()) }), goog.events.listen(Fh, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (R(), e.sceneBefore = 2, t.currentCrop = 6, p.replaceScene(_o, lime.transitions.SlideInLeft), sceneActive = "Pasture", l.stop(), g.stop(), d.stop(), globalModalBlock = 0) }), goog.events.listen(yh, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (e.sceneBefore = 3, R(), t.currentCrop = 8, p.replaceScene(Us, lime.transitions.SlideInLeft), sceneActive = "Orchard", r.play(), l.stop(), g.stop(), d.stop(), globalModalBlock = 0) }), goog.events.listen(fh, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (R(), e.sceneBefore = 4, p.replaceScene(Eh, lime.transitions.SlideInLeft), sceneActive = "Vineyard", r.stop(), t.currentCrop, t.currentCrop = 12, $P(), l.stop(), g.stop(), d.stop(), globalModalBlock = 0) }), goog.events.listen(Sh, ["mousedown", "touchstart"], function () { 1 == o[4].owned && (R(), globalModalBlock = 0) }); var wh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(60, 145).setSize(180, 200).setFill("images/UI/shortage.png"); cp.appendChild(wh); var Ah = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 195).setSize(40, 40).setFill("images/UI/checkButton.png"); wh.appendChild(Ah); var Ch = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#E8FC08").setPosition(5, 120).setSize(170, 40).setFontSize(14).setFontFamily("Comic Sans MS").setText("Livestock Hungry!"); wh.appendChild(Ch); var Th = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FFFFFF").setPosition(2, 140).setSize(175, 40).setFontSize(10).setFontFamily("Comic Sans MS").setText("CHICKENS eat CORN to lay EGGS"); wh.appendChild(Th); var _h = (new lime.Label).setAnchorPoint(0, 0).setFontColor("#FFFFFF").setPosition(2, 155).setSize(175, 40).setFontSize(10).setFontFamily("Comic Sans MS").setText("PIGS eat APPLES to yield HAM"); wh.appendChild(_h); var Ih = (new lime.Sprite).setPosition(50, 180).setFill("images/" + e.crops[5].harvest).setSize(25, 25); wh.appendChild(Ih); var bh = (new lime.Sprite).setPosition(120, 180).setFill("images/" + e.crops[8].harvest).setSize(25, 25); wh.appendChild(bh); var xh = (new lime.Label).setPosition(64, 186).setSize(20, 16).setText(player.cropsStored[5].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); wh.appendChild(xh); var Hh = (new lime.Label).setPosition(134, 186).setSize(20, 16).setText(player.cropsStored[8].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); wh.appendChild(Hh), wh.setHidden(!0), goog.events.listen(Ah, ["mousedown", "touchstart"], function () { wh.setHidden(!0), gh.setHidden(!0), ny.setHidden(!0), Tr.setHidden(!0), as.setHidden(!0), 1 == tutSeen && (mt.setHidden(!0), gh.setHidden(!0)) }); var Eh = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), zh = (new lime.Layer).setAnchorPoint(0, 0), Mh = (new lime.Sprite).setPosition(0, 0).setSize(e.width, e.height); Eh.appendChild(zh), zh.appendChild(Mh); var kh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, 0).setSize(e.controlsLayer_w, e.controlsLayer_h - 20).setFill("images/UI/greenButtonLg.png"); zh.appendChild(kh); var Lh = (new lime.Sprite).setPosition(285, 20).setSize(35, 35).setFill(imgArray11[0]); zh.appendChild(Lh); var Bh = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setPosition(245, 24).setFontFamily("Comic Sans MS").setFontSize(18); zh.appendChild(Bh); var Oh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 45).setSize(e.controlsLayer_w, 423).setFill("images/vinyard/vinyardBack6.png"); zh.appendChild(Oh); var Rh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(225, 436).setSize(100, 25).setFill("images/" + e.barnyard[15].image); zh.appendChild(Rh), roadRightV = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(43, -12).setSize(42, 42).setFill("images/UI/pastureBtn.png"), Rh.appendChild(roadRightV); var Dh = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(5, 7).setSize(35, 35).setFill("images/UI/toolsIcon2.png"), Nh = (new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(65, 24).setFontFamily("Comic Sans MS").setFontSize(18); zh.appendChild(Dh), zh.appendChild(Nh), isblocked1 = localStorage.getItem("GuiGhostFarms_vinyardBlocks"), isblocked2 = localStorage.getItem("GuiGhostFarms_vinyardBlocks2"); e.tile_size, e.tile_size; var Uh = new farming.Land(e, t, 80, 110, 5, "non", "vine0").setPosition(80, 110); Uh.setSize(45, 50), zh.appendChild(Uh); var Gh = new farming.Land(e, t, 135, 100, 5, "non", "vine1").setPosition(135, 100); Gh.setSize(45, 50), zh.appendChild(Gh); var Wh = new farming.Land(e, t, 200, 95, 5, "non", "vine2").setPosition(200, 95); Wh.setSize(45, 50), zh.appendChild(Wh); var Vh = new farming.Land(e, t, 260, 105, 5, "non", "vine3").setPosition(260, 105); Vh.setSize(45, 50), zh.appendChild(Vh), 1 == isblocked2 && (Uh.setHidden(!0), Gh.setHidden(!0), Wh.setHidden(!0), Vh.setHidden(!0)), 2 == isblocked2 && (Uh.setHidden(!1), Gh.setHidden(!1), Wh.setHidden(!1), Vh.setHidden(!1)); var Jh = new farming.Land(e, t, 105, 200, 5, "non", "vine4").setPosition(105, 200); Jh.setSize(45, 50), zh.appendChild(Jh); var Yh = new farming.Land(e, t, 175, 215, 5, "non", "vine5").setPosition(175, 215); Yh.setSize(45, 50), zh.appendChild(Yh); var jh = new farming.Land(e, t, 240, 228, 5, "non", "vine6").setPosition(240, 228); jh.setSize(45, 50), zh.appendChild(jh); var qh = new farming.Land(e, t, 45, 210, 5, "non", "vine7").setPosition(45, 210); qh.setSize(45, 50), zh.appendChild(qh), 1 == isblocked1 && (Jh.setHidden(!0), Yh.setHidden(!0), jh.setHidden(!0), qh.setHidden(!0)), 2 == isblocked1 && (Jh.setHidden(!1), Yh.setHidden(!1), jh.setHidden(!1), qh.setHidden(!1)); var Kh = new farming.Land(e, t, 75, 370, 5, "non", "vine8").setPosition(75, 370); Kh.setSize(45, 50), zh.appendChild(Kh); var $h = new farming.Land(e, t, 25, 350, 5, "non", "vine9").setPosition(25, 350); $h.setSize(45, 50), zh.appendChild($h); var Xh = new farming.Land(e, t, 126, 360, 5, "non", "vine10").setPosition(126, 360); Xh.setSize(45, 50), zh.appendChild(Xh); var Qh = new farming.Land(e, t, 219, 315, 5, "non", "vine11").setPosition(219, 315); Qh.setSize(45, 50), zh.appendChild(Qh); var Zh = new farming.Land(e, t, 262, 350, 5, "non", "vine12").setPosition(262, 350); Zh.setSize(45, 50), zh.appendChild(Zh); var eu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, 195).setSize(240, 105).setFill("images/vinyard/treeBlock1.png"); zh.appendChild(eu); var tu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, -60).setSize(190, 250).setFill(imgArray[24].src).setOpacity(.3); eu.appendChild(tu); var ou = (new lime.Label).setText("").setAnchorPoint(0, 0).setFontColor("#4CFF33").setFontWeight(600).setPosition(170, 280).setFontFamily("Comic Sans MS").setSize(90, 130); zh.appendChild(ou); var iu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 15).setSize(40, 40).setFill("images/axe.png"); eu.appendChild(iu); var su = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(240, 240).setSize(35, 35).setFill("images/tools500.png"); Eh.appendChild(su); var nu = (new lime.Label).setText("60").setPosition(170, 70).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill("images/countBack.png"); eu.appendChild(nu); var ru = 0; tu.setHidden(!0), nu.setHidden(!0), isblocked1 = localStorage.getItem("GuiGhostFarms_vinyardBlocks"), isblocked2 = localStorage.getItem("GuiGhostFarms_vinyardBlocks2"), 1 == isblocked1 && (eu.setHidden(!1), ou.setHidden(!1), su.setHidden(!1)), 2 == isblocked1 && (eu.setHidden(!0), ou.setHidden(!0), su.setHidden(!0)), goog.events.listen(su, ["mousedown", "touchstart"], function () { if (player.tools >= 500 && 0 == globalModalBlock) { player.tools = player.tools - 500, e.updateTools(), su.setHidden(!0), tu.setHidden(!1), nu.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (ru += 10) > 35 && (ru = -10), iu.setRotation(ru) }, this, 200, 300); var t = 60, o = 250, i = 55, s = -60; lime.scheduleManager.scheduleWithDelay(function () { tu.setPosition(i, s).setSize(o, 200), o += 10, s -= 5, (i -= 5) < 45 && (i = 55, s = -60, o = 250) }, this, 250, 240), lime.scheduleManager.scheduleWithDelay(function () { t -= 1, nu.setText(t), t <= 0 && (nu.setHidden(!0), tu.setHidden(!0), t = 60, iu.setHidden(!0), e.updateTools(), su.setHidden(!0), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) + 500, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 500), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), e.vinyardBlocksControl(1), vinyardBlocks = 2, isblocked1 = 2, ou.setHidden(!0), localStorage.GuiGhostFarms_vinyardBlocks = isblocked1) }, this, 1e3, 60) } }); var au = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(72, 78).setSize(235, 100).setFill("images/vinyard/treeBlock2.png"); zh.appendChild(au); var lu = (new lime.Label).setText("").setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setPosition(170, 165).setSize(90, 130); zh.appendChild(lu); var gu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, -60).setSize(190, 250).setFill(imgArray[24].src).setOpacity(.3); au.appendChild(gu); var du = (new lime.Label).setText("60").setPosition(150, 75).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill("images/countBack.png"); au.appendChild(du); var cu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(150, 20).setSize(40, 40).setFill("images/axe.png"); au.appendChild(cu); var mu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(230, 130).setSize(35, 35).setFill("images/tools500.png"); Eh.appendChild(mu); var pu = 0; gu.setHidden(!0), du.setHidden(!0), au.setHidden(!0), lu.setHidden(!0), mu.setHidden(!0), 1 == isblocked2 && (au.setHidden(!0), lu.setHidden(!1), mu.setHidden(!1)), 2 == isblocked2 && (au.setHidden(!0), lu.setHidden(!0), mu.setHidden(!0)), goog.events.listen(mu, ["mousedown", "touchstart"], function () { if (player.tools >= 500 && 0 == globalModalBlock) { player.tools = player.tools - 500, e.updateTools(), mu.setHidden(!0), gu.setHidden(!1), du.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { (pu += 10) > 35 && (pu = -10), cu.setRotation(pu) }, this, 200, 300); var t = 60, o = 250, i = 45, s = -60; lime.scheduleManager.scheduleWithDelay(function () { gu.setPosition(i, s).setSize(o, 200), o += 10, s -= 5, (i -= 5) < 35 && (i = 45, s = -60, o = 250) }, this, 250, 240), lime.scheduleManager.scheduleWithDelay(function () { t -= 1, du.setText(t), t <= 0 && (du.setHidden(!0), gu.setHidden(!0), t = 60, cu.setHidden(!0), e.updateTools(), e.vinyardBlocksControl(2), vinyardBlocks2 = 2, isblocked2 = 2, lu.setHidden(!0), localStorage.GuiGhostFarms_vinyardBlocks2 = isblocked2, mu.setHidden(!0), player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) + 500, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 500), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player))) }, this, 1e3, 60) } }), e.vinyardBlocksControl = function (e) { 1 == e && (eu.setHidden(!0), ou.setHidden(!0), Jh.setHidden(!1), Yh.setHidden(!1), jh.setHidden(!1), qh.setHidden(!1)), 2 == e && (au.setHidden(!0), lu.setHidden(!0), Uh.setHidden(!1), Gh.setHidden(!1), Wh.setHidden(!1), Vh.setHidden(!1)) }; var hu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(62, 247).setSize(118, 115).setFill("images/vinyard/house4.png"); zh.appendChild(hu); var uu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(78, 275).setSize(39, 42).setFill("images/UI/upBtn.png"); zh.appendChild(uu); var yu = (new lime.Sprite).setFill("images/UI/rockBlock2.png").setPosition(43, 93).setSize(59, 32); zh.appendChild(yu); var Su = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(55, 280).setSize(80, 70).setFill("images/scaffold.png"); zh.appendChild(Su); var fu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 220).setSize(100, 150).setFill(imgArray[24].src); zh.appendChild(fu); var vu = (new lime.Label).setText("120").setPosition(95, 310).setSize(40, 25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill("images/countBack.png"), Fu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-22, -50).setSize(50, 50).setFill("images/toolHammer.png"); zh.appendChild(vu), vu.appendChild(Fu), Fu.setRotation(-10); var Pu = -10; vu.setHidden(!0), Su.setHidden(!0), fu.setHidden(!0), vinyardHouseLevel > 1 && (hu.setFill("images/vinyard/house4Upgrade2.png"), uu.setHidden(!0)), lime.scheduleManager.scheduleWithDelay(function () { if ("Vineyard" == sceneActive) { var e = uu.getPosition(); e.y -= 5, e.y < 270 && (e.y = 275), uu.setPosition(e) } }, this, 500); var wu = (new lime.Sprite).setPosition(155, 160).setSize(250, 250).setFill("images/UI/blankBack5.png"); zh.appendChild(wu); var Au = (new lime.Label).setPosition(0, -85).setSize(250, 30).setText("Upgrade Vineyard Barn").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(20); wu.appendChild(Au); var Cu = (new lime.Label).setPosition(0, -50).setSize(250, 30).setText("Unlocks Jelly Making").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(18); wu.appendChild(Cu); var Tu = (new lime.Sprite).setPosition(-40, -20).setSize(40, 40).setFill("images/UI/toolsIcon2.png"); wu.appendChild(Tu); var _u = (new lime.Label).setPosition(-40, 30).setSize(250, 25).setText(250).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22); wu.appendChild(_u); var Iu = (new lime.Sprite).setPosition(40, -20).setSize(40, 40).setFill("images/" + e.crops[14].harvest); wu.appendChild(Iu); var bu = (new lime.Label).setPosition(40, 30).setSize(250, 25).setText(100).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22); wu.appendChild(bu); var xu = (new lime.Label).setPosition(0, 60).setSize(250, 25).setText("You need more resources").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(14); wu.appendChild(xu), xu.setHidden(!0); var Hu = (new lime.GlossyButton).setColor("#1ce636").setText("Upgrade").setPosition(0, 70).setSize(80, 35); wu.appendChild(Hu); var Eu = (new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(0, 130).setSize(40, 40); wu.appendChild(Eu); var zu = (new lime.Sprite).setPosition(0, 0).setSize(40, 40).setFill(imgArray[21].src); Eu.appendChild(zu), wu.setHidden(!0), goog.events.listen(uu, ["mousedown", "touchstart"], function () { wu.setHidden(!1), (parseInt(player.cropsStored[14].stored) < 100 || 2 == vinyardHouseLevel) && (Hu.setHidden(!0), xu.setHidden(!1)), player.tools < 250 && (Hu.setHidden(!0), xu.setHidden(!1)); var t = su.getHidden(), o = mu.getHidden(); su.setHidden(!0), mu.setHidden(!0), goog.events.listen(Eu, ["mousedown", "touchstart"], function () { wu.setHidden(!0), xu.setHidden(!0), 0 == t && su.setHidden(!1), 0 == o && mu.setHidden(!1) }), goog.events.listen(Hu, ["mousedown", "touchstart"], function () { wu.setHidden(!0), xu.setHidden(!0), 0 == t && su.setHidden(!1), 0 == o && mu.setHidden(!1), globalModalBlock = 0, Ju.setHidden(!0), Vu.setHidden(!0), function (t, o) { if (0 == globalModalBlock && (Ju.setHidden(!0), Vu.setHidden(!0), player.tools >= t)) { uu.setHidden(!0), player.tools = player.tools - t, player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) - parseInt(o), player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), fu.setHidden(!1), Su.setHidden(!1), vu.setHidden(!1); var i = 120, s = 100, n = 45, r = 220; lime.scheduleManager.scheduleWithDelay(function () { (Pu += 10) > 35 && (Pu = -10), Fu.setRotation(Pu) }, this, 200, 5 * i), lime.scheduleManager.scheduleWithDelay(function () { i -= 1, vu.setText(i), i <= 0 && (vu.setHidden(!0), Su.setHidden(!0), fu.setHidden(!0), i = 60) }, this, 1e3, 120), lime.scheduleManager.scheduleWithDelay(function () { fu.setPosition(n, r).setSize(s, 200), s += 10, r -= 5, (n -= 5) < 30 && (n = 45, r = 220, s = 100) }, this, 250, 4 * i), setTimeout(function () { uu.setHidden(!0), hu.setFill("images/vinyard/house4Upgrade2.png"), uu.setHidden(!0), vinyardHouseLevel = 2, questParams.terric[0].highestCompleted = 1, questParams.terric[1].completed = 1, Ey.setText(questParams.terric[2].text), Ju.setHidden(!1), Vu.setHidden(!1), e.makeJelly(), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), localStorage.setItem("GuiGhostFarms_toolsEver", toolsEver), localStorage.setItem("GuiGhostFarms_moneyEver", moneyEver), localStorage.GuiGhostFarms_vinyardHouseLevel = vinyardHouseLevel, by.setHidden(!1), setTimeout(function () { by.setHidden(!0) }, 2500) }, 1e3 * i) } }(250, 100) }) }); var Mu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(120, 260).setSize(50, 67).setFill("images/UI/speechBubble.png"); zh.appendChild(Mu); var ku = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(8, 2).setSize(30, 31).setFill("images/" + e.crops[13].harvest); Mu.appendChild(ku); var Lu = (new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23, 44).setSize(30, 18).setFontFamily("Comic Sans MS"); Mu.appendChild(Lu), Mu.setHidden(!0); var Bu = 0, Ou = (new lime.Label).setText("+ 1 Jelly").setFontWeight(600).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(145, 335).setOpacity(.4); zh.appendChild(Ou), Ou.setHidden(!0), goog.events.listen(Mu, ["mousedown", "touchstart"], function () { Mu.setHidden(!0), player.cropsStored[13].stored = player.cropsStored[13].stored + Bu, count13.setText(player.cropsStored[13].stored), Xa.setText(player.cropsStored[13].stored), Bu = 0, a.play() }); var Ru = (new lime.Label).setPosition(156, 180).setSize(25, 25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600); zh.appendChild(Ru); var Du = (new lime.Sprite).setPosition(30, -8).setSize(30, 30).setFill(imgArray11[0]); Ru.appendChild(Du), Ru.setHidden(!0); var Nu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, e.height - e.controlsLayer_h - 5).setSize(e.controlsLayer_w, e.controlsLayer_h + 5).setFill("images/UI/blackButton.png"); zh.appendChild(Nu); t.currentCrop; var Uu = (new lime.Label).setText("Growing " + e.crops[12].name).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontSize(12).setPosition(e.controlsLayer_w / 2 - 20, e.height - e.controlsLayer_h / 2 - 11); zh.appendChild(Uu); var Gu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 28, e.height - e.controlsLayer_h / 2 - 10).setFill("images/" + e.crops[12].harvest).setSize(30, 38); zh.appendChild(Gu); var Wu = (new lime.Sprite).setPosition(60, 350).setFill("images/vinyard/vinFarmer1.png").setSize(26, 26); zh.appendChild(Wu); var Vu = (new lime.GlossyButton).setColor("#008000").setText("").setPosition(5, -28).setSize(25, 23).setOpacity(.2); Wu.appendChild(Vu); var Ju = (new lime.Sprite).setPosition(5, -28).setSize(25, 25).setFill(imgArrayTown[15].src).setOpacity(.8); Wu.appendChild(Ju), Ju.current = 1, goog.events.listen(Wu, ["mousedown", "touchstart"], function () { qu() }), goog.events.listen(Vu, ["mousedown", "touchstart"], function () { qu() }); var Yu = questParams.terric[0].highestCompleted, ju = parseInt(player.cropsStored[17].stored); parseInt(player.cropsStored[13].stored); function qu() { ny.setHidden(!1), xy.setHidden(!1), su.setHidden(!0), mu.setHidden(!0), Yu = questParams.terric[0].highestCompleted, 0 == (ju = parseInt(player.cropsStored[17].stored)) && Yu >= 1 && (Ey = questParams.terric[2].text, Vu.setHidden(!1), Ju.setHidden(!1)) } var Ku = 0; lime.scheduleManager.scheduleWithDelay(function () { "Vineyard" == sceneActive && (Yu = questParams.terric[0].highestCompleted, ju = parseInt(player.cropsStored[17].stored), parseInt(player.cropsStored[13].stored), 0 == ju && Yu >= 1 && (Ju.setFill(imgArray[22].src), Ey = questParams.terric[2].text, Vu.setHidden(!1), Ju.setHidden(!1)), (Ku += 1) > 58 && (Ku = 1), Ku < 11 && Wu.setFill("images/vinyard/vinFarmer" + Ku + ".png"), 2 == Ku && Wu.setPosition(65, 350), 3 == Ku && Wu.setPosition(70, 350), 4 == Ku && (Wu.setPosition(75, 350), Wu.setFill("images/vinyard/vinFarmer4.png")), 5 == Ku && Wu.setPosition(75, 355), 6 == Ku && Wu.setPosition(75, 360), 7 == Ku && (Wu.setPosition(75, 365), Wu.setFill("images/vinyard/vinFarmer4.png")), 8 == Ku && (Wu.setPosition(75, 360), Wu.setFill("images/vinyard/vinFarmer4.png")), 9 == Ku && Wu.setPosition(75, 355), 10 == Ku && Wu.setPosition(75, 350), 11 == Ku && (Wu.setPosition(80, 350), Wu.setFill("images/vinyard/vinFarmer1.png")), 12 == Ku && (Wu.setPosition(85, 350), Wu.setFill("images/vinyard/vinFarmer2.png")), 13 == Ku && (Wu.setPosition(90, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 14 == Ku && (Wu.setPosition(95, 350), Wu.setFill("images/vinyard/vinFarmer1.png")), 15 == Ku && (Wu.setPosition(100, 350), Wu.setFill("images/vinyard/vinFarmer2.png")), 16 == Ku && (Wu.setPosition(105, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 17 == Ku && (Wu.setPosition(110, 350), Wu.setFill("images/vinyard/vinFarmer1.png")), 18 == Ku && (Wu.setPosition(115, 350), Wu.setFill("images/vinyard/vinFarmer2.png")), 19 == Ku && (Wu.setPosition(120, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 20 == Ku && (Wu.setPosition(125, 350), Wu.setFill("images/vinyard/vinFarmer1.png")), 21 == Ku && (Wu.setPosition(130, 350), Wu.setFill("images/vinyard/vinFarmer2.png")), 22 == Ku && (Wu.setPosition(135, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 23 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer2.png")), 24 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer8.png")), 25 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer8.png")), 26 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 27 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 28 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 29 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer9.png")), 30 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 31 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 32 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 33 == Ku && (Wu.setPosition(145, 350), Wu.setFill("images/vinyard/vinFarmer1.png")), 34 == Ku && (Wu.setPosition(150, 350), Wu.setFill("images/vinyard/vinFarmer2.png")), 35 == Ku && (Wu.setPosition(155, 350), Wu.setFill("images/vinyard/vinFarmer3.png")), 36 == Ku && (Wu.setPosition(160, 350), Wu.setFill("images/vinyard/vinFarmer1.png")), 37 == Ku && (Wu.setPosition(165, 350), Wu.setFill("images/vinyard/vinFarmer2.png")), 38 == Ku && (Wu.setPosition(165, 350), Wu.setFill("images/vinyard/vinFarmer4.png")), 39 == Ku && (Wu.setPosition(160, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 40 == Ku && (Wu.setPosition(155, 350), Wu.setFill("images/vinyard/vinFarmer17.png")), 41 == Ku && (Wu.setPosition(150, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 42 == Ku && (Wu.setPosition(145, 350), Wu.setFill("images/vinyard/vinFarmer19.png")), 43 == Ku && (Wu.setPosition(140, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 44 == Ku && (Wu.setPosition(135, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 45 == Ku && (Wu.setPosition(130, 350), Wu.setFill("images/vinyard/vinFarmer17.png")), 46 == Ku && (Wu.setPosition(125, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 47 == Ku && (Wu.setPosition(120, 350), Wu.setFill("images/vinyard/vinFarmer19.png")), 48 == Ku && (Wu.setPosition(115, 350), Wu.setFill("images/vinyard/vinFarmer17.png")), 49 == Ku && (Wu.setPosition(110, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 50 == Ku && (Wu.setPosition(105, 350), Wu.setFill("images/vinyard/vinFarmer19.png")), 51 == Ku && (Wu.setPosition(100, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 52 == Ku && (Wu.setPosition(95, 350), Wu.setFill("images/vinyard/vinFarmer17.png")), 53 == Ku && (Wu.setPosition(90, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 54 == Ku && (Wu.setPosition(85, 350), Wu.setFill("images/vinyard/vinFarmer19.png")), 55 == Ku && (Wu.setPosition(80, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 56 == Ku && (Wu.setPosition(75, 350), Wu.setFill("images/vinyard/vinFarmer17.png")), 57 == Ku && (Wu.setPosition(70, 350), Wu.setFill("images/vinyard/vinFarmer18.png")), 58 == Ku && (Wu.setPosition(65, 350), Wu.setFill("images/vinyard/vinFarmer4.png"))) }, this, 250); var $u = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.controlsLayer_w / 2 - 15, e.height / 2).setFill("images/" + e.crops[12].harvest).setSize(26, 21); zh.appendChild($u), $u.setHidden(!0); var Xu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 467).setSize(35, 35).setFill("images/UI/gearButton.png"); zh.appendChild(Xu); var Qu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 503).setSize(35, 35).setFill(imgArray[15]); zh.appendChild(Qu); var Zu = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 467).setSize(35, 35).setFill("images/UI/trophyBtn.png"); zh.appendChild(Zu); var ey = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 503).setSize(35, 35).setFill("images/UI/starButton.png"); zh.appendChild(ey), goog.events.listen(ey, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && QP() }), goog.events.listen(Qu, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (lime.audio.getMute() ? (lime.audio.setMute(!1), i.play(!0), localStorage.setItem("GuiGhostFarms_muted", 0), KP(2)) : (lime.audio.setMute(!0), KP(1), localStorage.setItem("GuiGhostFarms_muted", 1))) }), goog.events.listen(Zu, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && qP(sceneBefore = 4) }), goog.events.listen(Xu, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (sceneBefore = 4, p.replaceScene(ra, lime.transitions.SlideInUp)) }); var ty = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(208, e.height - e.controlsLayer_h).setSize(90, 61).setFill("images/" + e.barnyard[3].image); zh.appendChild(ty), goog.events.listen(ty, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 4, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored)) }), goog.events.listen(roadRightV, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (p.replaceScene(_o, lime.transitions.SlideInRight), sceneBefore = 2, t.currentCrop = 6, sceneActive = "Pasture") }), gh.setHidden(!0); var oy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-400, -105).setSize(e.width, 700).setFill(imgArray[24].src).setOpacity(.3); zh.appendChild(oy); var iy = (new lime.Sprite).setPosition(e.controlsLayer_w / 2 - 5, 22).setSize(38, 38).setFill("images/UI/inventoryBtn.png"); zh.appendChild(iy), goog.events.listen(iy, ["mousedown", "touchstart"], function () { e.sceneBefore = 4, Gl(), ll.setText(starCash), p.replaceScene(ha, lime.transitions.SlideInUp), sceneActive = "Inventory", Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored) }); var sy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(130, 449).setSize(35, 35).setFill("images/UI/compass22.png"); zh.appendChild(sy); var ny = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#000F00").setOpacity(.75); zh.appendChild(ny), ny.setHidden(!0); var ry = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 100).setSize(210, 220).setFill("images/UI/outOfCash.png"); zh.appendChild(ry); var ay = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(122, 212).setSize(75, 35).setFill("images/UI/buyStarCash.png"); ry.appendChild(ay); var ly = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 212).setSize(75, 35).setFill("images/UI/marketBtn.png"); ry.appendChild(ly); var gy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(89, 212).setSize(35, 35).setFill("images/UI/XButton.png"); ry.appendChild(gy), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), goog.events.listen(ay, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (warningSeen = 1, ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0), gh.setHidden(!0), QP()) }), goog.events.listen(ly, ["mousedown", "touchstart"], function () { warningSeen = 1, ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0), gh.setHidden(!0), e.updateStored(), townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored), globalModalBlock = 0 }), goog.events.listen(gy, ["mousedown", "touchstart"], function () { as.setHidden(!0), ls.setHidden(!0), ds.setHidden(!0), gs.setHidden(!0), $r.setHidden(!0), Qr.setHidden(!0), Xr.setHidden(!0), ry.setHidden(!0), ly.setHidden(!0), ay.setHidden(!0), xt.setHidden(!0), Et.setHidden(!0), Ht.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0), gh.setHidden(!0), warningSeen = 1, globalModalBlock = 0 }), player.money < e.crops[t.currentCrop].cost && 0 == warningSeen && (as.setHidden(!1), mt.setHidden(!1), Tr.setHidden(!1), ny.setHidden(!1), gh.setHidden(!1), ls.setHidden(!1), ds.setHidden(!1), gs.setHidden(!1), $r.setHidden(!1), Qr.setHidden(!1), Xr.setHidden(!1), ry.setHidden(!1), ly.setHidden(!1), ay.setHidden(!1), xt.setHidden(!1), Et.setHidden(!1), Ht.setHidden(!1), globalModalBlock = 1); var dy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 130).setSize(210, 220).setFill("images/UI/achieveNotif.png"), cy = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(13, 45).setSize(190, 60).setFontSize(16).setText("Blacksmith I"); dy.appendChild(cy); var my = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(30, 123).setSize(150, 60).setFontSize(12).setText("Achieve Text"); dy.appendChild(my); var py = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(21, 182).setSize(190, 60).setFontSize(18).setText(" + "); dy.appendChild(py); var hy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 211).setSize(40, 40).setFill("images/UI/checkButton.png"); dy.appendChild(hy), zh.appendChild(dy), dy.setHidden(!0), goog.events.listen(hy, ["mousedown", "touchstart"], function () { Dt.setHidden(!0), fs.setHidden(!0), dy.setHidden(!0), Jr.setHidden(!0), dh.setHidden(!0), 1 == tutSeen && (ny.setHidden(!0), Tr.setHidden(!0), as.setHidden(!0), gh.setHidden(!0), mt.setHidden(!0)) }); var uy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 100).setSize(250, 250).setFill("images/UI/compass3.png"); zh.appendChild(uy); var yy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 35).setSize(50, 50).setFill("images/UI/orchardBtn.png"); uy.appendChild(yy); var Sy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(170, 170).setSize(50, 50).setFill("images/UI/lsBtn.png"); uy.appendChild(Sy); var fy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 35).setSize(50, 50).setFill("images/UI/vinyardBtn.png"); uy.appendChild(fy); var vy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(96, 100).setSize(60, 60).setFill("images/UI/homeButton.png"); uy.appendChild(vy); var Fy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 170).setSize(50, 50).setFill("images/UI/pastureBtn.png"); uy.appendChild(Fy); var Py = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(100, 222).setSize(50, 50).setFill("images/UI/XButton.png"); uy.appendChild(Py), uy.setHidden(!0), goog.events.listen(sy, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (O(), ny.setHidden(!1)) }), goog.events.listen(Py, ["mousedown", "touchstart"], function () { R(), ny.setHidden(!0), globalModalBlock = 0 }), goog.events.listen(vy, ["mousedown", "touchstart"], function () { compassVisible && (R(), e.sceneBefore = 1, t.currentCrop = parseInt(homeCrop), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = 0)), p.replaceScene(h, lime.transitions.SlideInRight), sceneActive = "Home", ny.setHidden(!0), globalModalBlock = 0) }), goog.events.listen(Fy, ["mousedown", "touchstart"], function () { 1 == o[1].owned && compassVisible && (e.sceneBefore = 2, R(), n.play(), $P(), t.currentCrop = 6, p.replaceScene(_o, lime.transitions.SlideInRight), sceneActive = "Pasture", ny.setHidden(!0), globalModalBlock = 0) }), goog.events.listen(yy, ["mousedown", "touchstart"], function () { 1 == o[2].owned && compassVisible && (e.sceneBefore = 3, r.play(), R(), t.currentCrop, t.currentCrop = 8, p.replaceScene(Us, lime.transitions.SlideInRight), sceneActive = "Orchard", ny.setHidden(!0), globalModalBlock = 0) }), goog.events.listen(fy, ["mousedown", "touchstart"], function () { 1 == o[3].owned && compassVisible && (R(), ny.setHidden(!0), globalModalBlock = 0) }), goog.events.listen(Sy, ["mousedown", "touchstart"], function () { 1 == o[4].owned && compassVisible && (R(), e.sceneBefore = 5, p.replaceScene(dp, lime.transitions.SlideInRight), sceneActive = "LS", l.play(), g.play(), setTimeout(function () { d.play() }, 5e3), $P(), ny.setHidden(!0), globalModalBlock = 0) }); var wy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(60, 145).setSize(180, 200).setFill("images/UI/shortage.png"); zh.appendChild(wy); var Ay = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(70, 195).setSize(40, 40).setFill("images/UI/checkButton.png"); wy.appendChild(Ay); var Cy = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(5, 120).setSize(170, 40).setFontSize(14).setText("Jelly Making Halted!"); wy.appendChild(Cy); var Ty = (new lime.Label).setAnchorPoint(0, 0).setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setPosition(2, 140).setSize(175, 40).setFontSize(10).setText("You need to grow more GRAPES to make JELLY"); wy.appendChild(Ty); var _y = (new lime.Sprite).setPosition(85, 180).setFill("images/" + e.crops[12].harvest).setSize(20, 25); wy.appendChild(_y); var Iy = (new lime.Label).setPosition(105, 186).setSize(20, 16).setText(player.cropsStored[12].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08"); wy.appendChild(Iy), wy.setHidden(!0), goog.events.listen(Ay, ["mousedown", "touchstart"], function () { wy.setHidden(!0), 2 == isblocked1 && lu.setHidden(!0), ny.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0) }); var by = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(30, 130).setSize(250, 250).setFill("images/vinyard/jellyBonus2.png"); zh.appendChild(by), by.setHidden(!0); var xy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(15, 115).setSize(e.width - 30, e.height / 2).setFill("images/UI/blankBack4.png"); zh.appendChild(xy), _c.setHidden(!0); var Hy = (new lime.Label).setAnchorPoint(0, 0).setPosition(40, 25).setText("Vinemaster Terric").setFontFamily("Comic Sans MS").setFontSize(24); xy.appendChild(Hy); var Ey = (new lime.Label).setAnchorPoint(0, 0).setPosition(20, 155).setText(questParams.terric[1].text).setFontFamily("Comic Sans MS").setFontSize(16).setSize(e.width - 80, e.height / 2 - 50); xy.appendChild(Ey); var zy = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(90, 45).setSize(100, 100).setFill("images/vinyard/vinFarmer7.png"); xy.appendChild(zy); var My = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140, 235).setSize(100, 20); xy.appendChild(My), goog.events.listen(My, ["mousedown", "touchstart"], function () { Ju.setHidden(!0), Vu.setHidden(!0), xy.setHidden(!0), ny.setHidden(!0), 2 == isblocked1 ? lu.setHidden(!0) : lu.setHidden(!1), 2 == isblocked2 ? ou.setHidden(!0) : ou.setHidden(!1), ny.setHidden(!0), as.setHidden(!0), mt.setHidden(!0), Tr.setHidden(!0) }), xy.setHidden(!0); var ky = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), Ly = (new lime.Layer).setAnchorPoint(0, 0), By = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height).setFill("#0D0D0D"); ky.appendChild(By), ky.appendChild(Ly); var Oy = (new lime.Sprite).setAnchorPoint(0).setPosition(0, 0).setFill("images/UI/achieveBack.png").setSize(e.width, e.height); Ly.appendChild(Oy), backBtnAchieve = (new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(e.width / 2, e.height - 20).setSize(80, 40), Ly.appendChild(backBtnAchieve); var Ry = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 80).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(Ry); var Dy = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75, 85).setText("Harvester I").setSize(152, 40); Ly.appendChild(Dy); var Ny = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setFontSize(11).setPosition(80, 108).setText("Harvest 500 crops").setSize(152, 40); Ly.appendChild(Ny); var Uy = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 80).setFill("images/UI/plus3StarCash.png").setSize(30, 29.5); Ly.appendChild(Uy); var Gy = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 85).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(Gy); var Wy = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 125).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(Wy); var Vy = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75, 130).setText("Harvester II").setSize(152, 40); Ly.appendChild(Vy); var Jy = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80, 153).setFontSize(11).setText("Harvest 5000 crops").setSize(152, 40); Ly.appendChild(Jy); var Yy = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 125).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(Yy); var jy = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 130).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(jy); var qy = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 170).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(qy); var Ky = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75, 175).setText("Expansion").setSize(152, 40); Ly.appendChild(Ky); var $y = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80, 198).setFontSize(11).setText("Purchase another Acre").setSize(152, 40); Ly.appendChild($y); var Xy = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 170).setFill("images/UI/plus3StarCash.png").setSize(30, 29.5); Ly.appendChild(Xy); var Qy = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 175).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(Qy); var Zy = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 215).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(Zy); var eS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75, 220).setText("Carpenter").setSize(152, 40); Ly.appendChild(eS); var tS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80, 243).setFontSize(11).setText("Upgrade Barn to Max").setSize(152, 40); Ly.appendChild(tS); var oS = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 215).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(oS); var iS = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 220).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(iS); var sS = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 80).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(sS); var nS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220, 85).setText("Blacksmith I").setSize(152, 40); Ly.appendChild(nS); var rS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 108).setFontSize(11).setText("Collect 500 Tools").setSize(152, 40); Ly.appendChild(rS); var aS = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 80).setFill("images/UI/plus3StarCash.png").setSize(30, 29.5); Ly.appendChild(aS); var lS = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 85).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(lS); var gS = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 125).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(gS); var dS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220, 130).setText("Blacksmith II").setSize(152, 40); Ly.appendChild(dS); var cS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 153).setFontSize(11).setText("Collect 5000 Tools").setSize(152, 40); Ly.appendChild(cS); var mS = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 125).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(mS); var pS = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 130).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(pS); var hS = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 170).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(hS); var uS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220, 175).setText("Patience").setSize(152, 40); Ly.appendChild(uS); var yS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 198).setFontSize(11).setText("Play for 1 Farm Year").setSize(152, 40); Ly.appendChild(yS); var SS = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 170).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(SS); var fS = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 175).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(fS); var vS = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 215).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(vS); var FS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220, 220).setText("Acreage").setSize(152, 40); Ly.appendChild(FS); var PS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 243).setFontSize(11).setText("Own 5 Acres").setSize(152, 40); Ly.appendChild(PS); var wS = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 215).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ly.appendChild(wS); var AS = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 220).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(AS); var CS = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 260).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(CS); var TS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75, 265).setText("Jelly Making").setSize(152, 40); Ly.appendChild(TS); var _S = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80, 288).setFontSize(11).setText("Unlock Jelly Making").setSize(152, 40); Ly.appendChild(_S); var IS = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 260).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(IS); var bS = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 265).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(bS); var xS = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 305).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(xS); var HS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75, 310).setText("Lumberjack").setSize(152, 40); Ly.appendChild(HS); var ES = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(75, 332).setFontSize(11).setText("Clear all Forests").setSize(152, 40); Ly.appendChild(ES); var zS = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 305).setFill("images/UI/plus10StarCash.png").setSize(30, 29.5); Ly.appendChild(zS); var MS = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 310).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(MS); var kS = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 350).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(kS); var LS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(67, 355).setText("Breakfast Time").setSize(152, 40); Ly.appendChild(LS); var BS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80, 378).setFontSize(11).setText("Obtain 100 Ham and Eggs").setSize(152, 40); Ly.appendChild(BS); var OS = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 350).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(OS); var RS = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 355).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(RS); var DS = (new lime.Sprite).setAnchorPoint(0).setPosition(9, 395).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(DS); var NS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFill("#663300").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(72, 400).setText("Balanced Diet").setSize(152, 40); Ly.appendChild(NS); var US = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(75, 423).setFontSize(11).setText("Own 10 of each Crop").setSize(152, 40); Ly.appendChild(US); var GS = (new lime.Sprite).setAnchorPoint(0).setPosition(120, 395).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(GS); var WS = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 400).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(WS); var VS = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 260).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(VS); var JS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(224, 265).setText("Milk Master").setSize(152, 40); Ly.appendChild(JS); var YS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 287).setFontSize(11).setText("Upgrade Dairy to Max").setSize(152, 40); Ly.appendChild(YS); var jS = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 260).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(jS); var qS = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 265).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(qS); var KS = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 305).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(KS); var $S = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220, 310).setText("Merchant").setSize(152, 40); Ly.appendChild($S); var XS = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 332).setFontSize(11).setText("Earn $5000 at Market").setSize(152, 40); Ly.appendChild(XS); var QS = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 305).setFill("images/UI/plus5StarCash.png").setSize(30, 29.5); Ly.appendChild(QS); var ZS = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 310).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(ZS); var ef = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 350).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(ef); var tf = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220, 355).setText("Cross-Over").setSize(152, 40); Ly.appendChild(tf); var of = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 378).setFontSize(11).setText("Convert Stars to Coins").setSize(152, 40); Ly.appendChild(of); var sf = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 350).setFill("images/UI/plus3StarCash.png").setSize(30, 29.5); Ly.appendChild(sf); var nf = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 355).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(nf); var rf = (new lime.Sprite).setAnchorPoint(0).setPosition(157, 395).setFill(imgArray[18].src).setSize(142, 40); Ly.appendChild(rf); var af = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(219, 400).setText("Back for More").setSize(152, 40); Ly.appendChild(af); var lf = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226, 423).setFontSize(11).setText("Play for 10 Farm Years").setSize(152, 40); Ly.appendChild(lf); var gf = (new lime.Sprite).setAnchorPoint(0).setPosition(266, 395).setFill("images/UI/plus25StarCash.png").setSize(30, 29.5); Ly.appendChild(gf); var df = (new lime.Sprite).setAnchorPoint(0).setPosition(158, 400).setFill("images/UI/check.png").setSize(16, 16); Ly.appendChild(df); var cf = (new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#5c00e6").setFontSize(18).setPosition(160, 472).setText(starCash).setSize(152, 40); Ly.appendChild(cf); var mf = (new lime.Scene).setRenderer(lime.Renderer.CANVAS), pf = (new lime.Layer).setAnchorPoint(0, 0), hf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(0, 0).setSize(e.width, e.height - 90).setFill("#0D0D0D"); mf.appendChild(hf), mf.appendChild(pf); var uf = (new lime.Sprite).setAnchorPoint(0).setPosition(0, 30).setFill("images/UI/brownBtn.png").setSize(e.width, 125); pf.appendChild(uf); var yf = (new lime.Sprite).setAnchorPoint(0).setPosition(0, 115).setFill("images/houseUpgrades/FarmHomeInteriorOrange.png").setSize(e.width, e.height - 165); pf.appendChild(yf); var Sf = (new lime.Sprite).setAnchorPoint(0).setPosition(123, 30).setFill(imgArray12[0]).setSize(64, 46); yf.appendChild(Sf); var ff = (new lime.Sprite).setAnchorPoint(0).setPosition(20, 20).setFill(imgArray12[1]).setSize(22, 18); Sf.appendChild(ff); var vf = (new lime.Sprite).setAnchorPoint(0).setPosition(160, 372).setFill(imgArray12[4]).setSize(22, 15); pf.appendChild(vf); var Ff = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(190, 350).setSize(55, 55).setFill(imgArrayDenise[0].src); pf.appendChild(Ff); var Pf = (new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(35, -1).setSize(25, 23).setOpacity(.2); Ff.appendChild(Pf); var wf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(23, -13).setSize(25, 25).setFill(imgArrayTown[15].src).setOpacity(.8); function Af() { var e = ""; e = 0 == houseUpgrades.upgrades[1].owned ? "We Need a BED to sleep in" : 0 == houseUpgrades.upgrades[2].owned ? "I wish I had a CHEST to put stuff." : 0 == houseUpgrades.upgrades[3].owned ? "We need a SINK to cook and clean - please buy one" : 0 == houseUpgrades.upgrades[4].owned ? "Are we Animals? We need a TABLE to eat on." : 0 == houseUpgrades.upgrades[5].owned ? "You are gonna buy some CHAIRS right?" : 0 == houseUpgrades.upgrades[6].owned ? "All the ladies in town have a DRESSING TABLE, but I do not...." : 0 == houseUpgrades.upgrades[7].owned ? "A BEDSIDE TABLE would be very nice to have" : 0 == houseUpgrades.upgrades[8].owned ? "We need more decor. A POTTED PLANT would be nice" : 0 == houseUpgrades.upgrades[9].owned ? "A COUCH to sit on would be nice to have over there" : 0 == houseUpgrades.upgrades[10].owned ? 1 == houseUpgrades.upgrades[0].owned ? "We need some CURTAINS for this new space" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[11].owned ? 1 == houseUpgrades.upgrades[0].owned ? "We need a DOUBLE BED to fill this space" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[12].owned ? 1 == houseUpgrades.upgrades[0].owned ? "I wish I had STOOL to sit on back there" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[13].owned ? 1 == houseUpgrades.upgrades[0].owned ? "I wish I had WARDROBE to hang my dresses" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[14].owned ? 1 == houseUpgrades.upgrades[0].owned ? "I sure do like that FANCY COUCH. Won't you buy it for me?" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[15].owned ? 1 == houseUpgrades.upgrades[0].owned ? "Don't you think BOOKSHELVES would look good here?" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[16].owned ? 1 == houseUpgrades.upgrades[0].owned ? "That FANCY TABLE is so elegant. I wish we could have it" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[17].owned ? 1 == houseUpgrades.upgrades[0].owned ? "Now we need some FANCY CHAIRS to complete our set" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[18].owned ? 1 == houseUpgrades.upgrades[0].owned ? "Don't you need a DESK to keep the farm in order?" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[19].owned ? 1 == houseUpgrades.upgrades[0].owned ? "That PAINTING would look good over the mantle" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[20].owned ? 1 == houseUpgrades.upgrades[0].owned ? "I need a DISH CABINET to keep our dishes" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[21].owned ? 1 == houseUpgrades.upgrades[0].owned ? "We need a TRUNK to store Patricia's toys" : "We need more room; a little one is on the way" : 0 == houseUpgrades.upgrades[22].owned ? 1 == houseUpgrades.upgrades[0].owned ? "A different color of walls would be a nice" : "We need more room; a little one is on the way" : "I am happy and don't need anything....for the moment", EP.setText(e) } Ff.appendChild(wf), goog.events.listen(Pf, ["mousedown", "touchstart"], function () { Af(), xP.setHidden(!1) }); var Cf = 0; fireState = 1, lime.scheduleManager.scheduleWithDelay(function () { "House" == sceneActive && (1 == houseUpgrades.upgrades[0].owned ? Tf.setHidden(!1) : Tf.setHidden(!0), Cf++ , ff.setFill(imgArray12[fireState]), vf.setFill(imgArray12[fireState + 3]), fireState++ , fireState > 3 && (fireState = 1), 1 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[1].src), Tf.setPosition(202, 145).setFill(imgArrayPatricia[0].src)), 2 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[8].src), Tf.setPosition(202, 150).setFill(imgArrayPatricia[1].src)), 3 == Cf && (Ff.setPosition(185, 360).setFill(imgArrayDenise[8].src), Tf.setPosition(202, 155).setFill(imgArrayPatricia[2].src)), 4 == Cf && (Ff.setPosition(180, 360).setFill(imgArrayDenise[9].src), Tf.setPosition(202, 160).setFill(imgArrayPatricia[3].src)), 5 == Cf && (Ff.setPosition(175, 360).setFill(imgArrayDenise[10].src), Tf.setPosition(202, 165).setFill(imgArrayPatricia[0].src)), 6 == Cf && (Ff.setPosition(170, 360).setFill(imgArrayDenise[11].src), Tf.setPosition(202, 170).setFill(imgArrayPatricia[1].src)), 7 == Cf && (Ff.setPosition(165, 360).setFill(imgArrayDenise[10].src), Tf.setPosition(202, 175).setFill(imgArrayPatricia[2].src)), 8 == Cf && (Ff.setPosition(160, 360).setFill(imgArrayDenise[9].src), Tf.setPosition(202, 180).setFill(imgArrayPatricia[3].src)), 9 == Cf && (Ff.setPosition(155, 360).setFill(imgArrayDenise[8].src), Tf.setPosition(202, 185).setFill(imgArrayPatricia[0].src)), 10 == Cf && (Ff.setPosition(150, 360).setFill(imgArrayDenise[9].src), Tf.setPosition(202, 190).setFill(imgArrayPatricia[1].src)), 11 == Cf && (Ff.setPosition(145, 360).setFill(imgArrayDenise[10].src), Tf.setPosition(202, 195).setFill(imgArrayPatricia[2].src)), 12 == Cf && (Ff.setPosition(140, 360).setFill(imgArrayDenise[11].src), Tf.setPosition(202, 200).setFill(imgArrayPatricia[3].src)), 12 == Cf && (Ff.setPosition(135, 355).setFill(imgArrayDenise[8].src), Tf.setPosition(202, 205).setFill(imgArrayPatricia[0].src)), 12 == Cf && (Ff.setPosition(130, 355).setFill(imgArrayDenise[9].src), Tf.setPosition(202, 205).setFill(imgArrayPatricia[4].src)), 12 == Cf && (Ff.setPosition(125, 350).setFill(imgArrayDenise[10].src), Tf.setPosition(195, 205).setFill(imgArrayPatricia[5].src)), 13 == Cf && (Ff.setPosition(120, 350).setFill(imgArrayDenise[11].src), Tf.setPosition(190, 205).setFill(imgArrayPatricia[6].src)), 14 == Cf && (Ff.setPosition(115, 350).setFill(imgArrayDenise[10].src), Tf.setPosition(185, 205).setFill(imgArrayPatricia[7].src)), 15 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[9].src), Tf.setPosition(180, 205).setFill(imgArrayPatricia[4].src)), 16 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[13].src), Tf.setPosition(175, 205).setFill(imgArrayPatricia[5].src)), 17 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[13].src), Tf.setPosition(170, 205).setFill(imgArrayPatricia[6].src)), 18 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[13].src), Tf.setPosition(165, 205).setFill(imgArrayPatricia[7].src)), 19 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[13].src), Tf.setPosition(160, 205).setFill(imgArrayPatricia[6].src)), 20 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[13].src), Tf.setPosition(155, 205).setFill(imgArrayPatricia[5].src)), 21 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[14].src), Tf.setPosition(150, 205).setFill(imgArrayPatricia[4].src)), 22 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[8].src), Tf.setPosition(145, 205).setFill(imgArrayPatricia[5].src)), 23 == Cf && (Ff.setPosition(110, 350).setFill(imgArrayDenise[1].src), Tf.setPosition(140, 205).setFill(imgArrayPatricia[6].src)), 24 == Cf && (Ff.setPosition(110, 355).setFill(imgArrayDenise[0].src), Tf.setPosition(135, 205).setFill(imgArrayPatricia[7].src)), 25 == Cf && (Ff.setPosition(110, 360).setFill(imgArrayDenise[1].src), Tf.setPosition(130, 205).setFill(imgArrayPatricia[6].src)), 26 == Cf && (Ff.setPosition(110, 365).setFill(imgArrayDenise[2].src), Tf.setPosition(125, 205).setFill(imgArrayPatricia[5].src)), 27 == Cf && (Ff.setPosition(110, 370).setFill(imgArrayDenise[3].src), Tf.setPosition(120, 205).setFill(imgArrayPatricia[4].src)), 28 == Cf && (Ff.setPosition(110, 375).setFill(imgArrayDenise[0].src), Tf.setPosition(115, 205).setFill(imgArrayPatricia[7].src)), 29 == Cf && (Ff.setPosition(110, 380).setFill(imgArrayDenise[1].src), Tf.setPosition(110, 205).setFill(imgArrayPatricia[6].src)), 30 == Cf && (Ff.setPosition(110, 380).setFill(imgArrayDenise[1].src), Tf.setPosition(105, 205).setFill(imgArrayPatricia[5].src)), 31 == Cf && (Ff.setPosition(110, 380).setFill(imgArrayDenise[1].src), Tf.setPosition(100, 205).setFill(imgArrayPatricia[4].src)), 32 == Cf && (Ff.setPosition(110, 380).setFill(imgArrayDenise[1].src), Tf.setPosition(95, 205).setFill(imgArrayPatricia[5].src)), 33 == Cf && (Ff.setPosition(110, 380).setFill(imgArrayDenise[1].src), Tf.setPosition(90, 205).setFill(imgArrayPatricia[6].src)), 34 == Cf && (Ff.setPosition(110, 375).setFill(imgArrayDenise[4].src), Tf.setPosition(85, 205).setFill(imgArrayPatricia[7].src)), 35 == Cf && (Ff.setPosition(115, 370).setFill(imgArrayDenise[5].src), Tf.setPosition(80, 205).setFill(imgArrayPatricia[6].src)), 36 == Cf && (Ff.setPosition(120, 365).setFill(imgArrayDenise[6].src), Tf.setPosition(75, 205).setFill(imgArrayPatricia[5].src)), 37 == Cf && (Ff.setPosition(125, 360).setFill(imgArrayDenise[7].src), Tf.setPosition(70, 205).setFill(imgArrayPatricia[4].src)), 38 == Cf && (Ff.setPosition(130, 360).setFill(imgArrayDenise[4].src), Tf.setPosition(70, 205).setFill(imgArrayPatricia[12].src)), 39 == Cf && (Ff.setPosition(135, 360).setFill(imgArrayDenise[5].src), Tf.setPosition(70, 200).setFill(imgArrayPatricia[13].src)), 40 == Cf && (Ff.setPosition(140, 360).setFill(imgArrayDenise[4].src), Tf.setPosition(70, 195).setFill(imgArrayPatricia[14].src)), 41 == Cf && (Ff.setPosition(145, 360).setFill(imgArrayDenise[5].src), Tf.setPosition(70, 190).setFill(imgArrayPatricia[15].src)), 42 == Cf && (Ff.setPosition(150, 360).setFill(imgArrayDenise[4].src), Tf.setPosition(70, 185).setFill(imgArrayPatricia[12].src)), 43 == Cf && (Ff.setPosition(155, 360).setFill(imgArrayDenise[5].src), Tf.setPosition(70, 180).setFill(imgArrayPatricia[13].src)), 44 == Cf && (Ff.setPosition(160, 360).setFill(imgArrayDenise[4].src), Tf.setPosition(70, 175).setFill(imgArrayPatricia[14].src)), 45 == Cf && (Ff.setPosition(175, 360).setFill(imgArrayDenise[5].src), Tf.setPosition(70, 170).setFill(imgArrayPatricia[15].src)), 46 == Cf && (Ff.setPosition(180, 360).setFill(imgArrayDenise[4].src), Tf.setPosition(70, 165).setFill(imgArrayPatricia[12].src)), 47 == Cf && (Ff.setPosition(185, 360).setFill(imgArrayDenise[5].src), Tf.setPosition(70, 160).setFill(imgArrayPatricia[13].src)), 48 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[6].src), Tf.setPosition(70, 155).setFill(imgArrayPatricia[14].src)), 49 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[0].src), Tf.setPosition(70, 150).setFill(imgArrayPatricia[15].src)), 50 == Cf && Tf.setPosition(70, 150).setFill(imgArrayPatricia[4].src), 51 == Cf && Tf.setPosition(70, 150).setFill(imgArrayPatricia[0].src), 52 == Cf && Tf.setPosition(70, 150).setFill(imgArrayPatricia[8].src), 53 == Cf && Tf.setPosition(70, 150).setFill(imgArrayPatricia[0].src), 54 == Cf && Tf.setPosition(70, 150).setFill(imgArrayPatricia[4].src), 55 == Cf && Tf.setPosition(70, 150).setFill(imgArrayPatricia[0].src), 58 == Cf && Tf.setPosition(70, 150).setFill(imgArrayPatricia[12].src), 59 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[4].src), Tf.setPosition(70, 145).setFill(imgArrayPatricia[12].src)), 60 == Cf && Tf.setPosition(70, 145).setFill(imgArrayPatricia[8].src), 61 == Cf && Tf.setPosition(75, 145).setFill(imgArrayPatricia[9].src), 62 == Cf && Tf.setPosition(80, 145).setFill(imgArrayPatricia[10].src), 63 == Cf && Tf.setPosition(85, 145).setFill(imgArrayPatricia[11].src), 64 == Cf && Tf.setPosition(90, 145).setFill(imgArrayPatricia[8].src), 65 == Cf && Tf.setPosition(95, 145).setFill(imgArrayPatricia[9].src), 66 == Cf && Tf.setPosition(100, 145).setFill(imgArrayPatricia[10].src), 67 == Cf && Tf.setPosition(105, 145).setFill(imgArrayPatricia[11].src), 68 == Cf && Tf.setPosition(110, 145).setFill(imgArrayPatricia[8].src), 69 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[0].src), Tf.setPosition(115, 145).setFill(imgArrayPatricia[9].src)), 70 == Cf && Tf.setPosition(120, 145).setFill(imgArrayPatricia[10].src), 71 == Cf && Tf.setPosition(125, 145).setFill(imgArrayPatricia[11].src), 72 == Cf && Tf.setPosition(130, 145).setFill(imgArrayPatricia[8].src), 73 == Cf && Tf.setPosition(135, 145).setFill(imgArrayPatricia[9].src), 74 == Cf && Tf.setPosition(140, 145).setFill(imgArrayPatricia[11].src), 75 == Cf && Tf.setPosition(145, 145).setFill(imgArrayPatricia[8].src), 76 == Cf && Tf.setPosition(150, 145).setFill(imgArrayPatricia[9].src), 77 == Cf && Tf.setPosition(155, 145).setFill(imgArrayPatricia[10].src), 78 == Cf && Tf.setPosition(160, 145).setFill(imgArrayPatricia[11].src), 79 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[15].src), Tf.setPosition(165, 145).setFill(imgArrayPatricia[9].src)), 80 == Cf && Tf.setPosition(170, 145).setFill(imgArrayPatricia[10].src), 81 == Cf && Tf.setPosition(175, 145).setFill(imgArrayPatricia[11].src), 82 == Cf && Tf.setPosition(180, 145).setFill(imgArrayPatricia[8].src), 83 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[1].src), Tf.setPosition(185, 145).setFill(imgArrayPatricia[9].src)), 84 == Cf && Tf.setPosition(190, 145).setFill(imgArrayPatricia[10].src), 85 == Cf && Tf.setPosition(195, 145).setFill(imgArrayPatricia[11].src), 86 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[8].src), 89 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[1].src), Tf.setPosition(202, 145).setFill(imgArrayPatricia[4].src)), 90 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[0].src), 91 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[8].src), 92 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[0].src), 93 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[4].src), 94 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[0].src), 95 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[15].src), Tf.setPosition(202, 145).setFill(imgArrayPatricia[8].src)), 96 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[0].src), 97 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[4].src), 98 == Cf && Tf.setPosition(202, 145).setFill(imgArrayPatricia[0].src), 99 == Cf && (Ff.setPosition(190, 360).setFill(imgArrayDenise[1].src), Tf.setPosition(202, 145).setFill(imgArrayPatricia[0].src)), Cf >= 100 && (Cf = 0)) }, this, 200); var Tf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(202, 145).setSize(55, 55).setFill(imgArrayPatricia[0].src); pf.appendChild(Tf); var _f = (new lime.Sprite).setPosition(155, 217).setSize(e.width - 15, 180).setFill("#000000").setHidden(!1); pf.appendChild(_f); var If = (new lime.GlossyButton).setColor("#000000").setAnchorPoint(0).setPosition(-0, -30).setSize(40, 50).setText("").setOpacity(.8); _f.appendChild(If); var bf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(80, 200).setSize(100, 20); pf.appendChild(bf); var xf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-20, -24).setSize(40, 50).setFill("images/UI/upBtn.png"); If.appendChild(xf); var Hf = (new lime.Label).setAnchorPoint(0, 0).setPosition(-70, 50).setSize(140, 18).setText("Expand Your Home").setFontColor("#f0ffff").setOpacity(1); If.appendChild(Hf); var Ef = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-125, -85).setSize(e.width - 75, 150).setFill("images/scaffold.png"); _f.appendChild(Ef); var zf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-130, -100).setSize(300, 200).setFill(imgArray[24].src); _f.appendChild(zf); var Mf = (new lime.Label).setText("90").setPosition(5, 27).setSize(40, 25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill("images/countBack.png"), kf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-22, -50).setSize(50, 50).setFill("images/toolHammer.png"); _f.appendChild(Mf), Mf.appendChild(kf), kf.setRotation(-10), Mf.setHidden(!0), Ef.setHidden(!0), zf.setHidden(!0); var Lf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, 0).setSize(e.controlsLayer_w - 2, e.controlsLayer_h - 25).setFill("images/UI/greenButtonLg.png"); pf.appendChild(Lf); var Bf = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(10, 3).setSize(35, 35).setFill("images/UI/toolsIcon2.png"), Of = (new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(69, 24).setFontSize(18); pf.appendChild(Bf), pf.appendChild(Of); var Rf = (new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(245, 24); pf.appendChild(Rf); var Df = (new lime.Sprite).setPosition(285, 20).setSize(35, 35).setFill(imgArray11[0]); pf.appendChild(Df); var Nf = (new lime.Label).setText("Home Store").setPosition(e.width / 2, 109).setSize(250, 18).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); pf.appendChild(Nf); var Uf = (new lime.Sprite).setAnchorPoint(0).setPosition(0, 42).setSize(e.width, 100).setFill("#E8FC08"); pf.appendChild(Uf); var Gf = 85, Wf = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(Wf); var Vf = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -25).setFill(imgArray11[1]).setSize(25, 44); Wf.appendChild(Vf); var Jf = (new lime.Label).setText(houseUpgrades.upgrades[1].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); Wf.appendChild(Jf); var Yf = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); Wf.appendChild(Yf); var jf = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(250, 270).setSize(28, 63).setText(""), qf = (new lime.Sprite).setAnchorPoint(0).setPosition(-14, -34).setFill(imgArray11[1]).setSize(28, 64); yf.appendChild(jf), jf.appendChild(qf), jf.setHidden(!0), Gf += 70; var Kf = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(Kf); var $f = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -25).setFill(imgArray11[2]).setSize(25, 40); Kf.appendChild($f); var Xf = (new lime.Label).setText(houseUpgrades.upgrades[2].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); Kf.appendChild(Xf); var Qf = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); Kf.appendChild(Qf); var Zf = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(210, 347).setSize(25, 44).setText(""), ev = (new lime.Sprite).setAnchorPoint(0).setPosition(-12, -24).setFill(imgArray11[2]).setSize(25, 45); yf.appendChild(Zf), Zf.appendChild(ev), Zf.setHidden(!0), Gf += 70; var tv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(tv); var ov = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -25).setFill(imgArray11[3]).setSize(25, 45); tv.appendChild(ov); var iv = (new lime.Label).setText(houseUpgrades.upgrades[3].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); tv.appendChild(iv); var sv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); tv.appendChild(sv); var nv = (new lime.Sprite).setAnchorPoint(0).setPosition(113, 241).setFill(imgArray11[3]).setSize(42, 35); yf.appendChild(nv), nv.setHidden(!0), Gf += 70; var rv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(rv); var av = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -25).setFill(imgArray11[4]).setSize(25, 40); rv.appendChild(av); var lv = (new lime.Label).setText(houseUpgrades.upgrades[4].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); rv.appendChild(lv); var gv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); rv.appendChild(gv); var dv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(63, 322).setSize(32, 46).setText(""), cv = (new lime.Sprite).setAnchorPoint(0).setPosition(-15, -29).setFill(imgArray11[4]).setSize(32, 56); yf.appendChild(dv), dv.appendChild(cv), dv.setHidden(!0), Gf += 70; var mv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(mv); var pv = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -25).setFill(imgArray11[5]).setSize(24, 44); mv.appendChild(pv); var hv = (new lime.Label).setText(houseUpgrades.upgrades[5].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); mv.appendChild(hv); var uv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); mv.appendChild(uv); var yv = (new lime.Sprite).setAnchorPoint(0).setPosition(25, 267).setFill("images/houseUpgrades/woodChairSet2.png").setSize(79, 99); yf.appendChild(yv), yv.setHidden(!0), Gf += 70; var Sv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(Sv); var fv = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -25).setFill(imgArray11[6]).setSize(24, 44); Sv.appendChild(fv); var vv = (new lime.Label).setText(houseUpgrades.upgrades[6].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); Sv.appendChild(vv); var Fv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); Sv.appendChild(Fv); var Pv = (new lime.Sprite).setAnchorPoint(0).setPosition(267, 216).setFill(imgArray11[6]).setSize(32, 56); yf.appendChild(Pv), Pv.setHidden(!0), Gf += 70; var wv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(wv); var Av = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -15).setFill(imgArray11[7]).setSize(22, 20); wv.appendChild(Av); var Cv = (new lime.Label).setText(houseUpgrades.upgrades[7].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); wv.appendChild(Cv); var Tv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); wv.appendChild(Tv); var _v = (new lime.Sprite).setAnchorPoint(0).setPosition(212, 242).setFill(imgArray11[7]).setSize(22, 32); yf.appendChild(_v), _v.setHidden(!0), Gf += 70; var Iv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(Iv); var bv = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -15).setFill(imgArray11[8]).setSize(22, 34); Iv.appendChild(bv); var xv = (new lime.Label).setText(houseUpgrades.upgrades[8].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); Iv.appendChild(xv); var Hv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); Iv.appendChild(Hv); var Ev = (new lime.Sprite).setAnchorPoint(0).setPosition(127, 328).setFill(imgArray11[8]).setSize(25, 40); yf.appendChild(Ev), Ev.setHidden(!0), Gf += 70; var zv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(zv); var Mv = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -15).setFill(imgArray11[9]).setSize(22, 34); zv.appendChild(Mv); var kv = (new lime.Label).setText(houseUpgrades.upgrades[9].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); zv.appendChild(kv); var Lv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); zv.appendChild(Lv); var Bv = (new lime.Sprite).setAnchorPoint(0).setPosition(271, 318).setFill(imgArray11[9]).setSize(28, 50); yf.appendChild(Bv), Bv.setHidden(!0), Gf += 70; var Ov = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(Ov); var Rv = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -15).setFill(imgArray11[10]).setSize(22, 34); Ov.appendChild(Rv); var Dv = (new lime.Label).setText(houseUpgrades.upgrades[10].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); Ov.appendChild(Dv); var Nv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); Ov.appendChild(Nv); var Uv = (new lime.Sprite).setAnchorPoint(0).setPosition(59, 25).setFill(imgArray11[10]).setSize(39, 46); yf.appendChild(Uv); var Gv = (new lime.Sprite).setAnchorPoint(0).setPosition(213, 25).setFill(imgArray11[10]).setSize(39, 46); yf.appendChild(Gv), Uv.setHidden(!0), Gv.setHidden(!0), Gf += 70; var Wv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(Wv); var Vv = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -15).setFill(imgArray11[11]).setSize(22, 34); Wv.appendChild(Vv); var Jv = (new lime.Label).setText(houseUpgrades.upgrades[11].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); Wv.appendChild(Jv); var Yv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); Wv.appendChild(Yv); var jv = (new lime.Sprite).setAnchorPoint(0).setPosition(e.controlsLayer_w - 70, 48).setFill(imgArray11[11]).setSize(50, 70); yf.appendChild(jv), jv.setHidden(!0), Gf += 70; var qv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(qv); var Kv = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -15).setFill(imgArray11[12]).setSize(22, 34); qv.appendChild(Kv); var $v = (new lime.Label).setText(houseUpgrades.upgrades[12].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); qv.appendChild($v); var Xv = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); qv.appendChild(Xv); var Qv = (new lime.Sprite).setAnchorPoint(0).setPosition(30, 130).setFill(imgArray11[12]).setSize(18, 24); yf.appendChild(Qv), Qv.setHidden(!0), Gf += 70; var Zv = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(Zv); var eF = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -15).setFill(imgArray11[13]).setSize(22, 34); Zv.appendChild(eF); var tF = (new lime.Label).setText(houseUpgrades.upgrades[13].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); Zv.appendChild(tF); var oF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); Zv.appendChild(oF); var iF = (new lime.Sprite).setAnchorPoint(0).setPosition(10, 22).setFill(imgArray11[13]).setSize(30, 56); yf.appendChild(iF), iF.setHidden(!0), Gf += 70; var sF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(sF); var nF = (new lime.Sprite).setAnchorPoint(0).setPosition(-24, -18).setFill(imgArray11[14]).setSize(40, 24); sF.appendChild(nF); var rF = (new lime.Label).setText(houseUpgrades.upgrades[14].cost).setPosition(-12, 18).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); sF.appendChild(rF); var aF = (new lime.Sprite).setPosition(15, 14).setSize(20, 20).setFill(imgArray11[0]); sF.appendChild(aF); var lF = (new lime.Sprite).setAnchorPoint(0).setPosition(124, 110).setFill(imgArray11[14]).setSize(59, 29); yf.appendChild(lF), lF.setHidden(!0), Gf += 70; var gF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(gF); var dF = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[15]).setSize(22, 37); gF.appendChild(dF); var cF = (new lime.Label).setText(houseUpgrades.upgrades[15].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); gF.appendChild(cF); var mF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); gF.appendChild(mF); var pF = (new lime.Sprite).setAnchorPoint(0).setPosition(98, 20).setFill(imgArray11[15]).setSize(26, 55); yf.appendChild(pF); var hF = (new lime.Sprite).setAnchorPoint(0).setPosition(186, 20).setFill(imgArray11[15]).setSize(26, 55); yf.appendChild(hF), pF.setHidden(!0), hF.setHidden(!0), Gf += 70; var uF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(uF); var yF = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[16]).setSize(22, 37); uF.appendChild(yF); var SF = (new lime.Label).setText(houseUpgrades.upgrades[16].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); uF.appendChild(SF); var fF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); uF.appendChild(fF); var vF = (new lime.Sprite).setAnchorPoint(0).setPosition(138, 91).setFill(imgArray11[16]).setSize(32, 18); yf.appendChild(vF), vF.setHidden(!0), Gf += 70; var FF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(FF); var PF = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[17]).setSize(22, 37); FF.appendChild(PF); var wF = (new lime.Label).setText(houseUpgrades.upgrades[17].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); FF.appendChild(wF); var AF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); FF.appendChild(AF); var CF = (new lime.Sprite).setAnchorPoint(0).setPosition(111, 82).setFill("images/houseUpgrades/fancyChairSet2.png").setSize(90, 29); yf.appendChild(CF), CF.setHidden(!0), Gf += 70; var TF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(TF); var _F = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[18]).setSize(22, 37); TF.appendChild(_F); var IF = (new lime.Label).setText(houseUpgrades.upgrades[18].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); TF.appendChild(IF); var bF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); TF.appendChild(bF); var xF = (new lime.Sprite).setAnchorPoint(0).setPosition(11, 102).setFill(imgArray11[18]).setSize(52, 37); yf.appendChild(xF), xF.setHidden(!0), Gf += 70; var HF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(HF); var EF = (new lime.Sprite).setAnchorPoint(0).setPosition(-20, -18).setFill(imgArray11[19]).setSize(36, 21); HF.appendChild(EF); var zF = (new lime.Label).setText(houseUpgrades.upgrades[19].cost).setPosition(-10, 17).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); HF.appendChild(zF); var MF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); HF.appendChild(MF); var kF = (new lime.Sprite).setAnchorPoint(0).setPosition(128, 13).setFill(imgArray11[19]).setSize(55, 16); yf.appendChild(kF), kF.setHidden(!0), Gf += 70; var LF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(LF); var BF = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[20]).setSize(22, 37); LF.appendChild(BF); var OF = (new lime.Label).setText(houseUpgrades.upgrades[20].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); LF.appendChild(OF); var RF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); LF.appendChild(RF); var DF = (new lime.Sprite).setAnchorPoint(0).setPosition(15, 215).setFill(imgArray11[20]).setSize(32, 56); yf.appendChild(DF), DF.setHidden(!0), Gf += 70; var NF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(NF); var UF = (new lime.Sprite).setAnchorPoint(0).setPosition(-26, 0).setFill(imgArray11[21]).setSize(26, 18); NF.appendChild(UF); var GF = (new lime.Label).setText(houseUpgrades.upgrades[21].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); NF.appendChild(GF); var WF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); NF.appendChild(WF); var VF = (new lime.Sprite).setAnchorPoint(0).setPosition(e.controlsLayer_w - 67, 115).setFill(imgArray11[21]).setSize(44, 18); yf.appendChild(VF), VF.setHidden(!0), Gf += 70; var JF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(JF); var YF = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[22]).setSize(22, 37); JF.appendChild(YF); var jF = (new lime.Label).setText(houseUpgrades.upgrades[22].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); JF.appendChild(jF); var qF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); JF.appendChild(qF), Gf += 70; var KF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(KF); var $F = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[23]).setSize(22, 37); KF.appendChild($F); var XF = (new lime.Label).setText(houseUpgrades.upgrades[23].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); KF.appendChild(XF); var QF = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); KF.appendChild(QF), Gf += 70; var ZF = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(ZF); var eP = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[24]).setSize(22, 37); ZF.appendChild(eP); var tP = (new lime.Label).setText(houseUpgrades.upgrades[24].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); ZF.appendChild(tP); var oP = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); ZF.appendChild(oP), Gf += 70; var iP = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Gf, 30).setSize(60, 45).setText(""); Uf.appendChild(iP); var sP = (new lime.Sprite).setAnchorPoint(0).setPosition(-25, -18).setFill(imgArray11[25]).setSize(22, 37); iP.appendChild(sP); var nP = (new lime.Label).setText(houseUpgrades.upgrades[25].cost).setPosition(14, 0).setSize(25, 22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); iP.appendChild(nP); var rP = (new lime.Sprite).setPosition(15, 12).setSize(20, 20).setFill(imgArray11[0]); iP.appendChild(rP); var aP = Uf.getPosition(), lP = aP.x, gP = function () { 1 == houseUpgrades.upgrades[0].owned && _f.setHidden(!0), 1 == houseUpgrades.upgrades[1].owned && (jf.setHidden(!1), Wf.setOpacity(.2)), 1 == houseUpgrades.upgrades[2].owned && (Zf.setHidden(!1), Kf.setOpacity(.2)), 1 == houseUpgrades.upgrades[3].owned && (nv.setHidden(!1), tv.setOpacity(.2)), 1 == houseUpgrades.upgrades[4].owned && (dv.setHidden(!1), rv.setOpacity(.2)), 1 == houseUpgrades.upgrades[5].owned && (yv.setHidden(!1), mv.setOpacity(.2)), 1 == houseUpgrades.upgrades[6].owned && (Pv.setHidden(!1), Sv.setOpacity(.2)), 1 == houseUpgrades.upgrades[7].owned && (_v.setHidden(!1), wv.setOpacity(.2)), 1 == houseUpgrades.upgrades[8].owned && (Ev.setHidden(!1), Iv.setOpacity(.2)), 1 == houseUpgrades.upgrades[9].owned && (Bv.setHidden(!1), zv.setOpacity(.2)), 1 == houseUpgrades.upgrades[10].owned && (Uv.setHidden(!1), Gv.setHidden(!1), Ov.setOpacity(.2)), 1 == houseUpgrades.upgrades[11].owned && (jv.setHidden(!1), Wv.setOpacity(.2)), 1 == houseUpgrades.upgrades[12].owned && (Qv.setHidden(!1), qv.setOpacity(.2)), 1 == houseUpgrades.upgrades[13].owned && (iF.setHidden(!1), Zv.setOpacity(.2)), 1 == houseUpgrades.upgrades[14].owned && (lF.setHidden(!1), sF.setOpacity(.2)), 1 == houseUpgrades.upgrades[15].owned && (pF.setHidden(!1), hF.setHidden(!1), gF.setOpacity(.2)), 1 == houseUpgrades.upgrades[16].owned && (vF.setHidden(!1), uF.setOpacity(.2)), 1 == houseUpgrades.upgrades[17].owned && (CF.setHidden(!1), FF.setOpacity(.2)), 1 == houseUpgrades.upgrades[18].owned && (xF.setHidden(!1), TF.setOpacity(.2)), 1 == houseUpgrades.upgrades[19].owned && (kF.setHidden(!1), HF.setOpacity(.2)), 1 == houseUpgrades.upgrades[20].owned && (DF.setHidden(!1), LF.setOpacity(.2)), 1 == houseUpgrades.upgrades[21].owned && (VF.setHidden(!1), NF.setOpacity(.2)), 1 == houseUpgrades.upgrades[22].owned && (yf.setFill(imgArray11[22]), JF.setOpacity(.2), KF.setOpacity(1), ZF.setOpacity(1), iP.setOpacity(1)), 1 == houseUpgrades.upgrades[23].owned && (yf.setFill(imgArray11[23]), KF.setOpacity(.2), JF.setOpacity(1), ZF.setOpacity(1), iP.setOpacity(1)), 1 == houseUpgrades.upgrades[24].owned && (yf.setFill(imgArray11[24]), ZF.setOpacity(.2), JF.setOpacity(1), KF.setOpacity(1), iP.setOpacity(1)), 1 == houseUpgrades.upgrades[25].owned && (yf.setFill(imgArray11[25]), iP.setOpacity(.2), JF.setOpacity(1), KF.setOpacity(1), ZF.setOpacity(1)), dP() }, dP = function () { lP = aP.x, 1 == houseUpgrades.upgrades[1].owned && (lP -= 70, Uf.setPosition(lP, aP.y), 1 == houseUpgrades.upgrades[2].owned && (lP -= 70, Uf.setPosition(lP, aP.y), 1 == houseUpgrades.upgrades[3].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[4].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[5].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[6].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[7].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[8].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[9].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[10].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[11].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[12].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[13].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[14].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[15].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[16].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[17].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[18].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[19].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[20].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[21].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[22].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[23].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[24].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1), 1 == houseUpgrades.upgrades[25].owned && (lP -= 70, Uf.setPosition(lP, aP.y), uP.setHidden(!1)))))))))))))))))))))))))) }, cP = 0; function mP() { AP.setPosition(50, 45).setSize(34, 55) } goog.events.listen(Wf, ["mousedown", "touchstart"], function () { cP = 1, pP(1), mP() }), goog.events.listen(Kf, ["mousedown", "touchstart"], function () { cP = 2, pP(2), mP() }), goog.events.listen(tv, ["mousedown", "touchstart"], function () { cP = 3, pP(3), mP() }), goog.events.listen(rv, ["mousedown", "touchstart"], function () { cP = 4, pP(4), mP() }), goog.events.listen(mv, ["mousedown", "touchstart"], function () { cP = 5, pP(5), mP() }), goog.events.listen(Sv, ["mousedown", "touchstart"], function () { cP = 6, pP(6), mP() }), goog.events.listen(wv, ["mousedown", "touchstart"], function () { cP = 7, pP(7), mP() }), goog.events.listen(Iv, ["mousedown", "touchstart"], function () { cP = 8, pP(8), mP() }), goog.events.listen(zv, ["mousedown", "touchstart"], function () { cP = 9, pP(9), mP() }), goog.events.listen(Ov, ["mousedown", "touchstart"], function () { cP = 10, pP(10), mP() }), goog.events.listen(Wv, ["mousedown", "touchstart"], function () { cP = 11, pP(11), mP() }), goog.events.listen(qv, ["mousedown", "touchstart"], function () { cP = 12, pP(12), mP() }), goog.events.listen(Zv, ["mousedown", "touchstart"], function () { cP = 13, pP(13), mP() }), goog.events.listen(sF, ["mousedown", "touchstart"], function () { cP = 14, pP(14), AP.setPosition(40, 55).setSize(59, 29) }), goog.events.listen(gF, ["mousedown", "touchstart"], function () { cP = 15, pP(15), mP() }), goog.events.listen(uF, ["mousedown", "touchstart"], function () { cP = 16, pP(16), mP() }), goog.events.listen(FF, ["mousedown", "touchstart"], function () { cP = 17, pP(17), mP() }), goog.events.listen(TF, ["mousedown", "touchstart"], function () { cP = 18, pP(18), AP.setPosition(40, 55).setSize(56, 38) }), goog.events.listen(HF, ["mousedown", "touchstart"], function () { cP = 19, pP(19), AP.setPosition(40, 55).setSize(56, 32) }), goog.events.listen(LF, ["mousedown", "touchstart"], function () { cP = 20, pP(20), mP() }), goog.events.listen(NF, ["mousedown", "touchstart"], function () { cP = 21, pP(21), AP.setPosition(42, 55).setSize(50, 28) }), goog.events.listen(JF, ["mousedown", "touchstart"], function () { cP = 22, pP(22), mP() }), goog.events.listen(KF, ["mousedown", "touchstart"], function () { cP = 23, pP(23), mP() }), goog.events.listen(ZF, ["mousedown", "touchstart"], function () { cP = 24, pP(24), mP() }), goog.events.listen(iP, ["mousedown", "touchstart"], function () { cP = 25, pP(25), mP() }); var pP = function (e) { FP.setHidden(!1), AP.setFill(imgArray11[e]), wP.setText(" - " + houseUpgrades.upgrades[e].cost), PP.setText(houseUpgrades.upgrades[e].name) }, hP = (new lime.Sprite).setPosition(e.width - 13, 112).setSize(30, 30).setFill("images/UI/nextButton.png"); pf.appendChild(hP); var uP = (new lime.Sprite).setPosition(13, 112).setSize(30, 30).setFill("images/UI/nextButton.png").setRotation(180); pf.appendChild(uP), uP.setHidden(!0), goog.events.listen(hP, ["mousedown", "touchstart"], function () { var e = Uf.getPosition().x - 70; uP.setHidden(!1), lime.scheduleManager.scheduleWithDelay(function () { var t = Uf.getPosition(); t.x -= 10, Uf.setPosition(t.x, t.y), t.x <= e && lime.scheduleManager.unschedule(this, hP) }, this, 50, 7) }), goog.events.listen(uP, ["mousedown", "touchstart"], function () { Uf.getPosition().x; lime.scheduleManager.scheduleWithDelay(function () { var e = Uf.getPosition(); e.x += 10, Uf.setPosition(e.x, e.y), (e = Uf.getPosition()).x >= 25 && uP.setHidden(!0) }, this, 100, 7) }); var yP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-5, e.height - 50).setSize(e.controlsLayer_w, 50).setFill("images/UI/blackButton.png"); pf.appendChild(yP), backBtnHouse = (new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(e.width / 2, 25).setSize(80, 40), yP.appendChild(backBtnHouse), goog.events.listen(backBtnHouse, ["mousedown", "touchstart"], function () { p.replaceScene(h, lime.transitions.SlideInDown), sceneBefore = 1, sceneActive = "Home" }); var SP = (new lime.Sprite).setFill("images/UI/starButton.png").setAnchorPoint(0, 0).setPosition(50, 498).setSize(35, 35); pf.appendChild(SP), goog.events.listen(SP, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && QP() }); var fP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(210, e.height - e.controlsLayer_h + 20).setSize(75, 44).setFill("images/" + e.barnyard[3].image); pf.appendChild(fP), goog.events.listen(fP, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (e.sceneBefore = 7, townSceneActive = 1, p.replaceScene(Xd, lime.transitions.SlideInUp), sceneActive = "Market", count0.setText(player.cropsStored[0].stored), count1.setText(player.cropsStored[1].stored), count2.setText(player.cropsStored[2].stored), count3.setText(player.cropsStored[3].stored), count4.setText(player.cropsStored[4].stored), count5.setText(player.cropsStored[5].stored), count6.setText(player.cropsStored[6].stored), count7.setText(player.cropsStored[7].stored), count8.setText(player.cropsStored[8].stored), count9.setText(player.cropsStored[9].stored), count10.setText(player.cropsStored[10].stored), count11.setText(player.cropsStored[11].stored), count12.setText(player.cropsStored[12].stored), count13.setText(player.cropsStored[13].stored), countTools.setText(player.tools), Ra.setText(player.cropsStored[0].stored), Da.setText(player.cropsStored[1].stored), Na.setText(player.cropsStored[2].stored), Ua.setText(player.cropsStored[3].stored), Ga.setText(player.cropsStored[4].stored), Wa.setText(player.cropsStored[5].stored), Va.setText(player.cropsStored[6].stored), Ja.setText(player.cropsStored[7].stored), Ya.setText(player.cropsStored[8].stored), ja.setText(player.cropsStored[9].stored), qa.setText(player.cropsStored[10].stored), Ka.setText(player.cropsStored[11].stored), $a.setText(player.cropsStored[12].stored), Xa.setText(player.cropsStored[13].stored), Qa.setText(player.cropsStored[14].stored), Za.setText(player.cropsStored[15].stored), el.setText(player.cropsStored[16].stored)) }); var vP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(12, 498).setSize(35, 35).setFill(imgArray[15]); pf.appendChild(vP), goog.events.listen(vP, ["mousedown", "touchstart"], function () { 0 == globalModalBlock && (lime.audio.getMute() ? (lime.audio.setMute(!1), i.play(!0), localStorage.setItem("GuiGhostFarms_muted", 0), KP(2)) : (lime.audio.setMute(!0), KP(1), localStorage.setItem("GuiGhostFarms_muted", 1))) }); var FP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(e.width / 2 - 63, 185).setSize(135, 135).setFill("images/UI/blankBack4.png"); pf.appendChild(FP), FP.setHidden(!0); var PP = (new lime.Label).setText("Name of item").setPosition(70, 35).setSize(130, 50).setFontColor("#000000").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS"); FP.appendChild(PP); var wP = (new lime.Label).setText(" - 150").setPosition(75, 53).setSize(130, 50).setFontColor("#000000").setFontWeight(600).setFontSize(18).setFontFamily("ComicSans MS"); FP.appendChild(wP); var AP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(50, 45).setSize(34, 55).setFill(imgArray11[1]); FP.appendChild(AP); var CP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 22).setSize(20, 20).setFill(imgArray11[0]); FP.appendChild(CP); var TP = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(35, 128).setSize(32, 32).setText(""); FP.appendChild(TP); var _P = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-16, -15).setSize(32, 32).setFill("images/UI/XButton.png"); TP.appendChild(_P); var IP = (new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(100, 128).setSize(32, 32).setText(""); FP.appendChild(IP); var bP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(-16, -15).setSize(32, 32).setFill("images/UI/checkButton.png"); IP.appendChild(bP), goog.events.listen(TP, ["mousedown", "touchstart"], function () { FP.setHidden(!0) }), goog.events.listen(IP, ["mousedown", "touchstart"], function () { if (1 == houseUpgrades.upgrades[cP].owned && (cP < 19 || cP > 21)) PP.setText("Already Owned"); else { if (player.money >= houseUpgrades.upgrades[cP].cost) if (cP < 10 || cP >= 10 && 1 == houseUpgrades.upgrades[0].owned) { switch (player.money -= houseUpgrades.upgrades[cP].cost, houseUpgrades.upgrades[cP].owned = 1, cP) { case 1: jf.setHidden(!1), cP = 0, Wf.setOpacity(.2); break; case 2: Zf.setHidden(!1), cP = 0, Kf.setOpacity(.2); break; case 3: nv.setHidden(!1), cP = 0, tv.setOpacity(.2); break; case 4: dv.setHidden(!1), cP = 0, rv.setOpacity(.2); break; case 5: yv.setHidden(!1), cP = 0, mv.setOpacity(.2); break; case 6: Pv.setHidden(!1), cP = 0, Sv.setOpacity(.2); break; case 7: _v.setHidden(!1), cP = 0, wv.setOpacity(.2); break; case 8: Ev.setHidden(!1), cP = 0, Iv.setOpacity(.2); break; case 9: Bv.setHidden(!1), cP = 0, zv.setOpacity(.2); break; case 10: Uv.setHidden(!1), Gv.setHidden(!1), cP = 0, Ov.setOpacity(.2); break; case 11: jv.setHidden(!1), cP = 0, Wv.setOpacity(.2); break; case 12: Qv.setHidden(!1), cP = 0, qv.setOpacity(.2); break; case 13: iF.setHidden(!1), cP = 0, Zv.setOpacity(.2); break; case 14: lF.setHidden(!1), cP = 0, sF.setOpacity(.2), AP.setSize(34, 55).setPosition(50, 45); break; case 15: pF.setHidden(!1), hF.setHidden(!1), cP = 0, gF.setOpacity(.2); break; case 16: vF.setHidden(!1), cP = 0, uF.setOpacity(.2); break; case 17: CF.setHidden(!1), cP = 0, FF.setOpacity(.2); break; case 18: xF.setHidden(!1), cP = 0, TF.setOpacity(.2); break; case 19: kF.setHidden(!1), cP = 0, HF.setOpacity(.2); break; case 20: DF.setHidden(!1), cP = 0, LF.setOpacity(.2); break; case 21: VF.setHidden(!1), cP = 0, NF.setOpacity(.2); break; case 22: yf.setFill(imgArray11[cP]), cP = 0, JF.setOpacity(.2), KF.setOpacity(1), ZF.setOpacity(1), iP.setOpacity(1), houseUpgrades.upgrades[23].owned = 0, houseUpgrades.upgrades[24].owned = 0, houseUpgrades.upgrades[25].owned = 0; break; case 23: yf.setFill(imgArray11[cP]), cP = 0, KF.setOpacity(.2), JF.setOpacity(1), ZF.setOpacity(1), iP.setOpacity(1), houseUpgrades.upgrades[22].owned = 0, houseUpgrades.upgrades[24].owned = 0, houseUpgrades.upgrades[25].owned = 0; break; case 24: yf.setFill(imgArray11[cP]), cP = 0, ZF.setOpacity(.2), JF.setOpacity(1), KF.setOpacity(1), iP.setOpacity(1), houseUpgrades.upgrades[22].owned = 0, houseUpgrades.upgrades[23].owned = 0, houseUpgrades.upgrades[25].owned = 0; break; case 25: yf.setFill(imgArray11[cP]), cP = 0, iP.setOpacity(.2), JF.setOpacity(1), KF.setOpacity(1), ZF.setOpacity(1), houseUpgrades.upgrades[22].owned = 0, houseUpgrades.upgrades[23].owned = 0, houseUpgrades.upgrades[24].owned = 0; break; default: cP = 0 }FP.setHidden(!0) } else PP.setText("Needs Room 2"); else PP.setText("Need More Coin"); localStorage.setItem("GuiGhostFarms_houseUpgrades", JSON.stringify(houseUpgrades)), Rf.setText(player.money), e.updateMoney(), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), Af() } }); var xP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 130).setSize(250, 220).setFill("images/UI/blankBack5.png"); pf.appendChild(xP); var HP = (new lime.Label).setAnchorPoint(0, 0).setPosition(90, 19).setText("Denise").setFontFamily("Comic Sans MS").setFontSize(24); xP.appendChild(HP); var EP = (new lime.Label).setAnchorPoint(0, 0).setPosition(20, 135).setText("We need some more furniture if you expect me to live here").setFontFamily("Comic Sans MS").setFontSize(16).setSize(200, e.height / 2 - 50); xP.appendChild(EP); var zP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(75, 26).setSize(100, 100).setFill(imgArrayDenise[0].src); xP.appendChild(zP); var MP = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125, 207).setSize(100, 20); xP.appendChild(MP), goog.events.listen(MP, ["mousedown", "touchstart"], function () { xP.setHidden(!0), seen1stHouseNotif = 1, localStorage.setItem("MedFarms_seen1stHouseNotif", 1) }), 1 == seen1stHouseNotif && xP.setHidden(!0); var kP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(35, 140).setSize(250, 220).setFill("images/UI/blankBack5.png"); pf.appendChild(kP); var LP = (new lime.Label).setAnchorPoint(0, 0).setPosition(23, 25).setText("Expand your house?").setFontFamily("Comic Sans MS").setFontSize(24); kP.appendChild(LP); var BP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(45, 75).setSize(64, 64).setFill("images/UI/toolsIcon2.png"); kP.appendChild(BP); var OP = (new lime.Label).setAnchorPoint(0, 0).setPosition(5, 70).setText("1000").setFontFamily("Comic Sans MS").setFontSize(18).setSize(50, 50); BP.appendChild(OP); var RP = (new lime.Sprite).setAnchorPoint(0, 0).setPosition(140, 75).setSize(64, 64).setFill("images/items/logs.png"); kP.appendChild(RP); var DP = (new lime.Label).setAnchorPoint(0, 0).setPosition(5, 70).setText("200").setFontFamily("Comic Sans MS").setFontSize(18).setSize(50, 50); RP.appendChild(DP); var NP = (new lime.GlossyButton).setColor("#00ff00").setText("Build").setPosition(125, 175).setSize(100, 20); kP.appendChild(NP); var UP = (new lime.Label).setAnchorPoint(0, 0).setPosition(8, 175).setText("You need more resources").setFontFamily("Comic Sans MS").setFontSize(18).setSize(230, 50); kP.appendChild(UP), NP.setHidden(!0), UP.setHidden(!1), kP.setHidden(!0); var GP = (new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125, 207).setSize(100, 20); kP.appendChild(GP), goog.events.listen(MP, ["mousedown", "touchstart"], function () { kP.setHidden(!0) }), goog.events.listen(NP, ["mousedown", "touchstart"], function () { 0 == NP.getHidden() && (!function () { if (player.tools >= 1e3 && 0 == JP && parseInt(player.cropsStored[14].stored) >= 200) { JP = 1, player.tools -= 1e3, player.cropsStored[14].stored = parseInt(player.cropsStored[14].stored) - 200, player.cropsStored[14].stored < 0 && (player.cropsStored[14].stored = 0), localStorage.setItem("GuiGhostFarms_player", JSON.stringify(player)), e.updateStored(), e.updateTools(), e.updateMoney(), Of.setText(player.tools), Mf.setHidden(!1), Ef.setHidden(!1), zf.setHidden(!1), _f.setOpacity(.5), lime.scheduleManager.scheduleWithDelay(function () { (WP += 10) > 35 && (WP = -10), kf.setRotation(WP), Mf.setText(VP) }, this, 200, 450); var t = 200, o = -130, i = -100; lime.scheduleManager.scheduleWithDelay(function () { (VP -= 1) <= 0 && (Mf.setHidden(!0), Ef.setHidden(!0), zf.setHidden(!0), VP = 90, _f.setHidden(!0), houseUpgrades.upgrades[0].owned = 1, localStorage.setItem("GuiGhostFarms_houseUpgrades", JSON.stringify(houseUpgrades)), Fe.setFill("images/house2.png").setSize(72, 92).setPosition(230, 23)) }, this, 1e3, 90), lime.scheduleManager.scheduleWithDelay(function () { zf.setPosition(o, i).setSize(t, 200), t += 10, i -= 5, (o -= 5) < -140 && (o = -130, i = -100, t = 200) }, this, 250, 360) } }(), kP.setHidden(!0)) }), parseInt(player.cropsStored[14].stored) >= 200 && player.tools >= 1e3 ? (NP.setHidden(!1), UP.setHidden(!0)) : (NP.setHidden(!0), UP.setHidden(!1)); var WP = -10, VP = 90, JP = 0; function YP() { var t = o[1].owned + o[2].owned + o[3].owned + o[4].owned; starCash = parseInt(starCash), 0 == e.achievements[1] && pickedEver >= 500 && (e.achievements[1] = !0, Gy.setHidden(!1), starCash = parseInt(starCash) + 3, jP(1)), 0 == e.achievements[2] && pickedEver >= 5e3 && (e.achievements[2] = !0, jy.setHidden(!1), starCash = parseInt(starCash) + 5, jP(2)), 0 == e.achievements[3] && player.farms > 1 && (e.achievements[3] = !0, Qy.setHidden(!1), starCash = parseInt(starCash) + 3, jP(3)), 0 == e.achievements[4] && player.barnLevel >= 5 && (e.achievements[4] = !0, iS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(4)), 0 == e.achievements[5] && toolsEver >= 500 && (e.achievements[5] = !0, lS.setHidden(!1), starCash = parseInt(starCash) + 3, jP(5)), 0 == e.achievements[6] && toolsEver >= 5e3 && (e.achievements[6] = !0, pS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(6)), 0 == e.achievements[7] && yearCount >= 2 && (e.achievements[7] = !0, fS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(7)), 0 == e.achievements[8] && t >= 4 && (e.achievements[8] = !0, AS.setHidden(!1), starCash = parseInt(starCash) + 10, jP(8)), 0 == e.achievements[9] && vinyardHouseLevel > 1 && (e.achievements[9] = !0, bS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(9)), 0 == e.achievements[10] && orchardTreeBlock > 1 && vinyardBlocks > 1 && vinyardBlocks2 > 1 && player.fields >= 3 && (e.achievements[10] = !0, MS.setHidden(!1), starCash = parseInt(starCash) + 10, jP(10)), 0 == e.achievements[11] && player.cropsStored[10].stored >= 100 && player.cropsStored[11].stored >= 100 && (e.achievements[11] = !0, RS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(11)), 0 == e.achievements[12] && player.cropsStored[0] >= 1 && player.cropsStored[1] >= 1 && player.cropsStored[2] >= 1 && player.cropsStored[3] >= 1 && player.cropsStored[4] >= 1 && player.cropsStored[5] >= 1 && player.cropsStored[6] >= 1 && player.cropsStored[7] >= 1 && player.cropsStored[8] >= 1 && player.cropsStored[9] >= 1 && player.cropsStored[10] >= 1 && player.cropsStored[11] >= 1 && player.cropsStored[12] >= 1 && player.cropsStored[13] >= 1 && (e.achievements[12] = !0, WS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(12)), 0 == e.achievements[13] && player.pastureLevel >= 3 && (e.achievements[13] = !0, qS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(13)), 0 == e.achievements[14] && moneyEver >= 5e3 && (e.achievements[14] = !0, ZS.setHidden(!1), starCash = parseInt(starCash) + 5, jP(14)), 0 == e.achievements[15] && 1 == boughtStarCash && (e.achievements[15] = !0, nf.setHidden(!1), starCash = parseInt(starCash) + 3, jP(15)), 0 == e.achievements[16] && yearCount >= 10 && (e.achievements[16] = !0, df.setHidden(!1), starCash = parseInt(starCash) + 25, jP(16)), cf.setText(parseInt(starCash)), localStorage.setItem("starCash", parseInt(starCash)), localStorage.setItem("GuiGhostFarms_achievements", JSON.stringify(e.achievements)) } function jP(t) { mt.setHidden(!1), as.setHidden(!1), Tr.setHidden(!1), gh.setHidden(!1), ny.setHidden(!1), Dt.setHidden(!1), fs.setHidden(!1), Jr.setHidden(!1), dh.setHidden(!1), dy.setHidden(!1), Ut.setText(" " + e.achieveText[t - 1].sub), Fs.setText(" " + e.achieveText[t - 1].sub), jr.setText(" " + e.achieveText[t - 1].sub), mh.setText(" " + e.achieveText[t - 1].sub), my.setText(" " + e.achieveText[t - 1].sub), Nt.setText(e.achieveText[t - 1].title), vs.setText(e.achieveText[t - 1].title), Yr.setText(e.achieveText[t - 1].title), ch.setText(e.achieveText[t - 1].title), cy.setText(e.achieveText[t - 1].title), Gt.setText(" + " + e.achieveText[t - 1].reward), Ps.setText(" + " + e.achieveText[t - 1].reward), qr.setText(" + " + e.achieveText[t - 1].reward), ph.setText(" + " + e.achieveText[t - 1].reward), py.setText(" + " + e.achieveText[t - 1].reward) } function qP(e) { p.replaceScene(ky, lime.transitions.SlideInDown), sceneActive = "Achieve" } function KP(e) { 1 == e ? (Ro.setFill(imgArray[16]), T.setFill(imgArray[16]), yr.setFill(imgArray[16]), Qu.setFill(imgArray[16]), eh.setFill(imgArray[16]), vP.setFill(imgArray[16]), playerMuted = 1) : (Ro.setFill(imgArray[15]), T.setFill(imgArray[15]), yr.setFill(imgArray[15]), Qu.setFill(imgArray[15]), eh.setFill(imgArray[15]), vP.setFill(imgArray[15]), playerMuted = 0) } function $P() { (player.cropsStored[8].stored < 2 || player.cropsStored[5].stored < 2) && (wh.setHidden(!1), gh.setHidden(!1)), player.cropsStored[12].stored < 2 && vinyardHouseLevel > 1 && (wy.setHidden(!1), su.setHidden(!0), mu.setHidden(!0), ny.setHidden(!1)), player.cropsStored[6].stored < 3 && (As.setHidden(!1), as.setHidden(!1)) } goog.events.listen(If, ["mousedown", "touchstart"], function () { parseInt(player.cropsStored[14].stored) >= 200 && player.tools >= 1e3 ? (NP.setHidden(!1), UP.setHidden(!0)) : (NP.setHidden(!0), UP.setHidden(!1)), kP.setHidden(!1) }), 0 == e.achievements[1] && Gy.setHidden(!0), 0 == e.achievements[2] && jy.setHidden(!0), 0 == e.achievements[3] && Qy.setHidden(!0), 0 == e.achievements[4] && iS.setHidden(!0), 0 == e.achievements[5] && lS.setHidden(!0), 0 == e.achievements[6] && pS.setHidden(!0), 0 == e.achievements[7] && fS.setHidden(!0), 0 == e.achievements[8] && AS.setHidden(!0), 0 == e.achievements[9] && bS.setHidden(!0), 0 == e.achievements[10] && MS.setHidden(!0), 0 == e.achievements[11] && RS.setHidden(!0), 0 == e.achievements[12] && WS.setHidden(!0), 0 == e.achievements[13] && qS.setHidden(!0), 0 == e.achievements[14] && ZS.setHidden(!0), 0 == e.achievements[15] && nf.setHidden(!0), 0 == e.achievements[16] && df.setHidden(!0), goog.events.listen(backBtnAchieve, ["mousedown", "touchstart"], function () { 1 == sceneBefore && (p.replaceScene(h, lime.transitions.SlideInUp), sceneBefore = 1, sceneActive = "Home", t.currentCrop = parseInt(homeCrop), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")), (t.currentCrop > 5 || isNaN(t.currentCrop) || t.currentCrop < 0) && (t.currentCrop = 0))), 2 == sceneBefore && (p.replaceScene(_o, lime.transitions.SlideInUp), sceneBefore = 2, t.currentCrop = 6, sceneActive = "Pasture"), 3 == sceneBefore && (p.replaceScene(Us, lime.transitions.SlideInUp), sceneBefore = 3, t.currentCrop = 8, sceneActive = "Orchard"), 4 == sceneBefore && (p.replaceScene(Eh, lime.transitions.SlideInUp), sceneBefore = 4, sceneActive = "Vineyard"), 5 == sceneBefore && (p.replaceScene(dp, lime.transitions.SlideInUp), sceneBefore = 5, sceneActive = "LS") }), 0 == o[1].owned ? (ue.setHidden(!1), pe.setHidden(!0)) : (ue.setHidden(!0), pe.setHidden(!1)), 0 == o[2].owned ? (ye.setHidden(!1), he.setHidden(!0)) : (ye.setHidden(!0), he.setHidden(!1)), 0 == o[3].owned ? (ns.setHidden(!1), Eo.setHidden(!0)) : (ns.setHidden(!0), Eo.setHidden(!1)), 0 == o[4].owned ? (Cr.setHidden(!1), roadRightO.setHidden(!0)) : (Cr.setHidden(!0), roadRightO.setHidden(!1)); var XP = 0; function QP() { document.getElementById("starCashOuterLabel").innerHTML = starCash, 1 == XP ? (XP = 0, globalModalBlock = 0, mt.setHidden(!0), as.setHidden(!0), gh.setHidden(!0), Tr.setHidden(!0), ny.setHidden(!0)) : (document.getElementById("fbshare").classList.remove("tilt-in-fwd-tr"), document.getElementById("fbshare").style.display = "block", document.getElementById("fbshare").classList.add("tilt-in-fwd-tr"), XP = 1, globalModalBlock = 1, mt.setHidden(!1), as.setHidden(!1), gh.setHidden(!1), Tr.setHidden(!1), ny.setHidden(!1), Dt.setHidden(!0), dh.setHidden(!0), dy.setHidden(!0), Jr.setHidden(!0), fs.setHidden(!0)) } lime.scheduleManager.scheduleWithDelay(function () { var e = document.getElementById("fbshare").style.display; "none" == e && 0 == fsClicked ? (globalModalBlock = 0, mt.setHidden(!0)) : "block" == e && (globalModalBlock = 1, mt.setHidden(!1)), document.getElementById("starCashOuterLabel").innerHTML = starCash; var t = localStorage.getItem("rateMeNever"); 2 == yearCount && 0 == t && dayCount > 230 && dayCount < 232 ? document.getElementById("rateMe").style.display = "block" : 4 == yearCount && 0 == t && dayCount > 120 && dayCount < 122 && (document.getElementById("rateMe").style.display = "block") }, this, 500), document.getElementById("starCashOuterLabel").innerHTML = starCash };