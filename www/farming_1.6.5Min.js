var COMPILED=!0,goog=goog||{};goog.global=this,goog.DEBUG=!1,goog.LOCALE="en",goog.provide=function(e){if(!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e)},goog.setTestOnly=function(e){if(COMPILED&&!goog.DEBUG)throw e=e||"",Error(": "+e)},COMPILED||(goog.isProvided_=function(e){return!goog.implicitNamespaces_[e]&&!!goog.getObjectByName(e)},goog.implicitNamespaces_={}),goog.exportPath_=function(e,t,o){e=e.split("."),o=o||goog.global,e[0]in o||!o.execScript||o.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)!e.length&&goog.isDef(t)?o[i]=t:o=o[i]?o[i]:o[i]={}},goog.getObjectByName=function(e,t){for(var o,i=e.split("."),s=t||goog.global;o=i.shift();){if(!goog.isDefAndNotNull(s[o]))return null;s=s[o]}return s},goog.globalize=function(e,t){var o,i=t||goog.global;for(o in e)i[o]=e[o]},goog.addDependency=function(e,t,o){if(!COMPILED){for(var i,e=e.replace(/\\/g,"/"),s=goog.dependencies_,r=0;i=t[r];r++)(s.nameToPath[i]=e)in s.pathToNames||(s.pathToNames[e]={}),s.pathToNames[e][i]=!0;for(i=0;t=o[i];i++)e in s.requires||(s.requires[e]={}),s.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(e){if(!COMPILED&&!goog.isProvided_(e)){if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,void goog.writeScripts_()}throw e="goog.require could not find: "+e,goog.global.console&&goog.global.console.error(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(e){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return void 0!==e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var o=e[t].src,i=-1==(i=o.lastIndexOf("?"))?o.length:i;if("base.js"==o.substr(i-7,7)){goog.basePath=o.substr(0,i-7);break}}},goog.importScript_=function(e){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[e]&&t(e)&&(goog.dependencies_.written[e]=!0)},goog.writeScriptTag_=function(e){return!!goog.inHtmlDocument_()&&(goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0)},goog.writeScripts_=function(){function o(e){if(!(e in r.written)){if(!(e in r.visited)&&(r.visited[e]=!0,e in r.requires))for(var t in r.requires[e])if(!goog.isProvided_(t)){if(!(t in r.nameToPath))throw Error("Undefined nameToPath for "+t);o(r.nameToPath[t])}e in s||(s[e]=!0,i.push(e))}}var e,i=[],s={},r=goog.dependencies_;for(e in goog.included_)r.written[e]||o(e);for(e=0;e<i.length;e++){if(!i[e])throw Error("Undefined script input");goog.importScript_(goog.basePath+i[e])}},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var o=Object.prototype.toString.call(e);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isDef=function(e){return void 0!==e},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){if("object"!=(o=goog.typeOf(e))&&"array"!=o)return e;if(e.clone)return e.clone();var t,o="array"==o?[]:{};for(t in e)o[t]=goog.cloneObject(e[t]);return o},goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(t,o,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,i),t.apply(o,e)}}return function(){return t.apply(o,arguments)}},goog.bind=function(e,t,o){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var o=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.unshift.apply(e,o),t.apply(this,e)}},goog.mixin=function(e,t){for(var o in t)e[o]=t[o]},goog.now=Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");var t,o;null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),void 0!==goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_?goog.global.eval(e):((o=(t=goog.global.document).createElement("script")).type="text/javascript",o.defer=!1,o.appendChild(t.createTextNode(e)),t.body.appendChild(o),t.body.removeChild(o))}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){function i(e){return goog.cssNameMapping_[e]||e}var o=function(e){for(var e=e.split("-"),t=[],o=0;o<e.length;o++)t.push(i(e[o]));return t.join("-")},o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?i:o:function(e){return e};return t?e+"-"+o(t):o(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){var o,i=t||{};for(o in i)var s=(""+i[o]).replace(/\$/g,"$$$$"),e=e.replace(RegExp("\\{\\$"+o+"\\}","gi"),s);return e},goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)},goog.exportProperty=function(e,t,o){e[t]=o},goog.inherits=function(e,t){function o(){}o.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new o,e.prototype.constructor=e},goog.base=function(e,t,o){var i=arguments.callee.caller;if(i.superClass_)return i.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var s=Array.prototype.slice.call(arguments,2),r=!1,n=e.constructor;n;n=n.superClass_&&n.superClass_.constructor)if(n.prototype[t]===i)r=!0;else if(r)return n.prototype[t].apply(e,s);if(e[t]===i)return e.constructor.prototype[t].apply(e,s);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)};var lime={DirtyObject:function(){}};lime.DirtyObject.prototype.update=function(){},goog.math={},goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},goog.math.Coordinate.distance=function(e,t){var o=e.x-t.x,i=e.y-t.y;return Math.sqrt(o*o+i*i)},goog.math.Coordinate.squaredDistance=function(e,t){var o=e.x-t.x,i=e.y-t.y;return o*o+i*i},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Box=function(e,t,o,i){this.top=e,this.right=t,this.bottom=o,this.left=i},goog.math.Box.boundingBox=function(e){for(var t=new goog.math.Box(e.y,e.x,e.y,e.x),o=1;o<arguments.length;o++){var i=arguments[o];t.top=Math.min(t.top,i.y),t.right=Math.max(t.right,i.x),t.bottom=Math.max(t.bottom,i.y),t.left=Math.min(t.left,i.x)}return t},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,o,i){return goog.isObject(e)?(this.top=this.top-e.top,this.right=this.right+e.right,this.bottom=this.bottom+e.bottom,this.left=this.left-e.left):(this.top=this.top-e,this.right=this.right+t,this.bottom=this.bottom+o,this.left=this.left-i),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&(e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left)},goog.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var o=goog.math.Box.relativePositionX(e,t),i=goog.math.Box.relativePositionY(e,t);return Math.sqrt(o*o+i*i)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,o){return e.left<=t.right+o&&t.left<=e.right+o&&e.top<=t.bottom+o&&t.top<=e.bottom+o},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e){return this.width=this.width*e,this.height=this.height*e,this},goog.math.Size.prototype.scaleToFit=function(e){return this.scale(this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height)},goog.math.Box.size={},goog.math.Size.scaleVec2={},goog.math.Box.prototype.size=function(){return new goog.math.Size(this.right-this.left,this.bottom-this.top)},goog.math.Size.prototype.scaleVec2=function(e){return this.width*=e.x,this.height*=e.y,this},lime.Renderer=function(){},lime.Renderer.prototype.draw=goog.nullFunction,lime.Renderer.prototype.getType=function(){return this.base?this.base:this},lime.Renderer.prototype.makeSubRenderer=function(e){return goog.object.extend(e,this),e.base=this.getType(),e},lime.Renderer.CANVAS=new lime.Renderer,lime.Renderer.CANVAS.updateLayout=function(){},lime.Renderer.CANVAS.drawCanvas=function(){var e,t,o,i=this.getQuality(),s=this.measureContents(),r=this.relativeQuality_||1,n=r/i;this.domElement&&(this.boundsCache&&this.boundsCache.contains(s)&&(t=this.boundsCache.size().area()/s.size().area())&&t<1.6&&.5<t?s=this.boundsCache:1!=this.staticCanvas&&0!=this.children_.length&&(this instanceof lime.Scene||s.expand(12,12,12,12)),t=(e=(this.boundsCache=s).size()).clone().scale(r).ceil(),this.domElement.width==t.width&&this.domElement.height==t.height||(this.domElement.width=t.width,this.domElement.height=t.height,this.redraw_=1),o=this.getScale().clone(),this.transitionsActive_[lime.Transition.SCALE]&&(o=this.transitionsActive_[lime.Transition.SCALE]),0!=t.width?o.scale(e.width*n/t.width):o.scale(1/i),i=this.getFrame(),this.ax=(i.left-s.left)*r,this.ay=(i.top-s.top)*r,s=this.getSize().clone().scaleVec2(this.getAnchorPoint()).scale(r),r=this.getPosition().clone(),this.transitionsActive_[lime.Transition.POSITION]&&(r=this.transitionsActive_[lime.Transition.POSITION]),r.x*=n,r.y*=n,r.x-=s.width+this.ax,r.y-=s.height+this.ay,lime.style.setTransformOrigin(this.domElement,(this.ax+s.width)/t.width*100,(this.ay+s.height)/t.height*100,!0),this.transitionsActiveSet_[lime.Transition.POSITION]||this.transitionsActiveSet_[lime.Transition.SCALE]||this.transitionsActiveSet_[lime.Transition.ROTATION]||(n=-this.getRotation(),goog.isDef(this.transitionsActive_[lime.Transition.ROTATION])&&(n=-this.transitionsActive_[lime.Transition.ROTATION]),lime.style.setTransform(this.domElement,(new lime.style.Transform).setPrecision(.1).translate(r.x,r.y).scale(o.x,o.y).rotate(n))),this.redraw_&&(n=this.domElement.getContext("2d"),r=this.relativeQuality_||1,n.clearRect(0,0,t.width,t.height),n.save(),n.translate(this.ax,this.ay),n.scale(r,r),t=this.getSize(),o=this.getAnchorPoint(),n.translate(t.width*o.x,t.height*o.y),this.renderer.drawCanvasObject.call(this,n),n.restore(),this.redraw_=0))},lime.Renderer.CANVAS.update=function(){},lime.Renderer.CANVAS.drawCanvasObject=function(e){if(this.inTree_&&(this.mask_!=this.activeMask_&&(this.activeMask_&&lime.Renderer.DOM.removeMask.call(this),this.mask_&&lime.Renderer.DOM.addMask.call(this)),!this.maskTarget_&&!this.hidden_&&0!=this.opacity_&&1!=this.isMask)){var t;1!=this.opacity_&&(e.globalAlpha*=this.opacity_),this.mask_&&(lime.Renderer.DOM.calculateMaskPosition.call(this.mask_),t=this.activeMask_,n=this.scale_,e.save(),e.save(),e.translate(t.mPos.x,t.mPos.y),e.rotate(-t.mRot),this.needsDomElement&&e.rotate(this.getRotation()*Math.PI/180),e.beginPath(),e.moveTo(0,0),e.lineTo(t.mWidth/n.x,0),e.lineTo(t.mWidth/n.x,t.mHeight/n.y),e.lineTo(0,t.mHeight/n.y),e.closePath(),e.restore(),e.clip()),t=new goog.math.Coordinate(0,0),this.renderer.draw.call(this,e);for(var o,i=0;o=this.children_[i];i++){var s=o.localToParent(t).clone(),r=o.getRotation(),n=o.getScale();e.save(),e.translate(s.x,s.y),e.scale(n.x,n.y),0!=r&&e.rotate(-r*Math.PI/180),this.renderer.drawCanvasObject.call(o,e),e.restore()}1!=this.opacity_&&(e.globalAlpha/=this.opacity_),this.activeMask_&&e.restore()}},goog.debug={},goog.debug.Error=function(e){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"",e&&(this.message=""+e)},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.string={},goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var o=e.length-t.length;return 0<=o&&e.indexOf(t,o)==o},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.subs=function(e,t){for(var o=1;o<arguments.length;o++)var i=(""+arguments[o]).replace(/\$/g,"$$$$"),e=e.replace(/\%s/,i);return e},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptySafe=function(e){return goog.string.isEmpty(goog.string.makeSafe(e))},goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&e<="~"||""<=e&&e<="�"},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var o=(""+e).toLowerCase(),i=(""+t).toLowerCase();return o<i?-1:o==i?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(goog.string.numerateCompareRegExp_),i=t.toLowerCase().match(goog.string.numerateCompareRegExp_),s=Math.min(o.length,i.length),r=0;r<s;r++){var n=o[r],a=i[r];if(n!=a)return o=parseInt(n,10),!isNaN(o)&&(i=parseInt(a,10),!isNaN(i)&&o-i)?o-i:n<a?-1:1}return o.length!=i.length?o.length-i.length:e<t?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(""+e)},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){return t?e.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;"):(goog.string.allRe_.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(goog.string.amperRe_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.ltRe_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.gtRe_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.quotRe_,"&quot;"))),e)},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/\"/g,goog.string.allRe_=/[&<>\"]/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesUsingDom_=function(e){var s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var o,i=s[e];return i||("#"==t.charAt(0)&&(o=Number("0"+t.substr(1)),isNaN(o)||(i=String.fromCharCode(o))),i||(r.innerHTML=e+" ",i=r.firstChild.nodeValue.slice(0,-1)),s[e]=i)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));if(!isNaN(o))return String.fromCharCode(o)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.stripQuotes=function(e,t){for(var o=t.length,i=0;i<o;i++){var s=1==o?t:t.charAt(i);if(e.charAt(0)==s&&e.charAt(e.length-1)==s)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,o){return o&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),o&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,o,i){var s;return o&&(e=goog.string.unescapeEntities(e)),i&&e.length>t?(t<i&&(i=t),s=e.length-i,e=e.substring(0,t-i)+"..."+e.substring(s)):e.length>t&&(i=Math.floor(t/2),s=e.length-i,e=e.substring(0,i+t%2)+"..."+e.substring(s)),o&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if((e=""+e).quote)return e.quote();for(var t=['"'],o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);t[o+1]=goog.string.specialEscapeChars_[i]||(31<s&&s<127?i:goog.string.escapeChar(i))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],o=0;o<e.length;o++)t[o]=goog.string.escapeChar(e.charAt(o));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,o=e.charCodeAt(0);return 31<o&&o<127?t=e:(o<256?(t="\\x",(o<16||256<o)&&(t+="0")):(t="\\u",o<4096&&(t+="0")),t+=o.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.toMap=function(e){for(var t={},o=0;o<e.length;o++)t[e.charAt(o)]=!0;return t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,o){var i=e;return 0<=t&&t<e.length&&0<o&&(i=e.substr(0,t)+e.substr(t+o,e.length-t-o)),i},goog.string.remove=function(e,t){var o=RegExp(goog.string.regExpEscape(t),"");return e.replace(o,"")},goog.string.removeAll=function(e,t){var o=RegExp(goog.string.regExpEscape(t),"g");return e.replace(o,"")},goog.string.regExpEscape=function(e){return(""+e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,o){return-1==(o=(e=goog.isDef(o)?e.toFixed(o):""+e).indexOf("."))&&(o=e.length),goog.string.repeat("0",Math.max(0,t-o))+e},goog.string.makeSafe=function(e){return null==e?"":""+e},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var o=0,i=goog.string.trim(""+e).split("."),s=goog.string.trim(""+t).split("."),r=Math.max(i.length,s.length),n=0;0==o&&n<r;n++){var a=i[n]||"",l=s[n]||"",d=RegExp("(\\d*)(\\D*)","g"),g=RegExp("(\\d*)(\\D*)","g");do{var m=d.exec(a)||["","",""],c=g.exec(l)||["","",""];if(0==m[0].length&&0==c[0].length)break;var o=0==m[1].length?0:parseInt(m[1],10),p=0==c[1].length?0:parseInt(c[1],10),o=goog.string.compareElements_(o,p)||goog.string.compareElements_(0==m[2].length,0==c[2].length)||goog.string.compareElements_(m[2],c[2])}while(0==o)}return o},goog.string.compareElements_=function(e,t){return e<t?-1:t<e?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var t=0,o=0;o<e.length;++o)t=31*t+e.charCodeAt(o),t%=goog.string.HASHCODE_MAX_;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmpty(e)?NaN:t},goog.string.toCamelCase=function(e){return(""+e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return(""+e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var o=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(e,t,o){return t+o.toUpperCase()})},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.doAssertFailure_=function(e,t,o,i){var s,r="Assertion failed";throw o?(r=r+": "+o,s=i):e&&(r+=": "+e,s=t),new goog.asserts.AssertionError(""+r,s||[])},goog.asserts.assert=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},goog.asserts.assertNumber=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,o,i){!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("instanceof check failed.",null,o,Array.prototype.slice.call(arguments,3))},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=!0,goog.array.peek=function(e){return e[e.length-1]},goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,o)}:function(e,t,o){if(o=null==o?0:o<0?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,o):-1;for(;o<e.length;o++)if(o in e&&e[o]===t)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==o?e.length-1:o)}:function(e,t,o){if((o=null==o?e.length-1:o)<0&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,o):-1;for(;0<=o;o--)if(o in e&&e[o]===t)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(e,t,o){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,t,o)}:function(e,t,o){for(var i=e.length,s=goog.isString(e)?e.split(""):e,r=0;r<i;r++)r in s&&t.call(o,s[r],r,e)},goog.array.forEachRight=function(e,t,o){for(var i=e.length,s=goog.isString(e)?e.split(""):e,i=i-1;0<=i;--i)i in s&&t.call(o,s[i],i,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,t,o)}:function(e,t,o){for(var i,s=e.length,r=[],n=0,a=goog.isString(e)?e.split(""):e,l=0;l<s;l++){l in a&&(i=a[l],t.call(o,i,l,e)&&(r[n++]=i))}return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,t,o)}:function(e,t,o){for(var i=e.length,s=Array(i),r=goog.isString(e)?e.split(""):e,n=0;n<i;n++)n in r&&(s[n]=t.call(o,r[n],n,e));return s},goog.array.reduce=function(o,i,e,s){if(o.reduce)return s?o.reduce(goog.bind(i,s),e):o.reduce(i,e);var r=e;return goog.array.forEach(o,function(e,t){r=i.call(s,r,e,t,o)}),r},goog.array.reduceRight=function(o,i,e,s){if(o.reduceRight)return s?o.reduceRight(goog.bind(i,s),e):o.reduceRight(i,e);var r=e;return goog.array.forEachRight(o,function(e,t){r=i.call(s,r,e,t,o)}),r},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,t,o)}:function(e,t,o){for(var i=e.length,s=goog.isString(e)?e.split(""):e,r=0;r<i;r++)if(r in s&&t.call(o,s[r],r,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(e,t,o){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,t,o)}:function(e,t,o){for(var i=e.length,s=goog.isString(e)?e.split(""):e,r=0;r<i;r++)if(r in s&&!t.call(o,s[r],r,e))return!1;return!0},goog.array.find=function(e,t,o){return(t=goog.array.findIndex(e,t,o))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,o){for(var i=e.length,s=goog.isString(e)?e.split(""):e,r=0;r<i;r++)if(r in s&&t.call(o,s[r],r,e))return r;return-1},goog.array.findRight=function(e,t,o){return(t=goog.array.findIndexRight(e,t,o))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,o){for(var i=e.length,s=goog.isString(e)?e.split(""):e,i=i-1;0<=i;i--)if(i in s&&t.call(o,s[i],i,e))return i;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,o){goog.array.splice(e,o,0,t)},goog.array.insertArrayAt=function(e,t,o){goog.partial(goog.array.splice,e,o,0).apply(null,t)},goog.array.insertBefore=function(e,t,o){var i;2==arguments.length||(i=goog.array.indexOf(e,o))<0?e.push(t):goog.array.insertAt(e,t,i)},goog.array.remove=function(e,t){var o,i=goog.array.indexOf(e,t);return(o=0<=i)&&goog.array.removeAt(e,i),o},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,o){return 0<=(t=goog.array.findIndex(e,t,o))&&(goog.array.removeAt(e,t),!0)},goog.array.concat=function(e){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var o=Array(t),i=0;i<t;i++)o[i]=e[i];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var o=1;o<arguments.length;o++){var i,s=arguments[o];if(goog.isArray(s)||(i=goog.isArrayLike(s))&&s.hasOwnProperty("callee"))e.push.apply(e,s);else if(i)for(var r=e.length,n=s.length,a=0;a<n;a++)e[r+a]=s[a];else e.push(s)}},goog.array.splice=function(e,t,o,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,o){return goog.asserts.assert(null!=e.length),arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(e,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,t,o)},goog.array.removeDuplicates=function(e,t){for(var o=t||e,i={},s=0,r=0;r<e.length;){var n=e[r++],a=goog.isObject(n)?"o"+goog.getUid(n):(typeof n).charAt(0)+n;Object.prototype.hasOwnProperty.call(i,a)||(i[a]=!0,o[s++]=n)}o.length=s},goog.array.binarySearch=function(e,t,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,o){return goog.array.binarySearch_(e,t,!0,void 0,o)},goog.array.binarySearch_=function(e,t,o,i,s){for(var r,n=0,a=e.length;n<a;){var l=n+a>>1,d=o?t.call(s,e[l],l,e):t(i,e[l]);0<d?n=1+l:(a=l,r=!d)}return r?n:~n},goog.array.sort=function(e,t){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.sort.call(e,t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var o=0;o<e.length;o++)e[o]={index:o,value:e[o]};var i=t||goog.array.defaultCompare;for(goog.array.sort(e,function(e,t){return i(e.value,t.value)||e.index-t.index}),o=0;o<e.length;o++)e[o]=e[o].value},goog.array.sortObjectsByKey=function(e,o,t){var i=t||goog.array.defaultCompare;goog.array.sort(e,function(e,t){return i(e[o],t[o])})},goog.array.isSorted=function(e,t,o){for(var t=t||goog.array.defaultCompare,i=1;i<e.length;i++){var s=t(e[i-1],e[i]);if(0<s||0==s&&o)return!1}return!0},goog.array.equals=function(e,t,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;for(var i=e.length,o=o||goog.array.defaultCompareEquality,s=0;s<i;s++)if(!o(e[s],t[s]))return!1;return!0},goog.array.compare=function(e,t,o){return goog.array.equals(e,t,o)},goog.array.compare3=function(e,t,o){for(var o=o||goog.array.defaultCompare,i=Math.min(e.length,t.length),s=0;s<i;s++){var r=o(e[s],t[s]);if(0!=r)return r}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return t<e?1:e<t?-1:0},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,o){return(o=goog.array.binarySearch(e,t,o))<0&&(goog.array.insertAt(e,t,-(o+1)),!0)},goog.array.binaryRemove=function(e,t,o){return 0<=(t=goog.array.binarySearch(e,t,o))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t){for(var o={},i=0;i<e.length;i++){var s=e[i],r=t(s,i,e);goog.isDef(r)&&(o[r]||(o[r]=[])).push(s)}return o},goog.array.repeat=function(e,t){for(var o=[],i=0;i<t;i++)o[i]=e;return o},goog.array.flatten=function(e){for(var t=[],o=0;o<arguments.length;o++){var i=arguments[o];goog.isArray(i)?t.push.apply(t,goog.array.flatten.apply(null,i)):t.push(i)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):t<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],o=0;;o++){for(var i=[],s=0;s<arguments.length;s++){var r=arguments[s];if(o>=r.length)return t;i.push(r[o])}t.push(i)}},goog.array.shuffle=function(e,t){for(var o=t||Math.random,i=e.length-1;0<i;i--){var s=Math.floor(o()*(i+1)),r=e[i];e[i]=e[s],e[s]=r}},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},goog.math.modulo=function(e,t){var o=e%t;return o*t<0?o+t:o},goog.math.lerp=function(e,t,o){return e+o*(t-e)},goog.math.nearlyEquals=function(e,t,o){return Math.abs(e-t)<=(o||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,o,i){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(i-t,o-e)))},goog.math.angleDifference=function(e,t){var o=goog.math.standardAngle(t)-goog.math.standardAngle(e);return 180<o?o-=360:o<=-180&&(o=360+o),o},goog.math.sign=function(e){return 0==e?0:e<0?-1:1},goog.math.longestCommonSubsequence=function(t,e,o,i){for(var o=o||function(e,t){return e==t},i=i||function(e){return t[e]},s=t.length,r=e.length,n=[],a=0;a<s+1;a++)n[a]=[],n[a][0]=0;for(var l=0;l<r+1;l++)n[0][l]=0;for(a=1;a<=s;a++)for(l=1;l<=s;l++)n[a][l]=o(t[a-1],e[l-1])?n[a-1][l-1]+1:Math.max(n[a-1][l],n[a][l-1]);for(var d=[],a=s,l=r;0<a&&0<l;)o(t[a-1],e[l-1])?(d.unshift(i(a-1,l-1)),a--,l--):n[a-1][l]>n[a][l-1]?a--:l--;return d},goog.math.sum=function(e){return goog.array.reduce(arguments,function(e,t){return e+t},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.standardDeviation=function(e){if((o=arguments.length)<2)return 0;var t=goog.math.average.apply(null,arguments),o=goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-t,2)}))/(o-1);return Math.sqrt(o)},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.Vec2=function(e,t){this.x=e,this.y=t},goog.inherits(goog.math.Vec2,goog.math.Coordinate),goog.math.Vec2.randomUnit=function(){var e=2*Math.random()*Math.PI;return new goog.math.Vec2(Math.cos(e),Math.sin(e))},goog.math.Vec2.random=function(){var e=Math.sqrt(Math.random()),t=2*Math.random()*Math.PI;return new goog.math.Vec2(Math.cos(t)*e,Math.sin(t)*e)},goog.math.Vec2.fromCoordinate=function(e){return new goog.math.Vec2(e.x,e.y)},goog.math.Vec2.prototype.clone=function(){return new goog.math.Vec2(this.x,this.y)},goog.math.Vec2.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},goog.math.Vec2.prototype.squaredMagnitude=function(){return this.x*this.x+this.y*this.y},goog.math.Vec2.prototype.scale=function(e){return this.x*=e,this.y*=e,this},goog.math.Vec2.prototype.invert=function(){return this.x=-this.x,this.y=-this.y,this},goog.math.Vec2.prototype.normalize=function(){return this.scale(1/this.magnitude())},goog.math.Vec2.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},goog.math.Vec2.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},goog.math.Vec2.prototype.rotate=function(e){var t=Math.cos(e),e=Math.sin(e),o=this.y*t+this.x*e;return this.x=this.x*t-this.y*e,this.y=o,this},goog.math.Vec2.rotateAroundPoint=function(e,t,o){return e.clone().subtract(t).rotate(o).add(t)},goog.math.Vec2.prototype.equals=function(e){return this==e||!!e&&this.x==e.x&&this.y==e.y},goog.math.Vec2.distance=goog.math.Coordinate.distance,goog.math.Vec2.squaredDistance=goog.math.Coordinate.squaredDistance,goog.math.Vec2.equals=goog.math.Coordinate.equals,goog.math.Vec2.sum=function(e,t){return new goog.math.Vec2(e.x+t.x,e.y+t.y)},goog.math.Vec2.difference=function(e,t){return new goog.math.Vec2(e.x-t.x,e.y-t.y)},goog.math.Vec2.dot=function(e,t){return e.x*t.x+e.y*t.y},goog.math.Vec2.lerp=function(e,t,o){return new goog.math.Vec2(goog.math.lerp(e.x,t.x,o),goog.math.lerp(e.y,t.y,o))},goog.debug.errorHandlerWeakDep={protectEntryPoint:function(e){return e}},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null},goog.userAgent.getNavigator=function(){return goog.global.navigator},goog.userAgent.init_=function(){var e,t;goog.userAgent.detectedOpera_=!1,goog.userAgent.detectedIe_=!1,goog.userAgent.detectedWebkit_=!1,goog.userAgent.detectedMobile_=!1,goog.userAgent.detectedGecko_=!1,!goog.userAgent.BROWSER_KNOWN_&&(e=goog.userAgent.getUserAgentString())&&(t=goog.userAgent.getNavigator(),goog.userAgent.detectedOpera_=0==e.indexOf("Opera"),goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("MSIE"),goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("WebKit"),goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&-1!=e.indexOf("Mobile"),goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&"Gecko"==t.product)},goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_(),goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_,goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_,goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_,goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_,goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.determineVersion_=function(){var e,t="";return goog.userAgent.OPERA&&goog.global.opera?t="function"==typeof(t=goog.global.opera.version)?t():t:(goog.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?e=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(goog.userAgent.getUserAgentString()))?t[1]:"")),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_())>parseFloat(t)?""+e:t},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionCache_={},goog.userAgent.isVersion=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionCache_[e]||(goog.userAgent.isVersionCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isDocumentModeCache_={},goog.userAgent.isDocumentMode=function(e){return goog.userAgent.isDocumentModeCache_[e]||(goog.userAgent.isDocumentModeCache_[e]=goog.userAgent.IE&&!!document.documentMode&&document.documentMode>=e)},goog.events={},goog.events.Listener=function(){},goog.events.Listener.counter_=0,goog.events.Listener.prototype.key=0,goog.events.Listener.prototype.removed=!1,goog.events.Listener.prototype.callOnce=!1,goog.events.Listener.prototype.init=function(e,t,o,i,s,r){if(goog.isFunction(e))this.isFunctionListener_=!0;else{if(!(e&&e.handleEvent&&goog.isFunction(e.handleEvent)))throw Error("Invalid listener argument");this.isFunctionListener_=!1}this.listener=e,this.proxy=t,this.src=o,this.type=i,this.capture=!!s,this.handler=r,this.callOnce=!1,this.key=++goog.events.Listener.counter_,this.removed=!1},goog.events.Listener.prototype.handleEvent=function(e){return this.isFunctionListener_?this.listener.call(this.handler||this.src,e):this.listener.handleEvent.call(this.listener,e)},goog.object={},goog.object.forEach=function(e,t,o){for(var i in e)t.call(o,e[i],i,e)},goog.object.filter=function(e,t,o){var i,s={};for(i in e)t.call(o,e[i],i,e)&&(s[i]=e[i]);return s},goog.object.map=function(e,t,o){var i,s={};for(i in e)s[i]=t.call(o,e[i],i,e);return s},goog.object.some=function(e,t,o){for(var i in e)if(t.call(o,e[i],i,e))return!0;return!1},goog.object.every=function(e,t,o){for(var i in e)if(!t.call(o,e[i],i,e))return!1;return!0},goog.object.getCount=function(e){var t,o=0;for(t in e)o++;return o},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,o=[],i=0;for(t in e)o[i++]=e[t];return o},goog.object.getKeys=function(e){var t,o=[],i=0;for(t in e)o[i++]=t;return o},goog.object.getValueByKeys=function(e,t){for(var o=(i=goog.isArrayLike(t))?t:arguments,i=i?0:1;i<o.length&&(e=e[o[i]],goog.isDef(e));i++);return e},goog.object.containsKey=function(e,t){return t in e},goog.object.containsValue=function(e,t){for(var o in e)if(e[o]==t)return!0;return!1},goog.object.findKey=function(e,t,o){for(var i in e)if(t.call(o,e[i],i,e))return i},goog.object.findValue=function(e,t,o){return(t=goog.object.findKey(e,t,o))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var o;return(o=t in e)&&delete e[t],o},goog.object.add=function(e,t,o){if(t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,o)},goog.object.get=function(e,t,o){return t in e?e[t]:o},goog.object.set=function(e,t,o){e[t]=o},goog.object.setIfUndefined=function(e,t,o){return t in e?e[t]:e[t]=o},goog.object.clone=function(e){var t,o={};for(t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){if("object"!=(o=goog.typeOf(e))&&"array"!=o)return e;if(e.clone)return e.clone();var t,o="array"==o?[]:{};for(t in e)o[t]=goog.object.unsafeClone(e[t]);return o},goog.object.transpose=function(e){var t,o={};for(t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var o,i,s=1;s<arguments.length;s++){for(o in i=arguments[s])e[o]=i[o];for(var r=0;r<goog.object.PROTOTYPE_FIELDS_.length;r++)o=goog.object.PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.create.apply(null,e);if(t%2)throw Error("Uneven number of arguments");for(var o={},i=0;i<t;i+=2)o[arguments[i]]=arguments[i+1];return o},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.createSet.apply(null,e);for(var o={},i=0;i<t;i++)o[arguments[i]]=!0;return o},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersion("8"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersion("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersion("8")||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersion("8")||goog.userAgent.IE&&!goog.userAgent.isVersion("9")},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,o=0;o<t.length;o++)e(goog.bind(t[o].wrap,t[o]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped.");for(var e=goog.bind(e.unwrap,e),o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](e);t.length--},goog.events.EventWrapper=function(){},goog.events.EventWrapper.prototype.listen=function(){},goog.events.EventWrapper.prototype.unlisten=function(){},goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:goog.userAgent.WEBKIT?"webkitTransitionEnd":goog.userAgent.OPERA?"oTransitionEnd":"transitionend"},goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.ENABLE_MONITORING&&(this.creationStack=Error().stack,goog.Disposable.instances_[goog.getUid(this)]=this)},goog.Disposable.ENABLE_MONITORING=!1,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.ENABLE_MONITORING)){var e=goog.getUid(this);if(!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.dependentDisposables_||(this.dependentDisposables_=[]),this.dependentDisposables_.push(e)},goog.Disposable.prototype.disposeInternal=function(){this.dependentDisposables_&&goog.disposeAll.apply(null,this.dependentDisposables_)},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var t=0,o=arguments.length;t<o;++t){var i=arguments[t];goog.isArrayLike(i)?goog.disposeAll.apply(null,i):goog.dispose(i)}},goog.events.Event=function(e,t){goog.Disposable.call(this),this.type=e,this.currentTarget=this.target=t},goog.inherits(goog.events.Event,goog.Disposable),goog.events.Event.prototype.disposeInternal=function(){delete this.type,delete this.target,delete this.currentTarget},goog.events.Event.prototype.propagationStopped_=!1,goog.events.Event.prototype.defaultPrevented=!1,goog.events.Event.prototype.returnValue_=!0,goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.events.BrowserEvent=function(e,t){e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.target=null,goog.events.BrowserEvent.prototype.relatedTarget=null,goog.events.BrowserEvent.prototype.offsetX=0,goog.events.BrowserEvent.prototype.offsetY=0,goog.events.BrowserEvent.prototype.clientX=0,goog.events.BrowserEvent.prototype.clientY=0,goog.events.BrowserEvent.prototype.screenX=0,goog.events.BrowserEvent.prototype.screenY=0,goog.events.BrowserEvent.prototype.button=0,goog.events.BrowserEvent.prototype.keyCode=0,goog.events.BrowserEvent.prototype.charCode=0,goog.events.BrowserEvent.prototype.ctrlKey=!1,goog.events.BrowserEvent.prototype.altKey=!1,goog.events.BrowserEvent.prototype.shiftKey=!1,goog.events.BrowserEvent.prototype.metaKey=!1,goog.events.BrowserEvent.prototype.platformModifierKey=!1,goog.events.BrowserEvent.prototype.event_=null,goog.events.BrowserEvent.prototype.init=function(e,t){var o=this.type=e.type;goog.events.Event.call(this,o),this.target=e.target||e.srcElement,this.currentTarget=t;var i=e.relatedTarget;i?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(i,"nodeName")||(i=null)):o==goog.events.EventType.MOUSEOVER?i=e.fromElement:o==goog.events.EventType.MOUSEOUT&&(i=e.toElement),this.relatedTarget=i,this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==o?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,(this.event_=e).defaultPrevented&&this.preventDefault(),delete this.propagationStopped_},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.prototype.disposeInternal=function(){goog.events.BrowserEvent.superClass_.disposeInternal.call(this),this.relatedTarget=this.currentTarget=this.target=this.event_=null},goog.events.listeners_={},goog.events.listenerTree_={},goog.events.sources_={},goog.events.onString_="on",goog.events.onStringMap_={},goog.events.keySeparator_="_",goog.events.listen=function(e,t,o,i,s){if(t){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.listen(e,t[r],o,i,s);return null}i=!!i;t in(a=goog.events.listenerTree_)||(a[t]={count_:0,remaining_:0}),i in(a=a[t])||(a[i]={count_:0,remaining_:0},a.count_++);var n,a=a[i],l=goog.getUid(e);if(a.remaining_++,a[l]){for(n=a[l],r=0;r<n.length;r++)if((a=n[r]).listener==o&&a.handler==s){if(a.removed)break;return n[r].key}}else n=a[l]=[],a.count_++;return(r=goog.events.getProxy()).src=e,(a=new goog.events.Listener).init(o,r,e,t,i,s),o=a.key,r.key=o,n.push(a),goog.events.listeners_[o]=a,goog.events.sources_[l]||(goog.events.sources_[l]=[]),goog.events.sources_[l].push(a),e.addEventListener?e!=goog.global&&e.customEvent_||e.addEventListener(t,r,i):e.attachEvent(goog.events.getOnString_(t),r),o}throw Error("Invalid event type")},goog.events.getProxy=function(){var t=goog.events.handleBrowserEvent_,o=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(e){return t.call(o.src,o.key,e)}:function(e){if(!(e=t.call(o.src,o.key,e)))return e};return o},goog.events.listenOnce=function(e,t,o,i,s){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.listenOnce(e,t[r],o,i,s);return null}return e=goog.events.listen(e,t,o,i,s),goog.events.listeners_[e].callOnce=!0,e},goog.events.listenWithWrapper=function(e,t,o,i,s){t.listen(e,o,i,s)},goog.events.unlisten=function(e,t,o,i,s){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.unlisten(e,t[r],o,i,s);return null}if(i=!!i,!(e=goog.events.getListeners_(e,t,i)))return!1;for(r=0;r<e.length;r++)if(e[r].listener==o&&e[r].capture==i&&e[r].handler==s)return goog.events.unlistenByKey(e[r].key);return!1},goog.events.unlistenByKey=function(e){if(!goog.events.listeners_[e])return!1;var t=goog.events.listeners_[e];if(t.removed)return!1;var o,i=t.src,s=t.type,r=t.proxy,n=t.capture;return i.removeEventListener?i!=goog.global&&i.customEvent_||i.removeEventListener(s,r,n):i.detachEvent&&i.detachEvent(goog.events.getOnString_(s),r),i=goog.getUid(i),r=goog.events.listenerTree_[s][n][i],goog.events.sources_[i]&&(o=goog.events.sources_[i],goog.array.remove(o,t),0==o.length&&delete goog.events.sources_[i]),t.removed=!0,r.needsCleanup_=!0,goog.events.cleanUp_(s,n,i,r),delete goog.events.listeners_[e],!0},goog.events.unlistenWithWrapper=function(e,t,o,i,s){t.unlisten(e,o,i,s)},goog.events.cleanUp_=function(e,t,o,i){if(!i.locked_&&i.needsCleanup_){for(var s=0,r=0;s<i.length;s++)i[s].removed?i[s].proxy.src=null:(s!=r&&(i[r]=i[s]),r++);i.length=r,i.needsCleanup_=!1,0==r&&(delete goog.events.listenerTree_[e][t][o],goog.events.listenerTree_[e][t].count_--,0==goog.events.listenerTree_[e][t].count_&&(delete goog.events.listenerTree_[e][t],goog.events.listenerTree_[e].count_--),0==goog.events.listenerTree_[e].count_&&delete goog.events.listenerTree_[e])}},goog.events.removeAll=function(e,i,s){var r=0,n=null==i,a=null==s,s=!!s;if(null==e)goog.object.forEach(goog.events.sources_,function(e){for(var t=e.length-1;0<=t;t--){var o=e[t];!n&&i!=o.type||!a&&s!=o.capture||(goog.events.unlistenByKey(o.key),r++)}});else if(e=goog.getUid(e),goog.events.sources_[e])for(var t=(e=goog.events.sources_[e]).length-1;0<=t;t--){var o=e[t];!n&&i!=o.type||!a&&s!=o.capture||(goog.events.unlistenByKey(o.key),r++)}return r},goog.events.getListeners=function(e,t,o){return goog.events.getListeners_(e,t,o)||[]},goog.events.getListeners_=function(e,t,o){var i=goog.events.listenerTree_;return t in i&&(o in(i=i[t])&&(i=i[o])[e=goog.getUid(e)])?i[e]:null},goog.events.getListener=function(e,t,o,i,s){if(i=!!i,e=goog.events.getListeners_(e,t,i))for(t=0;t<e.length;t++)if(!e[t].removed&&e[t].listener==o&&e[t].capture==i&&e[t].handler==s)return e[t];return null},goog.events.hasListener=function(e,t,o){var e=goog.getUid(e),i=goog.events.sources_[e];if(i){var s=goog.isDef(t),r=goog.isDef(o);return s&&r?!!(i=goog.events.listenerTree_[t])&&!!i[o]&&e in i[o]:!s&&!r||goog.array.some(i,function(e){return s&&e.type==t||r&&e.capture==o})}return!1},goog.events.expose=function(e){var t,o=[];for(t in e)e[t]&&e[t].id?o.push(t+" = "+e[t]+" ("+e[t].id+")"):o.push(t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,o,i){var s=goog.events.listenerTree_;return!(t in s&&o in(s=s[t]))||goog.events.fireListeners_(s[o],e,t,o,i)},goog.events.fireListeners_=function(e,t,o,i,s){var r=1;if(e[t=goog.getUid(t)]){e.remaining_--,(e=e[t]).locked_?e.locked_++:e.locked_=1;try{for(var n=e.length,a=0;a<n;a++){var l=e[a];l&&!l.removed&&(r&=!1!==goog.events.fireListener(l,s))}}finally{e.locked_--,goog.events.cleanUp_(o,i,t,e)}}return Boolean(r)},goog.events.fireListener=function(e,t){var o=e.handleEvent(t);return e.callOnce&&goog.events.unlistenByKey(e.key),o},goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)},goog.events.dispatchEvent=function(e,t){var o=t.type||t,i=goog.events.listenerTree_;if(!(o in i))return!0;goog.isString(t)?t=new goog.events.Event(t,e):t instanceof goog.events.Event?t.target=t.target||e:(n=t,t=new goog.events.Event(o,e),goog.object.extend(t,n));var s,r,n=1;if(o=!0 in(i=i[o])){for(s=[],r=e;r;r=r.getParentEventTarget())s.push(r);(r=i[!0]).remaining_=r.count_;for(var a=s.length-1;!t.propagationStopped_&&0<=a&&r.remaining_;a--)t.currentTarget=s[a],n&=goog.events.fireListeners_(r,s[a],t.type,!0,t)&&0!=t.returnValue_}if(!1 in i)if((r=i[!1]).remaining_=r.count_,o)for(a=0;!t.propagationStopped_&&a<s.length&&r.remaining_;a++)t.currentTarget=s[a],n&=goog.events.fireListeners_(r,s[a],t.type,!1,t)&&0!=t.returnValue_;else for(i=e;!t.propagationStopped_&&i&&r.remaining_;i=i.getParentEventTarget())t.currentTarget=i,n&=goog.events.fireListeners_(r,i,t.type,!1,t)&&0!=t.returnValue_;return Boolean(n)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(!goog.events.listeners_[e])return!0;var o=goog.events.listeners_[e],i=o.type;if(!(i in(n=goog.events.listenerTree_)))return!0;var s,r,n=n[i];if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){s=t||goog.getObjectByName("window.event");var a=!0 in n,l=!1 in n;if(a){if(goog.events.isMarkedIeEvent_(s))return!0;goog.events.markIeEvent_(s)}var d=new goog.events.BrowserEvent;d.init(s,this),s=!0;try{if(a){for(var g=[],m=d.currentTarget;m;m=m.parentNode)g.push(m);(r=n[!0]).remaining_=r.count_;for(var c=g.length-1;!d.propagationStopped_&&0<=c&&r.remaining_;c--)d.currentTarget=g[c],s&=goog.events.fireListeners_(r,g[c],i,!0,d);if(l)for((r=n[!1]).remaining_=r.count_,c=0;!d.propagationStopped_&&c<g.length&&r.remaining_;c++)d.currentTarget=g[c],s&=goog.events.fireListeners_(r,g[c],i,!1,d)}else s=goog.events.fireListener(o,d)}finally{g&&(g.length=0),d.dispose()}return s}i=new goog.events.BrowserEvent(t,this);try{s=goog.events.fireListener(o,i)}finally{i.dispose()}return s},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}!t&&null!=e.returnValue||(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||null!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this)},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.EventTarget.prototype.customEvent_=!0,goog.events.EventTarget.prototype.parentEventTarget_=null,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,o,i){goog.events.listen(this,e,t,o,i)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,o,i){goog.events.unlisten(this,e,t,o,i)},goog.events.EventTarget.prototype.dispatchEvent=function(e){return goog.events.dispatchEvent(this,e)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),goog.events.removeAll(this),this.parentEventTarget_=null},lime.userAgent={},function(){var e=goog.userAgent.getUserAgentString();lime.userAgent.IOS=goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&/(ipod|iphone|ipad)/i.test(e),lime.userAgent.IOS5=lime.userAgent.IOS&&goog.isFunction(Object.freeze),lime.userAgent.ANDROID=goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&/(android)/i.test(e),lime.userAgent.IPAD=lime.userAgent.IOS&&/(ipad)/i.test(e),lime.userAgent.IPHONE4=lime.userAgent.IOS&&2<=goog.global.devicePixelRatio,lime.userAgent.PLAYBOOK=goog.userAgent.WEBKIT&&/playbook/i.test(e),lime.userAgent.SUPPORTS_TOUCH=goog.isDef(document.ontouchmove)}(),goog.math.Rect=function(e,t,o,i){this.left=e,this.top=t,this.width=o,this.height=i},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&(e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height)},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),o=Math.min(this.left+this.width,e.left+e.width);if(t<=o){var i=Math.max(this.top,e.top);if(i<=(e=Math.min(this.top+this.height,e.top+e.height)))return this.left=t,this.top=i,this.width=o-t,this.height=e-i,!0}return!1},goog.math.Rect.intersection=function(e,t){var o=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width);if(o<=i){var s=Math.max(e.top,t.top),r=Math.min(e.top+e.height,t.top+t.height);if(s<=r)return new goog.math.Rect(o,s,i-o,r-s)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){if(!(o=goog.math.Rect.intersection(e,t))||!o.height||!o.width)return[e.clone()];var o=[],i=e.top,s=e.height,r=e.left+e.width,n=e.top+e.height,a=t.left+t.width,l=t.top+t.height;return t.top>e.top&&(o.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),i=t.top,s-=t.top-e.top),l<n&&(o.push(new goog.math.Rect(e.left,l,e.width,n-l)),s=l-i),t.left>e.left&&o.push(new goog.math.Rect(e.left,i,t.left-e.left,s)),a<r&&o.push(new goog.math.Rect(a,i,r-a,s)),o},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),o=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=o-this.top},goog.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var o=e.clone();return o.boundingRect(t),o},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.dom={},goog.dom.classes={},goog.dom.classes.set=function(e,t){e.className=t},goog.dom.classes.get=function(e){return e=e.className,goog.isString(e)&&e.match(/\S+/g)||[]},goog.dom.classes.add=function(e,t){var o=goog.dom.classes.get(e),i=goog.array.slice(arguments,1),s=o.length+i.length;return goog.dom.classes.add_(o,i),e.className=o.join(" "),o.length==s},goog.dom.classes.remove=function(e,t){var o=goog.dom.classes.get(e),i=goog.array.slice(arguments,1),s=goog.dom.classes.getDifference_(o,i);return e.className=s.join(" "),s.length==o.length-i.length},goog.dom.classes.add_=function(e,t){for(var o=0;o<t.length;o++)goog.array.contains(e,t[o])||e.push(t[o])},goog.dom.classes.getDifference_=function(e,t){return goog.array.filter(e,function(e){return!goog.array.contains(t,e)})},goog.dom.classes.swap=function(e,t,o){for(var i=goog.dom.classes.get(e),s=!1,r=0;r<i.length;r++)i[r]==t&&(goog.array.splice(i,r--,1),s=!0);return s&&(i.push(o),e.className=i.join(" ")),s},goog.dom.classes.addRemove=function(e,t,o){var i=goog.dom.classes.get(e);goog.isString(t)?goog.array.remove(i,t):goog.isArray(t)&&(i=goog.dom.classes.getDifference_(i,t)),goog.isString(o)&&!goog.array.contains(i,o)?i.push(o):goog.isArray(o)&&goog.dom.classes.add_(i,o),e.className=i.join(" ")},goog.dom.classes.has=function(e,t){return goog.array.contains(goog.dom.classes.get(e),t)},goog.dom.classes.enable=function(e,t,o){o?goog.dom.classes.add(e,t):goog.dom.classes.remove(e,t)},goog.dom.classes.toggle=function(e,t){var o=!goog.dom.classes.has(e,t);return goog.dom.classes.enable(e,t,o),o},goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",DD:"DD",DEL:"DEL",DFN:"DFN",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",FIELDSET:"FIELDSET",FONT:"FONT",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MENU:"MENU",META:"META",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",P:"P",PARAM:"PARAM",PRE:"PRE",Q:"Q",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SELECT:"SELECT",SMALL:"SMALL",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUP:"SUP",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO"},goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentMode(9)||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.isString(e)?document.getElementById(e):e},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(document,e,t,o)},goog.dom.getElementsByClass=function(e,t){var o=t||document;return goog.dom.canUseQuerySelector_(o)?o.querySelectorAll("."+e):o.getElementsByClassName?o.getElementsByClassName(e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var o=t||document;return(goog.dom.canUseQuerySelector_(o)?o.querySelector("."+e):goog.dom.getElementsByClass(e,t)[0])||null},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,o,i){if(e=i||e,t=t&&"*"!=t?t.toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(t||o))return e.querySelectorAll(t+(o?"."+o:""));if(o&&e.getElementsByClassName){if(e=e.getElementsByClassName(o),t){for(var s,i={},r=0,n=0;s=e[n];n++)t==s.nodeName&&(i[r++]=s);return i.length=r,i}return e}if(e=e.getElementsByTagName(t||"*"),o){for(i={},n=r=0;s=e[n];n++)"function"==typeof(t=s.className).split&&goog.array.contains(t.split(/\s+/),o)&&(i[r++]=s);return i.length=r,i}return e},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(o,e){goog.object.forEach(e,function(e,t){"style"==t?o.style.cssText=e:"class"==t?o.className=e:"for"==t?o.htmlFor=e:t in goog.dom.DIRECT_ATTRIBUTE_MAP_?o.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[t],e):goog.string.startsWith(t,"aria-")?o.setAttribute(t,e):o[t]=e})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeight_=function(e){var t,o,i=e.document,s=0;return i&&(e=goog.dom.getViewportSize_(e).height,s=i.body,t=i.documentElement,s=goog.dom.isCss1CompatMode_(i)&&t.scrollHeight?t.scrollHeight!=e?t.scrollHeight:t.offsetHeight:(i=t.scrollHeight,o=t.offsetHeight,t.clientHeight!=o&&(i=s.scrollHeight,o=s.offsetHeight),e<i?o<i?i:o:i<o?i:o)),s},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e),e=goog.dom.getWindow_(e);return new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,o){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var o,i=t[0],s=t[1];return!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&s&&(s.name||s.type)&&(i=["<",i],s.name&&i.push(' name="',goog.string.htmlEscape(s.name),'"'),s.type&&(i.push(' type="',goog.string.htmlEscape(s.type),'"'),o={},goog.object.extend(o,s),delete(s=o).type),i.push(">"),i=i.join("")),i=e.createElement(i),s&&(goog.isString(s)?i.className=s:goog.isArray(s)?goog.dom.classes.add.apply(null,[i].concat(s)):goog.dom.setProperties(i,s)),2<t.length&&goog.dom.append_(e,i,t,2),i},goog.dom.append_=function(t,o,e,i){function s(e){e&&o.appendChild(goog.isString(e)?t.createTextNode(e):e)}for(;i<e.length;i++){var r=e[i];goog.isArrayLike(r)&&!goog.dom.isNodeLike(r)?goog.array.forEach(goog.dom.isNodeList(r)?goog.array.toArray(r):r,s):s(r)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return document.createElement(e)},goog.dom.createTextNode=function(e){return document.createTextNode(e)},goog.dom.createTable=function(e,t,o){return goog.dom.createTable_(document,e,t,!!o)},goog.dom.createTable_=function(e,t,o,i){for(var s=["<tr>"],r=0;r<o;r++)s.push(i?"<td>&nbsp;</td>":"<td></td>");for(s.push("</tr>"),s=s.join(""),o=["<table>"],r=0;r<t;r++)o.push(s);return o.push("</table>"),(e=e.createElement(goog.dom.TagName.DIV)).innerHTML=o.join(""),e.removeChild(e.firstChild)},goog.dom.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(document,e)},goog.dom.htmlToDocumentFragment_=function(e,t){var o=e.createElement("div");if(goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(o.innerHTML="<br>"+t,o.removeChild(o.firstChild)):o.innerHTML=t,1==o.childNodes.length)return o.removeChild(o.firstChild);for(var i=e.createDocumentFragment();o.firstChild;)i.appendChild(o.firstChild);return i},goog.dom.getCompatMode=function(){return goog.dom.isCss1CompatMode()?"CSS1Compat":"BackCompat"},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.STYLE:return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,o){e.insertBefore(t,e.childNodes[o]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,o=e.parentNode;if(o&&o.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)o.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&null!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return null!=e.firstElementChild?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return null!=e.lastElementChild?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return null!=e.nextElementSibling?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return null!=e.previousElementSibling?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY?e.parentElement:(e=e.parentNode,goog.dom.isElement(e)?e:null)},goog.dom.contains=function(e,t){if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||Boolean(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var o=e.nodeType==goog.dom.NodeType.ELEMENT,i=t.nodeType==goog.dom.NodeType.ELEMENT;if(o&&i)return e.sourceIndex-t.sourceIndex;var s=e.parentNode,r=t.parentNode;return s==r?goog.dom.compareSiblingOrder_(e,t):!o&&goog.dom.contains(s,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!i&&goog.dom.contains(r,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(o?e.sourceIndex:s.sourceIndex)-(i?t.sourceIndex:r.sourceIndex)}return(o=(i=goog.dom.getOwnerDocument(e)).createRange()).selectNode(e),o.collapse(!0),(i=i.createRange()).selectNode(t),i.collapse(!0),o.compareBoundaryPoints(goog.global.Range.START_TO_END,i)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var o=e.parentNode;if(o==t)return-1;for(var i=t;i.parentNode!=o;)i=i.parentNode;return goog.dom.compareSiblingOrder_(i,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var o=t;o=o.previousSibling;)if(o==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t=arguments.length;if(!t)return null;if(1==t)return e;for(var o=[],i=1/0,s=0;s<t;s++){for(var r=[],n=arguments[s];n;)r.unshift(n),n=n.parentNode;o.push(r),i=Math.min(i,r.length)}for(r=null,s=0;s<i;s++){for(var n=o[0][s],a=1;a<t;a++)if(n!=o[a][s])return r;r=n}return r},goog.dom.getOwnerDocument=function(e){return e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){return e.contentWindow||goog.dom.getWindow_(goog.dom.getFrameContentDocument(e))},goog.dom.setTextContent=function(e,t){if("textContent"in e)e.textContent=t;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{goog.dom.removeChildren(e);var o=goog.dom.getOwnerDocument(e);e.appendChild(o.createTextNode(t))}},goog.dom.getOuterHtml=function(e){if("outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e).createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!0)?o[0]:void 0},goog.dom.findNodes=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!1),o},goog.dom.findNodes_=function(e,t,o,i){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(o.push(e),i)||goog.dom.findNodes_(e,t,o,i))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){var t=e.getAttributeNode("tabindex");return!(!t||!t.specified)&&(e=e.tabIndex,goog.isNumber(e)&&0<=e&&e<32768)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.getTextContent=function(e){var t;return e=(e=(e=goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in e?goog.string.canonicalizeNewlines(e.innerText):(t=[],goog.dom.getTextContent_(e,t,!0),t.join(""))).replace(/ \xAD /g," ").replace(/\xAD/g,"")).replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,o){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)o?t.push((""+e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,t,o),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var o=t||goog.dom.getOwnerDocument(e).body,i=[];e&&e!=o;){for(var s=e;s=s.previousSibling;)i.unshift(goog.dom.getTextContent(s));e=e.parentNode}return goog.string.trimLeft(i.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,o){for(var i,e=[e],s=0;0<e.length&&s<t;)if(!((i=e.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_))if(i.nodeType==goog.dom.NodeType.TEXT)var r=i.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),s=s+r.length;else if(i.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)s+=goog.dom.PREDEFINED_TAG_VALUES_[i.nodeName].length;else for(r=i.childNodes.length-1;0<=r;r--)e.push(i.childNodes[r]);return goog.isObject(o)&&(o.remainder=i?i.nodeValue.length+t-s-1:0,o.node=i),i},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,o){if(!t&&!o)return null;var i=t?t.toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!i||e.nodeName==i)&&(!o||goog.dom.classes.has(e,o))},!0)},goog.dom.getAncestorByClass=function(e,t){return goog.dom.getAncestorByTagNameAndClass(e,null,t)},goog.dom.getAncestor=function(e,t,o,i){o||(e=e.parentNode);for(var o=null==i,s=0;e&&(o||s<=i);){if(t(e))return e;e=e.parentNode,s++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.isString(e)?this.document_.getElementById(e):e},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,o)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,o){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(e)},goog.dom.DomHelper.prototype.createTable=function(e,t,o){return goog.dom.createTable_(this.document_,e,t,!!o)},goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return goog.dom.htmlToDocumentFragment_(this.document_,e)},goog.dom.DomHelper.prototype.getCompatMode=function(){return this.isCss1CompatMode()?"CSS1Compat":"BackCompat"},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.style={},goog.style.setStyle=function(e,t,o){goog.isString(t)?goog.style.setStyle_(e,o,t):goog.object.forEach(t,goog.partial(goog.style.setStyle_,e))},goog.style.setStyle_=function(e,t,o){e.style[goog.string.toCamelCase(o)]=t},goog.style.getStyle=function(e,t){return e.style[goog.string.toCamelCase(t)]||""},goog.style.getComputedStyle=function(e,t){var o=goog.dom.getOwnerDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(o=o.defaultView.getComputedStyle(e,null))&&(o[t]||o.getPropertyValue(t))||""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.setPosition=function(e,t,o){var i,s=goog.userAgent.GECKO&&(goog.userAgent.MAC||goog.userAgent.X11)&&goog.userAgent.isVersion("1.9");t=t instanceof goog.math.Coordinate?(i=t.x,t.y):(i=t,o),e.style.left=goog.style.getPixelStyleValue_(i,s),e.style.top=goog.style.getPixelStyleValue_(t,s)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){return e=e?e.nodeType==goog.dom.NodeType.DOCUMENT?e:goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentMode(9)||goog.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},goog.style.getBoundingClientRect_=function(e){var t=e.getBoundingClientRect();return goog.userAgent.IE&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(8))return e.offsetParent;for(var t=goog.dom.getOwnerDocument(e),o=goog.style.getStyle_(e,"position"),i="fixed"==o||"absolute"==o,e=e.parentNode;e&&e!=t;e=e.parentNode)if(o=goog.style.getStyle_(e,"position"),!(i=i&&"static"==o&&e!=t.documentElement&&e!=t.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==o||"absolute"==o||"relative"==o))return e;return null},goog.style.getVisibleRectForElement=function(e){for(var t,o,i=new goog.math.Box(0,1/0,1/0,0),s=goog.dom.getDomHelper(e),r=s.getDocument().body,n=s.getDocument().documentElement,a=s.getDocumentScrollElement();e=goog.style.getOffsetParent(e);){goog.userAgent.IE&&0==e.clientWidth||goog.userAgent.WEBKIT&&0==e.clientHeight&&e==r||e==r||e==n||"visible"==goog.style.getStyle_(e,"overflow")||(t=goog.style.getPageOffset(e),o=goog.style.getClientLeftTop(e),t.x+=o.x,t.y+=o.y,i.top=Math.max(i.top,t.y),i.right=Math.min(i.right,t.x+e.clientWidth),i.bottom=Math.min(i.bottom,t.y+e.clientHeight),i.left=Math.max(i.left,t.x))}return r=a.scrollLeft,a=a.scrollTop,i.left=Math.max(i.left,r),i.top=Math.max(i.top,a),s=s.getViewportSize(),i.right=Math.min(i.right,r+s.width),i.bottom=Math.min(i.bottom,a+s.height),0<=i.top&&0<=i.left&&i.bottom>i.top&&i.right>i.left?i:null},goog.style.getContainerOffsetToScrollInto=function(e,t,o){var i=goog.style.getPageOffset(e),s=goog.style.getPageOffset(t),r=goog.style.getBorderBox(t),n=i.x-s.x-r.left,i=i.y-s.y-r.top,s=t.clientWidth-e.offsetWidth,e=t.clientHeight-e.offsetHeight,r=t.scrollLeft,t=t.scrollTop;return o?(r+=n-s/2,t+=i-e/2):(r+=Math.min(n,Math.max(n-s,0)),t+=Math.min(i,Math.max(i-e,0))),new goog.math.Coordinate(r,t)},goog.style.scrollIntoContainerView=function(e,t,o){e=goog.style.getContainerOffsetToScrollInto(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},goog.style.getClientLeftTop=function(e){if(!goog.userAgent.GECKO||goog.userAgent.isVersion("1.9"))return new goog.math.Coordinate(e.clientLeft,e.clientTop);var t=parseFloat(goog.style.getComputedStyle(e,"borderLeftWidth"));return goog.style.isRightToLeft(e)&&(t+=e.offsetWidth-e.clientWidth-t-parseFloat(goog.style.getComputedStyle(e,"borderRightWidth"))),new goog.math.Coordinate(t,parseFloat(goog.style.getComputedStyle(e,"borderTopWidth")))},goog.style.getPageOffset=function(e){var t,o=goog.dom.getOwnerDocument(e),i=goog.style.getStyle_(e,"position"),s=goog.userAgent.GECKO&&o.getBoxObjectFor&&!e.getBoundingClientRect&&"absolute"==i&&(t=o.getBoxObjectFor(e))&&(t.screenX<0||t.screenY<0),r=new goog.math.Coordinate(0,0),n=goog.style.getClientViewportElement(o);if(e==n)return r;if(e.getBoundingClientRect)t=goog.style.getBoundingClientRect_(e),e=goog.dom.getDomHelper(o).getDocumentScroll(),r.x=t.left+e.x,r.y=t.top+e.y;else if(o.getBoxObjectFor&&!s)t=o.getBoxObjectFor(e),e=o.getBoxObjectFor(n),r.x=t.screenX-e.screenX,r.y=t.screenY-e.screenY;else{t=e;do{if(r.x+=t.offsetLeft,r.y+=t.offsetTop,t!=e&&(r.x+=t.clientLeft||0,r.y+=t.clientTop||0),goog.userAgent.WEBKIT&&"fixed"==goog.style.getComputedPosition(t)){r.x+=o.body.scrollLeft,r.y+=o.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((goog.userAgent.OPERA||goog.userAgent.WEBKIT&&"absolute"==i)&&(r.y-=o.body.offsetTop),t=e;(t=goog.style.getOffsetParent(t))&&t!=o.body&&t!=n;)r.x-=t.scrollLeft,goog.userAgent.OPERA&&"TR"==t.tagName||(r.y-=t.scrollTop)}return r},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var o=new goog.math.Coordinate(0,0),i=goog.dom.getWindow(goog.dom.getOwnerDocument(e)),s=e;do{var r=i==t?goog.style.getPageOffset(s):goog.style.getClientPosition(s);o.x+=r.x,o.y+=r.y}while(i&&i!=t&&(s=i.frameElement)&&(i=i.parent));return o},goog.style.translateRectForAnotherFrame=function(e,t,o){var i;t.getDocument()!=o.getDocument()&&(i=t.getDocument().body,o=goog.style.getFramedPageOffset(i,o.getWindow()),o=goog.math.Coordinate.difference(o,goog.style.getPageOffset(i)),goog.userAgent.IE&&!t.isCss1CompatMode()&&(o=goog.math.Coordinate.difference(o,t.getDocumentScroll())),e.left+=o.x,e.top+=o.y)},goog.style.getRelativePosition=function(e,t){var o=goog.style.getClientPosition(e),i=goog.style.getClientPosition(t);return new goog.math.Coordinate(o.x-i.x,o.y-i.y)},goog.style.getClientPosition=function(e){var t,o,i=new goog.math.Coordinate;return e.nodeType==goog.dom.NodeType.ELEMENT?e.getBoundingClientRect?(e=goog.style.getBoundingClientRect_(e),i.x=e.left,i.y=e.top):(t=goog.dom.getDomHelper(e).getDocumentScroll(),e=goog.style.getPageOffset(e),i.x=e.x-t.x,i.y=e.y-t.y):(t=goog.isFunction(e.getBrowserEvent),(o=e).targetTouches?o=e.targetTouches[0]:t&&e.getBrowserEvent().targetTouches&&(o=e.getBrowserEvent().targetTouches[0]),i.x=o.clientX,i.y=o.clientY),i},goog.style.setPageOffset=function(e,t,o){var i=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(o=t.y,t=t.x),goog.style.setPosition(e,e.offsetLeft+(t-i.x),e.offsetTop+(o-i.y))},goog.style.setSize=function(e,t,o){if(t instanceof goog.math.Size)o=t.height,t=t.width;else if(null==o)throw Error("missing height argument");goog.style.setWidth(e,t),goog.style.setHeight(e,o)},goog.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)},goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){if("none"!=goog.style.getStyle_(e,"display"))return goog.style.getSizeWithDisplay_(e);var t=e.style,o=t.display,i=t.visibility,s=t.position;return t.visibility="hidden",t.position="absolute",t.display="inline",e=goog.style.getSizeWithDisplay_(e),t.display=o,t.position=s,t.visibility=i,e},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,o=e.offsetHeight,i=goog.userAgent.WEBKIT&&!t&&!o;return goog.isDef(t)&&!i||!e.getBoundingClientRect?new goog.math.Size(t,o):(e=goog.style.getBoundingClientRect_(e),new goog.math.Size(e.right-e.left,e.bottom-e.top))},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e),e=goog.style.getSize(e);return new goog.math.Rect(t.x,t.y,e.width,e.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(""+e)},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){var t=e.style,e="";return"opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=""+t[1]/100),""==e?e:Number(e)},goog.style.setOpacity=function(e,t){var o=e.style;"opacity"in o?o.opacity=t:"MozOpacity"in o?o.MozOpacity=t:"filter"in o&&(o.filter=""===t?"":"alpha(opacity="+100*t+")")},goog.style.setTransparentBackgroundImage=function(e,t){var o=e.style;goog.userAgent.IE&&!goog.userAgent.isVersion("8")?o.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(o.backgroundImage="url("+t+")",o.backgroundPosition="top left",o.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){"filter"in(e=e.style)?e.filter="":e.backgroundImage="none"},goog.style.showElement=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installStyles=function(e,t){var o,i=goog.dom.getDomHelper(t),s=null;return goog.userAgent.IE?(s=i.getDocument().createStyleSheet(),goog.style.setStyles(s,e)):((o=i.getElementsByTagNameAndClass("head")[0])||(s=i.getElementsByTagNameAndClass("body")[0],o=i.createDom("head"),s.parentNode.insertBefore(o,s)),s=i.createDom("style"),goog.style.setStyles(s,e),i.appendChild(o,s)),s},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setStyles=function(e,t){goog.userAgent.IE?e.cssText=t:e[goog.userAgent.WEBKIT?"innerText":"innerHTML"]=t},goog.style.setPreWrap=function(e){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){(e=e.style).position="relative",goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(e.zoom="1",e.display="inline"):e.display=!goog.userAgent.GECKO||goog.userAgent.isVersion("1.9a")?"inline-block":"-moz-inline-box"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():!(!goog.userAgent.IE&&!goog.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},goog.style.setUnselectable=function(e,t,o){var o=o?null:e.getElementsByTagName("*"),i=goog.style.unselectableStyle_;if(i){if(t=t?"none":"",e.style[i]=t,o)for(var s,e=0;s=o[e];e++)s.style[i]=t}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),o))for(e=0;s=o[e];e++)s.setAttribute("unselectable",t)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){var o,i=goog.dom.getOwnerDocument(e),s=goog.dom.getDomHelper(i).isCss1CompatMode();!goog.userAgent.IE||s&&goog.userAgent.isVersion("8")?goog.style.setBoxSizingSize_(e,t,"border-box"):(i=e.style,s?(s=goog.style.getPaddingBox(e),o=goog.style.getBorderBox(e),i.pixelWidth=t.width-o.left-s.left-s.right-o.right,i.pixelHeight=t.height-o.top-s.top-s.bottom-o.bottom):(i.pixelWidth=t.width,i.pixelHeight=t.height))},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),o=goog.userAgent.IE&&e.currentStyle;return o&&goog.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=o.width&&"auto"!=o.height&&!o.boxSizing?(t=goog.style.getIePixelValue_(e,o.width,"width","pixelWidth"),e=goog.style.getIePixelValue_(e,o.height,"height","pixelHeight"),new goog.math.Size(t,e)):(o=goog.style.getBorderBoxSize(e),t=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),new goog.math.Size(o.width-e.left-t.left-t.right-e.right,o.height-e.top-t.top-t.bottom-e.bottom))},goog.style.setContentBoxSize=function(e,t){var o,i=goog.dom.getOwnerDocument(e),s=goog.dom.getDomHelper(i).isCss1CompatMode();!goog.userAgent.IE||s&&goog.userAgent.isVersion("8")?goog.style.setBoxSizingSize_(e,t,"content-box"):(i=e.style,s?(i.pixelWidth=t.width,i.pixelHeight=t.height):(s=goog.style.getPaddingBox(e),o=goog.style.getBorderBox(e),i.pixelWidth=t.width+o.left+s.left+s.right+o.right,i.pixelHeight=t.height+o.top+s.top+s.bottom+o.bottom))},goog.style.setBoxSizingSize_=function(e,t,o){e=e.style,goog.userAgent.GECKO?e.MozBoxSizing=o:goog.userAgent.WEBKIT?e.WebkitBoxSizing=o:e.boxSizing=o,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,o,i){if(/^\d+px?$/.test(t))return parseInt(t,10);var s=e.style[o],r=e.runtimeStyle[o];return e.runtimeStyle[o]=e.currentStyle[o],e.style[o]=t,t=e.style[i],e.style[o]=s,e.runtimeStyle[o]=r,t},goog.style.getIePixelDistance_=function(e,t){return goog.style.getIePixelValue_(e,goog.style.getCascadedStyle(e,t),"left","pixelLeft")},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var o=goog.style.getIePixelDistance_(e,t+"Left"),i=goog.style.getIePixelDistance_(e,t+"Right"),s=goog.style.getIePixelDistance_(e,t+"Top"),r=goog.style.getIePixelDistance_(e,t+"Bottom");return new goog.math.Box(s,i,r,o)}return o=goog.style.getComputedStyle(e,t+"Left"),i=goog.style.getComputedStyle(e,t+"Right"),s=goog.style.getComputedStyle(e,t+"Top"),r=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(s),parseFloat(i),parseFloat(r),parseFloat(o))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){if("none"==goog.style.getCascadedStyle(e,t+"Style"))return 0;var o=goog.style.getCascadedStyle(e,t+"Width");return o in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[o]:goog.style.getIePixelValue_(e,o,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE){var t=goog.style.getIePixelBorder_(e,"borderLeft"),o=goog.style.getIePixelBorder_(e,"borderRight"),i=goog.style.getIePixelBorder_(e,"borderTop"),e=goog.style.getIePixelBorder_(e,"borderBottom");return new goog.math.Box(i,o,e,t)}return t=goog.style.getComputedStyle(e,"borderLeftWidth"),o=goog.style.getComputedStyle(e,"borderRightWidth"),i=goog.style.getComputedStyle(e,"borderTopWidth"),e=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(i),parseFloat(o),parseFloat(e),parseFloat(t))},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),o="";if(t.body.createTextRange){(t=t.body.createTextRange()).moveToElementText(e);try{o=t.queryCommandValue("FontName")}catch(e){o=""}}return 1<(e=(o=o||goog.style.getStyle_(e,"fontFamily")).split(",")).length&&(o=e[0]),goog.string.stripQuotes(o,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){return(e=e.match(goog.style.lengthUnitRegex_))&&e[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),o=goog.style.getLengthUnits(t);if(t&&"px"==o)return parseInt(t,10);if(goog.userAgent.IE){if(o in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&o in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,o=goog.style.getStyle_(e,"fontSize"),goog.style.getIePixelValue_(e,t==o?"1em":t,"left","pixelLeft")}return o=goog.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(e,o),t=o.offsetHeight,goog.dom.removeNode(o),t},goog.style.parseStyleAttribute=function(e){var t={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){2==(e=e.split(/\s*:\s*/)).length&&(t[goog.string.toCamelCase(e[0].toLowerCase())]=e[1])}),t},goog.style.toStyleAttribute=function(e){var o=[];return goog.object.forEach(e,function(e,t){o.push(goog.string.toSelectorCase(t),":",e,";")}),o.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement("div");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=goog.dom.createElement("div"),goog.style.setSize(e,"200px","200px"),t.appendChild(e),goog.dom.appendChild(goog.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,goog.dom.removeNode(t),e},lime.style={},function(){var i=goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.OPERA?"O":goog.userAgent.IE?"ms":"",t=goog.dom.createDom("div").style;lime.style.transformProperty="-"+i.toLowerCase()+"-transform",lime.style.tryProperty=function(e){return void 0!==t[e]&&e},lime.style.getCSSproperty=function(e){var t=e.charAt(0).toLowerCase()+e.substr(1),o=i+e;return lime.style.tryProperty(e)?e:lime.style.tryProperty(t)?t:lime.style.tryProperty(o)?o:void 0}}(),lime.style.setBorderRadius=function(){var s=lime.style.getCSSproperty("BorderRadius");return function(e,t,o,i){i=i?"%":"px",o=goog.isDef(o)?o:t,(t=(goog.isArray(t)?t.join(i+" "):t)+i+"/"+((goog.isArray(o)?o.join(i+" "):o)+i))!=e.border_radius_cache_&&(e.style[s]=e.border_radius_cache_=t)}}(),lime.style.Transform=function(e){this.values=[],this.precision=1,this.enable3D_=!0,this.opt_precision&&this.setPrecision(e)},lime.style.Transform.prototype.set3DAllowed=function(e){return this.enable3D_=e,this},lime.style.Transform.prototype.scale=function(e,t){return this.values.push("scale("+e+","+t+")"),this},lime.style.Transform.prototype.rotate=function(e,t){return 0!=e&&this.values.push("rotate("+e+(t||"deg")+")"),this},lime.style.Transform.prototype.translate=function(e,t,o){var i=1/this.precision,s="translate";return this.enable3D_&&(lime.userAgent.IOS||lime.userAgent.PLAYBOOK)&&(s+="3d"),s+="("+e*i+"px,"+t*i+"px",this.enable3D_&&(lime.userAgent.IOS||lime.userAgent.PLAYBOOK)&&(s+=","+(o||0)*i+"px"),this.values.push(s+")"),this},lime.style.Transform.prototype.setPrecision=function(e){var t;return 1!=this.precision&&(t=1/this.precision,this.scale(t,t),this.precision=1),1!=e&&(this.scale(e,e),this.precision=e),this},lime.style.Transform.prototype.toString=function(){return 1!=this.precision&&this.setPrecision(1),this.values.join(" ")},lime.style.setTransform=function(){var i=lime.style.getCSSproperty("Transform");return function(e,t){var o=t.toString();o!=e.transform_cache_&&(e.style[i]=e.transform_cache_=o),lime.transformSet_=1}}(),lime.style.setTransformOrigin=function(){var s=lime.style.getCSSproperty("TransformOrigin");return function(e,t,o,i){(t=t+(i=i?"%":"px")+" "+o+i)!=e.transform_origin_cache_&&(e.style[s]=e.transform_origin_cache_=t)}}(),function(){var r=lime.style.getCSSproperty("Transition");lime.style.isTransitionsSupported=!!r&&!goog.userAgent.OPERA;function n(e,t){if(!e.length)return e;for(var o=e.split("),"),i=0;i<o.length-1;i++)o[i]+=")";return(o=goog.array.filter(o,function(e){return-1==e.indexOf(t)})).join(",")}lime.style.setTransition=function(e,t,o,i){var s;r&&((s=n(e.style[r],t)).length&&(s+=", "),s+=t+" "+o+"s cubic-bezier("+i[1]+","+i[2]+","+i[3]+","+i[4]+")",e.style[r]=s)},lime.style.clearTransition=function(e,t){r&&e&&(e.style[r]=n(e.style[r],t))},lime.style.setSize=function(e,t,o){if(e.width_cache_!=t||e.height_cache_!=o)return e.width_cache_=t,e.height_cache_=o,goog.style.setSize(e,t,o)}}(),lime.Renderer.DOM=new lime.Renderer,lime.Renderer.DOM.updateLayout=function(){for(var e,t=0,o=0;e=this.children_[o];o++)(e=e instanceof lime.Node?e.rootElement:e)==this.domElement.childNodes[t]?t++:(goog.dom.contains(this.containerElement,e)&&goog.dom.removeNode(e),lime.Renderer.DOM.appendAt_(this.containerElement,e,t++))},lime.Renderer.DOM.drawSizePosition=function(){var e=this.getSize(),t=this.getQuality(),o=this.getPosition(),i=this.relativeQuality_||1,s=this.getCSS3DTransformsAllowed();this.transitionsActive_[lime.Transition.POSITION]&&(o=this.transitionsActive_[lime.Transition.POSITION]);var r=Math.round(e.width*i),n=Math.round(e.height*i),a=this.getScale().clone();this.transitionsActive_[lime.Transition.SCALE]&&(a=this.transitionsActive_[lime.Transition.SCALE].clone()),0!=r?a.scale(e.width/(r*t/i)):a.scale(1/t),lime.style.setSize(this.domElement,r,n),lime.style.setTransformOrigin(this.domElement,100*this.anchorPoint_.x,100*this.anchorPoint_.y,!0),r=this.anchorPoint_.x*e.width*i,n=this.anchorPoint_.y*e.height*i,e=o.x*i/t-r,t=o.y*i/t-n,0==r-(o=this.stroke_?this.stroke_.width_:0)&&0==n-o||this.domElement!=this.containerElement||!this.children_.length||lime.Renderer.DOM.makeContainer.call(this),this.domElement==this.containerElement||this.transitionsActiveSet_[lime.Transition.POSITION]||this.transitionsActiveSet_[lime.Transition.SCALE]||this.transitionsActiveSet_[lime.Transition.ROTATION]||lime.style.setTransform(this.containerElement,(new lime.style.Transform).set3DAllowed(s).translate(r-o,n-o)),this.mask_!=this.activeMask_&&(this.activeMask_&&lime.Renderer.DOM.removeMask.call(this),this.mask_&&lime.Renderer.DOM.addMask.call(this)),s=(new lime.style.Transform).setPrecision(.1).set3DAllowed(s),this.mask_&&(lime.Renderer.DOM.calculateMaskPosition.call(this.mask_),s.setPrecision(.1).translate(-this.mask_.mX-r,-this.mask_.mY-n).rotate(this.mask_.mRot,"rad").translate(r,n).setPrecision(1)),r=-this.getRotation(),goog.isDef(this.transitionsActive_[lime.Transition.ROTATION])&&(r=-this.transitionsActive_[lime.Transition.ROTATION]),s.translate(e,t).scale(a.x,a.y).rotate(r),this.transitionsActiveSet_[lime.Transition.POSITION]||this.transitionsActiveSet_[lime.Transition.SCALE]||this.transitionsActiveSet_[lime.Transition.ROTATION]||lime.style.setTransform(this.domElement,s)},lime.Renderer.DOM.update=function(){var e;this.domElement&&(lime.Renderer.DOM.drawSizePosition.call(this),this.transitionsActiveSet_[lime.Transition.OPACITY]||(e=this.opacity_,goog.isDef(this.transitionsActive_[lime.Transition.OPACITY])&&(e=this.transitionsActive_[lime.Transition.OPACITY]),this.getDirty()&lime.Dirty.ALPHA&&goog.style.setOpacity(this.domElement,e)),this.getDirty()&lime.Dirty.VISIBILITY&&(this.domElement.style.display=this.hidden_?"none":"block"),this.maskTarget_||this.renderer.draw.call(this,this.domElement))},lime.Renderer.DOM.calculateMaskPosition=function(){var e,t,o,i,s,r,n,a,l;goog.isDef(this.targetNode)&&this.targetNode.inTree_&&(e=this.targetNode,o=this.getFrame(),t=new goog.math.Coordinate(o.left,o.top),a=new goog.math.Coordinate(o.right,o.top),l=new goog.math.Coordinate(o.right,o.bottom),o=e.getParent(),t=this.localToNode(t,o),a=this.localToNode(a,o),l=this.localToNode(l,o),o=Math.atan2(t.y-a.y,a.x-t.x),i=a.x-t.x,s=t.y-a.y,r=l.x-a.x,n=l.y-a.y,a=Math.cos(o),l=Math.sin(o),this.mWidth=Math.round(Math.sqrt(i*i+s*s)),this.mHeight=Math.round(Math.sqrt(r*r+n*n)),e.renderer.getType()==lime.Renderer.DOM&&(i=e.rootElement,goog.style.setSize(i,this.mWidth,this.mHeight),lime.style.setTransform(i,(new lime.style.Transform).setPrecision(.1).set3DAllowed(this.getCSS3DTransformsAllowed()).translate(t.x,t.y).rotate(-o,"rad"))),this.renderer.getType()==lime.Renderer.DOM&&(this.domElement.style.display="none"),this.mPos=e.parentToLocal(t.clone()),this.mSet=!0,this.mX=a*t.x-l*t.y,this.mY=a*t.y+l*t.x,this.mRot=o)},lime.Renderer.DOM.appendAt_=function(e,t,o){null==o||e.childNodes.length<=o?e.appendChild(t):e.insertBefore(t,e.childNodes[o])},lime.Renderer.DOM.makeContainer=function(){this.containerElement=goog.dom.createDom("div");for(var e,t=document.createDocumentFragment();e=this.domElement.firstChild;)this.domElement.removeChild(e),t.appendChild(e);this.containerElement.appendChild(t),this.domElement.appendChild(this.containerElement)},lime.Renderer.DOM.removeMask=function(){this.domElement!=this.rootElement&&(this.renderer.getType()==lime.Renderer.DOM&&(goog.dom.removeNode(this.domElement),goog.dom.replaceNode(this.domElement,this.rootElement),this.rootElement=this.domElement),this.activeMask_.isMask=0,this.activeMask_=null)},lime.Renderer.DOM.addMask=function(){this.renderer.getType()==lime.Renderer.DOM&&(this.rootElement=goog.dom.createDom("div"),this.rootElement.style.cssText="position:absolute;overflow:hidden;",lime.style.setTransformOrigin(this.rootElement,0,0),goog.dom.replaceNode(this.rootElement,this.domElement),this.rootElement.appendChild(this.domElement)),this.mask_.isMask=1,(this.mask_.targetNode=this).activeMask_=this.mask_,this.mask_.setDirty(lime.Dirty.POSITION)},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,o){if(this.buffer_+=e,null!=t)for(var i=1;i<arguments.length;i++)this.buffer_+=arguments[i];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.structs={},goog.structs.InversionMap=function(e,t,o){if(e.length!=t.length)return null;this.storeInversion_(e,o),this.values=t},goog.structs.InversionMap.prototype.storeInversion_=function(e,t){this.rangeArray=e;for(var o=1;o<e.length;o++)null==e[o]?e[o]=e[o-1]+1:t&&(e[o]+=e[o-1])},goog.structs.InversionMap.prototype.spliceInversion=function(e,t,o){var o=(e=new goog.structs.InversionMap(e,t,o)).rangeArray[0],i=goog.array.peek(e.rangeArray),t=this.getLeast(o),i=this.getLeast(i);o!=this.rangeArray[t]&&t++,o=i-t+1,goog.partial(goog.array.splice,this.rangeArray,t,o).apply(null,e.rangeArray),goog.partial(goog.array.splice,this.values,t,o).apply(null,e.values)},goog.structs.InversionMap.prototype.at=function(e){return(e=this.getLeast(e))<0?null:this.values[e]},goog.structs.InversionMap.prototype.getLeast=function(e){for(var t=this.rangeArray,o=0,i=t.length;8<i-o;){var s=i+o>>1;t[s]<=e?o=s:i=s}for(;o<i&&!(e<t[o]);++o);return o-1},goog.i18n={},goog.i18n.GraphemeBreak={},goog.i18n.GraphemeBreak.property={ANY:0,CONTROL:1,EXTEND:2,PREPEND:3,SPACING_MARK:4,L:5,V:6,T:7,LV:8,LVT:9,CR:10,LF:11},goog.i18n.GraphemeBreak.inversions_=null,goog.i18n.GraphemeBreak.applyLegacyBreakRules_=function(e,t){var o=goog.i18n.GraphemeBreak.property;return(e!=o.CR||t!=o.LF)&&(e==o.CONTROL||e==o.CR||e==o.LF||t==o.CONTROL||t==o.CR||t==o.LF||(e!=o.L||t!=o.L&&t!=o.V&&t!=o.LV&&t!=o.LVT)&&(e!=o.LV&&e!=o.V||t!=o.V&&t!=o.T)&&(e!=o.LVT&&e!=o.T||t!=o.T)&&t!=o.EXTEND)},goog.i18n.GraphemeBreak.getBreakProp_=function(e){if(44032<=e&&e<=55203){var t=goog.i18n.GraphemeBreak.property;return 16==e%28?t.LV:t.LVT}return goog.i18n.GraphemeBreak.inversions_||(goog.i18n.GraphemeBreak.inversions_=new goog.structs.InversionMap([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],!0)),goog.i18n.GraphemeBreak.inversions_.at(e)},goog.i18n.GraphemeBreak.hasGraphemeBreak=function(e,t,o){var e=goog.i18n.GraphemeBreak.getBreakProp_(e),t=goog.i18n.GraphemeBreak.getBreakProp_(t),i=goog.i18n.GraphemeBreak.property;return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(e,t)&&!(o&&(e==i.PREPEND||t==i.SPACING_MARK))},goog.format={},goog.format.fileSize=function(e,t){return goog.format.numBytesToString(e,t,!1)},goog.format.isConvertableScaledNumber=function(e){return goog.format.SCALED_NUMERIC_RE_.test(e)},goog.format.stringToNumericValue=function(e){return goog.string.endsWith(e,"B")?goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_):goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_SI_)},goog.format.stringToNumBytes=function(e){return goog.format.stringToNumericValue_(e,goog.format.NUMERIC_SCALES_BINARY_)},goog.format.numericValueToString=function(e,t){return goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_SI_,t)},goog.format.numBytesToString=function(e,t,o){var i="";return goog.isDef(o)&&!o||(i="B"),goog.format.numericValueToString_(e,goog.format.NUMERIC_SCALES_BINARY_,t,i)},goog.format.stringToNumericValue_=function(e,t){var o=e.match(goog.format.SCALED_NUMERIC_RE_);return o?o[1]*t[o[2]]:NaN},goog.format.numericValueToString_=function(e,t,o,i){var s=goog.format.NUMERIC_SCALE_PREFIXES_,r=e,n="",a=1;e<0&&(e=-e);for(var l=0;l<s.length;l++){var d=s[l];if((a=t[d])<=e||a<=1&&.1*a<e){n=d;break}}return n?i&&(n+=i):a=1,e=Math.pow(10,goog.isDef(o)?o:2),Math.round(r/a*e)/e+n},goog.format.SCALED_NUMERIC_RE_=/^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/,goog.format.NUMERIC_SCALE_PREFIXES_="P T G M K  m u n".split(" "),goog.format.NUMERIC_SCALES_SI_={"":1,n:1e-9,u:1e-6,m:.001,k:1e3,K:1e3,M:1e6,G:1e9,T:1e12,P:1e15},goog.format.NUMERIC_SCALES_BINARY_={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)},goog.format.FIRST_GRAPHEME_EXTEND_=768,goog.format.insertWordBreaksGeneric_=function(e,t,o){if((o=o||10)>e.length)return e;for(var i=[],s=0,r=0,n=0,a=0,l=0;l<e.length;l++){var d=a,d=(a=e.charCodeAt(l))>=goog.format.FIRST_GRAPHEME_EXTEND_&&!t(d,a,!0);o<=s&&a>goog.format.WbrToken_.SPACE&&!d&&(i.push(e.substring(n,l),goog.format.WORD_BREAK_HTML),n=l,s=0),r?a==goog.format.WbrToken_.GT&&r==goog.format.WbrToken_.LT?r=0:a==goog.format.WbrToken_.SEMI_COLON&&r==goog.format.WbrToken_.AMP&&(r=0,s++):a==goog.format.WbrToken_.LT||a==goog.format.WbrToken_.AMP?r=a:a<=goog.format.WbrToken_.SPACE?s=0:s++}return i.push(e.substr(n)),i.join("")},goog.format.insertWordBreaks=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.i18n.GraphemeBreak.hasGraphemeBreak,t)},goog.format.conservativelyHasGraphemeBreak_=function(e,t){return 1024<=t&&t<1315},goog.format.insertWordBreaksBasic=function(e,t){return goog.format.insertWordBreaksGeneric_(e,goog.format.conservativelyHasGraphemeBreak_,t)},goog.format.IS_IE8_OR_ABOVE_=goog.userAgent.IE&&goog.userAgent.isVersion(8),goog.format.WORD_BREAK_HTML=goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.format.IS_IE8_OR_ABOVE_?"&#8203;":"<wbr>",goog.format.WbrToken_={LT:60,GT:62,AMP:38,SEMI_COLON:59,SPACE:32},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:e<0?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-߿יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_," "):e},goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g,goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInHtml=function(e,t){return(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):e.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")},goog.i18n.bidi.guardBracketInText=function(e,t){var o=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/\d/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var o=0,i=0,s=!1,r=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),n=0;n<r.length;n++){var a=r[n];goog.i18n.bidi.startsWithRtl(a)?(o++,i++):goog.i18n.bidi.isRequiredLtrRe_.test(a)?s=!0:goog.i18n.bidi.hasAnyLtr(a)?i++:goog.i18n.bidi.hasNumeralsRe_.test(a)&&(s=!0)}return 0==i?s?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.UNKNOWN:o/i>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))!=goog.i18n.bidi.Dir.UNKNOWN&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?"right":"left",e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.BidiFormatter=function(e,t){this.contextDir_=goog.i18n.bidi.toDir(e),this.alwaysSpan_=!!t},goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.contextDir_},goog.i18n.BidiFormatter.prototype.getAlwaysSpan=function(){return this.alwaysSpan_},goog.i18n.BidiFormatter.prototype.setContextDir=function(e){this.contextDir_=goog.i18n.bidi.toDir(e)},goog.i18n.BidiFormatter.prototype.setAlwaysSpan=function(e){this.alwaysSpan_=e},goog.i18n.BidiFormatter.prototype.estimateDirection=goog.i18n.bidi.estimateDirection,goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_=function(e,t){return e*t<0},goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_=function(e,t,o,i){return i&&(this.areDirectionalitiesOpposite_(t,this.contextDir_)||this.contextDir_==goog.i18n.bidi.Dir.LTR&&goog.i18n.bidi.endsWithRtl(e,o)||this.contextDir_==goog.i18n.bidi.Dir.RTL&&goog.i18n.bidi.endsWithLtr(e,o))?this.contextDir_==goog.i18n.bidi.Dir.LTR?goog.i18n.bidi.Format.LRM:goog.i18n.bidi.Format.RLM:""},goog.i18n.BidiFormatter.prototype.dirAttrValue=function(e,t){return this.knownDirAttrValue(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttrValue=function(e){return e==goog.i18n.bidi.Dir.UNKNOWN&&(e=this.contextDir_),e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"},goog.i18n.BidiFormatter.prototype.dirAttr=function(e,t){return this.knownDirAttr(this.estimateDirection(e,t))},goog.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e!=this.contextDir_?e==goog.i18n.bidi.Dir.RTL?"dir=rtl":e==goog.i18n.bidi.Dir.LTR?"dir=ltr":"":""},goog.i18n.BidiFormatter.prototype.spanWrap=function(e,t,o){return this.spanWrapWithKnownDir(this.estimateDirection(e,t),e,t,o)},goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(e,t,o,i){var i=i||null==i,s=e!=goog.i18n.bidi.Dir.UNKNOWN&&e!=this.contextDir_;return o||(t=goog.string.htmlEscape(t)),o=[],this.alwaysSpan_||s?(o.push("<span"),s&&o.push(e==goog.i18n.bidi.Dir.RTL?" dir=rtl":" dir=ltr"),o.push(">"+t+"</span>")):o.push(t),o.push(this.dirResetIfNeeded_(t,e,!0,i)),o.join("")},goog.i18n.BidiFormatter.prototype.unicodeWrap=function(e,t,o){return this.unicodeWrapWithKnownDir(this.estimateDirection(e,t),e,t,o)},goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,t,o,i){var i=i||null==i,s=[];return e!=goog.i18n.bidi.Dir.UNKNOWN&&e!=this.contextDir_?(s.push(e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.Format.RLE:goog.i18n.bidi.Format.LRE),s.push(t),s.push(goog.i18n.bidi.Format.PDF)):s.push(t),s.push(this.dirResetIfNeeded_(t,e,o,i)),s.join("")},goog.i18n.BidiFormatter.prototype.markAfter=function(e,t){return this.dirResetIfNeeded_(e,this.estimateDirection(e,t),t,!0)},goog.i18n.BidiFormatter.prototype.mark=function(){switch(this.contextDir_){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Format.LRM;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Format.RLM;default:return""}},goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT},goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT};var soy={};soy.StringBuilder=goog.string.StringBuffer,soy.renderElement=function(e,t,o){e.innerHTML=t(o)},soy.renderAsFragment=function(e,t){return goog.dom.htmlToDocumentFragment(e(t))},soy.$$augmentData=function(e,t){function o(){}o.prototype=e;var i,s=new o;for(i in t)s[i]=t[i];return s},soy.$$escapeHtml=function(e){return goog.string.htmlEscape(""+e)},soy.$$escapeJs=function(e){for(var e=""+e,t=[],o=0;o<e.length;o++)t[o]=goog.string.escapeChar(e.charAt(o));return t.join("")},soy.$$escapeUri=function(e){return goog.string.urlEncode(""+e)},soy.$$insertWordBreaks=function(e,t){return goog.format.insertWordBreaks(""+e,t)},soy.$$changeNewlineToBr=function(e){return goog.string.newLineToBr(""+e,!1)},soy.$$bidiFormatterCache_={},soy.$$bidiFormatterInstance_=function(e){return soy.$$bidiFormatterCache_[e]||(soy.$$bidiFormatterCache_[e]=new goog.i18n.BidiFormatter(e))},soy.$$bidiTextDir=function(e,t){return e?goog.i18n.bidi.detectRtlDirectionality(e,t)?-1:1:0},soy.$$bidiDirAttr=function(e,t,o){return soy.$$bidiFormatterInstance_(e).dirAttr(t,o)},soy.$$bidiMarkAfter=function(e,t,o){return soy.$$bidiFormatterInstance_(e).markAfter(t,o)},soy.$$bidiSpanWrap=function(e,t){return soy.$$bidiFormatterInstance_(e).spanWrap(t+"",!0)},soy.$$bidiUnicodeWrap=function(e,t){return soy.$$bidiFormatterInstance_(e).unicodeWrap(t+"",!0)},lime.css={},lime.css.css=function(e,t){var o=t||new soy.StringBuilder;if(o.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.","lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}"),!t)return o.toString()},function(){var i=[[],[]],s=[[],[]];lime.setObjectDirty=function(e,t,o){goog.array.insert((o?s:i)[t||0],e)},lime.clearObjectDirty=function(){},lime.updateDirtyObjects=function(){for(var e,t=0;t<2;t++){for(;i[t].length;)(e=i[t][0]).update(t),e.dirty_=0,e==i[t][0]&&i[t].shift();i[t]=[]}s=[[],[]]}}(),lime.Dirty={POSITION:1,SCALE:2,CONTENT:4,FONT:8,ALPHA:16,VISIBILITY:32,LAYOUT:64,ROTATION:128,ALL:7},lime.AutoResize={NONE:0,LEFT:1,WIDTH:2,RIGHT:4,TOP:8,HEIGHT:16,BOTTOM:32,ALL:63},lime.Transition={POSITION:1,SCALE:2,SIZE:3,ROTATION:4,OPACITY:5},goog.style.installStyles(lime.css.css(null,null)),lime.Node=function(){goog.events.EventTarget.call(this),this.children_=[],this.parent_=null,this.transitionsAdd_={},this.transitionsActive_={},this.transitionsActiveSet_={},this.transitionsClear_={},this.allow3DCSSTransform_=!0,this.inTree_=!1,this.scene_=this.director_=null,this.eventHandlers_={},this.setScale(1),this.setPosition(0,0),this.setSize(0,0),this.quality_=1,this.setAnchorPoint(.5,.5),this.setRotation(0),this.setAutoResize(lime.AutoResize.NONE),this.opacity_=1,this.setMask(null),this.setRenderer(this.supportedRenderers[0].getType()),this.setDirty(lime.Dirty.LAYOUT)},goog.inherits(lime.Node,goog.events.EventTarget),lime.Node.prototype.supportedRenderers=[lime.Renderer.DOM,lime.Renderer.CANVAS],lime.Node.prototype.setRenderer=function(e){if(!this.renderer||this.renderer.getType()!=e){for(var t=-1,o=0;o<this.supportedRenderers.length;o++)if(this.supportedRenderers[o].getType()==e){t=o;break}if(-1==t)return this;for(this.renderer=this.supportedRenderers[o],this.setDirty(lime.Dirty.LAYOUT),o=0;t=this.children_[o];o++)t.setRenderer(e)}return this},lime.Node.prototype.needsDomElement=function(){return!(this.parent_&&this.parent_.renderer.getType()==lime.Renderer.CANVAS)},lime.Node.prototype.getDeepestDomElement=function(){return this.getDeepestParentWithDom().domElement},lime.Node.prototype.getDeepestParentWithDom=function(){return this.needsDomElement()?(this.updateDomElement(),this):this.parent_?this.parent_.getDeepestParentWithDom():null},lime.Node.prototype.getParentStack_=function(){if(!this.parent_||this instanceof lime.Scene)return[];var e=this.parent_.children_.indexOf(this),t=this.parent_.getParentStack_();return t.push(e),t},lime.Node.compareNode=function(e,t){if(e==t)return 0;for(var o=e.getParentStack_(),i=t.getParentStack_(),s=0;;){if(o.length<=s)return 1;if(i.length<=s)return-1;if(o[s]!=i[s])return o[s]>i[s]?-1:1;s++}},lime.Node.prototype.customEvent_=!1,lime.Node.prototype.getDirty=function(){return this.dirty_},lime.Node.prototype.setDirty=function(e,t,o){if(e&&!this.dirty_&&lime.setObjectDirty(this,t,o),this.dirty_|=e,e==lime.Dirty.LAYOUT)for(var i,s=0;i=this.children_[s];s++)i instanceof lime.Node&&i.setDirty(lime.Dirty.LAYOUT);return goog.isDef(this.dirty_)&&e||(this.dirty_=0,lime.clearObjectDirty(this,t,o)),e&&this.maskTarget_&&(this.mSet=!1,this.maskTarget_.setDirty(-1)),this},lime.Node.prototype.getScale=function(){return this.scale_},lime.Node.prototype.setScale=function(e,t){return this.scale_=1==arguments.length&&goog.isNumber(e)?new goog.math.Vec2(e,e):2==arguments.length?new goog.math.Vec2(e,t):e,this.transitionsActive_[lime.Transition.SCALE]?this:this.setDirty(lime.Dirty.SCALE)},lime.Node.prototype.getPosition=function(){return this.position_},lime.Node.prototype.setPosition=function(e,t){return this.position_=2==arguments.length?new goog.math.Coordinate(e,t):e,this.transitionsActive_[lime.Transition.POSITION]?this:this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getMask=function(){return this.mask_},lime.Node.prototype.setMask=function(e){return e==this.mask_?this:(this.mask_&&(this.mask_.releaseDependencies(),delete this.mask_.maskTarget_),(this.mask_=e)&&(this.mask_.setupDependencies(),this.mask_.maskTarget_=this),this.setDirty(lime.Dirty.CONTENT))},lime.Node.prototype.getAnchorPoint=function(){return this.anchorPoint_},lime.Node.prototype.setAnchorPoint=function(e,t){return this.anchorPoint_=2==arguments.length?new goog.math.Vec2(e,t):e,this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getRotation=function(){return this.rotation_%=360},lime.Node.prototype.setRotation=function(e){return this.rotation_=e,this.transitionsActive_[lime.Transition.ROTATION]?this:this.setDirty(lime.Dirty.POSITION)},lime.Node.prototype.getHidden=function(){return this.hidden_},lime.Node.prototype.setHidden=function(e){return this.hidden_=e,this.setDirty(lime.Dirty.VISIBILITY),this.autoHide_=0,this},lime.Node.prototype.getSize=function(){return this.size_},lime.Node.prototype.setSize=function(e,t){var o=this.size_,i=2==arguments.length?new goog.math.Size(e,t):e,s=this.getAnchorPoint();if(o&&this.children_.length)for(var r=0;r<this.children_.length;r++){var n,a,l,d,g,m,c,p=this.children_[r];!p.getAutoResize||(n=p.getAutoResize())!=lime.AutoResize.NONE&&(c=p.getBoundingBox(),a=o.width,l=c.left+s.x*o.width,d=c.right-c.left,g=a-c.right-s.x*o.width,n&lime.AutoResize.LEFT&&(a-=l),n&lime.AutoResize.WIDTH&&(a-=d),n&lime.AutoResize.RIGHT&&(a-=g),a!=o.width&&(a=(i.width-a)/(o.width-a),n&lime.AutoResize.LEFT&&(l*=a),n&lime.AutoResize.WIDTH&&(d*=a)),a=o.height,g=c.top+s.y*o.height,m=c.bottom-c.top,c=a-c.bottom-s.y*o.height,n&lime.AutoResize.TOP&&(a-=g),n&lime.AutoResize.HEIGHT&&(a-=m),n&lime.AutoResize.BOTTOM&&(a-=c),a!=o.height&&(a=(i.height-a)/(o.height-a),n&lime.AutoResize.TOP&&(g*=a),n&lime.AutoResize.HEIGHT&&(m*=a)),n=p.getAnchorPoint(),p.setSize(d,m),p.setPosition(l+n.x*d-s.x*i.width,g+n.y*m-s.y*i.height))}return this.size_=i,this.setDirty(lime.Dirty.SCALE)},lime.Node.prototype.getQuality=function(){return this.quality_},lime.Node.prototype.setQuality=function(e){return this.quality_!=e&&(this.quality_=e,this.setDirty(lime.Dirty.SCALE),this.calcRelativeQuality()),this},lime.Node.prototype.getRelativeQuality=function(){return this.relativeQuality_||this.calcRelativeQuality(),this.relativeQuality_},lime.Node.prototype.calcRelativeQuality=function(){var e=goog.isDef(this.relativeQuality_)?this.relativeQuality_:this.quality_;if(this.parent_&&this.parent_.relativeQuality_&&(e=this.quality_*this.parent_.relativeQuality_),e!=this.relativeQuality_){this.relativeQuality_=e;for(var t,e=0;t=this.children_[e];e++)t instanceof lime.Node&&t.calcRelativeQuality();this.setDirty(lime.Dirty.SCALE)}},lime.Node.prototype.getAutoResize=function(){return this.autoResize_},lime.Node.prototype.setAutoResize=function(e){return this.autoResize_=e,this.setDirty(lime.Dirty.ALL)},lime.Node.prototype.setAllow3DCSSTransforms=function(e){return this.allow3DCSSTransform_=e,this},lime.Node.prototype.getCSS3DTransformsAllowed=function(){return this.allow3DCSSTransform_},lime.Node.prototype.screenToLocal=function(e){return this.inTree_?this.parentToLocal(this.getParent().screenToLocal(e)):e},lime.Node.prototype.parentToLocal=function(e){return this.getParent()?(e.x-=this.position_.x,e.y-=this.position_.y,e.x/=this.scale_.x,e.y/=this.scale_.y,0!=this.rotation_&&(t=e.clone(),i=this.rotation_*Math.PI/180,o=Math.cos(i),i=Math.sin(i),e.x=o*t.x-i*t.y,e.y=o*t.y+i*t.x),e):null;var t,o,i},lime.Node.prototype.localToScreen=function(e){return this.inTree_?this.getParent().localToScreen(this.localToParent(e)):e},lime.Node.prototype.localToParent=function(e){if(!this.getParent())return e;var t,o,i=e.clone();return 0!=this.rotation_&&(o=-this.rotation_*Math.PI/180,t=Math.cos(o),o=Math.sin(o),i.x=t*e.x-o*e.y,i.y=t*e.y+o*e.x),i.x*=this.scale_.x,i.y*=this.scale_.y,i.x+=this.position_.x,i.y+=this.position_.y,i},lime.Node.prototype.localToNode=function(e,t){return this.inTree_?t.screenToLocal(this.localToScreen(e)):e},lime.Node.prototype.getOpacity=function(){return this.opacity_},lime.Node.prototype.setOpacity=function(e){return this.opacity_=e,e=this.getHidden(),0!=this.opacity_||e?0!=this.opacity_&&e&&this.autoHide_&&this.setHidden(!1):(this.setHidden(!0),this.autoHide_=1),goog.isDef(this.transitionsActive_[lime.Transition.OPACITY])||this.setDirty(lime.Dirty.ALPHA),this},lime.Node.prototype.createDomElement=function(){function e(){this.domElement=this.rootElement=this.containerElement=goog.dom.createDom(o),this.domClassName&&goog.dom.classes.add(this.domElement,this.domClassName),this.dirty_|=-1}var t,o=this.renderer.getType()==lime.Renderer.CANVAS?"canvas":"div";this.domElement?this.domElement.tagName.toLowerCase()!=o&&(t=this.rootElement,e.call(this),t.parentNode&&t.parentNode.replaceChild(this.rootElement,t)):e.call(this)},lime.Node.prototype.updateDomElement=function(){this.needsDomElement()?this.createDomElement():this.removeDomElement()},lime.Node.prototype.removeDomElement=function(){this.rootElement&&(goog.dom.removeNode(this.rootElement),delete this.domElement,delete this.rootElement,delete this.containerElement)},lime.Node.prototype.updateLayout=function(){if(this.dirty_&=~lime.Dirty.LAYOUT,this.updateDomElement(),this.parent_&&this.parent_.dirty_&lime.Dirty.LAYOUT)this.parent_.updateLayout();else if(this.needsDomElement()){for(var e,t=0;e=this.children_[t];t++)e instanceof lime.Node&&e.updateLayout();this.renderer.updateLayout.call(this)}},lime.Node.prototype.update=function(e){var t,o,e=e||0;goog.getUid(this),this.dirty_&lime.Dirty.LAYOUT&&this.updateLayout();var i=this.renderer.getType()==lime.Renderer.DOM||e;if(i){for(var s in this.transitionsClear_)delete this.transitionsActive_[s],delete this.transitionsActiveSet_[s],t=lime.Node.getPropertyForTransition(parseInt(s,10)),lime.style.clearTransition(this.domElement,t),this.domElement!=this.containerElement&&lime.style.clearTransition(this.continerElement,t);for(s in t=0,this.transitionsAdd_)(o=this.transitionsAdd_[s])[3]||(o[3]=1,s==lime.Transition.POSITION&&this.positionDrawn_!=this.position_&&(this.setDirty(lime.Dirty.POSITION,0,!0),t=1),s==lime.Transition.SCALE&&this.scaleDrawn_!=this.scale_&&(this.setDirty(lime.Dirty.SCALE,0,!0),t=1),s==lime.Transition.OPACITY&&this.opacityDrawn_!=this.opacity_&&(this.setDirty(lime.Dirty.ALPHA,0,!0),t=1),s==lime.Transition.ROTATION&&this.rotationDrawn_!=this.rotation_&&(this.setDirty(lime.Dirty.ROTATION,0,!0),t=1));if(!t)for(s in this.transitionsAdd_)o=this.transitionsAdd_[s],t=lime.Node.getPropertyForTransition(parseInt(s,10)),this.renderer.getType()!=lime.Renderer.DOM&&"opacity"==t||(this.transitionsActive_[s]=o[0],lime.style.setTransition(this.domElement,t,o[1],o[2]),this.domElement!=this.containerElement&&t==lime.style.transformProperty&&lime.style.setTransition(this.containerElement,t,o[1],o[2])),delete this.transitionsAdd_[s];this.positionDrawn_=this.position_,this.scaleDrawn_=this.scale_,this.opacityDrawn_=this.opacity_,this.rotationDrawn_=this.rotation_,this.transitionsClear_={}}if(e?this.renderer.drawCanvas.call(this):(this.renderer.getType()==lime.Renderer.CANVAS&&((o=this.getDeepestParentWithDom()).redraw_=1,o!=this||this.dirty_!=lime.Dirty.POSITION||this.mask_||(o.redraw_=0),lime.setObjectDirty(this.getDeepestParentWithDom(),1)),this.renderer.update.call(this)),i)for(s in this.transitionsActive_)this.transitionsActive_[s]&&(this.transitionsActiveSet_[s]=!0);if(this.dependencies_)for(s=0;s<this.dependencies_.length;s++)this.dependencies_[s].setDirty(lime.Dirty.ALL);this.setDirty(0,e)},lime.Node.getPropertyForTransition=function(e){return e==lime.Transition.OPACITY?"opacity":lime.style.transformProperty},lime.Node.prototype.getParent=function(){return this.parent_?this.parent_:null},lime.Node.prototype.appendChild=function(e,t){return e instanceof lime.Node&&e.getParent()?e.getParent().removeChild(e):e.parentNode&&goog.dom.removeNode(e),e.parent_=this,null==t?this.children_.push(e):goog.array.insertAt(this.children_,e,t),this.renderer.getType()!=lime.Renderer.DOM&&e.setRenderer(this.renderer.getType()),e instanceof lime.Node&&(e.calcRelativeQuality(),this.inTree_&&e.wasAddedToTree()),this.setDirty(lime.Dirty.LAYOUT)},lime.Node.prototype.getNumberOfChildren=function(){return this.children_.length},lime.Node.prototype.getChildAt=function(e){return 0<=e&&this.getNumberOfChildren()>e?this.children_[e]:null},lime.Node.prototype.getChildIndex=function(e){return this.children_.indexOf(e)},lime.Node.prototype.removeChild=function(e){return this.removeChildAt(this.getChildIndex(e))},lime.Node.prototype.removeChildAt=function(e){if(0<=e&&this.getNumberOfChildren()>e){var t=this.getChildAt(e);return t.maskTarget_&&t.maskTarget_.setMask(null),t instanceof lime.Node?(this.inTree_&&t.wasRemovedFromTree(),t.removeDomElement(),t.parent_=null):goog.dom.removeNode(t),this.children_.splice(e,1),this.setDirty(lime.Dirty.LAYOUT)}return this},lime.Node.prototype.removeAllChildren=function(){for(;this.getNumberOfChildren();)this.removeChildAt(0);return this},lime.Node.prototype.setChildIndex=function(e,t){var o=this.getChildIndex(e);return-1!=o&&o!=t?(this.children_.splice(o,1),goog.array.insertAt(this.children_,e,t),this.getDirector()&&this.getDirector().eventDispatcher.updateDispatchOrder(e),this.setDirty(lime.Dirty.LAYOUT)):this},lime.Node.prototype.addEventListener=function(e){lime.userAgent.SUPPORTS_TOUCH&&"mouse"==e.substring(0,5)||(goog.isDef(this.eventHandlers_[e])||(this.eventHandlers_[e]=[0,0]),this.inTree_&&0==this.eventHandlers_[e][0]&&(this.eventHandlers_[e][0]=1,this.getDirector().eventDispatcher.register(this,e)),this.eventHandlers_[e][1]++)},lime.Node.prototype.removeEventListener=function(e){lime.userAgent.SUPPORTS_TOUCH&&"mouse"==e.substring(0,5)||(this.inTree_&&1==this.eventHandlers_[e][1]&&(this.eventHandlers_[e][0]=0,this.getDirector().eventDispatcher.release(this,e)),this.eventHandlers_[e][1]--,this.eventHandlers_[e][1]||delete this.eventHandlers_[e])},lime.Node.prototype.getDirector=function(){return this.inTree_?this.director_:null},lime.Node.prototype.getScene=function(){return this.inTree_?this.scene_:null},lime.Node.prototype.wasRemovedFromTree=function(){var e;this.dependencySet_||this.removeDependency(this.getParent());for(var t=0;e=this.children_[t];t++)e instanceof lime.Node&&e.wasRemovedFromTree();for(var o in this.eventHandlers_)this.eventHandlers_[o][0]=0,this.getDirector(),this.getDirector().eventDispatcher.release(this,o);this.getDirector().eventDispatcher.updateDispatchOrder(this),this.inTree_=!1,this.scene_=this.director_=null},lime.Node.prototype.wasAddedToTree=function(){this.inTree_=!0,this.director_=this.parent_.getDirector(),this.scene_=this.parent_.getScene();for(var e,t=0;e=this.children_[t];t++)e instanceof lime.Node&&e.wasAddedToTree();for(var o in this.eventHandlers_)this.eventHandlers_[o][0]=1,this.getDirector().eventDispatcher.register(this,o);this.dependencySet_&&this.setupDependencies(),this.getDirector().eventDispatcher.updateDispatchOrder(this)},lime.Node.prototype.setupDependencies=function(){this.dependencySet_=!0,this.inTree_&&this.addDependency(this.getParent())},lime.Node.prototype.addDependency=function(e){e.dependencies_||(e.dependencies_=[]),goog.array.insert(e.dependencies_,this),e||e.getParent()instanceof lime.Scene||this.addDependency(e.getParent())},lime.Node.prototype.removeDependency=function(e){e&&e.dependencies_&&(goog.array.remove(e.dependencies_,this),this.removeDependency(e.getParent()))},lime.Node.prototype.releaseDependencies=function(){delete this.dependencySet_,this.removeDependency(this.getParent())},lime.Node.prototype.getFrame=function(){var e=this.getSize(),t=this.getAnchorPoint();return new goog.math.Box(-e.height*t.y,e.width*(1-t.x),e.height*(1-t.y),-e.width*t.x)},lime.Node.prototype.getBoundingBox=function(e){var t=e||this.getFrame(),e=new goog.math.Coordinate(t.left,t.top),o=new goog.math.Coordinate(t.right,t.top),i=new goog.math.Coordinate(t.left,t.bottom),t=new goog.math.Coordinate(t.right,t.bottom),e=this.localToParent(e),o=this.localToParent(o),i=this.localToParent(i),t=this.localToParent(t);return new goog.math.Box(Math.floor(Math.min(e.y,o.y,i.y,t.y)),Math.ceil(Math.max(e.x,o.x,i.x,t.x)),Math.ceil(Math.max(e.y,o.y,i.y,t.y)),Math.floor(Math.min(e.x,o.x,i.x,t.x)))},lime.Node.prototype.measureContents=function(){var e=this.getFrame();e.left==e.right&&this.children_.length&&(e=this.children_[0].getBoundingBox(this.children_[0].measureContents()));for(var t,o=0;t=this.children_[o];o++)1!=t.isMask&&e.expandToInclude(t.getBoundingBox(t.measureContents()));return e},lime.Node.prototype.addTransition=function(e,t,o,i){this.transitionsAdd_[e]=[t,o,i,0]},lime.Node.prototype.clearTransition=function(e){this.transitionsClear_[e]=1},lime.Node.prototype.hitTest=function(e){var t=this.screenToLocal(e.screenPosition);return!!this.getFrame().contains(t)&&(e.position=t,!0)},lime.Node.prototype.runAction=function(e){e.addTarget(this),e.play()},lime.Layer=function(){lime.Node.call(this),this.domClassName="lime-layer"},goog.inherits(lime.Layer,lime.Node),lime.Layer.prototype.hitTest=function(e){for(var t,o=0;t=this.children_[o];o++)if(t.hitTest(e))return e.position=this.screenToLocal(e.screenPosition),!0;return!1},goog.color={},goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.color.parse=function(e){var t={},e=""+e,o=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(o))return t.hex=goog.color.normalizeHex(o),t.type="hex",t;if((o=goog.color.isValidRgbColor_(e)).length)return t.hex=goog.color.rgbArrayToHex(o),t.type="rgb",t;if(goog.color.names&&(o=goog.color.names[e.toLowerCase()]))return t.hex=o,t.type="named",t;throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var t=goog.color.prependHashIfNecessaryHelper(e);return!(!goog.color.isValidHexColor_(t)&&!(goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()]))},goog.color.parseRgb=function(e){var t=goog.color.isValidRgbColor_(e);if(!t.length)throw Error(e+" is not a valid RGB color");return t},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){e=goog.color.normalizeHex(e);return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),e=parseInt(e.substr(5,2),16)]},goog.color.rgbToHex=function(e,t,o){if(e=Number(e),t=Number(t),o=Number(o),isNaN(e)||e<0||255<e||isNaN(t)||t<0||255<t||isNaN(o)||o<0||255<o)throw Error('"('+e+","+t+","+o+'") is not a valid RGB color');return"#"+(e=goog.color.prependZeroIfNecessaryHelper(e.toString(16)))+(t=goog.color.prependZeroIfNecessaryHelper(t.toString(16)))+(o=goog.color.prependZeroIfNecessaryHelper(o.toString(16)))},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,t,o){var e=e/255,t=t/255,o=o/255,i=Math.max(e,t,o),s=Math.min(e,t,o),r=0,n=0,a=.5*(i+s);return i!=s&&(i==e?r=60*(t-o)/(i-s):i==t?r=60*(o-e)/(i-s)+120:i==o&&(r=60*(e-t)/(i-s)+240),n=0<a&&a<=.5?(i-s)/(2*a):(i-s)/(2-2*a)),[Math.round(r+360)%360,n,a]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,t,o){return o<0?o+=1:1<o&&--o,6*o<1?e+6*(t-e)*o:2*o<1?t:3*o<2?e+6*(t-e)*(2/3-o):e},goog.color.hslToRgb=function(e,t,o){var i,s=0,r=0,n=0,e=e/360;return 0==t?s=r=n=255*o:(n=0,n=2*o-(i=o<.5?o*(1+t):o+t-t*o),s=255*goog.color.hueToRgb_(n,i,e+1/3),r=255*goog.color.hueToRgb_(n,i,e),n=255*goog.color.hueToRgb_(n,i,e-1/3)),[Math.round(s),Math.round(r),Math.round(n)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){if(o=e.match(goog.color.rgbColorRe_)){var e=Number(o[1]),t=Number(o[2]),o=Number(o[3]);if(0<=e&&e<=255&&0<=t&&t<=255&&0<=o&&o<=255)return[e,t,o]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,t,o){var i=0,s=0,r=0;if(0==t)r=s=i=o;else{var n=Math.floor(e/60),a=e/60-n,e=o*(1-t),l=o*(1-t*a),t=o*(1-t*(1-a));switch(n){case 1:i=l,s=o,r=e;break;case 2:i=e,s=o,r=t;break;case 3:i=e,s=l,r=o;break;case 4:i=t,s=e,r=o;break;case 5:i=o,s=e,r=l;break;case 6:case 0:i=o,s=t,r=e}}return[Math.floor(i),Math.floor(s),Math.floor(r)]},goog.color.rgbToHsv=function(e,t,o){var i,s=Math.max(Math.max(e,t),o),r=Math.min(Math.min(e,t),o);return r==s?r=e=0:(r=(i=s-r)/s,(e=60*(e==s?(t-o)/i:t==s?2+(o-e)/i:4+(e-t)/i))<0&&(e+=360),360<e&&(e-=360)),[e,r,s]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){return e=goog.color.hexToRgb(e),goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hslToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,t,o))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,t,o))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,t){var o=e[2]<=.5?e[1]*e[2]:e[1]*(1-e[2]),i=t[2]<=.5?t[1]*t[2]:t[1]*(1-t[2]);return(e[2]-t[2])*(e[2]-t[2])+o*o+i*i-2*o*i*Math.cos(2*(e[0]/360-t[0]/360)*Math.PI)},goog.color.blend=function(e,t,o){return o=goog.math.clamp(o,0,1),[Math.round(o*e[0]+(1-o)*t[0]),Math.round(o*e[1]+(1-o)*t[1]),Math.round(o*e[2]+(1-o)*t[2])]},goog.color.darken=function(e,t){return goog.color.blend([0,0,0],e,t)},goog.color.lighten=function(e,t){return goog.color.blend([255,255,255],e,t)},goog.color.highContrast=function(e,t){for(var o=[],i=0;i<t.length;i++)o.push({color:t[i],diff:goog.color.yiqBrightnessDiff_(t[i],e)+goog.color.colorDiff_(t[i],e)});return o.sort(function(e,t){return t.diff-e.diff}),o[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,t){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(t))},goog.color.colorDiff_=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2])},lime.fill={},lime.fill.Fill=function(){goog.events.EventTarget.call(this)},goog.inherits(lime.fill.Fill,goog.events.EventTarget),lime.fill.Fill.prototype.initForSprite=goog.nullFunction,lime.fill.parse=function(e){return e[0]instanceof lime.fill.Fill?e[0]:(goog.isArray(e)||(e=goog.array.toArray(arguments)),2<e.length?new lime.fill.Color(e):!goog.isString(e[0])||"rgb("!=e[0].substring(0,4)&&"rgba("!=e[0].substring(0,5)&&"#"!=e[0].substring(0,1)?new lime.fill.Image(e[0]):new lime.fill.Color(e[0]))},lime.fill.Fill.prototype.setDOMStyle=goog.nullFunction,lime.fill.Fill.prototype.setCanvasStyle=goog.nullFunction,goog.color.alpha={},goog.color.alpha.parse=function(e){var t={},e=""+e,o=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.alpha.isValidAlphaHexColor_(o))return t.hex=goog.color.alpha.normalizeAlphaHex_(o),t.type="hex",t;if((o=goog.color.alpha.isValidRgbaColor_(e)).length)return t.hex=goog.color.alpha.rgbaArrayToHex(o),t.type="rgba",t;if((o=goog.color.alpha.isValidHslaColor_(e)).length)return t.hex=goog.color.alpha.hslaArrayToHex(o),t.type="hsla",t;throw Error(e+" is not a valid color string")},goog.color.alpha.hexToRgbaStyle=function(e){return goog.color.alpha.rgbaStyle_(goog.color.alpha.hexToRgba(e))},goog.color.alpha.extractHexColor=function(e){if(goog.color.alpha.isValidAlphaHexColor_(e))return e=goog.color.prependHashIfNecessaryHelper(e),goog.color.alpha.normalizeAlphaHex_(e).substring(0,7);throw Error(e+" is not a valid 8-hex color string")},goog.color.alpha.extractAlpha=function(e){if(goog.color.alpha.isValidAlphaHexColor_(e))return e=goog.color.prependHashIfNecessaryHelper(e),goog.color.alpha.normalizeAlphaHex_(e).substring(7,9);throw Error(e+" is not a valid 8-hex color string")},goog.color.alpha.hexQuadrupletRe_=/#(.)(.)(.)(.)/,goog.color.alpha.normalizeAlphaHex_=function(e){if(!goog.color.alpha.isValidAlphaHexColor_(e))throw Error("'"+e+"' is not a valid alpha hex color");return 5==e.length&&(e=e.replace(goog.color.alpha.hexQuadrupletRe_,"#$1$1$2$2$3$3$4$4")),e.toLowerCase()},goog.color.alpha.hexToRgba=function(e){e=goog.color.alpha.normalizeAlphaHex_(e);return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16),(e=parseInt(e.substr(7,2),16))/255]},goog.color.alpha.rgbaToHex=function(e,t,o,i){var s=Math.floor(255*i);if(isNaN(s)||s<0||255<s)throw Error('"('+e+","+t+","+o+","+i+'") is not a valid RGBA color');return i=goog.color.prependZeroIfNecessaryHelper(s.toString(16)),goog.color.rgbToHex(e,t,o)+i},goog.color.alpha.hslaToHex=function(e,t,o,i){var s=Math.floor(255*i);if(isNaN(s)||s<0||255<s)throw Error('"('+e+","+t+","+o+","+i+'") is not a valid HSLA color');return i=goog.color.prependZeroIfNecessaryHelper(s.toString(16)),goog.color.hslToHex(e,t/100,o/100)+i},goog.color.alpha.rgbaArrayToHex=function(e){return goog.color.alpha.rgbaToHex(e[0],e[1],e[2],e[3])},goog.color.alpha.rgbaToRgbaStyle=function(e,t,o,i){if(isNaN(e)||e<0||255<e||isNaN(t)||t<0||255<t||isNaN(o)||o<0||255<o||isNaN(i)||i<0||1<i)throw Error('"('+e+","+t+","+o+","+i+')" is not a valid RGBA color');return goog.color.alpha.rgbaStyle_([e,t,o,i])},goog.color.alpha.rgbaArrayToRgbaStyle=function(e){return goog.color.alpha.rgbaToRgbaStyle(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaArrayToHex=function(e){return goog.color.alpha.hslaToHex(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaArrayToRgbaStyle=function(e){return goog.color.alpha.hslaToRgbaStyle(e[0],e[1],e[2],e[3])},goog.color.alpha.hslaToRgbaStyle=function(e,t,o,i){return goog.color.alpha.rgbaStyle_(goog.color.alpha.hslaToRgba(e,t,o,i))},goog.color.alpha.hslaToRgba=function(e,t,o,i){return goog.color.hslToRgb(e,t/100,o/100).concat(i)},goog.color.alpha.rgbaToHsla=function(e,t,o,i){return goog.color.rgbToHsl(e,t,o).concat(i)},goog.color.alpha.rgbaArrayToHsla=function(e){return goog.color.alpha.rgbaToHsla(e[0],e[1],e[2],e[3])},goog.color.alpha.validAlphaHexColorRe_=/^#(?:[0-9a-f]{4}){1,2}$/i,goog.color.alpha.isValidAlphaHexColor_=function(e){return goog.color.alpha.validAlphaHexColorRe_.test(e)},goog.color.alpha.normalizedAlphaHexColorRe_=/^#[0-9a-f]{8}$/,goog.color.alpha.isNormalizedAlphaHexColor_=function(e){return goog.color.alpha.normalizedAlphaHexColorRe_.test(e)},goog.color.alpha.rgbaColorRe_=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,goog.color.alpha.hslaColorRe_=/^(?:hsla)\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\%,\s?(0|[1-9]\d{0,2})\%,\s?(0|1|0\.\d{0,10})\)$/i,goog.color.alpha.isValidRgbaColor_=function(e){if(i=e.match(goog.color.alpha.rgbaColorRe_)){var e=Number(i[1]),t=Number(i[2]),o=Number(i[3]),i=Number(i[4]);if(0<=e&&e<=255&&0<=t&&t<=255&&0<=o&&o<=255&&0<=i&&i<=1)return[e,t,o,i]}return[]},goog.color.alpha.isValidHslaColor_=function(e){if(i=e.match(goog.color.alpha.hslaColorRe_)){var e=Number(i[1]),t=Number(i[2]),o=Number(i[3]),i=Number(i[4]);if(0<=e&&e<=360&&0<=t&&t<=100&&0<=o&&o<=100&&0<=i&&i<=1)return[e,t,o,i]}return[]},goog.color.alpha.rgbaStyle_=function(e){return"rgba("+e.join(",")+")"},goog.color.alpha.hsvaToHex=function(e,t,o,i){return i=Math.floor(255*i),goog.color.hsvArrayToHex([e,t,o])+goog.color.prependZeroIfNecessaryHelper(i.toString(16))},goog.color.alpha.hsvaArrayToHex=function(e){return goog.color.alpha.hsvaToHex(e[0],e[1],e[2],e[3])},lime.fill.Color=function(e){lime.fill.Fill.call(this),this.a=1,this.setColor(e)},goog.inherits(lime.fill.Color,lime.fill.Fill),lime.fill.Color.prototype.id="color",lime.fill.Color.prototype.getRgba=function(){var e,t=null;return goog.isNumber(this.r)&&goog.isNumber(this.g)&&goog.isNumber(this.b)?t=[this.r,this.g,this.b,this.a]:goog.isString(this.str)&&("named"!=(e=goog.color.parse(this.str)).type&&(t=goog.color.hexToRgb(e.hex)),t.push(1)),t},lime.fill.Color.prototype.addBrightness=function(e){return this.modifyColor(2,e)},lime.fill.Color.prototype.modifyColor=function(e,t){var o=t||.1,i=this.getRgba();return i?(i.pop(),(i=goog.color.rgbArrayToHsl(i))[e]+=o,1<i[e]&&(i[e]=1),(i=goog.color.hslArrayToRgb(i)).push(this.a),this.setColor(i)):this},lime.fill.Color.prototype.addSaturation=function(e){return this.modifyColor(1,e)},lime.fill.Color.prototype.setColor=function(e){var t=e;return goog.isString(e)?this.str=e:(2<arguments.length&&(t=arguments),3<=t.length&&(this.r=t[0],this.g=t[1],this.b=t[2]),4==t.length&&(this.a=t[3]),this.str=1==this.a?"rgb("+this.r+","+this.g+","+this.b+")":"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"),this},lime.fill.Color.prototype.setDOMStyle=function(e){e.style.background=this.str},lime.fill.Color.prototype.setCanvasStyle=function(e){e.fillStyle=this.str},lime.fill.Color.prototype.clone=function(){var e=new lime.fill.Color("");return e.r=this.r,e.g=this.g,e.b=this.b,e.a=this.a,e.str=this.str,e},lime.fill.Stroke=function(e,t){lime.fill.Fill.call(this);var o=goog.isArray(e)?e:goog.array.toArray(arguments);this.width_=o[0]||1,o.shift(),this.setColor.apply(this,o)},goog.inherits(lime.fill.Stroke,lime.fill.Fill),lime.fill.Stroke.prototype.id="stroke",lime.fill.Stroke.prototype.setDOMStyle=function(e){e.style.border=this.width_+"px solid "+this.color_.str},lime.fill.Stroke.prototype.setCanvasStyle=function(e){e.strokeStyle=this.color_.str,e.lineWidth=this.width_},lime.fill.Stroke.prototype.getWidth=function(){return this.width_},lime.fill.Stroke.prototype.setWidth=function(e){return this.width_=e,this},lime.fill.Stroke.prototype.getColor=function(){return this.color_},lime.fill.Stroke.prototype.setColor=function(e){var t=goog.array.toArray(arguments);return t[0]instanceof lime.fill.Color?this.color_=t[0]:(this.color_=new lime.fill.Color("#000"),t.length&&this.color_.setColor.apply(this.color_,t)),this},lime.fill.Stroke.prototype.clone=function(){var e=new lime.fill.Stroke;return e.width_=this.width_,e.color_=this.color_,e},lime.fill.Image=function(e){lime.fill.Fill.call(this),e&&goog.isFunction(e.data)&&(e=e.data()),goog.isString(e)?(this.url_=e,50<this.url_.length&&(this.url_=this.url_.substr(-50)),lime.fill.Image.loadedImages_[this.url_]?this.image_=lime.fill.Image.loadedImages_[this.url_]:(this.image_=new Image,this.image_.src=e)):(this.url_=e.src,50<this.url_.length&&(this.url_=this.url_.substr(-50)),this.image_=lime.fill.Image.loadedImages_[this.url_]?lime.fill.Image.loadedImages_[this.url_]:e),this.isLoaded()||this.addLoadHandler_(),lime.fill.Image.loadedImages_[this.url_]=this.image_},goog.inherits(lime.fill.Image,lime.fill.Fill),lime.fill.Image.loadedImages_={},lime.fill.Image.prototype.id="image",lime.fill.Image.prototype.initForSprite=function(e){var t=e.getSize(),o=this;t.width||t.height||(this.isLoaded()?e.setSize(this.image_.width,this.image_.height):goog.events.listen(this,goog.events.EventType.LOAD,function(){var e=this.getSize();e.width||e.height||this.setSize(o.image_.width,o.image_.height)},!1,e)),this.isLoaded()||goog.events.listen(this,goog.events.EventType.LOAD,function(){e.setDirty(lime.Dirty.CONTENT)},!1,this)},lime.fill.Image.prototype.addLoadHandler_=function(){goog.events.listen(this.image_,goog.events.EventType.LOAD,this.imageLoadedHandler_,!1,this)},lime.fill.Image.prototype.imageLoadedHandler_=function(e){this.dispatchEvent(e)},lime.fill.Image.prototype.getImageElement=function(){return this.image_},lime.fill.Image.prototype.isLoaded=function(){return!(!this.image_||!this.image_.width||!this.image_.height)},lime.fill.Image.prototype.setSize=function(e,t,o){return goog.isNumber(e)&&(e=new goog.math.Size(e,t),t=o||!1),this.size_=e,this.size_perc_=t,this},lime.fill.Image.prototype.setOffset=function(e,t,o){return goog.isNumber(e)&&(e=new goog.math.Coordinate(e,t),t=o||!1),this.offset_=e,this.offset_perc_=t,this},lime.fill.Image.prototype.getPixelSizeAndOffset=function(e){e=e.getSize().clone(),this.size_&&(this.size_perc_?(e.width*=this.size_.width,e.height*=this.size_.height):e=this.size_);var t=new goog.math.Coordinate(0,0);return this.offset_&&(this.offset_perc_?(t.x=e.width*this.offset_.x,t.y=e.height*this.offset_.y):t=this.offset_),[e,t]},lime.fill.Image.prototype.setDOMBackgroundProp_=function(e,t){var o=(i=this.getPixelSizeAndOffset(t))[0],i=i[1],s=t.getRelativeQuality();e.style[lime.style.getCSSproperty("BackgroundSize")]=o.width*s+"px "+o.height*s+"px",o=t.stroke_?t.stroke_.width_:0,e.style.backgroundPosition=i.x*s-o+"px "+(i.y*s-o)+"px",this.qualityRenderer&&(e.style.imageRendering="optimizeQuality")},lime.fill.Image.prototype.setDOMStyle=function(e,t){e.style.background="url("+this.image_.src+")",this.setDOMBackgroundProp_(e,t)},lime.fill.Image.prototype.setCanvasStyle=function(e,t){var o=t.getSize(),i=t.getFrame();if(o.width&&o.height)try{var s=this.getImageElement(),r=this.getPixelSizeAndOffset(t),n=r[0],a=r[1],l=e.createPattern(s,"repeat"),d=n.width/s.width,g=n.height/s.height;e.save(),e.translate(i.left+a.x,i.top+a.y),e.scale(d,g),e.fillStyle=l,e.fillRect(-a.x/d,-a.y/g,o.width/d,o.height/g),e.restore()}catch(e){}},lime.Renderer.CANVAS.SPRITE={},lime.Renderer.DOM.SPRITE={},lime.Sprite=function(){lime.Node.call(this),this.stroke_=this.fill_=null},goog.inherits(lime.Sprite,lime.Node),lime.Sprite.prototype.id="sprite",lime.Sprite.prototype.supportedRenderers=[lime.Renderer.DOM.makeSubRenderer(lime.Renderer.DOM.SPRITE),lime.Renderer.CANVAS.makeSubRenderer(lime.Renderer.CANVAS.SPRITE)],lime.Sprite.prototype.getFill=function(){return this.fill_},lime.Sprite.prototype.setFill=function(e,t,o,i){return this.fill_=lime.fill.parse(goog.array.toArray(arguments)),this.fill_.initForSprite(this),this.setDirty(lime.Dirty.CONTENT),this},lime.Sprite.prototype.getStroke=function(){return this.stroke_},lime.Sprite.prototype.setStroke=function(e){return!e||e instanceof lime.fill.Stroke||(e=new lime.fill.Stroke(goog.array.toArray(arguments))),this.stroke_=e,this.setDirty(lime.Dirty.CONTENT),this},lime.Sprite.prototype.getCanvasContextName_=function(){var e=0;return function(){return goog.isDef(this.canvasContextName_)||(this.canvasContextName_="limedc"+e++),this.canvasContextName_}}(),lime.Renderer.DOM.SPRITE.draw=function(e){goog.isNull(this.fill_)||this.fill_.setDOMStyle(e,this),goog.isNull(this.stroke_)?goog.style.setStyle(e,"border-width",0):this.stroke_.setDOMStyle(e,this)},lime.Renderer.CANVAS.SPRITE.draw=function(e){var t,o=this.getSize(),i=this.fill_,s=this.stroke_;(i||s)&&(t=this.getFrame(),i&&(i.setCanvasStyle(e,this),"image"!=i.id&&"frame"!=i.id&&e.fillRect(t.left,t.top,o.width,o.height)),s&&(s.setCanvasStyle(e,this),"sprite"==this.id||"label"==this.id)&&(i=s.width_/2,e.strokeRect(t.left+i,t.top+i,o.width-2*i,o.height-2*i)))},lime.Node.prototype.getPosition=function(){return this.position_},lime.Node.prototype.localToScreen=function(e){return this.inTree_?this.getParent().localToScreen(this.localToParent(e)):e},goog.provide("lime.audio.Audio"),goog.require("goog.events"),goog.require("goog.events.EventTarget"),goog.require("lime.userAgent"),goog.require("lime.animation.Animation"),goog.require("lime.animation.Spawn"),goog.require("lime.animation.FadeTo"),goog.require("lime.animation.ScaleTo"),goog.require("lime.animation.MoveTo"),goog.require("lime.Sprite"),lime.audio.Audio=function(e){goog.events.EventTarget.call(this),e&&goog.isFunction(e.data)&&(e=e.data()),this.loaded_=!1,this.playing_=!1,lime.audio.AudioContext?(this.volume_=1,this.prepareContext_(),this.loadBuffer(e,goog.bind(this.bufferLoadedHandler_,this))):(this.baseElement=document.createElement("audio"),this.baseElement.preload=!0,this.baseElement.loop=!1,this.baseElement.src=e,this.baseElement.load(),this.baseElement.addEventListener("ended",goog.bind(this.onEnded_,this)),this.loadInterval=setInterval(goog.bind(this.loadHandler_,this),10),this.loaded_=!1)},goog.inherits(lime.audio.Audio,goog.events.EventTarget),lime.audio.AudioContext=goog.global.AudioContext||goog.global.webkitAudioContext,lime.audio._buffers={},lime.audio.supportsMultiChannel=lime.audio.AudioContext||!(lime.userAgent.IOS||lime.userAgent.WINPHONE),lime.audio.Audio.prototype.prepareContext_=function(){var e;lime.audio.context||(e=lime.audio.context=new lime.audio.AudioContext,(lime.audio.masterGain=e.createGain()).connect(e.destination))},lime.audio.Audio.prototype.loadBuffer=function(i,e){var t,s=lime.audio._buffers;s[i]&&s[i].buffer?e(s[i].buffer,i):s[i]?s[i].push(e):(s[i]=[e],(t=new XMLHttpRequest).open("GET",i,!0),t.responseType="arraybuffer",t.onload=function(){lime.audio.context.decodeAudioData(t.response,function(e){if(!e)return console.error("Error decoding file:",i);var t=s[i];s[i]={buffer:e};for(var o=0;o<t.length;o++)t[o](e,i)},function(e){console.error("Error decoding file",e)})},t.onerror=function(){console.error("XHR error loading file:",i)},t.send())},lime.audio.Audio.prototype.bufferLoadedHandler_=function(e,t){this.buffer=e,this.loaded_=!0;var o=new goog.events.Event("loaded");o.event=null,this.dispatchEvent(o),this.autoplay_&&this.play.apply(this,this.autoplay_)},lime.audio.Audio.prototype.onEnded_=function(e){this.playing_=!1;var t=new goog.events.Event("ended");t.event=e,this.dispatchEvent(t),this.playPosition_=0;var o=lime.audio.AudioContext?this.playTime_+this.buffer.duration-this.playPositionCache-.05:0;if(this.next_)for(var i=0;i<this.next_.length;i++)this.next_[i][0].play(this.next_[i][1],o);else!1!==t.returnValue_&&this.loop_&&this.play(this.loop_,o)},lime.audio.Audio.prototype.loadHandler_=function(){2<this.baseElement.readyState&&(this.bufferLoadedHandler_(),clearTimeout(this.loadInterval)),this.baseElement.error&&clearTimeout(this.loadInterval),lime.userAgent.IOS&&0==this.baseElement.readyState&&(this.bufferLoadedHandler_(),clearTimeout(this.loadInterval))},lime.audio.Audio.prototype.isLoaded=function(){return this.loaded_},lime.audio.Audio.prototype.isPlaying=function(){return this.playing_},lime.audio.Audio.prototype.play=function(e){var t;this.isLoaded()||(this.autoplay_=goog.array.toArray(arguments)),!this.isLoaded()||this.isPlaying()||lime.audio.getMute()||(lime.audio.AudioContext?(this.source&&this.source.playbackState==this.source.FINISHED_STATE&&(this.playPosition_=0),this.source=lime.audio.context.createBufferSource(),this.source.buffer=this.buffer,this.gain=lime.audio.context.createGain(),this.gain.connect(lime.audio.masterGain),this.source.connect(this.gain),this.playTime_=lime.audio.context.currentTime,t=arguments[1]||0,0<this.playPosition_?this.source.start(t,this.playPosition_,this.buffer.duration-this.playPosition_):this.source.start(t),this.playPositionCache=this.playPosition_,this.endTimeout_=setTimeout(goog.bind(this.onEnded_,this),1e3*(this.buffer.duration-(this.playPosition_||0))-150)):this.baseElement.play(),this.playing_=!0,this.loop_=!!e,-1==lime.audio._playQueue.indexOf(this)&&lime.audio._playQueue.push(this))},lime.audio.Audio.prototype.stop=function(){this.isLoaded()||(this.autoplay_=null),this.isPlaying()&&(lime.audio.AudioContext?(clearTimeout(this.endTimeout_),this.playPosition_=lime.audio.context.currentTime-this.playTime_+(this.playPosition_||0),this.playPosition_>this.buffer.duration&&(this.playPosition_=0),this.gain.disconnect(lime.audio.masterGain),this.source=null):this.baseElement.pause(),this.playing_=!1)},lime.audio._isMute=!1,lime.audio._playQueue=[],lime.audio.getMute=function(){return lime.audio._isMute},lime.audio.setMute=function(e){if(e&&!lime.audio._isMute){for(var t=0;t<lime.audio._playQueue.length;t++)lime.audio._playQueue[t].stop();lime.audio._playQueue=[]}lime.audio._isMute=e},lime.audio.Audio.prototype.setVolume=function(e){lime.audio.AudioContext?(this.volume_=e,this.gain&&(this.gain.gain.value=e)):this.baseElement.volume=e},lime.audio.Audio.prototype.getVolume=function(){return lime.audio.AudioContext?this.volume_:this.baseElement.volume};var imgArrayWaterfall=new Array;imgArrayWaterfall[0]=new Image,imgArrayWaterfall[0].src="images/Orchard/waterfall1.png",imgArrayWaterfall[1]=new Image,imgArrayWaterfall[1].src="images/Orchard/waterfall2.png",imgArrayWaterfall[2]=new Image,imgArrayWaterfall[2].src="images/Orchard/waterfall3.png",imgArrayWaterfall[3]=new Image,imgArrayWaterfall[3].src="images/Orchard/waterfall4.png",imgArrayWaterfall[4]=new Image,imgArrayWaterfall[4].src="images/Orchard/waterMoving1.png",imgArrayWaterfall[5]=new Image,imgArrayWaterfall[5].src="images/Orchard/waterMoving2.png";var imgArrayGround=new Array;imgArrayGround[0]=new Image,imgArrayGround[0].src="images/bare_land.png",imgArrayGround[1]=new Image,imgArrayGround[1].src="images/bare_land_tr.png",imgArrayGround[2]=new Image,imgArrayGround[2].src="images/bare_land_tl.png",imgArrayGround[3]=new Image,imgArrayGround[3].src="images/bare_land_lr.png",imgArrayGround[4]=new Image,imgArrayGround[4].src="images/bare_land_ll.png";var imgArray=new Array;imgArray[0]=new Image,imgArray[0].src="images/blacksmith1.png",imgArray[1]=new Image,imgArray[1].src="images/blacksmith2.png",imgArray[2]=new Image,imgArray[2].src="images/blacksmith3.png",imgArray[3]=new Image,imgArray[3].src="images/blacksmith4.png",imgArray[4]=new Image,imgArray[4].src="images/blacksmith5.png",imgArray[5]=new Image,imgArray[5].src="images/blacksmith6.png",imgArray[6]=new Image,imgArray[6].src="images/blacksmith7.png",imgArray[7]=new Image,imgArray[7].src="images/blacksmith8.png",imgArray[8]=new Image,imgArray[8].src="images/blacksmith9.png",imgArray[9]=new Image,imgArray[9].src="images/blacksmith10.png",imgArray[10]=new Image,imgArray[10].src="images/blacksmith11.png",imgArray[11]=new Image,imgArray[11].src="images/blacksmith12.png",imgArray[12]=new Image,imgArray[12].src="images/blacksmith13.png",imgArray[13]=new Image,imgArray[13].src="images/blacksmith14.png",imgArray[14]=new Image,imgArray[14].src="images/UI/CoverImg2.png",imgArray[15]=new Image,imgArray[15].src="images/UI/greySound.png",imgArray[16]=new Image,imgArray[16].src="images/UI/greySoundOff.png",imgArray[17]=new Image,imgArray[17].src="images/UI/unknownCrop.png",imgArray[18]=new Image,imgArray[18].src="images/UI/woodBtn.png",imgArray[19]=new Image,imgArray[19].src="images/UI/needIron.png",imgArray[20]=new Image,imgArray[20].src="images/items/noPick.png",imgArray[21]=new Image,imgArray[21].src="images/UI/XButton.png",imgArray[22]=new Image,imgArray[22].src="images/UI/needJars.png",imgArray[23]=new Image,imgArray[23].src="images/UI/needBottles.png",imgArray[24]=new Image,imgArray[24].src="images/clouds.png",imgArray[25]=new Image,imgArray[25].src="images/UI/starCashBack.png",imgArray[26]=new Image,imgArray[26].src="images/scaffold.png",imgArray[27]=new Image,imgArray[27].src="images/countBack.png",imgArray[28]=new Image,imgArray[28].src="images/UI/greenButtonLg3.png",imgArray[29]=new Image,imgArray[29].src="images/toolHammer.png",imgArray[30]=new Image,imgArray[30].src="images/UI/toolsIcon2.png",imgArray[31]=new Image,imgArray[31].src="",imgArray[32]=new Image,imgArray[32].src="images/UI/marketBtn.png",imgArray[33]=new Image,imgArray[33].src="images/UI/outOfCash.png",imgArray[34]=new Image,imgArray[34].src="images/vinyard/grapes_ClearBrush.png",imgArray[35]=new Image,imgArray[35].src="images/UI/check.png",imgArray[36]=new Image,imgArray[36].src="images/UI/starCash.png",imgArray[37]=new Image,imgArray[37].src="images/UI/plus3StarCash.png",imgArray[38]=new Image,imgArray[38].src="images/UI/plus5StarCash.png",imgArray[39]=new Image,imgArray[39].src="images/UI/plus10StarCash.png",imgArray[40]=new Image,imgArray[40].src="images/UI/plus25StarCash.png",imgArray[41]=new Image,imgArray[41].src="images/UI/plus50StarCash.png",imgArray[42]=new Image,imgArray[42].src="images/UI/plus75StarCash.png",imgArray[43]=new Image,imgArray[43].src="images/UI/plus100StarCash.png",imgArray[44]=new Image,imgArray[44].src="images/UI/plus300StarCash.png",imgArray[45]=new Image,imgArray[45].src="images/UI/achieveNotif.png",imgArray[46]=new Image,imgArray[46].src="images/UI/vinyardBtn.png",imgArray[47]=new Image,imgArray[47].src="images/UI/pastureBtn.png",imgArray[48]=new Image,imgArray[48].src="images/UI/orchardBtn.png",imgArray[49]=new Image,imgArray[49].src="images/UI/lsBtn.png",imgArray[50]=new Image,imgArray[50].src="images/UI/homeButton.png",imgArray[51]=new Image,imgArray[51].src="images/items/royalToken.png",imgArray[52]=new Image,imgArray[52].src="images/UI/tokenBack.png",imgArray[53]=new Image,imgArray[53].src="images/UI/google-play-badge.png",imgArray[54]=new Image,imgArray[54].src="images/UI/stackBanner.png",imgArray[55]=new Image,imgArray[55].src="images/UI/starMatchBanner.png",imgArray[56]=new Image,imgArray[56].src="images/UI/X.png",imgArray[57]=new Image,imgArray[57].src="images/UI/lockBtn.png",imgArray[58]=new Image,imgArray[58].src="images/items/logs.png";var imgArray2=new Array;imgArray2[0]=new Image,imgArray2[0].src="images/artiGrow1.png",imgArray2[1]=new Image,imgArray2[1].src="images/artiGrow2.png",imgArray2[2]=new Image,imgArray2[2].src="images/plowed.png",imgArray2[3]=new Image,imgArray2[3].src="images/tomatoGrow1.png",imgArray2[4]=new Image,imgArray2[4].src="images/tomatoGrow2.png",imgArray2[5]=new Image,imgArray2[5].src="images/pepperGrow1.png",imgArray2[6]=new Image,imgArray2[6].src="images/pepperGrow2.png",imgArray2[7]=new Image,imgArray2[7].src="images/cornGrow1.png",imgArray2[8]=new Image,imgArray2[8].src="images/cornGrow2.png",imgArray2[9]=new Image,imgArray2[9].src="images/eggplantGrow1.png",imgArray2[10]=new Image,imgArray2[10].src="images/eggplantGrow2.png",imgArray2[11]=new Image,imgArray2[11].src="images/carrotGrow1.png",imgArray2[12]=new Image,imgArray2[12].src="images/carrotGrow2.png",imgArray2[13]=new Image,imgArray2[13].src="images/hayGrow1.png",imgArray2[14]=new Image,imgArray2[14].src="images/hayGrow2.png";var imgArray3=new Array;imgArray3[0]=new Image,imgArray3[0].src="images/livestockPens/chicken_down1.png",imgArray3[1]=new Image,imgArray3[1].src="images/livestockPens/chicken_down2.png",imgArray3[2]=new Image,imgArray3[2].src="images/livestockPens/chicken_down3.png",imgArray3[3]=new Image,imgArray3[3].src="images/livestockPens/chicken_eatLeft1.png",imgArray3[4]=new Image,imgArray3[4].src="images/livestockPens/chicken_eatLeft2.png",imgArray3[5]=new Image,imgArray3[5].src="images/livestockPens/chicken_eatLeft3.png",imgArray3[6]=new Image,imgArray3[6].src="images/livestockPens/chicken_eatLeft4.png",imgArray3[7]=new Image,imgArray3[7].src="images/livestockPens/chicken_eatRight1.png",imgArray3[8]=new Image,imgArray3[8].src="images/livestockPens/chicken_eatRight2.png",imgArray3[9]=new Image,imgArray3[9].src="images/livestockPens/chicken_up1.png",imgArray3[10]=new Image,imgArray3[10].src="images/livestockPens/chicken_up2.png",imgArray3[11]=new Image,imgArray3[11].src="images/livestockPens/chicken_up3.png",imgArray3[12]=new Image,imgArray3[12].src="images/livestockPens/chicken_walkLeft1.png",imgArray3[13]=new Image,imgArray3[13].src="images/livestockPens/chicken_walkLeft2.png",imgArray3[14]=new Image,imgArray3[14].src="images/livestockPens/chicken_walkLeft3.png",imgArray3[15]=new Image,imgArray3[15].src="images/livestockPens/chicken_walkRight1.png",imgArray3[16]=new Image,imgArray3[16].src="images/livestockPens/chicken_walkRight2.png",imgArray3[17]=new Image,imgArray3[17].src="images/livestockPens/chicken_walkRight3.png",imgArray3[18]=new Image,imgArray3[18].src="images/livestockPens/chicken_walkRight4.png",imgArray3[19]=new Image,imgArray3[19].src="images/livestockPens/eggs.png",imgArray3[20]=new Image,imgArray3[20].src="images/livestockPens/hams.png",imgArray3[21]=new Image,imgArray3[21].src="images/livestockPens/pig_Left3.png",imgArray3[22]=new Image,imgArray3[22].src="images/livestockPens/pig_walkLeft1.png",imgArray3[23]=new Image,imgArray3[23].src="images/livestockPens/pig_walkLeft2.png",imgArray3[24]=new Image,imgArray3[24].src="images/livestockPens/pig_down1.png",imgArray3[25]=new Image,imgArray3[25].src="images/livestockPens/pig_down2.png",imgArray3[26]=new Image,imgArray3[26].src="images/livestockPens/pig_down3.png",imgArray3[27]=new Image,imgArray3[27].src="images/livestockPens/pig_right1.png",imgArray3[28]=new Image,imgArray3[28].src="images/livestockPens/pig_right2.png",imgArray3[29]=new Image,imgArray3[29].src="images/livestockPens/pig_right3.png",imgArray3[30]=new Image,imgArray3[30].src="images/livestockPens/pig_up1.png",imgArray3[31]=new Image,imgArray3[31].src="images/livestockPens/pig_up2.png",imgArray3[32]=new Image,imgArray3[32].src="images/livestockPens/pig_up3.png";var imgArray4=new Array;imgArray4[0]=new Image,imgArray4[0].src="images/Orchard/girlF1.png",imgArray4[1]=new Image,imgArray4[1].src="images/Orchard/girlF2.png",imgArray4[2]=new Image,imgArray4[2].src="images/Orchard/girlF3.png",imgArray4[3]=new Image,imgArray4[3].src="images/Orchard/girlUp1.png",imgArray4[4]=new Image,imgArray4[4].src="images/Orchard/girlUp2.png",imgArray4[5]=new Image,imgArray4[5].src="images/Orchard/girlUp3.png",imgArray4[6]=new Image,imgArray4[6].src="images/Orchard/girlR1.png",imgArray4[7]=new Image,imgArray4[7].src="images/Orchard/girlL1.png",imgArray4[8]=new Image,imgArray4[8].src="images/Orchard/prune_trees.png",imgArray4[9]=new Image,imgArray4[9].src="images/Orchard/fertilize_trees.png",imgArray4[10]=new Image,imgArray4[10].src="images/Orchard/growing3_trees.png",imgArray4[11]=new Image,imgArray4[11].src="images/Orchard/growing4_trees.png",imgArray4[12]=new Image,imgArray4[12].src="images/Orchard/ready_Apples.png",imgArray4[13]=new Image,imgArray4[13].src="images/Orchard/ready_treesPear.png",imgArray4[14]=new Image,imgArray4[14].src="images/Orchard/treeBlockO.png",imgArray4[15]=new Image,imgArray4[15].src="images/Orchard/OrchardBack4.png",imgArray4[16]=new Image,imgArray4[16].src="images/Orchard/growing22_trees.png",imgArray4[17]=new Image,imgArray4[17].src="images/Orchard/orchardBarn1.png",imgArray4[18]=new Image,imgArray4[18].src="images/Orchard/orchardBarn2.png",imgArray4[19]=new Image,imgArray4[19].src="images/Orchard/ciderPlace1.png",imgArray4[20]=new Image,imgArray4[20].src="images/Orchard/ciderPlace2.png",imgArray4[21]=new Image,imgArray4[21].src="images/items/ciderBarrel.png";var imgArray5=new Array;imgArray5[0]=new Image,imgArray5[0].src="images/UI/tut1.png",imgArray5[1]=new Image,imgArray5[1].src="images/UI/tut2-1.png",imgArray5[2]=new Image,imgArray5[2].src="images/UI/tut3.png",imgArray5[3]=new Image,imgArray5[3].src="images/UI/tut4.png",imgArray5[4]=new Image,imgArray5[4].src="images/UI/tut5.png",imgArray5[5]=new Image,imgArray5[5].src="images/UI/tut6.png",imgArray5[6]=new Image,imgArray5[6].src="images/UI/tut7.png",imgArray5[7]=new Image,imgArray5[7].src="images/UI/tut8.png",imgArray5[8]=new Image,imgArray5[8].src="images/UI/tut9.png",imgArray5[9]=new Image,imgArray5[9].src="images/UI/tut10.png",imgArray5[10]=new Image,imgArray5[10].src="images/UI/tut11.png",imgArray5[11]=new Image,imgArray5[11].src="images/UI/tut12.png",imgArray5[12]=new Image,imgArray5[12].src="images/UI/tut13.png",imgArray5[13]=new Image,imgArray5[13].src="images/UI/tut14.png";var imgArray6=new Array;imgArray6[0]=new Image,imgArray6[0].src="images/UI/barn1-1.png",imgArray6[1]=new Image,imgArray6[1].src="images/UI/barn2-1.png",imgArray6[2]=new Image,imgArray6[2].src="images/UI/barn3-1.png",imgArray6[3]=new Image,imgArray6[3].src="images/UI/barn4-1.png",imgArray6[4]=new Image,imgArray6[4].src="images/UI/barn5-1.png",imgArray6[5]=new Image,imgArray6[5].src="images/bare_land.png",imgArray6[6]=new Image,imgArray6[6].src="images/plowed.png";var imgArray10=new Array;imgArray10[0]=new Image,imgArray[0].src="images/tomatoWithered.png";var imgArray11=new Array;imgArray11[0]=new Image,imgArray11[0].src="images/UI/coin4.png",imgArray11[1]=new Image,imgArray11[1].src="images/houseUpgrades/bedSingle.png",imgArray11[2]=new Image,imgArray11[2].src="images/houseUpgrades/chest.png",imgArray11[3]=new Image,imgArray11[3].src="images/houseUpgrades/sink.png",imgArray11[4]=new Image,imgArray11[4].src="images/houseUpgrades/woodTable.png",imgArray11[5]=new Image,imgArray11[5].src="images/houseUpgrades/woodChairSet.png",imgArray11[6]=new Image,imgArray11[6].src="images/houseUpgrades/dressingTable.png",imgArray11[7]=new Image,imgArray11[7].src="images/houseUpgrades/bedsideTableWood.png",imgArray11[8]=new Image,imgArray11[8].src="images/houseUpgrades/pottedPlantRed.png",imgArray11[9]=new Image,imgArray11[9].src="images/houseUpgrades/couchRight.png",imgArray11[10]=new Image,imgArray11[10].src="images/houseUpgrades/curtains.png",imgArray11[11]=new Image,imgArray11[11].src="images/houseUpgrades/doubleBed.png",imgArray11[12]=new Image,imgArray11[12].src="images/houseUpgrades/stool.png",imgArray11[13]=new Image,imgArray11[13].src="images/houseUpgrades/wardrobe.png",imgArray11[14]=new Image,imgArray11[14].src="images/houseUpgrades/couchAway.png",imgArray11[15]=new Image,imgArray11[15].src="images/houseUpgrades/bookcase.png",imgArray11[16]=new Image,imgArray11[16].src="images/houseUpgrades/fancyTable.png",imgArray11[17]=new Image,imgArray11[17].src="images/houseUpgrades/fancyChairSet.png",imgArray11[18]=new Image,imgArray11[18].src="images/houseUpgrades/desk.png",imgArray11[19]=new Image,imgArray11[19].src="images/houseUpgrades/widePainting.png",imgArray11[20]=new Image,imgArray11[20].src="images/houseUpgrades/dishCabinet.png",imgArray11[21]=new Image,imgArray11[21].src="images/houseUpgrades/trunk.png",imgArray11[22]=new Image,imgArray11[22].src="images/houseUpgrades/FarmHomeInteriorGreen.png",imgArray11[23]=new Image,imgArray11[23].src="images/houseUpgrades/FarmHomeInteriorBlue.png",imgArray11[24]=new Image,imgArray11[24].src="images/houseUpgrades/FarmHomeInteriorPink.png",imgArray11[25]=new Image,imgArray11[25].src="images/houseUpgrades/FarmHomeInteriorOrange.png";var imgArray12=new Array;imgArray12[0]=new Image,imgArray12[0].src="images/houseUpgrades/fireplace.png",imgArray12[1]=new Image,imgArray12[1].src="images/houseUpgrades/fire1.png",imgArray12[2]=new Image,imgArray12[2].src="images/houseUpgrades/fire2.png",imgArray12[3]=new Image,imgArray12[3].src="images/houseUpgrades/fire3.png",imgArray12[4]=new Image,imgArray12[4].src="images/houseUpgrades/stoveFire1.png",imgArray12[5]=new Image,imgArray12[5].src="images/houseUpgrades/stoveFire2.png",imgArray12[6]=new Image,imgArray12[6].src="images/houseUpgrades/stoveFire3.png";var imgArrayPlayer=new Array;imgArrayPlayer[0]=new Image,imgArrayPlayer[0].src="images/UI/playerImg1.png",imgArrayPlayer[1]=new Image,imgArrayPlayer[1].src="images/UI/playerImg2.png",imgArrayPlayer[2]=new Image,imgArrayPlayer[2].src="images/UI/playerImg3.png";var imgArrayTown=new Array;imgArrayTown[0]=new Image,imgArrayTown[0].src="images/marketTown/marketTownBack3.png",imgArrayTown[1]=new Image,imgArrayTown[1].src="images/marketTown/Monk_f1.png",imgArrayTown[2]=new Image,imgArrayTown[2].src="images/marketTown/Monk_f2.png",imgArrayTown[3]=new Image,imgArrayTown[3].src="images/marketTown/Monk_f3.png",imgArrayTown[4]=new Image,imgArrayTown[4].src="images/marketTown/Monk_r1.png",imgArrayTown[5]=new Image,imgArrayTown[5].src="images/marketTown/Monk_r2.png",imgArrayTown[6]=new Image,imgArrayTown[6].src="images/marketTown/Monk_r3.png",imgArrayTown[7]=new Image,imgArrayTown[7].src="images/marketTown/Monk_l1.png",imgArrayTown[8]=new Image,imgArrayTown[8].src="images/marketTown/Monk_l2.png",imgArrayTown[9]=new Image,imgArrayTown[9].src="images/marketTown/Monk_l3.png",imgArrayTown[10]=new Image,imgArrayTown[10].src="images/marketTown/Monk_a1.png",imgArrayTown[11]=new Image,imgArrayTown[11].src="images/marketTown/Monk_a2.png",imgArrayTown[12]=new Image,imgArrayTown[12].src="images/marketTown/Monk_a3.png",imgArrayTown[13]=new Image,imgArrayTown[13].src="images/marketTown/Monk_p1.png",imgArrayTown[14]=new Image,imgArrayTown[14].src="images/marketTown/Monk_p2.png",imgArrayTown[15]=new Image,imgArrayTown[15].src="images/marketTown/quest1.png",imgArrayTown[16]=new Image,imgArrayTown[16].src="images/marketTown/quest2.png",imgArrayTown[17]=new Image,imgArrayTown[17].src="images/UI/shopIcon.png",imgArrayTown[18]=new Image,imgArrayTown[18].src="images/UI/woodFrame.png";var imgArrayTown2=new Array;imgArrayTown2[0]=new Image,imgArrayTown2[0].src="images/marketTown/sara_f1.png",imgArrayTown2[1]=new Image,imgArrayTown2[1].src="images/marketTown/sara_r1.png",imgArrayTown2[2]=new Image,imgArrayTown2[2].src="images/marketTown/sara_r2.png",imgArrayTown2[3]=new Image,imgArrayTown2[3].src="images/marketTown/sara_r3.png",imgArrayTown2[4]=new Image,imgArrayTown2[4].src="images/marketTown/sara_s1.png",imgArrayTown2[5]=new Image,imgArrayTown2[5].src="images/marketTown/sara_l1.png",imgArrayTown2[6]=new Image,imgArrayTown2[6].src="images/marketTown/sara_l2.png",imgArrayTown2[7]=new Image,imgArrayTown2[7].src="images/marketTown/sara_l3.png",imgArrayTown2[8]=new Image,imgArrayTown2[8].src="images/marketTown/sara_a1.png",imgArrayTown2[9]=new Image,imgArrayTown2[9].src="images/marketTown/sara_a2.png",imgArrayTown2[10]=new Image,imgArrayTown2[10].src="images/marketTown/sara_a3.png",imgArrayTown2[11]=new Image,imgArrayTown2[11].src="images/marketTown/sara_s1.png",imgArrayTown2[12]=new Image,imgArrayTown2[12].src="images/marketTown/sara_s1.png",imgArrayTown2[13]=new Image,imgArrayTown2[13].src="images/marketTown/sara_s2.png";var imgArrayMayor=new Array;imgArrayMayor[0]=new Image,imgArrayMayor[0].src="images/marketTown/mayor_f1.png",imgArrayMayor[1]=new Image,imgArrayMayor[1].src="images/marketTown/mayor_f2.png",imgArrayMayor[2]=new Image,imgArrayMayor[2].src="images/marketTown/mayor_f3.png",imgArrayMayor[3]=new Image,imgArrayMayor[3].src="images/marketTown/mayor_f4.png",imgArrayMayor[4]=new Image,imgArrayMayor[4].src="images/marketTown/mayor_r1.png",imgArrayMayor[5]=new Image,imgArrayMayor[5].src="images/marketTown/mayor_r2.png",imgArrayMayor[6]=new Image,imgArrayMayor[6].src="images/marketTown/mayor_r3.png",imgArrayMayor[7]=new Image,imgArrayMayor[7].src="images/marketTown/mayor_r4.png",imgArrayMayor[8]=new Image,imgArrayMayor[8].src="images/marketTown/mayor_l1.png",imgArrayMayor[9]=new Image,imgArrayMayor[9].src="images/marketTown/mayor_l2.png",imgArrayMayor[10]=new Image,imgArrayMayor[10].src="images/marketTown/mayor_l3.png",imgArrayMayor[11]=new Image,imgArrayMayor[11].src="images/marketTown/mayor_l4.png",imgArrayMayor[12]=new Image,imgArrayMayor[12].src="images/marketTown/mayor_a1.png",imgArrayMayor[13]=new Image,imgArrayMayor[13].src="images/marketTown/mayor_a2.png",imgArrayMayor[14]=new Image,imgArrayMayor[14].src="images/marketTown/mayor_a3.png",imgArrayMayor[15]=new Image,imgArrayMayor[15].src="images/marketTown/mayor_s1.png",imgArrayMayor[16]=new Image,imgArrayMayor[16].src="images/marketTown/mayor_s2.png";var imgArrayFelicia=new Array;imgArrayFelicia[0]=new Image,imgArrayFelicia[0].src="images/marketTown/Felicia_f1.png",imgArrayFelicia[1]=new Image,imgArrayFelicia[1].src="images/marketTown/Felicia_f2.png",imgArrayFelicia[2]=new Image,imgArrayFelicia[2].src="images/marketTown/Felicia_f3.png",imgArrayFelicia[3]=new Image,imgArrayFelicia[3].src="images/marketTown/Felicia_f4.png",imgArrayFelicia[4]=new Image,imgArrayFelicia[4].src="images/marketTown/Felicia_r1.png",imgArrayFelicia[5]=new Image,imgArrayFelicia[5].src="images/marketTown/Felicia_r2.png",imgArrayFelicia[6]=new Image,imgArrayFelicia[6].src="images/marketTown/Felicia_r3.png",imgArrayFelicia[7]=new Image,imgArrayFelicia[7].src="images/marketTown/Felicia_r4.png",imgArrayFelicia[8]=new Image,imgArrayFelicia[8].src="images/marketTown/Felicia_l1.png",imgArrayFelicia[9]=new Image,imgArrayFelicia[9].src="images/marketTown/Felicia_l2.png",imgArrayFelicia[10]=new Image,imgArrayFelicia[10].src="images/marketTown/Felicia_l3.png",imgArrayFelicia[11]=new Image,imgArrayFelicia[11].src="images/marketTown/Felicia_l4.png",imgArrayFelicia[12]=new Image,imgArrayFelicia[12].src="images/marketTown/Felicia_a1.png",imgArrayFelicia[13]=new Image,imgArrayFelicia[13].src="images/marketTown/Felicia_a2.png",imgArrayFelicia[14]=new Image,imgArrayFelicia[14].src="images/marketTown/Felicia_a3.png",imgArrayFelicia[15]=new Image,imgArrayFelicia[15].src="images/marketTown/Felicia_s1.png";var imgArrayDenise=new Array;imgArrayDenise[0]=new Image,imgArrayDenise[0].src="images/houseUpgrades/denise/denise_f1.png",imgArrayDenise[1]=new Image,imgArrayDenise[1].src="images/houseUpgrades/denise/denise_f2.png",imgArrayDenise[2]=new Image,imgArrayDenise[2].src="images/houseUpgrades/denise/denise_f3.png",imgArrayDenise[3]=new Image,imgArrayDenise[3].src="images/houseUpgrades/denise/denise_f4.png",imgArrayDenise[4]=new Image,imgArrayDenise[4].src="images/houseUpgrades/denise/denise_r1.png",imgArrayDenise[5]=new Image,imgArrayDenise[5].src="images/houseUpgrades/denise/denise_r2.png",imgArrayDenise[6]=new Image,imgArrayDenise[6].src="images/houseUpgrades/denise/denise_r3.png",imgArrayDenise[7]=new Image,imgArrayDenise[7].src="images/houseUpgrades/denise/denise_r4.png",imgArrayDenise[8]=new Image,imgArrayDenise[8].src="images/houseUpgrades/denise/denise_l1.png",imgArrayDenise[9]=new Image,imgArrayDenise[9].src="images/houseUpgrades/denise/denise_l2.png",imgArrayDenise[10]=new Image,imgArrayDenise[10].src="images/houseUpgrades/denise/denise_l3.png",imgArrayDenise[11]=new Image,imgArrayDenise[11].src="images/houseUpgrades/denise/denise_l4.png",imgArrayDenise[12]=new Image,imgArrayDenise[12].src="images/houseUpgrades/denise/denise_a1.png",imgArrayDenise[13]=new Image,imgArrayDenise[13].src="images/houseUpgrades/denise/denise_a2.png",imgArrayDenise[14]=new Image,imgArrayDenise[14].src="images/houseUpgrades/denise/denise_a3.png",imgArrayDenise[15]=new Image,imgArrayDenise[15].src="images/houseUpgrades/denise/denise_s1.png";var imgArrayTrader=new Array;imgArrayTrader[0]=new Image,imgArrayTrader[0].src="images/marketTown/trader_f1.png",imgArrayTrader[1]=new Image,imgArrayTrader[1].src="images/marketTown/trader_f2.png",imgArrayTrader[2]=new Image,imgArrayTrader[2].src="images/marketTown/trader_f3.png";var imgArrayGideon=new Array;imgArrayGideon[0]=new Image,imgArrayGideon[0].src="images/marketTown/gideon_f1.png",imgArrayGideon[1]=new Image,imgArrayGideon[1].src="images/marketTown/gideon_f2.png",imgArrayGideon[2]=new Image,imgArrayGideon[2].src="images/marketTown/gideon_f3.png";var imgArrayItems=new Array;imgArrayItems[0]=new Image,imgArrayItems[0].src="images/items/shield1.png",imgArrayItems[1]=new Image,imgArrayItems[1].src="images/items/shield2.png",imgArrayItems[2]=new Image,imgArrayItems[2].src="images/items/shield3.png",imgArrayItems[3]=new Image,imgArrayItems[3].src="images/items/book1.png",imgArrayItems[4]=new Image,imgArrayItems[4].src="images/items/locket.png",imgArrayItems[5]=new Image,imgArrayItems[5].src="images/items/mail1.png",imgArrayItems[6]=new Image,imgArrayItems[6].src="images/items/mail2.png",imgArrayItems[7]=new Image,imgArrayItems[7].src="images/items/key.png",imgArrayItems[8]=new Image,imgArrayItems[8].src="images/items/necklaceEmerald.png",imgArrayItems[9]=new Image,imgArrayItems[9].src="images/items/necklacepurple.png",imgArrayItems[10]=new Image,imgArrayItems[10].src="images/items/necklaceRuby.png",imgArrayItems[11]=new Image,imgArrayItems[11].src="images/items/necklaceSaphire.png",imgArrayItems[12]=new Image,imgArrayItems[12].src="images/items/ringAmethyst.png",imgArrayItems[13]=new Image,imgArrayItems[13].src="images/items/ringEmerald.png",imgArrayItems[14]=new Image,imgArrayItems[14].src="images/items/ringRuby.png",imgArrayItems[15]=new Image,imgArrayItems[15].src="images/items/ruby.png",imgArrayItems[16]=new Image,imgArrayItems[16].src="images/items/saphire.png",imgArrayItems[17]=new Image,imgArrayItems[17].src="images/items/scroll1.png",imgArrayItems[18]=new Image,imgArrayItems[18].src="images/items/shovel1.png",imgArrayItems[19]=new Image,imgArrayItems[19].src="images/items/sword1.png",imgArrayItems[20]=new Image,imgArrayItems[20].src="images/items/sword2.png",imgArrayItems[21]=new Image,imgArrayItems[21].src="images/items/sword3.png",imgArrayItems[22]=new Image,imgArrayItems[22].src="images/items/pick1.png",imgArrayItems[23]=new Image,imgArrayItems[23].src="images/items/crest.png",imgArrayItems[24]=new Image,imgArrayItems[24].src="images/items/coal.png",imgArrayItems[25]=new Image,imgArrayItems[25].src="images/UI/inventoryBtn.png",imgArrayItems[26]=new Image,imgArrayItems[26].src="images/items/jars.png";var imgArrayJosiah=new Array;imgArrayJosiah[0]=new Image,imgArrayJosiah[0].src="images/Pasture/josiah_f1.png",imgArrayJosiah[1]=new Image,imgArrayJosiah[1].src="images/Pasture/josiah_f2.png",imgArrayJosiah[2]=new Image,imgArrayJosiah[2].src="images/Pasture/josiah_f3.png",imgArrayJosiah[3]=new Image,imgArrayJosiah[3].src="images/Pasture/josiah_f4.png",imgArrayJosiah[4]=new Image,imgArrayJosiah[4].src="images/Pasture/josiah_l1.png",imgArrayJosiah[5]=new Image,imgArrayJosiah[5].src="images/Pasture/josiah_l2.png",imgArrayJosiah[6]=new Image,imgArrayJosiah[6].src="images/Pasture/josiah_l3.png",imgArrayJosiah[7]=new Image,imgArrayJosiah[7].src="images/Pasture/josiah_l4.png",imgArrayJosiah[8]=new Image,imgArrayJosiah[8].src="images/Pasture/josiah_r1.png",imgArrayJosiah[9]=new Image,imgArrayJosiah[9].src="images/Pasture/josiah_r2.png",imgArrayJosiah[10]=new Image,imgArrayJosiah[10].src="images/Pasture/josiah_r3.png",imgArrayJosiah[11]=new Image,imgArrayJosiah[11].src="images/Pasture/josiah_r4.png",imgArrayJosiah[12]=new Image,imgArrayJosiah[12].src="images/Pasture/josiah_a1.png",imgArrayJosiah[13]=new Image,imgArrayJosiah[13].src="images/Pasture/josiah_a2.png",imgArrayJosiah[14]=new Image,imgArrayJosiah[14].src="images/Pasture/josiah_a3.png",imgArrayJosiah[15]=new Image,imgArrayJosiah[15].src="images/Pasture/josiah_a4.png";var imgArrayPatricia=new Array;imgArrayPatricia[0]=new Image,imgArrayPatricia[0].src="images/marketTown/patricia_f1.png",imgArrayPatricia[1]=new Image,imgArrayPatricia[1].src="images/marketTown/patricia_f2.png",imgArrayPatricia[2]=new Image,imgArrayPatricia[2].src="images/marketTown/patricia_f3.png",imgArrayPatricia[3]=new Image,imgArrayPatricia[3].src="images/marketTown/patricia_f4.png",imgArrayPatricia[4]=new Image,imgArrayPatricia[4].src="images/marketTown/patricia_l1.png",imgArrayPatricia[5]=new Image,imgArrayPatricia[5].src="images/marketTown/patricia_l2.png",imgArrayPatricia[6]=new Image,imgArrayPatricia[6].src="images/marketTown/patricia_l3.png",imgArrayPatricia[7]=new Image,imgArrayPatricia[7].src="images/marketTown/patricia_l4.png",imgArrayPatricia[8]=new Image,imgArrayPatricia[8].src="images/marketTown/patricia_r1.png",imgArrayPatricia[9]=new Image,imgArrayPatricia[9].src="images/marketTown/patricia_r2.png",imgArrayPatricia[10]=new Image,imgArrayPatricia[10].src="images/marketTown/patricia_r3.png",imgArrayPatricia[11]=new Image,imgArrayPatricia[11].src="images/marketTown/patricia_r4.png",imgArrayPatricia[12]=new Image,imgArrayPatricia[12].src="images/marketTown/patricia_a1.png",imgArrayPatricia[13]=new Image,imgArrayPatricia[13].src="images/marketTown/patricia_a2.png",imgArrayPatricia[14]=new Image,imgArrayPatricia[14].src="images/marketTown/patricia_a3.png",imgArrayPatricia[15]=new Image,imgArrayPatricia[15].src="images/marketTown/patricia_a4.png";var imgArrayEva=new Array;imgArrayEva[0]=new Image,imgArrayEva[0].src="images/marketTown/eva_f1.png",imgArrayEva[1]=new Image,imgArrayEva[1].src="images/marketTown/eva_f2.png",imgArrayEva[2]=new Image,imgArrayEva[2].src="images/marketTown/eva_f3.png",imgArrayEva[3]=new Image,imgArrayEva[3].src="images/marketTown/eva_f4.png",imgArrayEva[4]=new Image,imgArrayEva[4].src="images/marketTown/eva_l1.png",imgArrayEva[5]=new Image,imgArrayEva[5].src="images/marketTown/eva_l2.png",imgArrayEva[6]=new Image,imgArrayEva[6].src="images/marketTown/eva_l3.png",imgArrayEva[7]=new Image,imgArrayEva[7].src="images/marketTown/eva_l4.png",imgArrayEva[8]=new Image,imgArrayEva[8].src="images/marketTown/eva_r1.png",imgArrayEva[9]=new Image,imgArrayEva[9].src="images/marketTown/eva_r2.png",imgArrayEva[10]=new Image,imgArrayEva[10].src="images/marketTown/eva_r3.png",imgArrayEva[11]=new Image,imgArrayEva[11].src="images/marketTown/eva_r4.png",imgArrayEva[12]=new Image,imgArrayEva[12].src="images/marketTown/eva_a1.png",imgArrayEva[13]=new Image,imgArrayEva[13].src="images/marketTown/eva_a2.png",imgArrayEva[14]=new Image,imgArrayEva[14].src="images/marketTown/eva_a3.png",imgArrayEva[15]=new Image,imgArrayEva[15].src="images/marketTown/eva_a4.png";var imgArrayStore=new Array;imgArrayStore[0]=new Image,imgArrayStore[0].src="images/items/ironBar.png",imgArrayStore[1]=new Image,imgArrayStore[1].src="images/items/jars.png",imgArrayStore[2]=new Image,imgArrayStore[2].src="images/items/shovel2.png",imgArrayStore[3]=new Image,imgArrayStore[3].src="images/items/pick1.png",imgArrayStore[4]=new Image,imgArrayStore[4].src="images/items/ciderPress.png",imgArrayStore[5]=new Image,imgArrayStore[5].src="images/items/bottles.png",imgArrayStore[6]=new Image,imgArrayStore[6].src="images/items/barrels.png";var imgArrayPasture=new Array;imgArrayPasture[0]=new Image,imgArrayPasture[0].src="images/Pasture/water.png",imgArrayPasture[1]=new Image,imgArrayPasture[1].src="images/Pasture/dairyBarn.png",imgArrayPasture[2]=new Image,imgArrayPasture[2].src="images/Pasture/bridgeVert.png",imgArrayPasture[3]=new Image,imgArrayPasture[3].src="images/Pasture/pTree1.png",imgArrayPasture[4]=new Image,imgArrayPasture[4].src="images/Pasture/pTree2.png",imgArrayPasture[5]=new Image,imgArrayPasture[5].src="images/Pasture/dirt.png",imgArrayPasture[6]=new Image,imgArrayPasture[6].src="images/Pasture/cow_eatR4.png",imgArrayPasture[7]=new Image,imgArrayPasture[7].src="images/Pasture/cow_eatF3.png",imgArrayPasture[8]=new Image,imgArrayPasture[8].src="images/Pasture/rocks.png",imgArrayPasture[9]=new Image,imgArrayPasture[9].src="images/Pasture/treeBlockP.png",imgArrayPasture[10]=new Image,imgArrayPasture[10].src="images/Pasture/cow_eatR1.png",imgArrayPasture[11]=new Image,imgArrayPasture[11].src="images/Pasture/cow_eatR2.png",imgArrayPasture[12]=new Image,imgArrayPasture[12].src="images/Pasture/cow_eatR4.png",imgArrayPasture[13]=new Image,imgArrayPasture[13].src="images/Pasture/cow_eatF1.png",imgArrayPasture[14]=new Image,imgArrayPasture[14].src="images/Pasture/cow_eatF2.png",imgArrayPasture[15]=new Image,imgArrayPasture[15].src="images/Pasture/cow_eatF3.png",imgArrayPasture[16]=new Image,imgArrayPasture[16].src="images/Pasture/cowLeft4.png",imgArrayPasture[17]=new Image,imgArrayPasture[17].src="images/Pasture/cowRight1.png",imgArrayPasture[18]=new Image,imgArrayPasture[18].src="images/Pasture/cowRight2.png",imgArrayPasture[19]=new Image,imgArrayPasture[19].src="images/Pasture/poop.png";var myRewards=new Array,collectItems={digUpSells:[{name:"Old Buckler",value:250,owned:0,onlyOnce:0,src:imgArrayItems[0].src,sub1:"Old",sub2:"wooden shield",who:"Friar"},{name:"Ancient Shield",value:250,owned:0,onlyOnce:0,src:imgArrayItems[1].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"},{name:"Ancient Tome",value:250,owned:0,onlyOnce:0,src:imgArrayItems[3].src,sub1:"This book might",sub2:"interest Friar Patrick",who:"Friar"},{name:"Locket",value:0,owned:0,onlyOnce:0,src:imgArrayItems[4].src,sub1:"There is a picture",sub2:"inside. Hmmm",who:"Felicia"},{name:"Old Armor",value:45,owned:0,onlyOnce:0,src:imgArrayItems[5].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"},{name:"Ancient Key",value:45,owned:0,onlyOnce:0,src:imgArrayItems[7].src,sub1:"I wonder what",sub2:"this will unlock",who:"Friar"},{name:"Emerald Necklace",value:75,owned:0,onlyOnce:0,src:imgArrayItems[8].src,sub1:"Take this to the",sub2:"mayor for 75 coins ",who:"Mayor"},{name:"Amethyst Necklace",value:50,owned:0,onlyOnce:0,src:imgArrayItems[9].src,sub1:"Take this to the",sub2:" mayor for 50 coins",who:"Mayor"},{name:"Ruby Necklace",value:100,owned:0,onlyOnce:0,src:imgArrayItems[10].src,sub1:"Take this to the",sub2:" mayor for 100 coins",who:"Mayor"},{name:"Saffire Necklace",value:125,owned:0,onlyOnce:0,src:imgArrayItems[11].src,sub1:"Take this to the",sub2:" mayor 125 coins",who:"Mayor"},{name:"Amethyst Ring",value:75,owned:0,onlyOnce:0,src:imgArrayItems[12].src,sub1:"Take this to the",sub2:" mayor 75 coins",who:"Mayor"},{name:"Emerald Ring",value:100,owned:0,onlyOnce:0,src:imgArrayItems[13].src,sub1:"Take this to the",sub2:" mayor 100 coins",who:"Mayor"},{name:"Ruby Ring",value:125,owned:0,onlyOnce:0,src:imgArrayItems[14].src,sub1:"Take this to the",sub2:" mayor 125 coins",who:"Mayor"},{name:"Ruby",value:60,owned:0,onlyOnce:0,src:imgArrayItems[15].src,sub1:"Take this to the",sub2:" mayor 60 coins",who:"Mayor"},{name:"Sapphire",value:40,owned:0,onlyOnce:0,src:imgArrayItems[16].src,sub1:"Take this to the",sub2:" mayor 40 coins",who:"Mayor"},{name:"Crumbling Scroll",value:45,owned:0,onlyOnce:0,src:imgArrayItems[17].src,sub1:"Be careful,",sub2:"it is falling apart",who:"Friar"},{name:"Old Sword",value:50,owned:0,onlyOnce:0,src:imgArrayItems[19].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"},{name:"Ancient Sword",value:150,owned:0,onlyOnce:0,src:imgArrayItems[20].src,sub1:"This artifact would",sub2:"interest the Friar",who:"Friar"}],digUpCollect:[{name:"Family Crest",value:0,owned:0,onlyOnce:1,src:imgArrayItems[23].src},{name:"Forefathers Shield",value:0,owned:0,onlyOnce:1,src:imgArrayItems[2].src},{name:"Forefathers Sword",value:0,owned:0,onlyOnce:1,src:imgArrayItems[21].src},{name:"Forefathers Mail",value:0,owned:0,onlyOnce:1,src:imgArrayItems[6].src}],storeItems:[{name:"50 Iron Bars",value:100,owned:0,onlyOnce:0,src:imgArrayStore[0].src},{name:"50 Jars",value:100,owned:0,onlyOnce:1,src:imgArrayStore[1].src},{name:"Blessed Shovel",value:2500,owned:0,onlyOnce:0,src:imgArrayStore[2].src},{name:"Steel Pick",value:5e3,owned:0,onlyOnce:0,src:imgArrayStore[3].src},{name:"Fruit Press",value:7500,owned:0,onlyOnce:1,src:imgArrayStore[4].src},{name:"50 Bottles",value:200,owned:0,onlyOnce:1,src:imgArrayStore[5].src},{name:"50 Barrels",value:200,owned:0,onlyOnce:1,src:imgArrayStore[6].src}]};void 0===localStorage.GuiGhostFarms_playerItems&&localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems"));var usedCodesArray=new Array;void 0===localStorage.usedCodes&&localStorage.setItem("usedCodes",JSON.stringify(usedCodesArray)),usedCodesArray=JSON.parse(localStorage.getItem("usedCodes"));var upgradesInProgress={buildings:[{name:"H",timeLeft:0,currentBarnLevel:1},{name:"P",timeLeft:0,currentBarnLevel:1},{name:"O",timeLeft:0,currentBarnLevel:1},{name:"V",timeLeft:0,currentBarnLevel:1},{name:"LS",timeLeft:0,currentBarnLevel:1}]};void 0===localStorage.MedFarm_upgradesInProgress&&localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),upgradesInProgress=JSON.parse(localStorage.getItem("MedFarm_upgradesInProgress"));var houseUpgrades={upgrades:[{name:"expansion",cost:0,owned:0},{name:"Single Bed",cost:200,owned:0},{name:"Chest",cost:250,owned:0},{name:"Sink",cost:300,owned:0},{name:"Table",cost:250,owned:0},{name:"Wood Chairs",cost:150,owned:0},{name:"Dressing Table",cost:500,owned:0},{name:"Bedside Table",cost:250,owned:0},{name:"Potted Plant",cost:150,owned:0},{name:"Couch",cost:500,owned:0},{name:"Curtains",cost:125,owned:0},{name:"Double Bed",cost:600,owned:0},{name:"Stool",cost:150,owned:0},{name:"Wardrobe",cost:750,owned:0},{name:"Fancy Couch",cost:750,owned:0},{name:"Bookshelves",cost:1e3,owned:0},{name:"Fancy Table",cost:800,owned:0},{name:"Fancy Chairs",cost:850,owned:0},{name:"Desk",cost:750,owned:0},{name:"Painting",cost:1e3,owned:0},{name:"Dish Cabinet",cost:800,owned:0},{name:"Trunk",cost:700,owned:0},{name:"Paint Walls Green",cost:1500,owned:0},{name:"Paint Walls Blue",cost:1500,owned:0},{name:"Paint Walls Pink",cost:1500,owned:0},{name:"Paint Walls Tan",cost:1500,owned:1}]},mayorReady=0,friarReady=0,saraReady=0,feliciaReady=0,collectibleOnScreen=!1,townSceneActive=0,sceneActive="home",adFreeVersion=0,rewardTypes={TypeReward:[{index:0,type:"Coins"},{index:1,type:"Item"},{index:2,type:"Stars"},{index:3,type:"Tools"},{index:4,type:"Effect"},{index:5,type:"Reputation"},{index:6,type:"Shortage"}]},questParamsHerald={crops:[{index:0,crop1:0,crop1Amount:50,crop2:1,crop2Amount:50},{index:1,crop1:1,crop1Amount:50,crop2:2,crop2Amount:50},{index:2,crop1:2,crop1Amount:50,crop2:3,crop2Amount:50},{index:3,crop1:3,crop1Amount:50,crop2:4,crop2Amount:50},{index:4,crop1:4,crop1Amount:50,crop2:5,crop2Amount:50},{index:5,crop1:7,crop1Amount:50,crop2:10,crop2Amount:50},{index:6,crop1:11,crop1Amount:50,crop2:12,crop2Amount:50},{index:7,crop1:18,crop1Amount:50,crop2:13,crop2Amount:50},{index:8,crop1:0,crop1Amount:50,crop2:3,crop2Amount:50},{index:9,crop1:18,crop1Amount:7,crop2:7,crop2Amount:50}]},heraldOrderTop=0;void 0===localStorage.MedFarms_heraldOrdersFilled&&localStorage.setItem("MedFarms_heraldOrdersFilled",0),heraldOrderTop=parseInt(localStorage.getItem("MedFarms_heraldOrdersFilled"));var heraldIntroSeen=0;void 0===localStorage.MedFarms_heraldIntro&&localStorage.setItem("MedFarms_heraldIntro",0),heraldIntroSeen=parseInt(localStorage.getItem("MedFarms_heraldIntro"));var heraldOrder1=0,heraldOrder2=1,daysTillHerald=30,questParamsPatricia={speech:[{index:0,Text:"Da Da.... I want some toys"},{index:1,Text:"Round and round and round I go. I just don't seem to be getting anywhere"},{index:2,Text:"When Papa Elmo visits he is so silly. He is always saying DIBBA DABBA "},{index:3,Text:"Mom would not let me have candy. She is a meany meany Mc'Meanerson."},{index:4,Text:" Well I was...sitting on a fencepost, chewing my hay straw, playing with my toys..... "},{index:5,Text:"I'm a liiiiitttttle girl. I like dresses, princesses, candy, and baby dolls"}]},questParams={mayor:[{highestCompleted:0,available:!0},{name:"Necklackes",text:"Many things have been found on your farm. If you DIG UP any JEWELRY, let me know",completed:0,rewardType:0,rewardAmount:100,rewardItem:0,requiredItem:"none",successText:"Ill buy that jewelery  "},{name:"Rings",text:"Come back to me time to time. I may have things to do. Got any Jewels?",completed:0,rewardType:0,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "},{name:"Gems",text:"The King sends hearlds sometimes. Please them and you may gain royal favor",completed:0,rewardType:0,rewardAmount:200,rewardItem:0,requiredItem:"none",successText:" "},{name:"Felicia",text:"My wife Felicia spends all day in market, looking for new foods to cook",completed:0,rewardType:0,rewardAmount:200,rewardItem:0,requiredItem:"none",successText:" "},{name:"Felicia2",text:"Old Man Haridison is considering selling his STABLE in the future",completed:0,rewardType:0,rewardAmount:200,rewardItem:0,requiredItem:"none",successText:" "}],monk:[{highestCompleted:0,available:!0},{name:"Bounty",text:"I am here to study old relics. Bring me any ARTIFACTS you may DIG UP",completed:0,rewardType:4,rewardAmount:10,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact",text:"The more artifacts you bring, the more I can learn about this area",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact2",text:"I learned that a previous owner of your farm may have been a noble",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact3",text:"Some of the artifacts you find could be HEIRLOOMS. These are special items you keep",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "},{name:"Artifact4",text:"I heard that there are more farm ACRES coming up for sale in the area very soon",completed:0,rewardType:4,rewardAmount:15,rewardItem:0,requiredItem:"none",successText:" "}],felicia:[{highestCompleted:0,available:!0},{name:"Foods",text:"I wish this market had some more variety",completed:0,rewardType:5,rewardAmount:100,rewardItem:0,requiredItem:"none",successText:" "},{name:"Lost Locket",text:"I lost my locket while visiting your wife",completed:0,rewardType:5,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "},{name:"Necklace",text:"",completed:0,rewardType:5,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "}],sara:[{highestCompleted:0,available:!1},{name:"Royal Lineage",text:"I heard a rumor you came from royal stock",completed:0,rewardType:0,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:"You found my locket! "},{name:"Cider",text:"This cooler weather has people wanting APPLE CIDER. Can you make some?",completed:0,rewardType:0,rewardAmount:150,rewardItem:0,requiredItem:"none",successText:" "}],denise:[{highestCompleted:0,available:!0},{name:"Furniture",text:"We need some FURNITURE",completed:0,rewardType:4,rewardAmount:1,rewardItem:0,requiredItem:"none",successText:" "},{name:"Salt",text:" ",completed:0,rewardType:4,rewardAmount:150,rewardItem:0,requiredItem:"Salt",successText:" "}],blacksmith:[{highestCompleted:0,available:!0},{name:"Iron",text:"I need more Iron Bars",completed:0,rewardType:4,rewardAmount:1,rewardItem:0,requiredItem:"Iron",successText:" "},{name:"Coal",text:"",completed:0,rewardType:4,rewardAmount:2,rewardItem:0,requiredItem:"Coal",successText:" "}],helga:[{highestCompleted:0,available:!0},{name:"Juice Press",text:"If we bought a FRUIT PRESS, we could make CIDER",completed:0,rewardType:5,rewardAmount:100,rewardItem:0,requiredItem:"none",successText:" "},{name:"Bottles",text:"",completed:0,rewardType:5,rewardAmount:150,rewardItem:0,requiredItem:"Bottles",successText:" "}],terric:[{highestCompleted:0,available:!0},{name:"Upgrade",text:"If we had JARS and upgaded the Barn, we could make JELLY.",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"Jars"},{name:"Jars",text:"We need some more jelly JARS. Can you buy some in town?",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"Jars"},{name:"Juice Press",text:"I wonder what else we can make with grapes",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"Fruit Press"},{name:"Bottles",text:"We need some more BOTTLES. Can you buy some in town?",completed:0,rewardType:6,rewardAmount:0,rewardItem:0,requiredItem:"Bottles"}]},homeCrop=0,townRep=0;void 0===localStorage.MedFarms_townRep&&localStorage.setItem("MedFarms_townRep",0),townRep=JSON.parse(localStorage.getItem("MedFarms_townRep"));var seenPremiumPromo=0;void 0===localStorage.MedFarms_seenPremiumPromo&&localStorage.setItem("MedFarms_seenPremiumPromo",0),seenPremiumPromo=JSON.parse(localStorage.getItem("MedFarms_seenPremiumPromo")),void 0===localStorage.GuiGhostFarms_houseUpgrades&&localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),houseUpgrades=JSON.parse(localStorage.getItem("GuiGhostFarms_houseUpgrades")),void 0===localStorage.adWatched&&localStorage.setItem("adWatched",0);var adWatched=0;void 0===localStorage.showHighLight&&localStorage.setItem("showHighLight",0);var showHighLight=localStorage.getItem("showHighLight");void 0===localStorage.GuiGhostFarms_muted&&localStorage.setItem("GuiGhostFarms_muted",0);var selectedHomeCrop=0;void 0===localStorage.MedFarms_selectedHomeCrop&&localStorage.setItem("MedFarms_selectedHomeCrop",0),selectedHomeCrop=localStorage.getItem("MedFarms_selectedHomeCrop"),(5<(homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")))||isNaN(homeCrop)||homeCrop<0)&&(homeCrop=0),localStorage.setItem("MedFarm_StarCashBoost",0),localStorage.setItem("moreGamesClicked",0);var starCash=0,moneyBefore=0,startedMove=0,orchardText="Tending Apple Trees",landStateMaster=new Array,homeTreesLeft=0,homeTreesRight=0;localStorage.setItem("MedFarms_homeTreesLeft",0),localStorage.setItem("MedFarms_homeTreesRight",0),void 0===localStorage.MedFarms_homeTreesLeft&&localStorage.setItem("MedFarms_homeTreesLeft",0),homeTreesLeft=localStorage.getItem("MedFarms_homeTreesLeft"),void 0===localStorage.MedFarms_homeTreesRight&&localStorage.setItem("MedFarms_homeTreesRight",0),homeTreesRight=localStorage.getItem("MedFarms_homeTreesRight"),void 0===localStorage.landStates&&localStorage.setItem("landStates",JSON.stringify(landStateMaster)),landStateMaster=JSON.parse(localStorage.getItem("landStates"));var seen1stHouseNotif=0;void 0===localStorage.MedFarms_seen1stHouseNotif&&localStorage.setItem("MedFarms_seen1stHouseNotif",0),seen1stHouseNotif=localStorage.getItem("MedFarms_seen1stHouseNotif"),void 0===localStorage.MedFarms_buyingSmallStars&&localStorage.setItem("MedFarms_buyingSmallStars",0),void 0===localStorage.MedFarms_buyingLargeStars&&localStorage.setItem("MedFarms_buyingLargeStars",0),void 0===localStorage.MedFarms_buyingStarterPack&&localStorage.setItem("MedFarms_buyingStarterPack",0),void 0===localStorage.MedFarms_buyingMasterPack&&localStorage.setItem("MedFarms_buyingMasterPack",0);var itemCarryOver=-1,showHighlight2=localStorage.getItem("showHighLight"),farming={EMPTY:0,PLOWED:1,GROWING:2,READY:3,WITHER:4,Land:function(o,i,s,r,n,a,l){function d(e,t,o){for(var i=0;i<e.length;i+=1)if(e[i][t]===o)return i;return-1}lime.Sprite.call(this),this.setAnchorPoint(0,0),this.setSize(o.tile_size,o.tile_size),this.setFill(imgArray6[5]),"tlt"==a&&this.setFill(imgArrayGround[2]),"trt"==a&&this.setFill(imgArrayGround[1]),"brt"==a&&this.setFill(imgArrayGround[3]),"blt"==a&&this.setFill(imgArrayGround[4]),3==n&&this.setFill(imgArray4[8]),32==n&&this.setFill(imgArray4[8]),5==n&&this.setFill(imgArray[34]);var g=this,t=(goog.math.Coordinate(this),0);goog.events.listen(this,["mousedown","touchstart"],function(e){0!=globalModalBlock&&g.state!=farming.WITHER||0!=startedMove&&g.state!=farming.WITHER||(h(),t=1,lime.scheduleManager.callAfter(function(){t=0},this,500),startedMove=1)}),goog.events.listen(this,["touchmove"],function(e){0!=globalModalBlock&&g.state!=farming.WITHER||0==t&&(h(),t=1,lime.scheduleManager.callAfter(function(){t=0},this,500))}),goog.events.listen(this,["mousemove"],function(e){0==globalModalBlock&&0==t&&1==startedMove&&(h(),t=1,lime.scheduleManager.callAfter(function(){t=0,0},this,750))}),goog.events.listen(this,["mouseup"],function(e){startedMove=0}),goog.events.listen(this,["touchend"],function(e){startedMove=0});var e,m=d(landStateMaster,"name",l);-1==m?(this.state=farming.EMPTY,e={name:l,props:{state:parseInt(this.state),deathTime:0,ripeTime:0,crop:parseInt(i.currentCrop)}},landStateMaster.push(e),localStorage.setItem("landStates",JSON.stringify(landStateMaster))):(this.state=parseInt(landStateMaster[m].props.state),this.state=Math.abs(this.state),this.crop=parseInt(landStateMaster[m].props.crop),this.crop=Math.abs(this.crop),this.ripeTime=parseInt(landStateMaster[m].props.ripeTime),this.ripeTime=Math.abs(this.ripeTime),this.deathTime=parseInt(landStateMaster[m].props.deathTime),this.deathTime=Math.abs(this.deathTime),this.state==farming.GROWING&&g.setFill("images/"+o.crops[this.crop].grow1),this.state==farming.GROWING&&this.ripeTime<1250*o.crops[this.crop].time_to_ripe&&g.setFill("images/"+o.crops[this.crop].grow2),this.state==farming.GROWING&&this.ripeTime<=1e4&&g.setFill("images/"+o.crops[this.crop].grow3),this.state==farming.READY&&g.setFill("images/"+o.crops[this.crop].image),this.state==farming.WITHER&&this.setFill("images/"+o.crops[this.crop].withered));var c=0,p={};function h(){homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),homeCrop=Math.abs(homeCrop),1==n&&(i.currentCrop=homeCrop),32==n&&(i.currentCrop=9),3==n&&(i.currentCrop=8),i.currentCrop=Math.abs(i.currentCrop);var e=o.crops[i.currentCrop].grow1,t=(o.crops[i.currentCrop].withered,2e3);g.state==farming.PLOWED&&(t=8<=Math.floor(10*Math.random())?1800:2e3),moneyBefore=player.money,g.state==farming.WITHER?(3==n&&g.setFill("images/Orchard/wither_treesApple.png"),32==n&&g.setFill("images/Orchard/wither_treesPear.png"),5==n&&g.setFill("images/vinyard/grapes_withered.png"),g.setFill(imgArrayGround[0]),"tlt"==a&&g.setFill(imgArrayGround[2]),"trt"==a&&g.setFill(imgArrayGround[1]),"brt"==a&&g.setFill(imgArrayGround[3]),"blt"==a&&g.setFill(imgArrayGround[4]),3==n&&g.setFill(imgArray4[8]),32==n&&g.setFill(imgArray4[8]),5==n&&g.setFill(imgArray[34]),g.state=farming.EMPTY):g.state==farming.EMPTY?(g.setFill(imgArray2[2]),g.state=farming.PLOWED,3==n&&g.setFill("images/Orchard/fertilize_trees.png"),32==n&&g.setFill("images/Orchard/fertilize_trees.png"),5==n&&g.setFill("images/vinyard/grapes_Fertilize.png"),f()):g.state==farming.PLOWED&&player.money>=o.crops[i.currentCrop].cost?(i.currentCrop=Math.abs(i.currentCrop),e=o.crops[i.currentCrop].grow1,g.setFill("images/"+e),g.state=farming.GROWING,g.crop=i.currentCrop,g.ripeTime=t*o.crops[i.currentCrop].time_to_ripe,g.deathTime=2e3*o.crops[i.currentCrop].time_to_death,g.thirdTime=1250*o.crops[i.currentCrop].time_to_ripe,player.money=player.money-o.crops[i.currentCrop].cost,o.updateMoney(),o.displayCost(s,r,o.crops[i.currentCrop].cost),c=d(landStateMaster,"name",l),p={state:g.state,deathTime:g.deathTime,ripeTime:g.ripeTime,crop:g.crop},landStateMaster[c].props=p,localStorage.setItem("landStates",JSON.stringify(landStateMaster))):g.state==farming.PLOWED&&player.money<o.crops[i.currentCrop].cost?(i.currentCrop=Math.abs(i.currentCrop),o.displayCost(s,r,o.crops[i.currentCrop].cost+" Required")):g.state==farming.READY&&(g.setFill(imgArrayGround[0]),"tlt"==a&&g.setFill(imgArrayGround[2]),"trt"==a&&g.setFill(imgArrayGround[1]),"brt"==a&&g.setFill(imgArrayGround[3]),"blt"==a&&g.setFill(imgArrayGround[4]),3==n&&g.setFill(imgArray4[8]),32==n&&g.setFill(imgArray4[8]),5==n&&g.setFill(imgArray[34]),g.state=farming.EMPTY,player.cropsStored[g.crop].stored+=1,pickedEver+=1,3==n&&2==orchardBarnLevel&&(g.setFill(imgArray4[8]),player.cropsStored[g.crop].stored+=1,pickedEver+=1),32==n&&2==orchardBarnLevel&&(g.setFill(imgArray4[8]),player.cropsStored[g.crop].stored+=1,pickedEver+=1),o.updateMoney(),o.updateHarvest(s,r,g.crop),o.updateStored(),o.haySize())}var u="",y=90,S=0,f=function(){if(1==collectItems.storeItems[2].owned&&(y=80),1==n&&0==S){if(S=1,randomChance=Math.round(Math.random()*y),!(randomChance>=y-1))return;var e=Object.keys(collectItems.digUpSells).length;randomItemNumber=Math.round(Math.random()*(e-1)),0==collectItems.digUpSells[randomItemNumber].owned&&0==collectibleOnScreen&&(u=collectItems.digUpSells[randomItemNumber].name,itemCarryOver=randomItemNumber,collectItems.digUpSells[randomItemNumber].owned=1,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),o.displayCollectible(s,r,u,!1),lime.scheduleManager.callAfter(function(){S=0},this,1e3))}};3==n&&g.state==farming.EMPTY&&g.setFill(imgArray4[8]),32==n&&g.state==farming.EMPTY&&g.setFill(imgArray4[8]),5==n&&g.state==farming.EMPTY&&g.setFill(imgArray[34]),dt=2e3;var A=adWatched=0,v=0;lime.scheduleManager.scheduleWithDelay(function(){A=localStorage.getItem("adWatched"),v=localStorage.getItem("MedFarm_StarCashBoost"),1==A&&g.state==farming.GROWING&&0==v&&(g.ripeTime=0,lime.scheduleManager.callAfter(function(){localStorage.setItem("adWatched",0),A=0},this,400))},this,1e3),lime.scheduleManager.scheduleWithDelay(function(){this.state==farming.GROWING?this.ripeTime<=0?(this.state=farming.READY,this.setFill("images/"+o.crops[this.crop].image)):this.ripeTime-=1e3:this.state==farming.READY&&(this.deathTime<=0?(this.state=farming.WITHER,this.setFill("images/"+o.crops[this.crop].withered)):this.deathTime-=1e3),this.state==farming.GROWING&&(this.ripeTime<=1e4?this.setFill("images/"+o.crops[this.crop].grow3):this.thirdTime>=this.ripeTime?this.setFill("images/"+o.crops[this.crop].grow2):this.deathTime-=1e3),2==n&&g.state==farming.GROWING&&(this.ripeTime<=1e4?g.setFill("images/"+o.crops[6].grow3):this.thirdTime>=this.ripeTime&&g.setFill("images/"+o.crops[6].grow2)),1==pickedEver&&(showHighLight2=showHighLight=1,localStorage.setItem("showHighLight",1)),8==o.crops[this.crop]&&this.deathTime<0&&this.setFill(imgArray4[8]),9==o.crops[this.crop]&&this.deathTime<0&&this.setFill(imgArray4[8]),12==o.crops[this.crop]&&this.deathTime<0&&this.setFill(imgArray[34]),3==n&&g.state==farming.EMPTY&&g.setFill(imgArray4[8]),32==n&&g.state==farming.EMPTY&&g.setFill(imgArray4[8]),5==n&&g.state==farming.EMPTY&&g.setFill(imgArray[34]);var e={state:this.state,deathTime:this.deathTime,ripeTime:this.ripeTime,crop:this.crop},t=d(landStateMaster,"name",l);landStateMaster[t].props=e,localStorage.setItem("landStates",JSON.stringify(landStateMaster))},this,dt)}};goog.inherits(farming.Land,lime.Sprite),lime.Scene=function(){lime.Node.call(this),this.setAnchorPoint(0,0),this.domClassName="lime-scene",this.createDomElement()},goog.inherits(lime.Scene,lime.Node),lime.Scene.prototype.getScene=function(){return this},lime.Scene.prototype.measureContents=function(){return this.getFrame()},lime.Button=function(e,t){lime.Layer.call(this),this.domClassName="lime-button",goog.isDef(e)&&this.setUpState(e),goog.isDef(t)&&this.setDownState(t);var o=this;goog.events.listen(this,["mousedown","touchstart","touchmove"],function(e){o.setState(lime.Button.State.DOWN),e.swallow("mousemove",function(e){o.hitTest(e)?o.setState(lime.Button.State.DOWN):o.setState(lime.Button.State.UP)}),e.swallow("touchmove",function(e){o.hitTest(e)||(o.setState(lime.Button.State.UP),e.release())}),e.swallow(["mouseup","touchend"],function(e){o.hitTest(e)&&o.dispatchEvent({type:lime.Button.Event.CLICK}),this.setState(lime.Button.State.UP)})})},goog.inherits(lime.Button,lime.Layer),lime.Button.State={UP:0,DOWN:1},lime.Button.Event={UP:"up",DOWN:"down",CLICK:"click"},lime.Button.prototype.setUpState=function(e){return this.upstate=e,this.appendChild(this.upstate),this.state_=-1,this.setState(lime.Button.State.UP)},lime.Button.prototype.setDownState=function(e){return this.downstate=e,this.appendChild(e),this.state_=-1,this.setState(lime.Button.State.UP)},lime.Button.prototype.getState=function(){return this.state_},lime.Button.prototype.setState=function(e){if(e==this.state_)return this;this.state_==lime.Button.State.UP&&e==lime.Button.State.DOWN&&this.dispatchEvent({type:lime.Button.Event.DOWN}),this.state_==lime.Button.State.DOWN&&e==lime.Button.State.UP&&this.dispatchEvent({type:lime.Button.Event.UP});var t=this.upstate;return goog.isDef(this.downstate)&&(lime.Button.State.DOWN==e?t=this.downstate:this.downstate.setHidden(!0)),t!=this.upstate&&this.upstate.setHidden(!0),t.setHidden(!1),this.state_=e,this},lime.Renderer.CANVAS.ROUNDEDRECT={},lime.Renderer.DOM.ROUNDEDRECT={},lime.RoundedRect=function(){lime.Sprite.call(this),this.setRadius(5)},goog.inherits(lime.RoundedRect,lime.Sprite),lime.RoundedRect.prototype.id="roundedrect",lime.RoundedRect.prototype.supportedRenderers=[lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.ROUNDEDRECT),lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.ROUNDEDRECT)],lime.RoundedRect.prototype.getRadius=function(){return this.radius_},lime.RoundedRect.prototype.getUnitPercentage=function(){return this.unitPercentage_},lime.RoundedRect.prototype.setRadius=function(e,t){return this.unitPercentage_=t||!1,this.radius_=e,this},lime.Renderer.DOM.ROUNDEDRECT.draw=function(e){this.getSize(),lime.Renderer.DOM.SPRITE.draw.call(this,e),lime.style.setBorderRadius(e,[this.radius_*this.getQuality(),this.radius_*this.getQuality()])},lime.Renderer.CANVAS.ROUNDEDRECT.draw=function(e){this.getSize(),this.getFill();var t=this.getFrame(),o=this.getRadius(),i=t.left,s=t.top,r=t.right-t.left,t=t.bottom-t.top;e.save(),e.beginPath(),e.moveTo(i+o,s),e.lineTo(i+r-o,s),e.quadraticCurveTo(i+r,s,i+r,s+o),e.lineTo(i+r,s+t-o),e.quadraticCurveTo(i+r,s+t,i+r-o,s+t),e.lineTo(i+o,s+t),e.quadraticCurveTo(i,s+t,i,s+t-o),e.lineTo(i,s+o),e.quadraticCurveTo(i,s,i+o,s),e.closePath(),e.clip(),lime.Renderer.CANVAS.SPRITE.draw.call(this,e),this.stroke_&&(e.lineWidth*=2,e.stroke()),e.restore()},lime.Renderer.CANVAS.LABEL={},lime.Renderer.DOM.LABEL={},lime.Label=function(e){lime.Sprite.call(this),this.setText(e),this.setFontFamily(lime.Label.defaultFont),this.setFontSize(14),this.setFontColor("#000"),this.setAlign("center"),this.setFontWeight("400"),this.setPadding(0),this.setLineHeight(1.15),this.setShadow(null),this.setFill(255,255,255,0)},goog.inherits(lime.Label,lime.Sprite),lime.Label.prototype.id="label",lime.Label.defaultFont="Arial",lime.Label.prototype.supportedRenderers=[lime.Renderer.DOM.SPRITE.makeSubRenderer(lime.Renderer.DOM.LABEL),lime.Renderer.CANVAS.SPRITE.makeSubRenderer(lime.Renderer.CANVAS.LABEL)],function(){var i;lime.Label.prototype.measureText=function(){goog.isDef(i)||(i=document.createElement("canvas").getContext("2d"));var e=this.getLineHeight()*this.getFontSize();i.font=this.getFontSize()+"px "+this.getFontFamily();var t=i.measureText(this.text_),t=goog.userAgent.WEBKIT?t.width:t.width+1;lime.userAgent.IOS5&&(t+=1);var o=this.stroke_?this.stroke_.width_:0;return new goog.math.Size(this.padding_[1]+this.padding_[3]+t+2*o,this.padding_[0]+this.padding_[2]+e+2*o)}}(),lime.Label.prototype.getSize=function(){var e=lime.Node.prototype.getSize.call(this);return e&&(e.width||e.height)?e:this.measureText()},lime.Label.prototype.getText=function(){return this.text_},lime.Label.prototype.setText=function(e){return this.text_=e+"",this.setDirty(lime.Dirty.CONTENT),delete this.words_,this},lime.Label.prototype.getFontFamily=function(){return this.fontFamily_},lime.Label.prototype.setFontWeight=function(e){return this.fontWeight_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontWeight=function(){return this.fontWeight_},lime.Label.prototype.setFontFamily=function(e){return this.fontFamily_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontSize=function(){return this.fontSize_},lime.Label.prototype.setFontSize=function(e){return this.fontSize_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getFontColor=function(){return this.fontColor_},lime.Label.prototype.setFontColor=function(e){return this.fontColor_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getPadding=function(){return this.padding_},lime.Label.prototype.setPadding=function(e,t,o,i){return e=[e,e,e,e],goog.isDef(t)&&(e[1]=e[3]=t),goog.isDef(o)&&(e[2]=o),goog.isDef(i)&&(e[3]=i),this.padding_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.setLineHeight=function(e,t){return this.lineHeightAbsolute_=t||!1,this.lineHeight_=e,this},lime.Label.prototype.getLineHeight=function(){var e=Math.abs(this.getShadowOffset().y)+2*this.shadowBlur_;return this.lineHeightAbsolute_?(this.lineHeight_+e)/this.getFontSize():this.lineHeight_+e/this.getFontSize()},lime.Label.prototype.getAlign=function(){return this.align_},lime.Label.prototype.setAlign=function(e){return this.align_=e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.setShadow=function(e,t,o,i){return 1==arguments.length&&goog.isNull(e)?(this.setShadowColor("#ccc"),this.setShadowBlur(0),this.setShadowOffset(0,0)):2==arguments.length?(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(new goog.math.Vec2(0,0))):3==arguments.length?(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(o)):(this.setShadowColor(e),this.setShadowBlur(t),this.setShadowOffset(o,i)),this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.hasShadow_=function(){return this.shadowBlur_||this.shadowOffset_.x||this.shadowOffset_.y},lime.Label.prototype.getShadowColor=function(){return this.shadowColor_},lime.Label.prototype.getShadowOffset=function(){return this.shadowOffset_},lime.Label.prototype.setShadowColor=function(e){return this.shadowColor_=e,this},lime.Label.prototype.setShadowBlur=function(e){return this.shadowBlur_=e,this},lime.Label.prototype.setShadowOffset=function(e,t){return this.shadowOffset_=2==arguments.length?new goog.math.Vec2(e,t):e,this.setDirty(lime.Dirty.FONT),this},lime.Label.prototype.getShadowBlur=function(){return this.shadowBlur_},lime.Label.prototype.calcWordsArray=function(){var e=[],t=this.text_.length,o=this.text_.match(goog.userAgent.GECKO?/[\s\.]+/g:/[\s-\.]+/g),i=0;if(o)for(var s=0;s<o.length;s++){var r=o[s],r=this.text_.indexOf(r,i)+r.length;e.push(this.text_.substring(i,r)),i=r}return i!=t&&e.push(this.text_.substring(i,t)),e},lime.Label.prototype.wrapText=function(e,t){for(var o=[],i="",s=this.words_,r=0;r<s.length;r++)""==i?i=s[r]:e.measureText(goog.string.trim(i+s[r])).width>t?(o.push(goog.string.trim(i)),i=s[r]):i+=s[r];return o.push(i),o},lime.Label.prototype.update=function(){this.getDirty()&lime.Dirty.CONTENT&&delete this.lastDrawnWidth_,lime.Node.prototype.update.apply(this,arguments)},lime.Renderer.DOM.LABEL.draw=function(e){lime.Renderer.DOM.SPRITE.draw.call(this,e);var t=e.style;this.dirty_&lime.Dirty.CONTENT&&goog.dom.setTextContent(e,this.text_),this.dirty_&lime.Dirty.FONT&&(t.lineHeight=this.getLineHeight(),t.padding=goog.array.map(this.padding_,function(e){return e*this.getRelativeQuality()},this).join("px ")+"px",t.color=this.getFontColor(),t.fontFamily=this.getFontFamily(),t.fontSize=this.getFontSize()*this.getRelativeQuality()+"px",t.fontWeight=this.getFontWeight(),t.textAlign=this.getAlign(),t.textShadow=this.hasShadow_()?this.getShadowColor()+" "+this.getShadowOffset().x+"px "+this.getShadowOffset().y+"px "+this.getShadowBlur()+"px":"")},lime.Renderer.CANVAS.LABEL.draw=function(e){lime.Renderer.CANVAS.SPRITE.draw.call(this,e);var t=this.getFrame(),o=-t.left-this.padding_[3]+t.right-this.padding_[1]+Math.abs(this.getShadowOffset().x)+Math.abs(2*this.getShadowBlur()),i=0;this.words_||(this.words_=this.calcWordsArray(),i=1);var s=this.stroke_?this.stroke_.width_:0;e.save();var r=this.getAlign();if("left"==r?e.translate(t.left+this.padding_[3]+s,t.top+this.padding_[0]+s):"right"==r?e.translate(t.right-this.padding_[1]-s,t.top+this.padding_[0]+s):"center"==r&&e.translate(.5*(t.left+this.padding_[3]+t.right-this.padding_[1]),t.top+this.padding_[0]+s),t=this.getLineHeight(),e.fillStyle=this.getFontColor(),e.font=this.getFontWeight()+" "+this.getFontSize()+"px/"+t+" "+this.getFontFamily(),e.textAlign=r,e.textBaseline="top",this.hasShadow_()&&(e.shadowColor=this.getShadowColor(),e.shadowOffsetX=this.getShadowOffset().x,e.shadowOffsetY=this.getShadowOffset().y,e.shadowBlur=this.getShadowBlur()),!i&&o==this.lastDrawnWidth_||(this.lines_=this.wrapText(e,o),this.lastDrawnWidth_=o),this.lines_)for(o=t*this.getFontSize(),i=(goog.isDef(this.getShadowBlur())?Math.abs(this.getShadowBlur()):0)+(goog.isDef(this.getShadowOffset())?Math.abs(this.getShadowOffset().y)/2:0),o=goog.userAgent.WEBKIT?Math.floor(o):Math.round(o),r=0;r<this.lines_.length;r++)e.fillText(this.lines_[r],0,o*r+i-.5);e.restore()},lime.Label.installFont=function(e,t,o){goog.style.installStyles('@font-face{font-family: "'+e+'";src: url('+t+') format("'+(o||"truetype")+'");})')},lime.fill.LinearGradient=function(){lime.fill.Fill.call(this),this.colors_=[],this.setDirection(0,0,0,1)},goog.inherits(lime.fill.LinearGradient,lime.fill.Fill),lime.fill.LinearGradient.prototype.id="lineargradient",lime.fill.LinearGradient.prototype.initForSprite=function(e){(goog.userAgent.OPERA||goog.userAgent.IE)&&e.setRenderer(lime.Renderer.CANVAS)},lime.fill.LinearGradient.prototype.setDirection=function(e,t,o,i){return this.points_=[e,t,o,i],this},lime.fill.LinearGradient.prototype.addColorStop=function(e,t){var o=goog.array.toArray(arguments);return o.shift(),this.colors_.push([e,lime.fill.parse(o)]),this},lime.fill.LinearGradient.prototype.formatColorStop_=function(e){return goog.userAgent.WEBKIT?"color-stop("+e[0]+", "+e[1].str+")":e[1].str+" "+100*e[0]*this.rate+"%"},lime.fill.LinearGradient.prototype.setDOMStyle=function(e,t){var o,i,s,r,n,a,l=t.getFrame(),d=l.right-l.left,g=l.bottom-l.top;goog.userAgent.WEBKIT||(o=(this.points_[2]-this.points_[0])*d,i=(this.points_[1]-this.points_[3])*g,s=l.left+d*this.points_[0],r=l.top+g*this.points_[1],n=Math.atan2(i,o),1/0==(a=-i/o)&&(a=Math.pow(10,10)),a=a*(l=((l=0<n&&n<Math.PI/2?[l.right,l.top]:0<n?[l.left,l.top]:n>-Math.PI/2?[l.right,l.bottom]:[l.left,l.bottom])[1]+1/a*l[0]-r+a*s)/(a+1/a))+r-s*a,l-=s,a-=r,this.rate=Math.sqrt((o*o+i*i)/(l*l+a*a))),o=goog.array.map(this.colors_,this.formatColorStop_,this),d=goog.userAgent.WEBKIT?"-webkit-gradient(linear,"+100*this.points_[0]+"% "+100*this.points_[1]+"%,"+100*this.points_[2]+"% "+100*this.points_[3]+"%,"+o.join(",")+")":"linear-gradient("+100*this.points_[0]+"% "+100*this.points_[1]+"% "+Math.atan2((this.points_[1]-this.points_[3])*g,(this.points_[2]-this.points_[0])*d)+"rad,"+o.join(",")+")",goog.userAgent.GECKO&&(d="-moz-"+d),e.style.background=d},lime.fill.LinearGradient.prototype.setCanvasStyle=function(e,t){for(var o=this.points_,i=(r=t.getFrame()).right-r.left,s=r.bottom-r.top,o=e.createLinearGradient(r.left+i*o[0],r.top+s*o[1],r.left+i*o[2],r.top+s*o[3]),r=0;r<this.colors_.length;r++)o.addColorStop(this.colors_[r][0],this.colors_[r][1].str);e.fillStyle=o},lime.GlossyButton=function(e){lime.Button.call(this,this.makeState_(e),this.makeState_(e)),this.borderWidth=2,this.setText(e),this.setColor("#62be00")},goog.inherits(lime.GlossyButton,lime.Button),lime.GlossyButton.prototype.makeState_=function(e){var t=new lime.RoundedRect;return t.inner=new lime.RoundedRect,t.label=new lime.Label(e).setAlign("center").setFontFamily('"Trebuchet MS"').setFontColor("#010101").setFontSize(17),t.appendChild(t.inner),t.inner.appendChild(t.label),t},lime.GlossyButton.prototype.setColor=function(i){return i=lime.fill.parse(i),goog.array.forEach([this.upstate,this.downstate],function(e){var t=e==this.downstate?i.clone().addSaturation(-.2):i;e.setFill(t);var o=(new lime.fill.LinearGradient).setDirection(0,0,0,1);o.addColorStop(0,t.clone().addBrightness(.13)),o.addColorStop(.5,t.clone().addBrightness(.05)),o.addColorStop(.52,t),o.addColorStop(1,t),e.inner.setFill(o)},this),this},lime.GlossyButton.prototype.setText=function(e){return this.upstate.label.setText(e),this.downstate.label.setText(e),this},lime.GlossyButton.prototype.setSize=function(e,t){var o;return this.upstate&&(this.upstate.setSize.apply(this.upstate,arguments),o=this.upstate.getSize(),goog.array.forEach([this.upstate,this.downstate],function(e){e.setSize(o);var t=o.clone();t.width-=this.borderWidth,t.height-=this.borderWidth,e.inner.setSize(t)},this)),this},lime.GlossyButton.prototype.getSize=function(){return this.upstate.getSize()},lime.CoverNode=function(){lime.Node.call(this);var e=this.baseElement;this.baseElement=document.createElement("canvas"),goog.dom.replaceNode(this.baseElement,e),this.context=this.baseElement.getContext("2d"),goog.dom.classes.add(this.baseElement,"lime-cover")},goog.inherits(lime.CoverNode,lime.Node),lime.CoverNode.prototype.update=function(){var e,t,o,i;this.director&&(e=goog.style.getSize(this.director.baseElement.parentNode),t=this.baseElement.style,o=this.director.getScale(),i=this.getQuality(),t.width=e.width+"px",t.height=e.height+"px",this.baseElement.width=e.width/o.x*i,this.baseElement.height=e.height/o.y*i,this.updateRect_?this.setNeedsRedrawInRect(this.updateRect_):this.setNeedsRedraw())},lime.CoverNode.prototype.setNeedsRedraw=function(){this.setNeedsRedrawInRect(this.director.getBounds(new goog.math.Box(0,this.baseElement.width/this.getQuality(),this.baseElement.height/this.getQuality(),0)))},lime.CoverNode.prototype.setNeedsRedrawInRect=function(e){var t=this.director,o=this.getQuality(),i=t.getScale(),t=t.getPosition();this.context.save(),this.context.scale(o,o),this.context.translate(t.x/i.x,t.y/i.y),this.drawInRect(e),this.context.restore()},lime.helper={},lime.helper.PauseScene=function(){lime.Scene.call(this),this.domElement.style.cssText="background:rgba(255,255,255,.8)"},goog.inherits(lime.helper.PauseScene,lime.Scene),goog.fx={},goog.fx.easing={},goog.fx.easing.easeIn=function(e){return e*e*e},goog.fx.easing.easeOut=function(e){return 1-Math.pow(1-e,3)},goog.fx.easing.inAndOut=function(e){return 3*e*e-2*e*e*e},lime.scheduleManager=new function(){this.taskStack_=[],this.active_=!1,this.intervalID_=0,this.displayRate_=1e3/30,this.lastRunTime_=0},lime.scheduleManager.Task=function(e,t){this.delta=this.maxdelta=e,this.limit=goog.isDef(t)?t:-1,this.functionStack_=[]},lime.scheduleManager.Task.prototype.step_=function(e){if(this.functionStack_.length)if(this.delta>e)this.delta-=e;else{var t=this.maxdelta+e-this.delta;this.delta=this.maxdelta-(e-this.delta),this.delta<0&&(this.delta=0);for(var o,e=this.functionStack_.length;0<=--e;)(o=this.functionStack_[e])&&o[0]&&goog.isFunction(o[1])&&o[1].call(o[2],t);-1!=this.limit&&(this.limit--,0==this.limit&&lime.scheduleManager.unschedule(o[1],o[2]))}},lime.scheduleManager.taskStack_.push(new lime.scheduleManager.Task(0)),lime.scheduleManager.USE_ANIMATION_FRAME=goog.global.mozRequestAnimationFrame||goog.global.webkitRequestAnimationFrame,lime.scheduleManager.getDisplayRate=function(){return this.displayRate_},lime.scheduleManager.setDisplayRate=function(e){this.displayRate_=e,this.active_&&(lime.scheduleManager.disable_(),lime.scheduleManager.activate_())},lime.scheduleManager.schedule=function(e,t,o){o=goog.isDef(o)?o:this.taskStack_[0],goog.array.insert(o.functionStack_,[1,e,t]),goog.array.insert(this.taskStack_,o),this.active_||lime.scheduleManager.activate_()},lime.scheduleManager.unschedule=function(e,t){for(var o=this.taskStack_.length;0<=--o;){for(var i,s=this.taskStack_[o],r=s.functionStack_,n=r.length;0<=--n;)(i=r[n])[1]==e&&i[2]==t&&goog.array.remove(r,i);0==r.length&&0!=o&&goog.array.remove(this.taskStack_,s)}1==this.taskStack_.length&&0==this.taskStack_[0].functionStack_.length&&lime.scheduleManager.disable_()},lime.scheduleManager.activate_=function(){this.active_||(this.lastRunTime_=goog.now(),lime.scheduleManager.USE_ANIMATION_FRAME?goog.global.mozRequestAnimationFrame?11<=goog.userAgent.VERSION?(this.animationFrameHandlerBinded_=goog.bind(lime.scheduleManager.animationFrameHandler_,this),goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_)):(goog.global.mozRequestAnimationFrame(),this.beforePaintHandlerBinded_=goog.bind(lime.scheduleManager.beforePaintHandler_,this),goog.global.addEventListener("MozBeforePaint",this.beforePaintHandlerBinded_,!1)):(this.animationFrameHandlerBinded_=goog.bind(lime.scheduleManager.animationFrameHandler_,this),goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_)):this.intervalID_=setInterval(goog.bind(lime.scheduleManager.stepTimer_,this),lime.scheduleManager.getDisplayRate()),this.active_=!0)},lime.scheduleManager.disable_=function(){this.active_&&(lime.scheduleManager.USE_ANIMATION_FRAME?goog.global.mozRequestAnimationFrame?11<=goog.userAgent.VERSION?goog.global.mozCancelRequestAnimationFrame(this.animationFrameHandlerBinded_):goog.global.removeEventListener("MozBeforePaint",this.beforePaintHandlerBinded_,!1):goog.global.webkitCancelRequestAnimationFrame(this.animationFrameHandlerBinded_):clearInterval(this.intervalID_),this.active_=!1)},lime.scheduleManager.animationFrameHandler_=function(e){var t,o=goog.global.performance;(o=(e=o&&(t=o.now||o.webkitNow)?o.timing.navigationStart+t.call(o):e||goog.now())-this.lastRunTime_)<0&&(o=1),lime.scheduleManager.dispatch_(o),this.lastRunTime_=e,goog.global.requestAnimationFrame?goog.global.requestAnimationFrame(this.animationFrameHandlerBinded_):goog.global.mozRequestAnimationFrame(this.animationFrameHandlerBinded_)},lime.scheduleManager.beforePaintHandler_=function(e){lime.scheduleManager.dispatch_(e.timeStamp-this.lastRunTime_),this.lastRunTime_=e.timeStamp,goog.global.mozRequestAnimationFrame()},lime.scheduleManager.stepTimer_=function(){var e=goog.now(),t=e-this.lastRunTime_;t<0&&(t=1),lime.scheduleManager.dispatch_(t),this.lastRunTime_=e},lime.scheduleManager.dispatch_=function(e){for(var t=this.taskStack_.length;0<=--t;)this.taskStack_[t].step_(e);1==lime.transformSet_&&/Firefox\/4./.test(goog.userAgent.getUserAgentString())&&!lime.FF4_USE_HW_ACCELERATION&&(lime.scheduleManager.odd_?(document.body.style.MozTransform="",lime.scheduleManager.odd_=0):(document.body.style.MozTransform="scale(1,1)",lime.scheduleManager.odd_=1),lime.transformSet_=0)},lime.scheduleManager.changeDirectorActivity=function(e,t){for(var o,i,s,r,n=this.taskStack_.length;0<=--n;)for(r=(o=this.taskStack_[n]).functionStack_.length;0<=--r;)i=(s=o.functionStack_[r])[2],goog.isFunction(i.getDirector)&&((i=i.getDirector())==e&&(s[0]=t))},lime.scheduleManager.callAfter=function(e,t,o){lime.scheduleManager.scheduleWithDelay(e,t,o,1)},lime.scheduleManager.scheduleWithDelay=function(e,t,o,i){o=new lime.scheduleManager.Task(o,i),lime.scheduleManager.schedule(e,t,o)},lime.animation={},lime.animation.Animation=function(){goog.events.EventTarget.call(this),this.targets=[],this.initTargets_=[],this.targetProp_={},this.isPlaying_=!1,this.duration_=1,this.ease=lime.animation.Easing.EASEINOUT,this.status_=0},goog.inherits(lime.animation.Animation,goog.events.EventTarget),lime.animation.Animation.prototype.scope="",lime.animation.Event={START:"start",STOP:"stop"},lime.animation.Animation.prototype.getDuration=function(){return this.duration_},lime.animation.Animation.prototype.setDuration=function(e){return this.duration_=e,this},lime.animation.Animation.prototype.setEasing=function(e){return this.ease=e,this},lime.animation.Animation.prototype.getEasing=function(){return this.ease},lime.animation.Animation.prototype.addTarget=function(e){return goog.array.insert(this.targets,e),this},lime.animation.Animation.prototype.removeTarget=function(e){return goog.array.remove(this.targets,e),this},lime.animation.Animation.prototype.play=function(){this.playTime_=0,this.firstFrame_=this.status_=1,lime.scheduleManager.schedule(this.step_,this),this.dispatchEvent({type:lime.animation.Event.START})},lime.animation.Animation.prototype.stop=function(){if(0!=this.status_){var e=this.initTargets_;if(this.useTransitions()&&this.clearTransition)for(var t=e.length;0<=--t;)this.clearTransition(e[t]);this.initTargets_=[],this.targetProp_={},this.status_=0,lime.scheduleManager.unschedule(this.step_,this),this.dispatchEvent({type:lime.animation.Event.STOP})}},lime.animation.Animation.prototype.makeTargetProp=function(){return{}},lime.animation.Animation.prototype.getTargetProp=function(e){var t=goog.getUid(e);return goog.isDef(this.targetProp_[t])||(this.initTarget(e),this.targetProp_[t]=this.makeTargetProp(e)),this.targetProp_[t]},lime.animation.Animation.prototype.initTarget=function(e){lime.animation.actionManager.register(this,e),this.status_=1,goog.array.insert(this.initTargets_,e),this.speed_&&!this.speedCalcDone_&&this.calcDurationFromSpeed_&&this.calcDurationFromSpeed_()},lime.animation.Animation.prototype.getDirector=function(){return this.targets[0]?this.targets[0].getDirector():null},lime.animation.Animation.prototype.step_=function(e){this.speed_&&!this.speedCalcDone_&&this.calcDurationFromSpeed_&&this.calcDurationFromSpeed_(),this.firstFrame_&&(delete this.firstFrame_,e=1),this.playTime_+=e,this.dt_=e,e=this.playTime_/(1e3*this.duration_),(isNaN(e)||1<=e)&&(e=1),1==(e=this.updateAll(e,this.targets))&&this.stop()},lime.animation.Animation.prototype.updateAll=function(e,t){e=this.getEasing()[0](e),isNaN(e)&&(e=1);for(var o=t.length;0<=--o;)this.update(e,t[o]);return e},lime.animation.Animation.prototype.useTransitions=function(){return 0<this.duration_&&lime.style.isTransitionsSupported&&this.optimizations_&&!lime.userAgent.ANDROID&&!goog.userAgent.GECKO},lime.animation.Animation.prototype.enableOptimizations=function(e){return this.optimizations_=!goog.isDef(e)||e,this},lime.animation.Animation.prototype.cloneParam=function(e){return this.setDuration(e.getDuration()).enableOptimizations(e.optimizations_)},lime.animation.Animation.prototype.reverse=function(){throw"Reverseform not supported for this animation"},lime.animation.actionManager=new function(){this.actions={}},lime.animation.actionManager.register=function(e,t){var o;e.scope.length&&(o=goog.getUid(t),goog.isDef(this.actions[o])||(this.actions[o]={}),goog.isDef(this.actions[o][e.scope])&&this.actions[o][e.scope].stop(),this.actions[o][e.scope]=e)},lime.animation.actionManager.stopAll=function(e){if(e=goog.getUid(e),goog.isDef(this.actions[e]))for(var t in this.actions[e])this.actions[e][t].stop(),delete this.actions[e][t]},function(){var n=0,a=0,l=0,r=0,d=0,g=0;lime.animation.getEasingFunction=function(t,o,i,s){return[function(e){return n=1-(l=3*t)-(a=3*(i-t)-l),r=1-(g=3*o)-(d=3*(s-o)-g),e=function(e,t){for(var o,i,s=e,r=0;r<8;r++){if((0<=(i=((n*s+a)*s+l)*s-e)?i:0-i)<t)return s;if((0<=(o=(3*n*s+2*a)*s+l)?o:0-o)<1e-6)break;s-=i/o}if((s=e)<(o=0))return o;if((r=1)<s)return r;for(;o<r&&!((0<=(i=((n*s+a)*s+l)*s)-e?i-e:0-(i-e))<t);)i<e?o=s:r=s,s=.5*(r-o)+o;return s}(e,5e-5),((r*e+d)*e+g)*e},t,o,i,s]}}(),lime.animation.Easing={EASE:lime.animation.getEasingFunction(.25,.1,.25,1),LINEAR:lime.animation.getEasingFunction(0,0,1,1),EASEIN:lime.animation.getEasingFunction(.42,0,1,1),EASEOUT:lime.animation.getEasingFunction(0,0,.58,1),EASEINOUT:lime.animation.getEasingFunction(.42,0,.58,1)},lime.animation.MoveTo=function(e,t){lime.animation.Animation.call(this),this.position_=2==arguments.length?new goog.math.Coordinate(e,t):e},goog.inherits(lime.animation.MoveTo,lime.animation.Animation),lime.animation.MoveTo.prototype.scope="move",lime.animation.MoveTo.prototype.setSpeed=function(e){return this.speed_=e,delete this.speedCalcDone_,this},lime.animation.MoveTo.prototype.makeTargetProp=function(e){var t=e.getPosition(),o=new goog.math.Coordinate(this.position_.x-t.x,this.position_.y-t.y);return this.useTransitions()&&(e.addTransition(lime.Transition.POSITION,this.position_,this.duration_,this.getEasing()),e.setDirty(lime.Dirty.POSITION)),{startpos:t,delta:o}},lime.animation.MoveTo.prototype.calcDurationFromSpeed_=function(){var e;this.speed_&&this.targets.length&&(e=this.targets[0].getPosition(),e=new goog.math.Coordinate(this.position_.x-e.x,this.position_.y-e.y),this.setDuration(this.speed_*goog.math.Coordinate.distance(e,new goog.math.Coordinate(0,0))/100),this.speedCalcDone_=1)},lime.animation.MoveTo.prototype.update=function(e,t){var o;0!=this.status_&&(o=this.getTargetProp(t),t.setPosition(o.startpos.x+o.delta.x*e,o.startpos.y+o.delta.y*e))},lime.animation.MoveTo.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.POSITION),e.setDirty(lime.Dirty.POSITION))},lime.events={},lime.events.Drag=function(e,t,o,i){goog.events.EventTarget.call(this),this.target=i||e.targetObject,this.dropTargets_=[],this.dropIndex_=-1,this.y=this.x=0,t||(t=this.target.localToScreen(new goog.math.Coordinate(0,0)),this.x=e.screenPosition.x-t.x,this.y=e.screenPosition.y-t.y),e.swallow(["touchmove","mousemove"],goog.bind(this.moveHandler_,this)),e.swallow(["touchend","touchcancel","mouseup"],goog.bind(this.releaseHandler_,this)),this.setBounds(o||null),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.START))},goog.inherits(lime.events.Drag,goog.events.EventTarget),lime.events.Drag.Event={START:"start",END:"end",MOVE:"move",CHANGE:"change",DROP:"drop",CANCEL:"cancel"},lime.events.Drag.prototype.disposeInternal=function(){lime.events.Drag.superClass_.disposeInternal.call(this),this.dropTargets_=this.target=this.event_=null},lime.events.Drag.prototype.getBounds=function(){return this.bounds_},lime.events.Drag.prototype.setBounds=function(e){this.bounds_=e},lime.events.Drag.prototype.moveHandler_=function(e){(e=e.screenPosition.clone()).x-=this.x,e.y-=this.y;var e=this.target.getParent().screenToLocal(e),t=this.getBounds();goog.isDefAndNotNull(t)&&(e.x<t.left?e.x=t.left:e.x>t.right&&(e.x=t.right),e.y<t.top?e.y=t.top:e.y>t.bottom&&(e.y=t.bottom)),this.target.setPosition(e),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.MOVE));for(var e=-1,t=goog.math.Rect.createFromBox(this.target.getFrame()),o=[],i=0;i<this.dropTargets_.length;i++){var s,r,n=this.dropTargets_[i];goog.isFunction(n.confirmTargetActive)&&!n.confirmTargetActive(this.target)||(s=n.getFrame(),r=n.localToNode(new goog.math.Coordinate(s.left,s.top),this.target),n=n.localToNode(new goog.math.Coordinate(s.right,s.bottom),this.target),r=goog.math.Rect.createFromBox(new goog.math.Box(Math.min(r.y,n.y),Math.max(r.x,n.x),Math.max(r.y,n.y),Math.min(n.x,r.x))),(n=goog.math.Rect.intersection(t,r))&&o.push([n.width*n.height/(r.width*r.height),i]))}o.length&&(e=(o=o.sort(function(e,t){return t[0]-e[0]}))[0][1]),e!=this.dropIndex_&&(-1!=this.dropIndex_&&goog.isFunction(this.dropTargets_[this.dropIndex_].hideDropHighlight)&&this.dropTargets_[this.dropIndex_].hideDropHighlight(),this.dropIndex_=e,-1!=this.dropIndex_&&goog.isFunction(this.dropTargets_[this.dropIndex_].showDropHighlight)&&this.dropTargets_[this.dropIndex_].showDropHighlight(),(e=new goog.events.Event(lime.events.Drag.Event.CHANGE)).activeDropTarget=-1!=this.dropIndex_?this.dropTargets_[this.dropIndex_]:null,this.dispatchEvent(e))},lime.events.Drag.prototype.releaseHandler_=function(){var e,t;-1!=this.dropIndex_?((e=new goog.events.Event(lime.events.Drag.Event.DROP)).activeDropTarget=this.dropTargets_[this.dropIndex_],goog.isFunction(e.activeDropTarget.showDropHighlight)&&e.activeDropTarget.hideDropHighlight(),this.dispatchEvent(e),e.propagationStopped_||(t=e.activeDropTarget.getParent().localToNode(e.activeDropTarget.getPosition(),this.target.getParent()),t=new lime.animation.MoveTo(t).setDuration(.5).enableOptimizations(),this.target.runAction(t),goog.isFunction(e.moveEndedCallback)&&goog.events.listen(t,lime.animation.Event.STOP,e.moveEndedCallback,!1,this.target))):this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.CANCEL)),this.dispatchEvent(new goog.events.Event(lime.events.Drag.Event.END)),lime.scheduleManager.callAfter(this.dispose,this,100)},lime.events.Drag.prototype.addDropTarget=function(e){this.dropTargets_.push(e)},lime.events.Event=function(e){this.dispatcher_=e,this.identifier=0},lime.events.Event.prototype.swallow=function(e,t,o){for(var e=goog.isArray(e)?e:[e],i=0;i<e.length;i++)this.dispatcher_.swallow(this,e[i],t);o&&this.event.stopPropagation()},lime.events.Event.prototype.release=function(e){var t,o=goog.isDef(e),i=goog.isArray(e)?e:[e];(e=this.dispatcher_.swallows[this.identifier])&&(t=this,(e=goog.array.filter(e,function(e){return!(!goog.isDef(t.targetObject)||e[0]==t.targetObject&&(!o||goog.array.contains(i,e[1])))||(goog.events.unlisten(e[0],e[1],e[2]),!1)})).length?this.dispatcher_.swallows[this.identifier]=e:delete this.dispatcher_.swallows[this.identifier])},lime.events.Event.prototype.startDrag=function(e,t,o){return new lime.events.Drag(this,e,t,o)},lime.events.Event.prototype.clone=function(){var e=new lime.events.Event(this.dispatcher_);return goog.object.extend(e,this),e},lime.events.EventDispatcher=function(e){this.director=e,this.handlers={},this.swallows={}},lime.events.EventDispatcher.prototype.register=function(e,t){goog.isDef(this.handlers[t])?goog.array.contains(this.handlers[t],e)||(this.handlers[t].push(e),this.handlers[t].sort(lime.Node.compareNode)):(this.handlers[t]=[e],goog.events.listen("touch"==t.substring(0,5)&&e!=this.director?document:"key"==t.substring(0,3)?window:this.director.domElement.parentNode,t,this,!1,this))},lime.events.EventDispatcher.prototype.release=function(e,t){goog.isDef(this.handlers[t])&&(goog.array.remove(this.handlers[t],e),this.handlers[t].length||(goog.events.unlisten(this.director.domElement.parentNode,t,this,!1,this),delete this.handlers[t]))},lime.events.EventDispatcher.prototype.updateDispatchOrder=function(e){for(var t in this.handlers){var o=this.handlers[t];goog.array.contains(o,e)&&o.sort(lime.Node.compareNode)}},lime.events.EventDispatcher.prototype.swallow=function(e,t,o){var i=e.identifier;goog.isDef(this.swallows[i])||(this.swallows[i]=[]),this.swallows[i].push([e.targetObject,t,o]),goog.events.listen(e.targetObject,t,goog.nullFunction)},lime.events.EventDispatcher.prototype.handleEvent=function(e){if(goog.isDef(this.handlers[e.type])){for(var t=this.handlers[e.type].slice(),o=!1,i=0,s=0;!s;){var r=new lime.events.Event(this);if(r.type=e.type,"touch"==(r.event=e).type.substring(0,5)?(a=e.getBrowserEvent().changedTouches[i],r.screenPosition=new goog.math.Coordinate(a.pageX,a.pageY),r.identifier=a.identifier,++i>=e.getBrowserEvent().changedTouches.length&&(s=1)):(r.screenPosition=new goog.math.Coordinate(e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.clientY+document.body.scrollTop+document.documentElement.scrollTop),s=1),goog.isDef(this.swallows[r.identifier])){for(var n,a=this.swallows[r.identifier],l=0;l<a.length;l++){(a[l][1]==e.type||goog.isArray(a[l][1])&&goog.array.contains(a[l][1],e.type))&&(n=a[l][0],r.targetObject=n,r.position=n.screenToLocal(r.screenPosition),a[l][2].call(n,r),o=!0)}"touchend"!=e.type&&"touchcancel"!=e.type&&"mouseup"!=e.type&&"keyup"!=e.type||(delete r.targetObject,r.release())}else for(l=0;l<t.length&&(n=t[l],this.director.getCurrentScene()!=n.getScene()&&n!=this.director||n.getHidden()||!n.inTree_||!(r.targetObject=n).hitTest(r)&&"key"!=e.type.substring(0,3)||((r.targetObject=n).dispatchEvent(r),o=!0,!r.event.propagationStopped_));l++);}o&&e.preventDefault()}},goog.dom.ViewportSizeMonitor=function(e){goog.events.EventTarget.call(this),this.window_=e||window,this.listenerKey_=goog.events.listen(this.window_,goog.events.EventType.RESIZE,this.handleResize_,!1,this),this.size_=goog.dom.getViewportSize(this.window_),this.isPollingRequired_()&&(this.windowSizePollInterval_=window.setInterval(goog.bind(this.checkForSizeChange_,this),goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE))},goog.inherits(goog.dom.ViewportSizeMonitor,goog.events.EventTarget),goog.dom.ViewportSizeMonitor.getInstanceForWindow=function(e){var e=e||window,t=goog.getUid(e);return goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]=goog.dom.ViewportSizeMonitor.windowInstanceMap_[t]||new goog.dom.ViewportSizeMonitor(e)},goog.dom.ViewportSizeMonitor.removeInstanceForWindow=function(e){e=goog.getUid(e||window),goog.dispose(goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]),delete goog.dom.ViewportSizeMonitor.windowInstanceMap_[e]},goog.dom.ViewportSizeMonitor.windowInstanceMap_={},goog.dom.ViewportSizeMonitor.WINDOW_SIZE_POLL_RATE=500,goog.dom.ViewportSizeMonitor.prototype.listenerKey_=null,goog.dom.ViewportSizeMonitor.prototype.window_=null,goog.dom.ViewportSizeMonitor.prototype.size_=null,goog.dom.ViewportSizeMonitor.prototype.windowSizePollInterval_=null,goog.dom.ViewportSizeMonitor.prototype.isPollingRequired_=function(){return goog.userAgent.WEBKIT&&goog.userAgent.WINDOWS||goog.userAgent.OPERA&&this.window_.self!=this.window_.top},goog.dom.ViewportSizeMonitor.prototype.getSize=function(){return this.size_?this.size_.clone():null},goog.dom.ViewportSizeMonitor.prototype.disposeInternal=function(){goog.dom.ViewportSizeMonitor.superClass_.disposeInternal.call(this),this.listenerKey_&&(goog.events.unlistenByKey(this.listenerKey_),this.listenerKey_=null),this.windowSizePollInterval_&&(window.clearInterval(this.windowSizePollInterval_),this.windowSizePollInterval_=null),this.size_=this.window_=null},goog.dom.ViewportSizeMonitor.prototype.handleResize_=function(){this.checkForSizeChange_()},goog.dom.ViewportSizeMonitor.prototype.checkForSizeChange_=function(){var e=goog.dom.getViewportSize(this.window_);goog.math.Size.equals(e,this.size_)||(this.size_=e,this.dispatchEvent(goog.events.EventType.RESIZE))},lime.transitions={},lime.transitions.Transition=function(e,t){goog.events.EventTarget.call(this),this.duration_=1,this.outgoing_=e,this.incoming_=t,this.finished_=!1},goog.inherits(lime.transitions.Transition,goog.events.EventTarget),lime.transitions.Transition.prototype.getDuration=function(){return this.duration_},lime.transitions.Transition.prototype.setDuration=function(e){return this.duration_=e,this},lime.transitions.Transition.prototype.setFinishCallback=function(){return goog.DEBUG&&console&&console.warn&&console.warn("Transition.prototype.setFinishCallback() is deprecated. Use event listeners."),this},lime.transitions.Transition.prototype.start=function(){this.incoming_.setPosition(new goog.math.Coordinate(0,0)),this.incoming_.setHidden(!1),this.finish()},lime.transitions.Transition.prototype.finish=function(){this.dispatchEvent(new goog.events.Event("end")),this.finished_=!0,this.incoming_=this.outgoing_=null},lime.Director=function(e,t,o){var i,s,r;lime.Node.call(this),this.inTree_=!0,this.setAnchorPoint(0,0),this.sceneStack_=[],this.coverStack_=[],this.domClassName="lime-director",this.createDomElement(),e.appendChild(this.domElement),goog.userAgent.WEBKIT&&goog.userAgent.MOBILE&&(this.coverElementBelow=document.createElement("div"),goog.dom.classes.add(this.coverElementBelow,"lime-cover-below"),goog.dom.insertSiblingBefore(this.coverElementBelow,this.domElement),this.coverElementAbove=document.createElement("div"),goog.dom.classes.add(this.coverElementAbove,"lime-cover-above"),goog.dom.insertSiblingAfter(this.coverElementAbove,this.domElement)),"absolute"!=e.style.position&&(e.style.position="relative"),e.style.overflow="hidden",e==document.body&&(goog.style.installStyles("html,body{margin:0;padding:0;height:100%;}"),(i=document.createElement("meta")).name="viewport",s="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no",/android/i.test(navigator.userAgent)&&(s+=",target-densityDpi=device-dpi"),i.content=s,document.getElementsByTagName("head").item(0).appendChild(i),goog.userAgent.MOBILE&&!goog.global.navigator.standalone&&(r=this,setTimeout(function(){window.scrollTo(0,0),r.invalidateSize_()},100)));var n,e=goog.style.getSize(e);this.setSize(new goog.math.Size(n=t||e.width||lime.Director.DEFAULT_WIDTH,o||e.height*n/e.width||lime.Director.DEFAULT_HEIGHT)),this.setDisplayFPS(goog.DEBUG),this.setPaused(!1),t=new goog.dom.ViewportSizeMonitor,goog.events.listen(t,goog.events.EventType.RESIZE,this.invalidateSize_,!1,this),goog.events.listen(goog.global,"orientationchange",this.invalidateSize_,!1,this),lime.scheduleManager.schedule(this.step_,this),this.eventDispatcher=new lime.events.EventDispatcher(this),goog.events.listen(this,["touchmove","touchstart"],function(e){e.event.preventDefault()},!1,this),goog.events.listen(this,["mouseup","touchend","mouseout","touchcancel"],function(){},!1),this.invalidateSize_(),goog.DEBUG&&goog.events.listen(goog.global,"keyup",this.keyUpHandler_,!1,this)},goog.inherits(lime.Director,lime.Node),lime.Director.FPS_INTERVAL=100,lime.Director.DEFAULT_WIDTH=400,lime.Director.DEFAULT_HEIGHT=400,lime.Director.prototype.isPaused=function(){return this.isPaused_},lime.Director.prototype.setPaused=function(e){return this.isPaused_=e,lime.scheduleManager.changeDirectorActivity(this,!e),this.isPaused_?(this.pauseScene=new(this.pauseClassFactory||lime.helper.PauseScene),this.pushScene(this.pauseScene)):this.pauseScene&&(this.popScene(),delete this.pauseScene),this},lime.Director.prototype.isDisplayFPS=function(){return this.displayFPS_},lime.Director.prototype.setDisplayFPS=function(e){return this.displayFPS_&&!e?goog.dom.removeNode(this.fpsElement_):!this.displayFPS_&&e&&(this.accumDt_=this.frames_=0,this.fpsElement_=goog.dom.createDom("div"),goog.dom.classes.add(this.fpsElement_,"lime-fps"),this.domElement.parentNode.appendChild(this.fpsElement_)),this.displayFPS_=e,this},lime.Director.prototype.getCurrentScene=function(){return this.sceneStack_.length?this.sceneStack_[this.sceneStack_.length-1]:null},lime.Director.prototype.getDirector=function(){return this},lime.Director.prototype.getScene=function(){return null},lime.Director.prototype.step_=function(e){this.isDisplayFPS()&&(this.frames_++,this.accumDt_+=e,this.accumDt_>lime.Director.FPS_INTERVAL&&(this.fps=1e3*this.frames_/this.accumDt_,goog.dom.setTextContent(this.fpsElement_,this.fps.toFixed(2)),this.accumDt_=this.frames_=0)),lime.updateDirtyObjects()},lime.Director.prototype.replaceScene=function(e,t,o){e.setSize(this.getSize().clone());var t=t||lime.transitions.Transition,i=null;this.sceneStack_.length&&(i=this.sceneStack_[this.sceneStack_.length-1]);for(var s=[],r=this.sceneStack_.length;0<=--r;)this.sceneStack_[r].wasRemovedFromTree(),s.push(this.sceneStack_[r].domElement),this.sceneStack_[r].parent_=null;return this.sceneStack_.length=0,this.sceneStack_.push(e),e.domElement.style.display="none",this.domElement.appendChild(e.domElement),e.parent_=this,e.wasAddedToTree(),e=new t(i,e),goog.events.listenOnce(e,"end",function(){for(var e=s.length;0<=--e;)goog.dom.removeNode(s[e]);s.length=0},!1,this),goog.isDef(o)&&e.setDuration(o),e.start(),e},lime.Director.prototype.updateLayout=function(){this.dirty_&=~lime.Dirty.LAYOUT},lime.Director.prototype.pushScene=function(e,t,o){var i;if(e.setSize(this.getSize().clone()),goog.isDef(t)&&this.sceneStack_.length&&(i=new t(i=this.sceneStack_[this.sceneStack_.length-1],e),goog.isDef(o)&&i.setDuration(o),e.domElement.style.display="none"),this.sceneStack_.push(e),this.domElement.appendChild(e.domElement),e.parent_=this,e.wasAddedToTree(),i)return i.start(),i},lime.Director.prototype.popScene=function(){this.sceneStack_.length&&(this.sceneStack_[this.sceneStack_.length-1].wasRemovedFromTree(),this.sceneStack_[this.sceneStack_.length-1].parent_=null,goog.dom.removeNode(this.sceneStack_[this.sceneStack_.length-1].domElement),this.sceneStack_.pop())},lime.Director.prototype.addCover=function(e,t){goog.userAgent.WEBKIT&&goog.userAgent.MOBILE?t?this.coverElementAbove.appendChild(e.domElement):this.coverElementBelow.appendChild(e.domElement):t?goog.dom.insertSiblingAfter(e.domElement,this.domElement):goog.dom.insertSiblingBefore(e.domElement,this.domElement),(e.director=this).coverStack_.push(e)},lime.Director.prototype.removeCover=function(e){goog.array.remove(this.coverStack_,e),goog.dom.removeNode(e.domElement)},lime.Director.prototype.getBounds=function(e){var t=this.getPosition(),o=this.getScale();return new goog.math.Box(e.top-t.y/o.y,e.right-t.x/o.x,e.bottom-t.y/o.y,e.left-t.x/o.x)},lime.Director.prototype.screenToLocal=function(e){return(e=e.clone()).x-=this.domOffset.x+this.position_.x,e.y-=this.domOffset.y+this.position_.y,e.x/=this.scale_.x,e.y/=this.scale_.y,e},lime.Director.prototype.localToScreen=function(e){return(e=e.clone()).x*=this.scale_.x,e.y*=this.scale_.y,e.x+=this.domOffset.x+this.position_.x,e.y+=this.domOffset.y+this.position_.y,e},lime.Director.prototype.update=function(){lime.Node.prototype.update.call(this);for(var e=this.coverStack_.length;0<=--e;)this.coverStack_[e].update()},lime.Director.prototype.invalidateSize_=function(){var e=goog.style.getSize(this.domElement.parentNode);this.domElement.parentNode==document.body&&(window.scrollTo(0,0),goog.isNumber(window.innerHeight)&&(e.height=window.innerHeight));var t=this.getSize().clone().scaleToFit(e);this.setScale(t.width/this.getSize().width),e.aspectRatio()<t.aspectRatio()?this.setPosition(0,(e.height-t.height)/2):this.setPosition((e.width-t.width)/2,0),this.updateDomOffset_(),goog.userAgent.MOBILE&&this.domElement.parentNode==document.body&&(this.overflowStyle_&&goog.style.uninstallStyles(this.overflowStyle_),this.overflowStyle_=goog.style.installStyles("html{height:"+(e.height+120)+"px;overflow:hidden;}"))},lime.Director.prototype.makeMobileWebAppCapable=function(){var e=document.createElement("meta");e.name="apple-mobile-web-app-capable",e.content="yes",document.getElementsByTagName("head").item(0).appendChild(e),(e=document.createElement("meta")).name="apple-mobile-web-app-status-bar-style",e.content="black",document.getElementsByTagName("head").item(0).appendChild(e),e=!1,goog.isDef(localStorage)&&localStorage.setItem("_lime_visited",!0)},lime.Director.prototype.updateDomOffset_=function(){this.domOffset=goog.style.getPageOffset(this.domElement.parentNode)},lime.Director.prototype.keyUpHandler_=function(e){e.altKey&&"d"==String.fromCharCode(e.keyCode).toLowerCase()&&(this.debugModeOn_?(goog.style.uninstallStyles(this.debugModeOn_),this.debugModeOn_=null):this.debugModeOn_=goog.style.installStyles(".lime-scene div,.lime-scene img,.lime-scene canvas{border: 1px solid #c00;}"),e.stopPropagation(),e.preventDefault())},lime.Director.prototype.hitTest=function(e){return e&&e.screenPosition&&(e.position=this.screenToLocal(e.screenPosition)),!0},lime.Node.prototype.setHidden=function(e){return this.hidden_=e,this.setDirty(lime.Dirty.VISIBILITY),this.autoHide_=0,this},goog.provide("lime.transitions.MoveInDown"),goog.provide("lime.transitions.MoveInLeft"),goog.provide("lime.transitions.MoveInRight"),goog.provide("lime.transitions.MoveInUp"),goog.provide("lime.transitions.SlideIn"),goog.provide("lime.transitions.SlideInDown"),goog.provide("lime.transitions.SlideInLeft"),goog.provide("lime.transitions.SlideInRight"),goog.provide("lime.transitions.SlideInUp"),goog.require("goog.math.Coordinate"),goog.require("lime.Sprite"),goog.require("lime.animation.Animation"),goog.require("lime.animation.MoveBy"),lime.animation.MoveBy=function(e,t){lime.animation.Animation.call(this),this.delta_=2==arguments.length?new goog.math.Coordinate(e,t):e},goog.inherits(lime.animation.MoveBy,lime.animation.Animation),lime.animation.MoveBy.prototype.scope="move",lime.animation.MoveBy.prototype.setSpeed=function(e){return this.speed_=e,this.calcDurationFromSpeed_(),this},lime.animation.MoveBy.prototype.makeTargetProp=function(e){return this.useTransitions()&&(e.addTransition(lime.Transition.POSITION,goog.math.Coordinate.sum(e.getPosition(),this.delta_),this.duration_,this.getEasing()),e.setDirty(lime.Dirty.POSITION)),{startpos:e.getPosition()}},lime.animation.MoveBy.prototype.calcDurationFromSpeed_=function(){this.speed_&&(this.setDuration(this.speed_*goog.math.Coordinate.distance(this.delta_,new goog.math.Coordinate(0,0))/100),this.speedCalcDone_=1)},lime.animation.MoveBy.prototype.update=function(e,t){var o;0!=this.status_&&(o=this.getTargetProp(t),t.setPosition(o.startpos.x+this.delta_.x*e,o.startpos.y+this.delta_.y*e))},lime.animation.MoveBy.prototype.clearTransition=function(e){this.useTransitions()&&(e.clearTransition(lime.Transition.POSITION),e.setDirty(lime.Dirty.POSITION))},lime.animation.MoveBy.prototype.reverse=function(){var e=this.delta_.clone();return e.x*=-1,e.y*=-1,new lime.animation.MoveBy(e).cloneParam(this)},goog.require("lime.transitions.Transition"),lime.transitions.SlideIn=function(e,t,o){goog.base(this,e,t),this.mode_=lime.transitions.SlideIn.Mode.LEFT,this.movein_=o||!1},goog.inherits(lime.transitions.SlideIn,lime.transitions.Transition),lime.transitions.SlideIn.Mode={LEFT:0,UP:1,RIGHT:2,DOWN:4},lime.transitions.SlideIn.prototype.start=function(){var e=this.incoming_.getSize(),t=new goog.math.Coordinate(0,0);switch(this.mode_){case lime.transitions.SlideIn.Mode.LEFT:this.incoming_.setPosition(-e.width,0),t.x=e.width;break;case lime.transitions.SlideIn.Mode.UP:this.incoming_.setPosition(0,-e.height),t.y=e.height;break;case lime.transitions.SlideIn.Mode.RIGHT:this.incoming_.setPosition(e.width,0),t.x=-e.width;break;case lime.transitions.SlideIn.Mode.DOWN:this.incoming_.setPosition(0,e.height),t.y=-e.height}this.incoming_.setHidden(!1);var o=new lime.animation.MoveBy(t).setDuration(this.getDuration());this.outgoing_&&!this.movein_&&o.addTarget(this.outgoing_),o.addTarget(this.incoming_),goog.events.listen(o,lime.animation.Event.STOP,this.finish,!1,this),o.play()},lime.transitions.SlideIn.prototype.finish=function(){this.outgoing_&&this.outgoing_.setPosition(0,0),lime.transitions.Transition.prototype.finish.call(this)},lime.transitions.SlideIn.prototype.setMode=function(e){return this.mode_=e,this},lime.transitions.SlideInLeft=lime.transitions.SlideIn,lime.transitions.SlideInUp=function(e,t,o){goog.base(this,e,t,o),this.setMode(lime.transitions.SlideIn.Mode.UP)},goog.inherits(lime.transitions.SlideInUp,lime.transitions.SlideIn),lime.transitions.SlideInRight=function(e,t,o){goog.base(this,e,t,o),this.setMode(lime.transitions.SlideIn.Mode.RIGHT)},goog.inherits(lime.transitions.SlideInRight,lime.transitions.SlideIn),lime.transitions.SlideInDown=function(e,t,o){goog.base(this,e,t,o),this.setMode(lime.transitions.SlideIn.Mode.DOWN)},goog.inherits(lime.transitions.SlideInDown,lime.transitions.SlideIn),lime.transitions.MoveInLeft=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInLeft,lime.transitions.SlideInLeft),lime.transitions.MoveInUp=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInUp,lime.transitions.SlideInUp),lime.transitions.MoveInRight=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInRight,lime.transitions.SlideInRight),lime.transitions.MoveInDown=function(e,t){goog.base(this,e,t,!0)},goog.inherits(lime.transitions.MoveInDown,lime.transitions.SlideInDown);var sceneBefore=1,player={playerLevel:1,barnLevel:1,pastureLevel:1,fields:2,farms:1,tools:50,money:500,currentCrop:0,treesP:0,cropsStored:[{index:0,name:"Tomatoes",stored:0},{index:1,name:"Carrots",stored:0},{index:2,name:"Artichoke",stored:0},{index:3,name:"Eggplant",stored:0},{index:4,name:"Peppers",stored:0},{index:5,name:"Corn",stored:0},{index:6,name:"Hay",stored:0},{index:7,name:"Milk",stored:0},{index:8,name:"Apple",stored:0},{index:9,name:"Pear",stored:0},{index:10,name:"Pork",stored:0},{index:11,name:"Eggs",stored:0},{index:12,name:"Grapes",stored:0},{index:13,name:"Jelly",stored:0},{index:14,name:"Wood",stored:100},{index:15,name:"Iron",stored:200},{index:16,name:"Jars",stored:0},{index:17,name:"Barrels",stored:0},{index:18,name:"Cider",stored:0},{index:19,name:"Grape Juice",stored:0},{index:20,name:"Bottles",stored:0}]};function validCropsStored(){for(i=0;i<21;i++)try{player.cropsStored[i].stored=parseInt(player.cropsStored[i].stored),null!=player.cropsStored[i].stored&&"null"!=player.cropsStored[i].stored||(player.cropsStored[i].stored=0),player.cropsStored[i].stored<0&&(player.cropsStored[i].stored=Math.abs(player.cropsStored[i].stored)),0==Number.isInteger(player.cropsStored[i].stored)&&(player.cropsStored[i].stored=50,console.log("fixing  "+player.cropsStored[i].name))}catch(e){console.log("error with crop number "+i)}localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))}void 0===localStorage.GuiGhostFarms_player&&localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),player=JSON.parse(localStorage.getItem("GuiGhostFarms_player")),void 0===localStorage.GuiGhostFarms_playerItems&&localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems")),setTimeout(function(){validCropsStored()},0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player));var tutSeen=0;void 0===localStorage.GuiGhostFarms_tutSeen&&localStorage.setItem("GuiGhostFarms_tutSeen",0),tutSeen=parseInt(localStorage.GuiGhostFarms_tutSeen),localStorage.setItem("MedFarm_LoadAd",0);var globalModalBlock=0;void 0===player.cropsStored[14]&&(tutCheck=localStorage.getItem("GuiGhostFarms_tutSeen"),1==tutCheck?player.cropsStored.push({name:"Wood",stored:500}):player.cropsStored.push({name:"Wood",stored:200})),void 0===player.cropsStored[14]&&player.cropsStored.push({name:"Wood",stored:200}),void 0===player.cropsStored[15]&&player.cropsStored.push({name:"Iron",stored:200}),void 0===player.cropsStored[16]&&player.cropsStored.push({name:"Jars",stored:0}),void 0===player.cropsStored[17]&&player.cropsStored.push({name:"Barrels",stored:0}),void 0===player.cropsStored[18]&&player.cropsStored.push({name:"Cider",stored:50}),void 0===player.cropsStored[19]&&player.cropsStored.push({name:"Grape Juice",stored:0}),void 0===player.cropsStored[20]&&player.cropsStored.push({name:"Bottles",stored:0}),"Jars"!=parseInt(player.cropsStored[16].name)&&(player.cropsStored[16].name="Jars"),"Barrels"!=parseInt(player.cropsStored[17].name)&&(player.cropsStored[17].name="Barrels"),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),void 0===localStorage.starCash&&(localStorage.starCash=0,starCash=0),starCash=parseInt(localStorage.starCash);var fsClicked=0,orchardTreeBlock=1,vinyardBlocks=1,vinyardBlocks2=1,vinyardHouseLevel=1,orchardBarnLevel=0,barnUpRunningHome=0,barnUpInProgressPasture=0,barnUpInProgressO=0,barnUpInProgressLS=0,barnUpInProgressV=0;void 0===localStorage.MedFarm_orchardBarnLevel&&(localStorage.MedFarm_orchardBarnLevel=0,orchardBarnLevel=0),(orchardBarnLevel=localStorage.getItem("MedFarm_orchardBarnLevel"))<0&&(orchardBarnLevel=0),void 0===localStorage.MedFarm_ciderPlaceOwned&&(localStorage.MedFarm_ciderPlaceOwned=0);var ciderEnabled=localStorage.getItem("MedFarm_ciderPlaceOwned");void 0===localStorage.GuiGhostFarms_vinyardBlocks&&(localStorage.GuiGhostFarms_vinyardBlocks=1),vinyardBlocks=localStorage.getItem.GuiGhostFarms_vinyardBlocks,void 0===localStorage.GuiGhostFarms_vinyardBlocks2&&(localStorage.GuiGhostFarms_vinyardBlocks2=1),vinyardBlocks2=localStorage.getItem.GuiGhostFarms_vinyardBlocks2,void 0===localStorage.GuiGhostFarms_vinyardHouseLevel&&(localStorage.GuiGhostFarms_vinyardHouseLevel=1),vinyardHouseLevel=parseInt(localStorage.getItem("GuiGhostFarms_vinyardHouseLevel")),void 0===localStorage.GuiGhostFarms_orchardTreeBlock&&(localStorage.GuiGhostFarms_orchardTreeBlock=1),orchardTreeBlock=parseInt(localStorage.GuiGhostFarms_orchardTreeBlock);var coopLevel=1;void 0===localStorage.GuiGhostFarms_coopLevel&&(localStorage.GuiGhostFarms_coopLevel=1),coopLevel=parseInt(localStorage.GuiGhostFarms_coopLevel);var dayCount=1;void 0===localStorage.GuiGhostFarms_dayCount&&(localStorage.GuiGhostFarms_dayCount=1),dayCount=parseInt(localStorage.GuiGhostFarms_dayCount);var yearCount=1;void 0===localStorage.GuiGhostFarms_yearCount&&(localStorage.GuiGhostFarms_yearCount=1),yearCount=parseInt(localStorage.GuiGhostFarms_yearCount);var toolsEver=0;void 0===localStorage.GuiGhostFarms_toolsEver&&(localStorage.GuiGhostFarms_toolsEver=0),toolsEver=parseInt(localStorage.GuiGhostFarms_toolsEver);var pickedEver=0;void 0===localStorage.GuiGhostFarms_pickedEver&&(localStorage.GuiGhostFarms_pickedEver=0),pickedEver=parseInt(localStorage.GuiGhostFarms_pickedEver);var moneyEver=0;void 0===localStorage.GuiGhostFarms_moneyEver&&(localStorage.GuiGhostFarms_moneyEver=0),moneyEver=parseInt(localStorage.GuiGhostFarms_moneyEver);var boughtStarCash=!1;void 0===localStorage.GuiGhostFarms_boughtStarCash&&(localStorage.GuiGhostFarms_boughtStarCash=!1),boughtStarCash=parseInt(localStorage.GuiGhostFarms_boughtStarCash);var onlyOnceUpdateNotif=0;void 0===localStorage.MedFarms_onlyOnceUpdateNotif&&localStorage.setItem("MedFarms_onlyOnceUpdateNotif",0),onlyOnceUpdateNotif=localStorage.getItem("MedFarms_onlyOnceUpdateNotif");var isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks"),isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2"),compassVisible=!1,playerMuted=0,warningSeen=0;function openCodes(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(myRewards=JSON.parse(this.responseText))},e.open("GET","json_code_array.txt",!0),e.send()}function getLocalStorage(){return JSON.stringify(localStorage)}function writeLocalStorage(t){Object.keys(t).forEach(function(e){localStorage.setItem(e,t[e])})}farming.start=function(){var g={width:310,height:540,tile_size:30,num_tiles_x:4,num_tiles_y:4,landLayer_w:320,landLayer_h:388,controlsLayer_w:320,controlsLayer_h:70,costPlowing:0,shop_margin_x:50,shop_margin_y:38},o={money:500,currentCrop:0};o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),g.crops=[{name:"Tomatoes  ",cost:4,revenue:8,time_to_ripe:30,time_to_death:360,image:"tomato.png",harvest:"tomato2.png",grow1:"tomatoGrow1.png",grow2:"tomatoGrow2.png",grow3:"tomatoGrow3.png",stored:0,withered:"tomatoWithered.png"},{name:"Carrots    ",cost:6,revenue:12,time_to_ripe:35,time_to_death:400,image:"carrots.png",harvest:"carrots2.png",grow1:"carrotGrow1.png",grow2:"carrotGrow2.png",grow3:"carrotGrow3.png",stored:0,withered:"carrotsWithered.png"},{name:"Artichoke  ",cost:8,revenue:16,time_to_ripe:42,time_to_death:420,image:"artichoke.png",harvest:"artichoke2.png",grow1:"artiGrow1.png",grow2:"artiGrow2.png",grow3:"artiGrow3.png",stored:0,withered:"artichokeWithered.png"},{name:"Eggplant ",cost:11,revenue:22,time_to_ripe:50,time_to_death:440,image:"eggplant.png",harvest:"eggplant2.png",grow1:"eggplantGrow1.png",grow2:"eggplantGrow2.png",grow3:"eggplantGrow3.png",stored:0,withered:"eggplantWithered.png"},{name:"Peppers  ",cost:13,revenue:24,time_to_ripe:55,time_to_death:460,image:"peppers.png",harvest:"peppers2.png",grow1:"pepperGrow1.png",grow2:"pepperGrow2.png",grow3:"pepperGrow3.png",stored:0,withered:"peppersWithered.png"},{name:"Corn  ",cost:15,revenue:28,time_to_ripe:60,time_to_death:500,image:"corn.png",harvest:"corn2.png",grow1:"cornGrow1.png",grow2:"cornGrow2.png",grow3:"cornGrow3.png",stored:0,withered:"cornWithered.png"},{name:"Hay  ",cost:5,revenue:10,time_to_ripe:35,time_to_death:550,image:"hay.png",harvest:"hayCartFull.png",grow1:"hayGrow1.png",grow2:"hayGrow2.png",grow3:"hayGrow3.png",stored:0,withered:"hayWithered.png"},{name:"Milk  ",cost:12,revenue:22,time_to_ripe:65,time_to_death:22280,image:"Pasture/bucket.png",harvest:"Pasture/bucket.png",grow1:"Pasture/bucket.png",grow2:"Pasture/bucket.png",grow3:"Pasture/bucket.png",stored:0,withered:"Pasture/bucket.png"},{name:"Apple",cost:10,revenue:25,time_to_ripe:80,time_to_death:450,image:"Orchard/ready_Apples.png",harvest:"apple.png",grow1:"Orchard/growing2_trees.png",grow2:"Orchard/growing3_trees.png",grow3:"Orchard/growing3_trees.png",stored:0,withered:"Orchard/wither_treesApple.png"},{name:"Pear",cost:15,revenue:30,time_to_ripe:90,time_to_death:450,image:"Orchard/ready_treesPear.png",harvest:"pear.png",grow1:"Orchard/growing22_trees.png",grow2:"Orchard/growing4_trees.png",grow3:"Orchard/growing4_trees.png",stored:0,withered:"Orchard/wither_treesPear.png"},{name:"Pork",cost:20,revenue:35,time_to_ripe:70,time_to_death:14e3,image:"livestockPens/hams.png",harvest:"livestockPens/hams.png",grow1:"livestockPens/hams.png",grow2:"livestockPens/hams.png",grow3:"livestockPens/hams.png",stored:0,withered:"tomatoWithered.png"},{name:"Eggs",cost:5,revenue:15,time_to_ripe:70,time_to_death:14e3,image:"livestockPens/eggs.png",harvest:"livestockPens/eggs.png",grow1:"livestockPens/eggs.png",grow2:"livestockPens/eggs.png",grow3:"livestockPens/eggs.png",stored:0,withered:"tomatoWithered.png"},{name:"Grapes",cost:15,revenue:25,time_to_ripe:60,time_to_death:450,image:"vinyard/grapes_ready.png",harvest:"vinyard/grapes2.png",grow1:"vinyard/grapes_Grow1.png",grow2:"vinyard/grapes_Grow2.png",grow3:"vinyard/grapes_Grow3.png",stored:0,withered:"vinyard/grapes_withered.png"},{name:"Jelly",cost:30,revenue:35,time_to_ripe:75,time_to_death:14e3,image:"vinyard/jelly.png",harvest:"vinyard/jelly.png",grow1:"vinyard/jelly.png",grow2:"vinyard/jelly.png",stored:0},{name:"Wood",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/logs.png",harvest:"items/logs.png",grow1:"items/logs.png",grow2:"items/logs.png",stored:0},{name:"Iron",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/ironBar.png",harvest:"items/ironBar.png",grow1:"items/ironBar.png",grow2:"items/ironBar.png",stored:0},{name:"Jars",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/jars.png",harvest:"items/jars.png",grow1:"items/jars.png",grow2:"items/jars.png",stored:0},{name:"Barrels",cost:200,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/barrels.png",harvest:"items/barrels.png",grow1:"items/barrels.png",grow2:"items/barrels.png",stored:0},{name:"Cider",cost:0,revenue:40,time_to_ripe:75,time_to_death:14e3,image:"items/ciderBarrel.png",harvest:"items/ciderBarrel.png",grow1:"items/ciderBarrel.png",grow2:"items/ciderBarrel.png",stored:0},{name:"Grape Juice",cost:0,revenue:40,time_to_ripe:75,time_to_death:14e3,image:"items/planks.png",harvest:"items/planks.png",grow1:"items/planks.png",grow2:"items/planks.png",stored:0},{name:"Bottles",cost:200,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/bottles.png",harvest:"items/bottles.png",grow1:"items/bottles.png",grow2:"items/bottles.png",stored:0},{name:"Planks",cost:100,revenue:0,time_to_ripe:75,time_to_death:14e3,image:"items/planks.png",harvest:"items/planks.png",grow1:"items/planks.png",grow2:"items/planks.png",stored:0}],g.barnyard=[{name:"yard",image:"grass.png"},{name:"road",image:"vertRoad.png"},{name:"sacks",image:"sacks.png"},{name:"market",image:"marketCoin2.png"},{name:"vertFence",image:"vertFence.png"},{name:"horizFence",image:"horizFence.png"},{name:"shelter1",image:"shelter1.png"},{name:"shelter2",image:"shelter2.png"},{name:"crate1",image:"eggplantCrate.png"},{name:"crate2",image:"cornCrate.png"},{name:"well",image:"well2.png"},{name:"anvil",image:"anvil1.png"},{name:"anvil2",image:"anvil2.png"},{name:"trees1",image:"leftTrees.png"},{name:"trees2",image:"rightTrees.png"},{name:"horizRoad",image:"horizRoad.png"},{name:"toolTable",image:"toolTable.png"},{name:"forge",image:"forge2.png"},{name:"gateFence",image:"gateFence.png"},{name:"marketArrow",image:"marketCoinArrow2.png"}],g.barnlevelImg=[{name:"Basic Shed",image:imgArray6[0].src},{name:"Small Barn",image:imgArray6[1].src},{name:"Large Barn",image:imgArray6[2].src},{name:"XLarge Barn",image:imgArray6[3].src},{name:"Double Silo Barn",image:imgArray6[4].src},{name:"Pasture",image:"pasture.png"}],g.PastureUpgrades=[{name:"Feed Stall",image:"FeedBinsLeft.png"},{name:"Feed Stall 2",image:"FeedBinsRight.png"}],g.pasture=[{name:"pond1",image:"water.png"},{name:"dairyBarnP",image:"dairyBarn.png"},{name:"vertBridge",image:"bridgeVert.png"},{name:"pTree1",image:"pTree1.png"},{name:"pTree2",image:"pTree2.png"},{name:"dirtRoad",image:"dirt.png"},{name:"cowEatR4",image:"cow_eatR4.png"},{name:"cowForward1",image:"cow_eatF3.png"},{name:"rocks1",image:"rocks.png"},{name:"treeBlockP",image:"treeBlockP.png"},{name:"cowEatR1",image:"cow_eatR1.png"},{name:"cowEatR2",image:"cow_eatR2.png"},{name:"cowEatR4",image:"cow_eatR4.png"},{name:"cowWalkLeft1",image:"cowLeft1.png"},{name:"cowWalkLeft2",image:"cowLeft2.png"},{name:"cowWalkLeft3",image:"cowLeft3.png"},{name:"cowWalkLeft4",image:"cowLeft4.png"},{name:"cowRight1",image:"cowRight1.png"},{name:"cowRight2",image:"cowRight2.png"}],g.orchard=[{name:"waterfallMtn",image:"Orchard/OrchardBack4.png"},{name:"shack",image:"FeedBinsRight.png"}],g.waterfallImg=[{name:"waterfall1",image:imgArrayWaterfall[0]},{name:"waterfall2",image:imgArrayWaterfall[1]},{name:"waterfall3",image:imgArrayWaterfall[2]},{name:"waterfall4",image:imgArrayWaterfall[3]},{name:"movingWater1",image:imgArrayWaterfall[4]},{name:"movingWater2",image:imgArrayWaterfall[5]}],g.achievements={0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1,16:!1},void 0===localStorage.GuiGhostFarms_achievements&&localStorage.setItem("GuiGhostFarms_achievements",JSON.stringify(g.achievements)),g.achievements=JSON.parse(localStorage.getItem("GuiGhostFarms_achievements")),g.achieveText=[{index:0,title:"Harvester I",sub:"Harvested 500 crops",reward:5},{index:1,title:"Harvester II",sub:"Harvested 5000 crops",reward:10},{index:2,title:"Expansion",sub:"Purchased another acre",reward:5},{index:3,title:"Carpenter",sub:"Upgraded Barn to Max",reward:10},{index:4,title:"Blacksmith I",sub:"Made 500 Tools",reward:5},{index:5,title:"Blacksmith II",sub:"Made 5000 Tools",reward:10},{index:6,title:"Patience",sub:"Played for 1 farm year",reward:5},{index:7,title:"Acreage",sub:"Own all 5 acres",reward:10},{index:8,title:"Jelly Making",sub:"Unlock Jelly production",reward:10},{index:9,title:"Lumberjack",sub:"Collect 2500 Wood",reward:10},{index:10,title:"Breakfast Time",sub:"100 Ham and 100 Eggs",reward:5},{index:11,title:"Balanced Diet",sub:"10 of every crop",reward:10},{index:12,title:"Milk Master",sub:"Upgrade Dairy to max",reward:5},{index:13,title:"Merchant",sub:"Earn $5000 at Market",reward:5},{index:14,title:"Crossover",sub:"Buy $ with StarCash",reward:10},{index:15,title:"Back for More",sub:"Play 10 farm years",reward:25}],g.sceneBefore=1;var t=[{name:"Home",owned:0,cost:0,text:"Home Sweet Home"},{name:"Dairy",owned:0,cost:2500,text:"MOOOOOO.....Got Milk?"},{name:"Orchard",owned:0,cost:5e3,text:"Apples and Pears"},{name:"Vineyard",owned:0,cost:7500,text:"Grapes & Jelly - YUM!"},{name:"StockPens",owned:0,cost:1e4,text:"Livestock Pens"}];void 0===localStorage.GuiGhostFarms_acres&&localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(t)),t=JSON.parse(localStorage.getItem("GuiGhostFarms_acres")),g.sceneBefore=1,dt=1e4,lime.scheduleManager.scheduleWithDelay(function(){1<=player.cropsStored[15].stored?(player.cropsStored[15].stored=player.cropsStored[15].stored-1,nd.setText(player.cropsStored[15].stored),player.tools=player.tools+2+parseInt(player.barnLevel),toolsEver+=2+parseInt(player.barnLevel),G.setText("+"+(2+player.barnLevel)),localStorage.GuiGhostFarms_toolsEver=toolsEver,setTimeout(function(){g.updateTools2()},0)):xe.setHidden(!1)},this,dt);var i=new lime.audio.Audio("audio/farming2.mp3"),s=new lime.audio.Audio("audio/blacksmith2.mp3"),e=new lime.audio.Audio("audio/cow1.mp3"),r=new lime.audio.Audio("audio/waterfallSound.mp3"),n=new lime.audio.Audio("audio/nice.mp3"),a=new lime.audio.Audio("audio/chickens.mp3"),l=new lime.audio.Audio("audio/snort.mp3"),d=new lime.audio.Audio("audio/ofarm.mp3"),m=new lime.audio.Audio("audio/pig3.mp3"),c=new lime.audio.Audio("audio/VannahLaugh.mp3"),p=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,438).setSize(320,25).setFill("images/"+g.barnyard[15].image),h=new lime.Director(document.body,g.width,g.height);h.makeMobileWebAppCapable(),h.setDisplayFPS(!1);var u=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),y=(new lime.Layer).setAnchorPoint(0,0),S=(new lime.Layer).setAnchorPoint(0,0);u.appendChild(y),u.appendChild(S);var f=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(g.controlsLayer_w,g.controlsLayer_h-22).setFill("images/UI/greenButtonLg.png");S.appendChild(f);var A=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(245,24);S.appendChild(A);var v=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);S.appendChild(v);var F=(new lime.Sprite).setPosition(g.controlsLayer_w/2-5,23).setSize(38,38).setFill(imgArrayItems[25].src);S.appendChild(F);goog.events.listen(F,["mousedown","touchstart"],function(){g.sceneBefore=1,Xd(),ud.setText(starCash),setTimeout(function(){validCropsStored()},0),h.replaceScene(Fl,lime.transitions.SlideInUp),sceneActive="Inventory",count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)});var w=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,3).setSize(35,35).setFill(imgArray[30]),P=(new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(65,24).setFontSize(18);S.appendChild(w),S.appendChild(P),g.updateStored=function(){count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)};var C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,g.height-g.controlsLayer_h-5).setSize(g.controlsLayer_w,g.controlsLayer_h+5).setFill("images/UI/blackButton.png");S.appendChild(C);var T=(new lime.Sprite).setAnchorPoint(0,0).setPosition(14,467).setSize(35,33).setFill("images/UI/gearButton.png");S.appendChild(T);var _=(new lime.Sprite).setAnchorPoint(0,0).setPosition(14,502).setSize(35,33).setFill(imgArray[15]);S.appendChild(_);var I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(52,467).setSize(35,33).setFill("images/UI/trophyBtn.png");S.appendChild(I);var b=(new lime.Sprite).setAnchorPoint(0,0).setPosition(52,502).setSize(35,33).setFill("images/UI/starButton.png");S.appendChild(b);var H=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,449).setSize(35,35).setFill("images/UI/compass22.png");S.appendChild(H);var E=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill("images/UI/compass3.png");S.appendChild(E);var z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[48]);E.appendChild(z);var M=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[49]);E.appendChild(M);var L=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[46]);E.appendChild(L);var B=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);E.appendChild(B);var k=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);E.appendChild(k);var O=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);function R(e){0==e?compassVisible=!1:(compassVisible=!0,globalModalBlock=1,ct.setHidden(!1),dr.setHidden(!1),xa.setHidden(!1),kS.setHidden(!1)),0==t[1].owned?(k.setFill(imgArray[57]),fa.setFill(imgArray[57]),Dr.setFill(imgArray[57]),XS.setFill(imgArray[57]),Ku.setFill(imgArray[57])):1==t[1].owned&&(k.setFill(imgArray[47]),fa.setFill(imgArray[47]),Dr.setFill(imgArray[47]),XS.setFill(imgArray[47]),Ku.setFill(imgArray[47])),0==t[2].owned?(z.setFill(imgArray[57]),ha.setFill(imgArray[57]),Br.setFill(imgArray[57]),qS.setFill(imgArray[57]),Ju.setFill(imgArray[57])):1==t[2].owned&&(z.setFill(imgArray[48]),ha.setFill(imgArray[48]),Br.setFill(imgArray[48]),qS.setFill(imgArray[48]),Ju.setFill(imgArray[48])),0==t[3].owned?(L.setFill(imgArray[57]),ya.setFill(imgArray[57]),Or.setFill(imgArray[57]),KS.setFill(imgArray[57]),qu.setFill(imgArray[57])):1==t[3].owned&&(L.setFill(imgArray[46]),ya.setFill(imgArray[46]),Or.setFill(imgArray[46]),KS.setFill(imgArray[46]),qu.setFill(imgArray[46])),0==t[4].owned?(M.setFill(imgArray[57]),ua.setFill(imgArray[57]),kr.setFill(imgArray[57]),jS.setFill(imgArray[57]),Yu.setFill(imgArray[57])):1==t[4].owned&&(M.setFill(imgArray[49]),ua.setFill(imgArray[49]),kr.setFill(imgArray[49]),jS.setFill(imgArray[49]),Yu.setFill(imgArray[49])),E.setHidden(!1),pa.setHidden(!1),Lr.setHidden(!1),YS.setHidden(!1),Vu.setHidden(!1),My.setHidden(!0),Gy.setHidden(!0)}function D(){globalModalBlock=0,ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0),Ru.setHidden(!0),pa.setHidden(!0),E.setHidden(!0),Lr.setHidden(!0),YS.setHidden(!0),Vu.setHidden(!0),compassVisible=!1,isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks"),isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2"),isblocked1<=1&&(xy.setHidden(!1),Ey.setHidden(!1),My.setHidden(!1)),isblocked2<=1&&(ky.setHidden(!1),Oy.setHidden(!1),Gy.setHidden(!1))}E.appendChild(O),E.setHidden(!0),goog.events.listen(H,["mousedown","touchstart"],function(){0==globalModalBlock&&(R(),ct.setHidden(!1))}),goog.events.listen(O,["mousedown","touchstart"],function(){D()}),goog.events.listen(B,["mousedown","touchstart"],function(){D()}),goog.events.listen(k,["mousedown","touchstart"],function(){1==t[1].owned&&compassVisible&&(g.sceneBefore=2,D(),(5<(homeCrop=parseInt(o.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),e.play(),Zs=localStorage.getItem("MedFarms_selectedHomeCrop"),o.currentCrop=6,globalModalBlock=0,ct.setHidden(!0),h.replaceScene(Ii,lime.transitions.SlideInLeft),sceneActive="Pasture",setTimeout(function(){validCropsStored(),kP()},0))}),goog.events.listen(z,["mousedown","touchstart"],function(){1==t[2].owned&&compassVisible&&(g.sceneBefore=3,r.play(),D(),(5<(homeCrop=parseInt(o.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),Zs=localStorage.getItem("MedFarms_selectedHomeCrop"),o.currentCrop=8,h.replaceScene(Jr,lime.transitions.SlideInRight),setTimeout(function(){validCropsStored()},0),sceneActive="Orchard",globalModalBlock=0,ct.setHidden(!0))}),goog.events.listen(L,["mousedown","touchstart"],function(){1==t[3].owned&&compassVisible&&(D(),g.sceneBefore=4,h.replaceScene(ny,lime.transitions.SlideInLeft),sceneActive="Vineyard",(5<(homeCrop=parseInt(o.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")),localStorage.setItem("MedFarms_selectedHomeCrop",homeCrop),Zs=localStorage.getItem("MedFarms_selectedHomeCrop"),o.currentCrop=12,setTimeout(function(){validCropsStored(),kP()},0),globalModalBlock=0,ct.setHidden(!0))}),goog.events.listen(M,["mousedown","touchstart"],function(){1==t[4].owned&&compassVisible&&((5<(homeCrop=parseInt(o.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homecrop=localStorage.getItem("MedFarms_selectedHomeCrop")),localStorage.setItem("MedFarms_selectedHomeCrop",homeCrop),Zs=localStorage.getItem("MedFarms_selectedHomeCrop"),D(),g.sceneBefore=5,h.replaceScene(Rh,lime.transitions.SlideInRight),setTimeout(function(){validCropsStored(),kP()},0),sceneActive="LS",r.stop(),a.play(),l.play(),lime.scheduleManager.callAfter(function(){d.play()},this,5e3),globalModalBlock=0,ct.setHidden(!0))}),goog.events.listen(_,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),i.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),BP(2)):(lime.audio.setMute(!0),BP(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),document.addEventListener("visibilitychange",function(){lime.audio.getMute(),document.hidden?(lime.audio.setMute(!0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_dayCount",dayCount),localStorage.setItem("GuiGhostFarms_yearCount",yearCount),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",parseInt(moneyEver))):0==playerMuted&&(lime.audio.setMute(!1),i.play(!0))},!1),goog.events.listen(I,["mousedown","touchstart"],function(){0==globalModalBlock&&LP(sceneBefore=1)}),goog.events.listen(b,["mousedown","touchstart"],function(){0==globalModalBlock&&RP()}),g.updateMoney=function(){player.money<0&&(player.money=Math.abs(player.money)),o.money=player.money,A.setText(player.money),Ni.setText(player.money),mc.setText(player.money),Qm.setText(player.money),Wh.setText(player.money),oa.setText(player.money),my.setText(player.money),Av.setText(player.money),Qp.setText(player.money),Ml.setText(player.money),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_dayCount",dayCount),localStorage.setItem("GuiGhostFarms_yearCount",yearCount),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",parseInt(moneyEver)),player.money<g.crops[o.currentCrop].cost&&0==warningSeen&&(ct.setHidden(!1),dr.setHidden(!1),xa.setHidden(!1),Ru.setHidden(!1),kS.setHidden(!1),Ht.setHidden(!1),zt.setHidden(!1),Et.setHidden(!1),tl.setHidden(!1),cr.setHidden(!1),ol.setHidden(!1),gr.setHidden(!1),il.setHidden(!1),mr.setHidden(!1),OS.setHidden(!1),DS.setHidden(!1),RS.setHidden(!1),globalModalBlock=1)};var N=0;setInterval(function(){setTimeout(function(){g.updateDates()},0)},3e3),g.updateDates=function(){dayCount+=1,1<=daysTillHerald&&(daysTillHerald=parseInt(daysTillHerald)-1),daysTillHerald<=0&&(N=t[1].owned+t[2].owned+t[3].owned+t[4].owned,daysTillHerald=4<=N?(Ec.setHidden(!1),0):(Ec.setHidden(!0),30)),365<dayCount&&(yearCount+=1,dayCount=1,Gl.setText("Year "+yearCount)),Nl.setText("Day "+dayCount)},g.updateTools=function(){P.setText(player.tools),Wi.setText(player.tools),na.setText(player.tools),ku.setText(player.tools),uy.setText(player.tools),countTools.setText(player.tools),fv.setText(player.tools),xl.setText(player.tools)},g.updateTools2=function(){P.setText(player.tools),P.setFontColor("#4dff4d"),w.setSize(35,35),Ui.setSize(35,35),ra.setSize(35,35),Wi.setText(player.tools),Wi.setFontColor("#4dff4d"),na.setText(player.tools),na.setFontColor("#4dff4d"),ku.setText(player.tools),ku.setFontColor("#4dff4d"),uy.setText(player.tools),uy.setFontColor("#4dff4d"),countTools.setText(player.tools),fv.setText(player.tools),xl.setText(player.tools),G.setHidden(!1),U.setHidden(!1),lime.scheduleManager.callAfter(function(){G.setPosition(35,85),G.setOpacity(.7),w.setSize(20,20),Ui.setSize(20,20),ra.setSize(20,20),Bu.setSize(20,20),hy.setSize(20,20)},this,250),lime.scheduleManager.callAfter(function(){G.setPosition(35,80),G.setOpacity(.8),w.setSize(25,25),Ui.setSize(25,25),ra.setSize(25,25),Bu.setSize(25,25),hy.setSize(25,25)},this,500),lime.scheduleManager.callAfter(function(){P.setFontColor("#E8FC08"),Wi.setFontColor("#E8FC08"),na.setFontColor("#E8FC08"),uy.setFontColor("#E8FC08"),ku.setFontColor("#E8FC08"),G.setFontColor("#E8FC08"),G.setPosition(35,75),G.setOpacity(.9),w.setSize(35,35),Ui.setSize(35,35),ra.setSize(35,35),Bu.setSize(35,35),hy.setSize(35,35)},this,750),lime.scheduleManager.callAfter(function(){G.setPosition(35,70),G.setOpacity(.8)},this,1e3),lime.scheduleManager.callAfter(function(){G.setPosition(35,65),G.setOpacity(.7)},this,1250),lime.scheduleManager.callAfter(function(){G.setHidden(!0),G.setPosition(35,90),G.setOpacity(.2)},this,1500)};var G=(new lime.Label).setText("+"+(2+player.barnLevel)).setFontWeight(600).setFontColor("#E8FC08").setPosition(35,90).setOpacity(.6).setSize(30,30);S.appendChild(G);var U=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-12,-7).setSize(30,30).setFill(imgArray[30]).setOpacity(.9);G.appendChild(U),G.setHidden(!0);var W=(new lime.GlossyButton).setColor("#100F13").setText("").setPosition(g.controlsLayer_w/4-15,g.height/2).setSize(28,28).setOpacity(.9),V=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-15,-15).setFill("images/items/shield1.png").setSize(30,30);S.appendChild(W),W.appendChild(V),W.setHidden(!0);var J=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w/2-15,g.height/2).setFill("images/"+g.crops[0].harvest).setSize(26,21);S.appendChild(J),J.setHidden(!0),g.updateHarvest=function(e,t,o){J.setPosition(e,t),J.setFill("images/"+g.crops[o].harvest),J.setHidden(!1),rr.setPosition(e,t),rr.setHidden(!1),Ca.setPosition(e,t),Ca.setFill("images/"+g.crops[o].harvest),Ca.setHidden(!1),bS.setPosition(e,t),bS.setFill("images/"+g.crops[12].harvest),bS.setHidden(!1);var i=(e-130)/7,s=(t-80)/7,r=e-i,n=t-s;for(S=0;S<7;S++)lime.scheduleManager.callAfter(function(){J.setPosition(r,n),rr.setPosition(r,n),Ca.setPosition(r,n),bS.setPosition(r,n),r-=i,n-=s},this,70*S+1),4<S&&(fadeAdj="0."+(12-S),J.setOpacity(fadeAdj),rr.setOpacity(fadeAdj),Ca.setOpacity(fadeAdj),bS.setOpacity(fadeAdj)),lime.scheduleManager.callAfter(function(){J.setOpacity(1),J.setHidden(!0),rr.setOpacity(1),rr.setHidden(!0),Ca.setOpacity(1),Ca.setHidden(!0),bS.setOpacity(1),bS.setHidden(!0)},this,800)},g.displayCost=function(e,t,o){To.setHidden(!1),To.setPosition(e+35,t),To.setText("-"+o),lime.scheduleManager.callAfter(function(){To.setHidden(!0)},this,750),SS.setHidden(!1),SS.setPosition(e+35,t),SS.setText("-$"+o),lime.scheduleManager.callAfter(function(){SS.setHidden(!0)},this,750),er.setHidden(!1),er.setPosition(e+35,t),er.setText("-$"+o),lime.scheduleManager.callAfter(function(){er.setHidden(!0)},this,750),Gn.setHidden(!1),Gn.setPosition(e+35,t),Gn.setText("-$"+o),lime.scheduleManager.callAfter(function(){Gn.setHidden(!0)},this,750)},g.displayCollectible=function(e,t,o,i){var s="";if(0==collectibleOnScreen){if(0==i){for(var r=0;r<collectItems.digUpSells.length;r++)collectItems.digUpSells[r].name==o&&(s=collectItems.digUpSells[r].src);V.setFill(s)}else if(1==i){for(var n=0;n<collectItems.digUpCollect.length;n++)collectItems.digUpCollect[n].name==o&&(s=collectItems.digUpCollect[n].src);V.setFill(s)}W.setHidden(!1),W.setPosition(e+20,t),collectibleOnScreen=!0,lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,200),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,400),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,600),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,800),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,1e3),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,1200),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t-10)},this,1400),lime.scheduleManager.callAfter(function(){W.setPosition(e+20,t)},this,1600)}},goog.events.listen(W,["mousedown","touchstart"],function(){W.setHidden(!0),collectibleOnScreen=!1,ct.setHidden(!1),globalModalBlock=1,document.getElementById("foundIt").classList.remove("blazingStar"),document.getElementById("foundIt").style.display="block",document.getElementById("foundIt").classList.add("blazingStar"),document.getElementById("foundItSubTitle").innerHTML=collectItems.digUpSells[itemCarryOver].name,document.getElementById("foundItImage").style.backgroundImage="url('"+collectItems.digUpSells[itemCarryOver].src+"')"});var Y=o.currentCrop,q=(new lime.Label).setText("Plant "+g.crops[Y].name).setFontColor("#E8FC08").setFontSize(12).setFontFamily("Comic Sans MS").setPosition(155,g.height-g.controlsLayer_h/2-12);S.appendChild(q);var j=(new lime.Sprite).setAnchorPoint(0,0).setPosition(133,g.height-g.controlsLayer_h/2-5).setFill("images/"+g.crops[Y].harvest).setSize(1.2*g.tile_size,1.2*g.tile_size);S.appendChild(j);var K=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,g.height-g.controlsLayer_h).setSize(90,61).setFill("images/"+g.barnyard[3].image),$=0;setInterval(function(){1==(showHighlight2=localStorage.getItem("showHighLight"))?(1==++$&&K.setFill("images/"+g.barnyard[3].image),2==$&&(K.setFill("images/marketCoin2.png"),$=0)):K.setFill("images/"+g.barnyard[3].image)},500);S.appendChild(K),goog.events.listen(K,["mousedown","touchstart"],function(){g.sceneBefore=1,townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),setTimeout(function(){validCropsStored()},0),sceneActive="Market",4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)&&daysTillHerald<=0?Ec.setHidden(!1):Ec.setHidden(!0),ap()});var X=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,45).setSize(g.controlsLayer_w,g.landLayer_h+35).setFill("images/"+g.barnyard[0].image);y.appendChild(X);var Q=(new lime.Sprite).setAnchorPoint(0,0).setPosition(144,60).setSize(21,440).setFill("images/"+g.barnyard[1].image);y.appendChild(Q);var Z=(new lime.Sprite).setAnchorPoint(0,0).setPosition(3,93).setSize(300,75).setFill("images/"+g.barnyard[10].image);y.appendChild(Z);var ee=(new lime.Sprite).setAnchorPoint(0,0).setPosition(75,65).setSize(40,22).setFill("images/"+g.barnyard[2].image);y.appendChild(ee);var te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(190,72).setSize(40,22).setFill("images/"+g.barnyard[2].image);y.appendChild(te);var oe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(197,74).setSize(40,22).setFill("images/"+g.barnyard[2].image);y.appendChild(oe);var ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,33).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(ie);var se=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,33).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(se);var re=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,203).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(re);var ne=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,203).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(ne);var ae=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,123).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(ae);var le=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,123).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(le);var de=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,293).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(de);var ge=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,293).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(ge);var me=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,383).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(me);var ce=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,383).setSize(8,90).setFill("images/"+g.barnyard[4].image);y.appendChild(ce);var pe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,35).setSize(315,30).setFill("images/"+g.barnyard[5].image);y.appendChild(pe);var he=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,410).setSize(315,30).setFill("images/"+g.barnyard[5].image);y.appendChild(he);var ue=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-13).setSize(40,40).setFill(imgArray[47]);p.appendChild(ue);var ye=(new lime.Sprite).setAnchorPoint(0,0).setPosition(272,-13).setSize(40,40).setFill(imgArray[48]);p.appendChild(ye),y.appendChild(p);var Se=(new lime.Sprite).setAnchorPoint(0,0).setPosition(3,425).setSize(40,40).setFill(imgArray[47]);y.appendChild(Se);var fe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(268,425).setSize(40,40).setFill(imgArray[48]);y.appendChild(fe);var Ae=(new lime.Sprite).setAnchorPoint(0,0).setPosition(134,255).setSize(40,40).setFill("images/UI/changeSeeds2.png");y.appendChild(Ae);var ve=(new lime.GlossyButton).setColor("#663300").setText("").setPosition(134,200).setSize(40,40).setOpacity(.8),ve=(new lime.Sprite).setAnchorPoint(0,0).setPosition(134,200).setSize(40,40).setFill("images/UI/adBoostBtn.png");y.appendChild(ve),goog.events.listen(ve,["mousedown","touchstart"],function(){At.setHidden(!1),ct.setHidden(!1),vt.setText(starCash)});var Fe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(85,2).setSize(132,155).setFill(imgArray6[player.barnLevel-1]);y.appendChild(Fe);var we=(new lime.Sprite).setAnchorPoint(0,0).setPosition(238,23).setSize(60,92).setFill("images/house1.png");y.appendChild(we);var Pe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(251,115).setSize(30,30).setFill("images/UI/houseButton.png");y.appendChild(Pe);var Ce=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,32).setSize(86,120).setFill("images/"+g.barnyard[17].image);y.appendChild(Ce);var Te=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,85).setSize(20,20).setFill("images/"+g.barnyard[12].image);y.appendChild(Te);var _e=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,118).setSize(16,18).setFill("images/"+g.barnyard[16].image);y.appendChild(_e);var Ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,75).setSize(26,26).setFill("images/blacksmith2.png");y.appendChild(Ie);var be=0,xe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,-30).setSize(30,30).setFill(imgArray[19].src);Ie.appendChild(xe),xe.setHidden(!0),goog.events.listen(xe,["mousedown","touchstart"],function(){pt.setHidden(!1)}),1==houseUpgrades.upgrades[0].owned&&we.setFill("images/house2.png").setSize(75,100).setPosition(229,22),5==player.barnLevel&&(Fe.setFill(imgArray6[4]),Fe.setPosition(85,1).setSize(134,157));var He=0;for(lime.scheduleManager.scheduleWithDelay(function(){"Home"==sceneActive&&(1<=player.cropsStored[15].stored?(20<=(be+=1)&&(be=1),be<15&&Ie.setFill("images/blacksmith"+be+".png"),4==be&&Ie.setPosition(50,80),5==be&&Ie.setPosition(50,85),6==be&&Ie.setPosition(50,90),7==be&&Ie.setPosition(45,90),8==be&&Ie.setPosition(37,95),9==be&&Ie.setPosition(32,100),10==be&&Ie.setPosition(37,105),11==be&&Ie.setPosition(42,100),12==be&&Ie.setPosition(45,95),13==be&&Ie.setPosition(50,90),14==be&&(Ie.setPosition(50,85),1==sceneBefore&&s.play()),15==be&&(Ie.setPosition(50,80),Ie.setFill("images/blacksmith13.png")),16==be&&(Ie.setPosition(50,71),Ie.setFill("images/blacksmith1.png")),17==be&&(Ie.setPosition(50,71),Ie.setFill("images/blacksmith2.png")),18==be&&(Ie.setPosition(50,73),Ie.setFill("images/blacksmith1.png")),19==be&&(Ie.setPosition(50,73),Ie.setFill("images/blacksmith2.png"),zP())):++He<5?xe.setHidden(!1):5==He&&(xe.setHidden(!0),He=0))},this,300),S=0;S<g.num_tiles_x;S++)for(var Ee=0;Ee<g.num_tiles_y;Ee++){var ze,Me,Le,Be,ke=S*g.tile_size+8,Oe=Ee*g.tile_size+181,Re=Ee,De=S,Ne=(Ne="").concat("j".toString(),De.toString(),Re.toString());ze=0==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"tlt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+166):3==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"trt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+166):3==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"brt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+166):0==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"blt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+166):new farming.Land(g,o,ke,Oe,1,"non",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+166),y.appendChild(ze),ke=S*g.tile_size+171,Ne=(Ne="").concat("v".toString(),De.toString(),Re.toString()),Me=0==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"tlt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+166):3==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"trt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+166):3==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"brt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+166):0==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"blt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+166):new farming.Land(g,o,ke,Oe,1,"non",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+166),y.appendChild(Me),ke=S*g.tile_size+19,Oe=Ee*g.tile_size+296,Ne=(Ne="").concat("u".toString(),De.toString(),Re.toString()),Le=0==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"tlt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+296):3==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"trt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+296):3==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"brt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+296):0==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"blt",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+296):new farming.Land(g,o,ke,Oe,1,"non",Ne).setPosition(S*g.tile_size+8,Ee*g.tile_size+296),y.appendChild(Le),ke=S*g.tile_size+171,Ne=(Ne="").concat("t".toString(),De.toString(),Re.toString()),Be=0==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"tlt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+296):3==S&&0==Ee?new farming.Land(g,o,ke,Oe,1,"trt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+296):3==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"brt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+296):0==S&&3==Ee?new farming.Land(g,o,ke,Oe,1,"blt",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+296):new farming.Land(g,o,ke,Oe,1,"non",Ne).setPosition(S*g.tile_size+181,Ee*g.tile_size+296),y.appendChild(Be),1==homeTreesLeft&&(Le.setHidden(!1),1==homeTreesRight&&Be.setHidden(!1))}var Ge=(new lime.GlossyButton).setColor("#4CFF33").setText("").setPosition(68,353).setSize(120,125).setOpacity(.8),Ue=(new lime.GlossyButton).setColor("#4CFF33").setText("").setPosition(241,353).setSize(120,125).setOpacity(.8),We=(new lime.Sprite).setAnchorPoint(0,0).setPosition(136,69).setSize(38,35).setFill("images/UI/upBtn.png");lime.scheduleManager.scheduleWithDelay(function(){var e;"Home"==sceneActive&&((e=We.getPosition()).x-=2,e.x<134&&(e.x=136),We.setPosition(e))},this,500),5<=parseInt(player.barnLevel)&&We.setHidden(!0),y.appendChild(We);var Ve=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,80).setSize(110,80).setFill(imgArray[26]);y.appendChild(Ve);var Je=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,0).setSize(120,200).setFill(imgArray[24].src);y.appendChild(Je);var Ye=(new lime.Label).setText("60").setPosition(155,127).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill(imgArray[27]),qe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]),je=(new lime.Label).setAnchorPoint(0,0).setFontColor("#E8FC08").setPosition(117,145).setSize(70,16).setFontSize(16).setFontWeight(600).setText("Lvl "+player.barnLevel+"/5").setFill(imgArray[28]);y.appendChild(je),y.appendChild(Ye),Ye.appendChild(qe),qe.setRotation(-10);var Ke,$e,Xe,Qe,Ze,et,tt,ot,it=-10;Ye.setHidden(!0),Ve.setHidden(!0),Je.setHidden(!0),0==homeTreesLeft&&player.fields<3&&(y.appendChild(Ge),Ke=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,295).setSize(110,120).setFill("images/"+g.barnyard[13].image),y.appendChild(Ke),$e=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(12,335).setSize(110,120).setText(""),y.appendChild($e),Xe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,20).setSize(40,40).setFill("images/axe.png"),Ke.appendChild(Xe),Qe=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,355).setSize(40,35).setFill("images/tools50.png"),y.appendChild(Qe)),0==homeTreesRight&&player.fields<4&&(y.appendChild(Ue),Ze=(new lime.Sprite).setAnchorPoint(0,0).setPosition(181,295).setSize(120,120).setFill("images/"+g.barnyard[14].image),y.appendChild(Ze),et=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(182,335).setSize(120,120).setText(""),y.appendChild(et),tt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,20).setSize(40,40).setFill("images/axe.png"),Ze.appendChild(tt),ot=(new lime.Sprite).setAnchorPoint(0,0).setPosition(220,355).setSize(38,35).setFill("images/tools250.png"),y.appendChild(ot));var st=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,230).setSize(130,250).setFill(imgArray[24].src);y.appendChild(st);var rt=(new lime.Label).setText("60").setPosition(65,380).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFill(imgArray[27]);y.appendChild(rt);var nt=0;st.setHidden(!0),rt.setHidden(!0);var at=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,230).setSize(130,250).setFill(imgArray[24].src);y.appendChild(at);var lt=(new lime.Label).setText("60").setPosition(250,380).setSize(40,25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill(imgArray[27]);y.appendChild(lt);var gt=0;at.setHidden(!0),lt.setHidden(!0);var mt=1,ct=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#000F00").setOpacity(.75);y.appendChild(ct),goog.events.listen(ct,["mousedown","touchstart"],function(){var e=At.getHidden();1==tutSeen&&1==e?ct.setHidden(!0):ct.setHidden(!1)},!1,this),1==tutSeen&&ct.setHidden(!0);var pt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(g.width-30,g.height/2).setFill("images/UI/blankBack4.png");y.appendChild(pt),pt.setHidden(!0);var ht=(new lime.Label).setAnchorPoint(0,0).setPosition(45,25).setText("Blacksmith Blacwin").setFontFamily("Comic Sans MS").setFontSize(24);pt.appendChild(ht);var ut=(new lime.Label).setAnchorPoint(0,0).setPosition(20,150).setText("I need more IRON BARS to make tools. You can buy some at the SHOP in town").setFontFamily("Comic Sans MS").setFontSize(16).setSize(g.width-80,g.height/2-50);pt.appendChild(ut);var yt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,48).setSize(90,90).setFill("images/blacksmith5.png");pt.appendChild(yt);var St=(new lime.Sprite).setAnchorPoint(0,0).setPosition(180,70).setSize(50,50).setFill(imgArrayStore[0].src);pt.appendChild(St);var ft=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);pt.appendChild(ft),pt.setHidden(!0),goog.events.listen(ft,["mousedown","touchstart"],function(e){pt.setHidden(!0),e.stopPropagation()});var At=(new lime.Sprite).setAnchorPoint(0,0).setPosition(40,120).setSize(230,280).setFill("images/UI/cropBoostBack2.png");y.appendChild(At),At.setHidden(!0);var vt=(new lime.Label).setText(starCash).setPosition(115,33).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#000F00").setFontWeight(600).setFontSize(20).setFontFamily("ComicSans MS");At.appendChild(vt);var Ft=(new lime.GlossyButton).setColor("#00FF00").setText("View").setPosition(115,190).setSize(50,32);At.appendChild(Ft),1==adFreeVersion&&Ft.setHidden(!0);var wt=(new lime.GlossyButton).setColor("#00FF00").setText("-       ").setPosition(115,235).setSize(50,32);At.appendChild(wt);var Pt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-10,-17).setSize(35,35).setFill(imgArray[37]);wt.appendChild(Pt);var Ct=(new lime.GlossyButton).setColor("#8B0000").setText("").setPosition(115,288).setSize(40,40);At.appendChild(Ct);var Tt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-20).setSize(40,40).setFill(imgArray[21]);Ct.appendChild(Tt);goog.events.listen(Ft,["mousedown","touchstart"],function(e){0==At.getHidden()&&(localStorage.setItem("MedFarm_LoadAd",1),localStorage.setItem("MedFarm_StarCashBoost",0),lime.audio.setMute(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(wt,["mousedown","touchstart"],function(e){0==At.getHidden()&&(3<=starCash&&(adWatched2=1,localStorage.setItem("adWatched",1),localStorage.setItem("MedFarm_StarCashBoost",0),starCash-=3,At.setHidden(!0),ct.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Ct,["mousedown","touchstart"],function(e){0==At.getHidden()&&(1==parseInt(localStorage.getItem("GuiGhostFarms_muted"))?(lime.audio.setMute(!0),BP(1)):(lime.audio.setMute(!1),i.play(!0),s.play(),BP(2)),ct.setHidden(!0),At.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))},!1),goog.events.listen(Pe,["mousedown","touchstart"],function(){h.replaceScene(VA,lime.transitions.SlideInUp),sceneActive="House",0==(seen1stHouseNotif=localStorage.getItem("MedFarms_seen1stHouseNotif"))&&1==seen1stHouseNotif||(seen1stHouseNotif=0,localStorage.setItem("MedFarms_seen1stHouseNotif",0)),1==seen1stHouseNotif&&gP.setHidden(!0),sceneBefore=1;try{Vw()}catch(e){console.log("checkHouseUpgradesBought Failed")}});var _t=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,130).setSize(210,220).setFill(imgArray5[0]).setHidden(!1);y.appendChild(_t);var It=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,250).setSize(35,35).setFill("images/UI/nextButton.png");_t.appendChild(It);var bt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,125).setSize(44,44).setFill("images/UI/swipe-right.png");_t.appendChild(bt),bt.setHidden(!0);var xt=!1;goog.events.listen(It,["mousedown","touchstart"],function(e){xt=_t.getHidden(),console.log("tuthid = "+xt),0==xt&&g.tutModalBehav()}),goog.events.listen(_t,["mousedown","touchstart"],function(e){0==(xt=_t.getHidden())&&g.tutModalBehav()}),g.tutModalBehav=function(e){bt.setHidden(!0),Yt.setHidden(!0),ct.setHidden(!1),mt<=13&&_t.setFill(imgArray5[mt]),13<mt&&(tutSeen=1,_t.setHidden(!0),ct.setHidden(!0),localStorage.setItem("GuiGhostFarms_tutSeen",1),Yt.setHidden(!1),Jt=1,lime.scheduleManager.scheduleWithDelay(function(){var e=Yt.getPosition();e.x+=5,70<e.x&&(e.x=20),Yt.setPosition(e),Yt.getHidden()||(Jt+=1),20<Jt&&Yt.setHidden(!0)},this,200,20)),2!=(mt+=1)&&bt.setHidden(!0),2==mt?(bt.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){var e=bt.getPosition();e.x+=5,31<=e.x&&e.x<60&&bt.setHidden(!0),60<=e.x&&e.x<105&&2==mt&&bt.setHidden(!1),105<=e.x&&bt.setHidden(!0),125<=e.x&&2==mt&&(bt.setHidden(!1),e.x=0),bt.setPosition(e)},this,100,40)):bt.setHidden(!0)},g.checkTutSeen=function(){1==tutSeen&&(_t.setHidden(!0),bt.setHidden(!0))},setTimeout(function(){g.checkTutSeen()},0);var Ht=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,100).setSize(210,220).setFill(imgArray[33]);y.appendChild(Ht);var Et=(new lime.Sprite).setAnchorPoint(0,0).setPosition(122,212).setSize(75,35).setFill("images/UI/buyStarCash.png");Ht.appendChild(Et);var zt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,212).setSize(75,35).setFill(imgArray[32]);Ht.appendChild(zt);var Mt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(89,212).setSize(35,35).setFill(imgArray[21]);Ht.appendChild(Mt),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),goog.events.listen(Et,["mousedown","touchstart"],function(){Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),warningSeen=1,document.getElementById("starCashOuterLabel").innerHTML=starCash,RP()}),goog.events.listen(zt,["mousedown","touchstart"],function(){Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),globalModalBlock=0,townSceneActive=warningSeen=1,h.replaceScene(nc,lime.transitions.SlideInUp),sceneActive="Market",setTimeout(function(){validCropsStored(),g.updateStored()},0),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),ap(),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)}),goog.events.listen(Mt,["mousedown","touchstart"],function(){Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),warningSeen=1,globalModalBlock=0}),player.money<g.crops[o.currentCrop].cost&&0==warningSeen&&(ct.setHidden(!1),Ht.setHidden(!1),zt.setHidden(!1),Et.setHidden(!1),globalModalBlock=warningSeen=1);var Lt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,140).setSize(210,220).setFill("images/UI/saleBack.png");y.appendChild(Lt);var Bt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000000").setPosition(45,128).setSize(135,60).setFontSize(20).setText("Dairy Farm 2500");Lt.appendChild(Bt);var kt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,143).setSize(30,30).setFill(imgArray11[0]);Lt.appendChild(kt);var Ot=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#FF0000").setPosition(55,178).setSize(110,60).setFontSize(12).setText("Earn more $ to buy");Lt.appendChild(Ot);var Rt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,212).setSize(75,35).setFill("images/UI/greenBuy.png");Lt.appendChild(Rt);var Dt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,212).setSize(35,35).setFill(imgArray[21]);Lt.appendChild(Dt),Lt.setHidden(!0);var Nt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill("images/UI/achieveNotif.png"),Gt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");Nt.appendChild(Gt);var Ut=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(30,123).setSize(150,60).setFontSize(14).setText("Achieve Text");Nt.appendChild(Ut);var Wt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");Nt.appendChild(Wt);var Vt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill("images/UI/checkButton.png");Nt.appendChild(Vt),y.appendChild(Nt),Nt.setHidden(!0);var Jt=1,Yt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,180).setSize(44,44).setFill("images/UI/swipe-right.png");y.appendChild(Yt),Yt.setHidden(!1),1==tutSeen?Yt.setHidden(!0):lime.scheduleManager.scheduleWithDelay(function(){var e=Yt.getPosition();e.x+=5,70<e.x&&(e.x=20),Yt.setPosition(e),Yt.getHidden()||(Jt+=1),20<Jt&&Yt.setHidden(!0)},this,200,22);var qt=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,50).setSize(270,390).setFill("images/UI/blankBack4.png");y.appendChild(qt);var jt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(23,35).setSize(220,60).setFontSize(18).setText("Medieval Farms v1.5   MARKET TOWN");qt.appendChild(jt);var Kt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20,80).setSize(220,20).setFontSize(14).setText("Visit Market Town, but be nice... Rep matters!");qt.appendChild(Kt);var $t=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20,120).setSize(220,20).setFontSize(14).setText("Meet Villagers for quests/rumors");qt.appendChild($t);var Xt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(15,147).setSize(230,20).setFontSize(14).setText("Added random LOOT when digging");qt.appendChild(Xt);var Qt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(15,175).setSize(220,20).setFontSize(14).setText("New goods IRON, WOOD, BARRELS, and CIDER");qt.appendChild(Qt);var Zt=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20,215).setSize(220,20).setFontSize(14).setText("Added Game SHOP for General and Premium Items");qt.appendChild(Zt);var eo=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20,253).setSize(230,20).setFontSize(14).setText("Added Inventory scene with stats");qt.appendChild(eo);var to=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20,280).setSize(220,20).setFontSize(14).setText("Blacksmith now requires Iron");qt.appendChild(to);var oo=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(20,308).setSize(220,20).setFontSize(14).setText("Added Special Tools in SHOP");qt.appendChild(oo);var io=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(15,332).setSize(230,20).setFontSize(14).setText("Farmers Market is now in town");qt.appendChild(io);var so=(new lime.Sprite).setAnchorPoint(0,0).setPosition(112,350).setSize(40,40).setFill(imgArray[21]);qt.appendChild(so),qt.setHidden(!0),goog.events.listen(so,["mousedown","touchstart"],function(){qt.setHidden(!0)}),tutSeen=parseInt(localStorage.GuiGhostFarms_tutSeen),onlyOnceUpdateNotif=localStorage.getItem("MedFarms_onlyOnceUpdateNotif");var ro=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,150).setSize(250,250).setFill("images/UI/blankBack4.png");y.appendChild(ro);var no=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(10,45).setSize(230,60).setFontSize(18).setText("NEW SEEDS TO PLANT!");ro.appendChild(no);var ao=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,105).setSize(70,70).setFill("images/"+g.crops[2].harvest);ro.appendChild(ao);var lo=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(50,190).setSize(150,50).setFontSize(18).setText("Artichoke");ro.appendChild(lo),ro.setHidden(!0);var go=(new lime.GlossyButton).setColor("#1ce636").setText("Build").setPosition(125,200).setSize(60,35);ro.appendChild(go);var mo=(new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(125,265).setSize(40,40);ro.appendChild(mo);var co=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-20).setSize(40,40).setFill(imgArray[21]);mo.appendChild(co);var po=60,ho=0,uo=0,yo=imgArray6[0].src,So=(new lime.Sprite).setAnchorPoint(0,0).setPosition(40,118).setSize(40,40).setFill("images/toolsIcon.png").setHidden(!0);ro.appendChild(So);var fo=(new lime.Label).setPosition(60,175).setSize(25,25).setText(ho).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000").setHidden(!0);ro.appendChild(fo);var Ao=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,115).setSize(40,40).setFill("images/"+g.crops[14].harvest).setHidden(!0);ro.appendChild(Ao);var vo=(new lime.Label).setPosition(190,175).setSize(25,25).setText(uo).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000").setHidden(!0);ro.appendChild(vo);var Fo=(new lime.Label).setPosition(125,200).setSize(175,25).setText("You need more Resources").setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000").setHidden(!0);ro.appendChild(Fo),goog.events.listen(Vt,["mousedown","touchstart"],function(){Nt.setHidden(!0),vr.setHidden(!0),GS.setHidden(!0),$a.setHidden(!0),Du.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),kS.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0)}),goog.events.listen(Se,["mousedown","touchstart"],function(){0==globalModalBlock&&(fsClicked=globalModalBlock=1,setTimeout(function(){g.updateMoney},0),ct.setHidden(!1),Lt.setHidden(!1),Bt.setText("Dairy Farm 2500"),2500<=parseInt(player.money)?(Ot.setHidden(!0),Rt.setHidden(!1)):Rt.setHidden(!0))}),goog.events.listen(fe,["mousedown","touchstart"],function(){0==globalModalBlock&&(fsClicked=2,globalModalBlock=1,setTimeout(function(){g.updateMoney()},0),ct.setHidden(!1),Lt.setHidden(!1),5e3<=parseInt(player.money)?(Ot.setHidden(!0),Rt.setHidden(!1)):Rt.setHidden(!0),Bt.setText("Fruit Orchard 5000"))}),goog.events.listen(Rt,["mousedown","touchstart"],function(){Lt.setHidden(!0),ct.setHidden(!0),0==Rt.getHidden()&&(1==fsClicked&&(t[1].owned=1,player.money=player.money-2500,setTimeout(function(){g.updateMoney()},0),ue.setHidden(!1),Se.setHidden(!0),Lt.setHidden(!0),lime.scheduleManager.callAfter(function(){globalModalBlock=0},this,500)),2==fsClicked&&(t[2].owned=1,player.money=player.money-5e3,g.updateMoney(),ye.setHidden(!1),fe.setHidden(!0),Lt.setHidden(!0),lime.scheduleManager.callAfter(function(){globalModalBlock=0},this,500)),localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(t)),fsclicked=0)}),goog.events.listen(Dt,["mousedown","touchstart"],function(){sceneBefore=1,Lt.setHidden(!0),ct.setHidden(!0),fsclicked=0,lime.scheduleManager.callAfter(function(){globalModalBlock=0},this,500)});var wo=0;goog.events.listen(Ge,["mousedown","touchstart"],function(){1==tutSeen&&0==globalModalBlock&&50<=player.tools&&0==wo&&(wo=1,lime.scheduleManager.scheduleWithDelay(function(){player.tools=player.tools-50,setTimeout(function(){g.updateTools()},0),Qe.setHidden(!0),st.setHidden(!1),rt.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){35<(nt+=10)&&(nt=-10),Xe.setRotation(nt)},this,200,300);var e=60,t=100,o=0,i=230;lime.scheduleManager.scheduleWithDelay(function(){st.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<-15&&(o=0,i=230,t=100)},this,250,240),lime.scheduleManager.scheduleWithDelay(function(){--e,rt.setText(e),e<=0&&(rt.setHidden(!0),st.setHidden(!0),e=60,player.fields=player.fields+1,localStorage.setItem("MedFarms_homeTreesLeft",1),setTimeout(function(){g.updateTools()},0),Ke.setHidden(!0),$e.setHidden(!0),Ge.setHidden(!0),Xe.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+250,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=250),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver))},this,1e3,60)},this,300,1))});var Po=0;goog.events.listen(Ue,["mousedown","touchstart"],function(){1==tutSeen&&0==globalModalBlock&&250<=player.tools&&0==Po&&(Po=1,lime.scheduleManager.scheduleWithDelay(function(){player.tools=player.tools-250,setTimeout(function(){g.updateTools()},0),ot.setHidden(!0),at.setHidden(!1),lt.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){35<(gt+=10)&&(gt=-10),tt.setRotation(gt)},this,200,300);var e=60,t=100,o=165,i=250;lime.scheduleManager.scheduleWithDelay(function(){at.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<155&&(o=165,t=i=250)},this,250,240),lime.scheduleManager.scheduleWithDelay(function(){--e,lt.setText(e),e<=0&&(lt.setHidden(!0),at.setHidden(!0),e=60,player.fields=player.fields+1,localStorage.setItem("MedFarms_homeTreesRight",1),setTimeout(function(){g.updateTools()},0),Ze.setHidden(!0),et.setHidden(!0),Ue.setHidden(!0),tt.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+250,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=250),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver))},this,1e3,60)},this,300,1))}),goog.events.listen(We,["mousedown","touchstart"],function(){1==player.barnLevel&&(ho=100,uo=50,po=60,yo=imgArray6[1].src),2==player.barnLevel?(ho=250,uo=100,po=120,yo=imgArray6[2].src):3==player.barnLevel?(ho=500,uo=150,po=180,yo=imgArray6[3].src):4==player.barnLevel?(ho=1250,uo=250,po=300,yo=imgArray6[4].src):ho=100,ro.setHidden(!1),no.setText("Upgrade Barn to Level "+(player.barnLevel+1)),lo.setText(""),ao.setFill(yo),ro.setHidden(!1),go.setHidden(!1),mo.setHidden(!1),So.setHidden(!1),Ao.setHidden(!1),vo.setHidden(!1),fo.setHidden(!1),So.setAnchorPoint(0,0).setPosition(40,118).setSize(40,40).setFill("images/toolsIcon.png").setHidden(!1),ro.appendChild(So),fo.setPosition(60,175).setSize(25,25).setText(ho).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000"),ro.appendChild(fo),Ao.setAnchorPoint(0,0).setPosition(170,115).setSize(40,40).setFill("images/"+g.crops[14].harvest),ro.appendChild(Ao),vo.setPosition(190,175).setSize(25,25).setText(uo).setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000"),ro.appendChild(vo),Fo.setPosition(125,200).setSize(175,25).setText("You need more Resources").setFontSize(16).setFontFamily("Comic Sans MS").setFontColor("#000000"),ro.appendChild(Fo),(ho>player.tools||uo>parseInt(player.cropsStored[14].stored))&&(go.setHidden(!0),Fo.setHidden(!1))});function Co(e,t){var o,i,s;0==barnUpRunningHome&&player.tools>=e&&parseInt(player.barnLevel)<5&&0==globalModalBlock&&parseInt(player.cropsStored[14].stored)>=t&&(Ye.setText(po),We.setHidden(!0),barnUpRunningHome=1,player.tools=player.tools-e,setTimeout(function(){g.updateTools()},0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-parseInt(t),player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),setTimeout(function(){g.updateStored()},0),Je.setHidden(!1),Ve.setHidden(!1),Ye.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){Je.setPosition(i,s).setSize(o,200),o+=10,s-=5,(i-=5)<80&&(s=10,o=i=100),35<(it+=10)&&(it=-10),qe.setRotation(it)},this,250,4*po),o=100,i=90,s=10,lime.scheduleManager.scheduleWithDelay(function(){--po,upgradesInProgress.buildings[0].timeLeft=po,upgradesInProgress.buildings[0].currentBarnLevel=player.barnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),Ye.setText(po),po<=0&&(We.setHidden(!0),player.barnLevel=player.barnLevel+1,setTimeout(function(){g.updateTools()},0),5<player.barnLevel&&(player.barnLevel=5,We.setHidden(!0)),upgradesInProgress.buildings[0].timeLeft=0,upgradesInProgress.buildings[0].currentBarnLevel=player.barnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Ye.setHidden(!0),Ve.setHidden(!0),Je.setHidden(!0),go.setHidden(!0),2==player.barnLevel?(Fe.setFill(imgArray6[1]),ro.setHidden(!1),lo.setText("Artichoke"),ao.setFill("images/"+g.crops[2].harvest),We.setHidden(!1),So.setHidden(!0),Ao.setHidden(!0),vo.setHidden(!0),Fo.setHidden(!0)):3==player.barnLevel?(Fe.setFill(imgArray6[2].src),ro.setHidden(!1),lo.setText("Eggplant"),ao.setFill("images/"+g.crops[3].harvest),We.setHidden(!1),So.setHidden(!0),Ao.setHidden(!0),vo.setHidden(!0),fo.setHidden(!0),Fo.setHidden(!0)):4==player.barnLevel?(Fe.setFill(imgArray6[3].src),ro.setHidden(!1),lo.setText("Peppers"),ao.setFill("images/"+g.crops[4].harvest),We.setHidden(!1),So.setHidden(!0),Ao.setHidden(!0),vo.setHidden(!0),Fo.setHidden(!0),fo.setHidden(!0)):5==player.barnLevel&&(Fe.setFill(imgArray6[4].src),ro.setHidden(!1),lo.setText("Corn"),ao.setFill("images/"+g.crops[5].harvest),We.setHidden(!0),Fe.setPosition(86,4).setSize(134,155),So.setHidden(!0),Ao.setHidden(!0),vo.setHidden(!0),Fo.setHidden(!0),fo.setHidden(!0),goog.events.removeAll(go),goog.events.removeAll(We),goog.events.removeAll(mo)),je.setText("Lvl "+player.barnLevel+"/5"),lime.scheduleManager.callAfter(function(){ro.setHidden(!0),zP()},this,2e3),barnUpRunningHome=0)},this,1e3,po))}if(goog.events.listen(mo,["mousedown","touchstart"],function(){0==mo.getHidden()&&(ro.setHidden(!0),go.setHidden(!0),mo.setHidden(!0),So.setHidden(!0),Ao.setHidden(!0),vo.setHidden(!0),Fo.setHidden(!0),no.setText("NEW SEEDS TO PLANT!"))}),goog.events.listen(go,["mousedown","touchstart"],function(){0==ro.getHidden()&&(1==player.barnLevel&&(ho=100,uo=50,po=60,yo=imgArray6[1].src),2==player.barnLevel?(ho=250,uo=100,po=120,yo=imgArray6[2].src):3==player.barnLevel?(ho=500,uo=150,po=180,yo=imgArray6[3].src):4==player.barnLevel?(ho=1250,uo=250,po=300,yo=imgArray6[4].src):ho=100,ro.setHidden(!0),go.setHidden(!0),mo.setHidden(!0),So.setHidden(!0),Ao.setHidden(!0),vo.setHidden(!0),no.setText("NEW SEEDS TO PLANT!"),Fo.setHidden(!0),Co(ho,uo))}),5==player.barnLevel)try{goog.events.removeAll(go),goog.events.removeAll(We),goog.events.removeAll(mo)}catch(e){console.log("listener remove failed")}Le.setHidden(!1);var To=(new lime.Label).setPosition(156,180).setSize(40,25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600);y.appendChild(To);var _o=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);To.appendChild(_o),To.setHidden(!0);var Io=(new lime.Layer).setAnchorPoint(0,0),bo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,45).setSize(g.width-10,g.height-135).setFill("images/UI/blankBack6.png");Io.appendChild(bo);var xo=(new lime.Label).setText("Daily Login Bonus ").setFontFamily("ComicSans MS").setFontSize(22).setPosition(160,23),Ho=(new lime.Label).setText("Return each day to earn greater rewards").setFontFamily("ComicSans MS").setFontSize(16).setPosition(150,53);bo.appendChild(xo),bo.appendChild(Ho);var Eo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,68).setSize(34,85).setFill("#bfbfbf"),zo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,68).setSize(34,85).setFill("#bfbfbf"),Mo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(88,68).setSize(34,85).setFill("#bfbfbf"),Lo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(128,68).setSize(34,85).setFill("#bfbfbf"),Bo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,68).setSize(34,85).setFill("#bfbfbf"),ko=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,68).setSize(34,85).setFill("#bfbfbf"),Oo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(248,68).setSize(34,85).setFill("#bfbfbf");bo.appendChild(Eo),bo.appendChild(zo),bo.appendChild(Mo),bo.appendChild(Lo),bo.appendChild(Bo),bo.appendChild(ko),bo.appendChild(Oo);var Ro=(new lime.Label).setText("1").setFontFamily("ComicSans MS").setFontSize(16).setPosition(17,14),Do=(new lime.Label).setText("2").setFontFamily("ComicSans MS").setFontSize(16).setPosition(17,14),No=(new lime.Label).setText("3").setFontFamily("ComicSans MS").setFontSize(16).setPosition(17,14),Go=(new lime.Label).setText("4").setFontFamily("ComicSans MS").setFontSize(16).setPosition(17,14),Uo=(new lime.Label).setText("5").setFontFamily("ComicSans MS").setFontSize(16).setPosition(17,14),Wo=(new lime.Label).setText("6").setFontFamily("ComicSans MS").setFontSize(16).setPosition(17,14),Vo=(new lime.Label).setText("7").setFontFamily("ComicSans MS").setFontSize(16).setPosition(17,14);Eo.appendChild(Ro),zo.appendChild(Do),Mo.appendChild(No),Lo.appendChild(Go),Bo.appendChild(Uo),ko.appendChild(Wo),Oo.appendChild(Vo);var Jo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill("images/UI/coin4.png"),Yo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill("images/UI/toolsIcon2.png"),qo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray[38]),jo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill("images/UI/coin4.png"),Ko=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray[39]),$o=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,24).setSize(30,30).setFill(imgArray[58]),Xo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(1,24).setSize(32,32).setFill("images/UI/unknownCrop.png");Eo.appendChild(Jo),zo.appendChild(Yo),Mo.appendChild(qo),Lo.appendChild(jo),Bo.appendChild(Ko),ko.appendChild($o),Oo.appendChild(Xo);var Qo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),Zo=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),ei=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),ti=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),oi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),ii=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]),si=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,60).setSize(24,24).setFill(imgArray[35]);Eo.appendChild(Qo),zo.appendChild(Zo),Mo.appendChild(ei),Lo.appendChild(ti),Bo.appendChild(oi),ko.appendChild(ii),Oo.appendChild(si);var ri=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,205).setSize(245,26).setFill("#8b4513");Io.appendChild(ri);var ni=(new lime.Label).setText("Today's Reward: ").setFontFamily("ComicSans MS").setFontSize(16).setPosition(60,14).setFontColor("azure");ri.appendChild(ni);var ai=(new lime.Label).setText(" ").setFontFamily("ComicSans MS").setFontSize(20).setPosition(188,15).setFontColor("azure");ri.appendChild(ai);var li=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,250).setSize(285,150).setFill("").setHidden(!0);Io.appendChild(li);var di=(new lime.Label).setText("Earn free Stars daily when you have other GuiGhost Games installed").setFontFamily("ComicSans MS").setFontSize(14).setPosition(145,15).setSize(285,50);li.appendChild(di);var gi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,28).setSize(160,40).setFill(imgArray[54]);li.appendChild(gi);var mi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(205,36).setSize(80,27).setFill(imgArray[53]);li.appendChild(mi);var ci=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,27).setSize(38,38).setFill(imgArray[39]);li.appendChild(ci);var pi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,30).setSize(32,32).setFill(imgArray[56]);li.appendChild(pi);var hi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,75).setSize(160,40).setFill(imgArray[55]);li.appendChild(hi);var ui=(new lime.Sprite).setAnchorPoint(0,0).setPosition(205,81).setSize(80,27).setFill(imgArray[53]);li.appendChild(ui);var yi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,75).setSize(38,38).setFill(imgArray[39]);li.appendChild(yi);var Si=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,79).setSize(32,32).setFill(imgArray[56]);li.appendChild(Si);var fi=(new lime.GlossyButton).setColor("#00ff00").setText("Collect Rewards").setPosition(150,g.height-145).setSize(160,28);Io.appendChild(fi);var Ai=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(150,g.height-105).setSize(100,20);Io.appendChild(Ai),y.appendChild(Io),Io.setHidden(!0),goog.events.listen(Io,["mousedown","touchstart"],function(e){e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(fi,["mousedown","touchstart"],function(e){!function(){switch(n.play(),Ci=parseInt(localStorage.daysInRow)){case 0:player.money=parseInt(player.money)+100,g.updateMoney();break;case 1:player.tools=parseInt(player.tools)+150,g.updateTools();break;case 2:starCash=parseInt(starCash)+5;break;case 3:player.money=parseInt(player.money)+250,g.updateMoney();break;case 4:starCash=parseInt(starCash)+10;break;case 5:player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+150,g.updateStored();break;case 6:player.money=parseInt(player.money)+1e3,g.updateMoney();break;default:console.log("none")}Ci+=1,localStorage.setItem("daysInRow",Ci),starCash=parseInt(starCash)+Pi,document.getElementById("starCashOuterLabel").innerHTML=starCash}(),fi.setHidden(!0);try{goog.events.removeAll(fi)}catch(e){}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Ai,["mousedown","touchstart"],function(e){Io.setHidden(!0);try{goog.events.removeAll(fi)}catch(e){}e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(mi,["mousedown","touchstart"],function(e){whichMore="stack",openLink(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(ui,["mousedown","touchstart"],function(e){whichMore="star",openLink(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var vi=!1,Fi=!1;function wi(e){if(1==e)try{goog.events.removeAll(mi)}catch(e){}if(2==e)try{goog.events.removeAll(ui)}catch(e){}}var Pi=0,Ci=0;void 0===localStorage.lastLoginDay&&(localStorage.lastLoginDay=0);var Ti=parseInt(localStorage.lastLoginDay);void 0===localStorage.daysInRow&&(localStorage.daysInRow=0),Ci=parseInt(localStorage.daysInRow);var _i=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),y=(new lime.Layer).setAnchorPoint(0,0),S=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#0D0D0D");y.appendChild(S),_i.appendChild(y),S=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(g.width/2,g.height-20).setSize(80,35),y.appendChild(S),seedSceneBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,40).setFill("images/UI/greenButtonLg.png"),y.appendChild(seedSceneBack),seedSceneLabel=(new lime.Label).setText("Change Seeds to Plant ").setFontFamily("ComicSans MS").setFontColor("#E8FC08").setFontSize(22).setPosition(155,23),y.appendChild(seedSceneLabel),seedSceneSeeds1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,1).setSize(40,40).setFill("images/grain.png"),y.appendChild(seedSceneSeeds1),seedSceneSeeds2=(new lime.Sprite).setAnchorPoint(0,0).setPosition(265,1).setSize(40,40).setFill("images/grain.png"),y.appendChild(seedSceneSeeds2),goog.events.listen(Ae,["mousedown","touchstart"],function(){if(0==globalModalBlock&&0<tutSeen)for(h.replaceScene(_i,lime.transitions.SlideInDown),setTimeout(function(){validCropsStored()},0),S=0;S<player.barnLevel+1;S++)backSeed=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.shop_margin_x-45,g.shop_margin_y+(g.shop_margin_y+g.tile_size)*S+9*S-S+15).setFill(imgArray[18].src).setSize(g.width-10,60),y.appendChild(backSeed),C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.shop_margin_x-21,g.shop_margin_y+(g.shop_margin_y+g.tile_size)*S+9*S-S+24).setFill("images/"+g.crops[S].harvest).setSize(35,35),y.appendChild(C),Ee=(new lime.Label).setText(g.crops[S].name+" ("+g.crops[S].time_to_ripe+" days) ").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontSize(20).setPosition(g.shop_margin_x+130,1.4*g.shop_margin_y+(g.shop_margin_y+g.tile_size)*S+7*S-S+20+ +S),y.appendChild(Ee),i2=(new lime.Label).setText("   -"+g.crops[S].cost+" ").setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setFontSize(18).setPosition(g.shop_margin_x+79,2.1*g.shop_margin_y+(g.shop_margin_y+g.tile_size)*S+(9*S-S)+24),y.appendChild(i2),i3=(new lime.Sprite).setSize(30,30).setFill(imgArray11[0]).setPosition(g.shop_margin_x+58,2.1*g.shop_margin_y+(g.shop_margin_y+g.tile_size)*S+(9*S-S)+15),y.appendChild(i3),i4=(new lime.Label).setText("   +"+g.crops[S].revenue+" ").setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setFontSize(18).setPosition(g.shop_margin_x+190,2.1*g.shop_margin_y+(g.shop_margin_y+g.tile_size)*S+(9*S-S)+24),y.appendChild(i4),i5=(new lime.Sprite).setSize(30,30).setFill(imgArray11[0]).setPosition(g.shop_margin_x+170,2.1*g.shop_margin_y+(g.shop_margin_y+g.tile_size)*S+(9*S-S)+15),y.appendChild(i5),function(e,t){goog.events.listen(e,["mousedown","touchstart"],function(){o.currentCrop=t,h.replaceScene(u,lime.transitions.moveInRight),localStorage.setItem("MedFarms_selectedHomeCrop",t),sceneActive="Home",j.setFill("images/"+g.crops[t].harvest),q.setText("Plant "+g.crops[t].name),homeCrop=parseInt(o.currentCrop),u.appendChild(j)})}(backSeed,S),function(e){goog.events.listen(Ee,["mousedown","touchstart"],function(){o.currentCrop=e,h.replaceScene(u,lime.transitions.moveInRight),localStorage.setItem("MedFarms_selectedHomeCrop",e),sceneActive="Home",j.setFill("images/"+g.crops[e].harvest),q.setText("Plant "+g.crops[e].name),homeCrop=parseInt(o.currentCrop),u.appendChild(j)})}(S)}),goog.events.listen(S,["mousedown","touchstart"],function(){h.replaceScene(u,lime.transitions.SlideInUp),sceneActive="Home"});var Ii=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),bi=(new lime.Layer).setAnchorPoint(0,0),xi=(new lime.Sprite).setAnchorPoint(0,10).setPosition(0,0).setSize(g.width,g.height-90).setFill("#0D0D0D");Ii.appendChild(xi),Ii.appendChild(bi);var Hi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,40).setSize(g.controlsLayer_w,g.landLayer_h+37).setFill("images/"+g.barnyard[0].image);bi.appendChild(Hi);var Ei=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,435).setSize(320,25).setFill("images/"+g.barnyard[15].image);bi.appendChild(Ei);var zi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,10).setSize(15,15);Ei.appendChild(zi),zi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-12).setSize(43,43).setFill(imgArray[46]),Ei.appendChild(zi),goog.events.listen(zi,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=4,h.replaceScene(ny,lime.transitions.SlideInLeft),sceneActive="Vineyard",o.currentCrop=12,setTimeout(function(){validCropsStored(),kP()},0))});var Mi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(285,10).setSize(15,15);Ei.appendChild(Mi),Mi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(269,-11).setSize(42,42).setFill(imgArray[50]),Ei.appendChild(Mi);f=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(g.controlsLayer_w,g.controlsLayer_h-22).setFill("images/UI/greenButtonLg.png");bi.appendChild(f);var Li=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,37).setSize(315,29).setFill("images/"+g.barnyard[5].image);bi.appendChild(Li);var Bi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(59,44).setSize(190,137).setFill(imgArrayPasture[1]);bi.appendChild(Bi);C=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,g.height-g.controlsLayer_h-5).setSize(g.controlsLayer_w,g.controlsLayer_h+5).setFill("images/UI/blackButton.png");bi.appendChild(C),menuP=(new lime.Sprite).setAnchorPoint(0,0).setFill("images/UI/gearButton.png").setPosition(12,467).setSize(35,35),bi.appendChild(menuP);var ki=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,467).setSize(35,35).setFill("images/UI/trophyBtn.png");bi.appendChild(ki);var Oi=(new lime.Sprite).setFill("images/UI/starButton.png").setAnchorPoint(0,0).setPosition(50,503).setSize(35,35);bi.appendChild(Oi),goog.events.listen(Oi,["mousedown","touchstart"],function(){0==globalModalBlock&&RP()});var Ri=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,449).setSize(35,35).setFill("images/UI/compass22.png");bi.appendChild(Ri);var Di=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,503).setSize(35,35).setFill(imgArray[15]);bi.appendChild(Di),goog.events.listen(menuP,["mousedown","touchstart"],function(){g.sceneBefore=2,h.replaceScene(ml,lime.transitions.SlideInUp),sceneActive="Menu"}),goog.events.listen(Di,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),i.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),BP(2)):(lime.audio.setMute(!0),BP(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(ki,["mousedown","touchstart"],function(){0==globalModalBlock&&LP(sceneBefore=2)});var Ni=(new lime.Label).setText(player.money).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(245,24).setFontSize(18);bi.appendChild(Ni);var Gi=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);bi.appendChild(Gi);var Ui=(new lime.Sprite).setAnchorPoint(0,0).setPosition(7,5).setSize(35,35).setFill(imgArray[30]),Wi=(new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(60,24).setFontSize(18);bi.appendChild(Ui),bi.appendChild(Wi);o.currentCrop;var Vi=(new lime.Label).setText("Plant "+g.crops[6].name).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontSize(12).setPosition(g.controlsLayer_w/2-5,g.height-g.controlsLayer_h/2-12);bi.appendChild(Vi);var Ji=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w/2-28,g.height-g.controlsLayer_h/2-5).setFill("images/"+g.crops[6].harvest).setSize(48,35);bi.appendChild(Ji);ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,40).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(ie);se=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,40).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(se);re=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,203).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(re);ne=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,203).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(ne);ae=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,123).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(ae);le=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,123).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(le);de=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-3,293).setSize(8,55).setFill("images/"+g.barnyard[4].image);bi.appendChild(de);ge=(new lime.Sprite).setAnchorPoint(0,0).setPosition(302,293).setSize(8,55).setFill("images/"+g.barnyard[4].image);bi.appendChild(ge);var Yi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-4,315).setSize(315,29).setFill("images/"+g.barnyard[5].image);bi.appendChild(Yi);var qi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,215).setSize(130,80).setFill(imgArrayPasture[0]);bi.appendChild(qi);var ji=(new lime.Label).setText("Lvl "+player.pastureLevel+"/3 ").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setPosition(155,58).setSize(90,15).setFontSize(16).setFill("images/UI/greenButtonLg.png");bi.appendChild(ji);var Ki=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,70).setSize(60,45).setFill(imgArray[26]);bi.appendChild(Ki);var $i=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,10).setSize(70,140).setFill(imgArray[24].src);bi.appendChild($i);var Xi=(new lime.Label).setText("60").setPosition(35,80).setSize(40,25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill(imgArray[27]),Qi=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);bi.appendChild(Xi),Xi.appendChild(Qi),Qi.setRotation(-10);var Zi=-10;$i.setHidden(!0),Ki.setHidden(!0),Xi.setHidden(!0);var es=(new lime.Sprite).setAnchorPoint(0,0).setPosition(135,210).setSize(38,85).setFill(imgArrayPasture[2]);bi.appendChild(es);ie=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,250).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(ie);se=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,250).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(se);var ts=(new lime.Sprite).setAnchorPoint(0,0).setPosition(63,100).setSize(8,68).setFill("images/"+g.barnyard[4].image);bi.appendChild(ts);var os=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,100).setSize(8,68).setFill("images/"+g.barnyard[4].image);bi.appendChild(os);var is=(new lime.Sprite).setAnchorPoint(0,0).setPosition(68,147).setSize(70,25).setFill("images/"+g.barnyard[18].image);bi.appendChild(is);var ss=(new lime.Sprite).setAnchorPoint(0,0).setPosition(169,147).setSize(70,25).setFill("images/"+g.barnyard[18].image);bi.appendChild(ss);var rs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(168,160).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(rs);var ns=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,160).setSize(8,90).setFill("images/"+g.barnyard[4].image);bi.appendChild(ns);var as=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,135).setSize(43,56).setFill(imgArrayPasture[3]);bi.appendChild(as);var ls=(new lime.Sprite).setAnchorPoint(0,0).setPosition(228,135).setSize(43,56).setFill(imgArrayPasture[3]);bi.appendChild(ls);var ds=(new lime.Sprite).setAnchorPoint(0,0).setPosition(164,270).setSize(50,57).setFill(imgArrayPasture[4]);bi.appendChild(ds);var gs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,270).setSize(50,57).setFill(imgArrayPasture[4]);bi.appendChild(gs);var ms=(new lime.Sprite).setAnchorPoint(0,0).setPosition(143,170).setSize(20,43).setFill(imgArrayPasture[5]);bi.appendChild(ms);var cs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(143,294).setSize(20,27).setFill(imgArrayPasture[5]);bi.appendChild(cs);var ps=(new lime.Sprite).setAnchorPoint(0,0).setPosition(270,270).setSize(32,16).setFill(imgArrayPasture[8]);bi.appendChild(ps);var hs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(44,185).setSize(32,16).setFill(imgArrayPasture[8]);bi.appendChild(hs);var us=(new lime.Sprite).setAnchorPoint(0,0).setPosition(102,413).setFill("images/"+g.crops[6].harvest).setSize(39,27);bi.appendChild(us);var ys=(new lime.Sprite).setAnchorPoint(0,0).setPosition(178,415).setSize(32,16).setFill(imgArrayPasture[8]);bi.appendChild(ys);var Ss=(new lime.Sprite).setAnchorPoint(0,0).setPosition(175,120).setSize(140,200).setFill(imgArrayPasture[9]);bi.appendChild(Ss);var fs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(60,70).setSize(40,40).setFill("images/axe.png");Ss.appendChild(fs);var As=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,240).setSize(35,35).setFill("images/tools500.png");bi.appendChild(As);var vs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(175,90).setSize(130,285).setFill(imgArray[24].src);bi.appendChild(vs);var Fs=(new lime.Label).setText("60").setPosition(240,255).setSize(40,25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill(imgArray[27]);bi.appendChild(Fs);var ws=0;vs.setHidden(!0),Fs.setHidden(!0),0<player.treesP&&(Ss.setHidden(!0),As.setHidden(!0));var Ps=(new lime.Sprite).setAnchorPoint(0,0).setPosition(67,230).setSize(54,26).setFill(imgArrayPasture[12]);bi.appendChild(Ps);var Cs=(new lime.Sprite).setPosition(50,290).setSize(22,38).setFill(imgArrayPasture[7]);bi.appendChild(Cs);var Ts=(new lime.Sprite).setAnchorPoint(0,0).setPosition(28,193).setSize(55,28).setFill(imgArrayPasture[11]);bi.appendChild(Ts);var _s=0,Is=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,180).setSize(10,11).setFill(imgArrayPasture[19]);bi.appendChild(Is);var bs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,250).setSize(10,11).setFill(imgArrayPasture[19]);bi.appendChild(bs);var xs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(75,290).setSize(10,11).setFill(imgArrayPasture[19]);bi.appendChild(xs);var Hs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,202).setSize(10,11).setFill(imgArrayPasture[19]);bi.appendChild(Hs);var Es=(new lime.Sprite).setAnchorPoint(0,0).setPosition(276,245).setSize(10,11).setFill(imgArrayPasture[19]);bi.appendChild(Es);var zs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(210,295).setSize(10,11).setFill(imgArrayPasture[19]);bi.appendChild(zs);var Ms=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,190).setSize(20,21).setFill("images/Pasture/bucket.png");bi.appendChild(Ms);var Ls=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,285).setSize(58,26).setFill(imgArrayPasture[12]);bi.appendChild(Ls);var Bs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(225,235).setSize(21,36).setFill(imgArrayPasture[7]);bi.appendChild(Bs);var ks=(new lime.Sprite).setAnchorPoint(0,0).setPosition(207,193).setSize(58,26).setFill(imgArrayPasture[18]);bi.appendChild(ks);var Os=(new lime.Sprite).setAnchorPoint(0,0).setPosition(140,85).setSize(32,32).setFill(imgArrayJosiah[0].src);bi.appendChild(Os),0==player.treesP&&(Ls.setHidden(!0),Bs.setHidden(!0),ks.setHidden(!0),Hs.setHidden(!0),Es.setHidden(!0),zs.setHidden(!0));var Rs=0;lime.scheduleManager.scheduleWithDelay(function(){"Pasture"==sceneActive&&(Rs++,22<=(_s+=1)&&(_s=1),1==player.treesP&&(Ls.setHidden(!1),Bs.setHidden(!1),ks.setHidden(!1)),1==_s?(Ps.setFill(imgArrayPasture[12]),Ts.setFill(imgArrayPasture[12]),Cs.setFill(imgArrayPasture[13]),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[10]),Bs.setFill(imgArrayPasture[13]),Hs.setHidden(!1),Es.setHidden(!1),zs.setHidden(!1))):2==_s?(Ps.setFill(imgArrayPasture[10]),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[11]))):3==_s?(Ps.setFill(imgArrayPasture[11]),1==player.treesP&&(Ls.setFill(imgArrayPasture[12]),ks.setFill(imgArrayPasture[10]))):4==_s?(Ps.setFill(imgArrayPasture[12]),1==player.treesP&&(Ls.setFill(imgArrayPasture[12]),ks.setFill(imgArrayPasture[10]),Bs.setFill(imgArrayPasture[14]))):5==_s?(Ps.setFill(imgArrayPasture[11]),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[10]),Bs.setFill(imgArrayPasture[15]))):6==_s?(Ps.setFill(imgArrayPasture[10]),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[10]))):7==_s?(Ps.setFill(imgArrayPasture[11]),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[11]),Bs.setFill(imgArrayPasture[14]))):8==_s?(Ts.setFill(imgArrayPasture[10]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[12]))):9==_s?(Ps.setFill(imgArrayPasture[11]),Ts.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[12]))):10==_s?(Ts.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[11]))):11==_s?(Ps.setFill(imgArrayPasture[12]),Ts.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[10]))):12==_s?(Ts.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[10]))):13==_s||14==_s?(Ts.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[10]),Bs.setFill(imgArrayPasture[13]))):15==_s?(Cs.setFill(imgArrayPasture[15]),Bs.setFill(imgArrayPasture[15]),Ts.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[11]),Bs.setFill(imgArrayPasture[13]))):16==_s?(Cs.setFill(imgArrayPasture[14]),Bs.setFill(imgArrayPasture[14]),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[12]))):17==_s?(Ts.setFill(imgArrayPasture[10]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[12]))):18==_s?(Ts.setFill(imgArrayPasture[11]).setPosition(28,193),Cs.setFill(imgArrayPasture[14]),Bs.setFill(imgArrayPasture[15]),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[12]))):19==_s?(Ts.setFill(imgArrayPasture[12]).setPosition(28,193),Cs.setFill(imgArrayPasture[13]),Bs.setFill(imgArrayPasture[13]),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[11]))):20==_s?(Cs.setFill(imgArrayPasture[14]),Bs.setFill(imgArrayPasture[14]),1==player.treesP&&(Ls.setFill(imgArrayPasture[11]),ks.setFill(imgArrayPasture[10]))):21==_s?(Ts.setFill(imgArrayPasture[11]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[11]),Bs.setFill(imgArrayPasture[13]))):22==_s&&(Cs.setFill(imgArrayPasture[15]),Bs.setFill(imgArrayPasture[15]),Ts.setFill(imgArrayPasture[12]).setPosition(28,193),1==player.treesP&&(Ls.setFill(imgArrayPasture[10]),ks.setFill(imgArrayPasture[12]),Bs.setFill(imgArrayPasture[13]))),Rs<32?1==Rs?Os.setPosition(140,90).setFill(imgArrayJosiah[1].src):2==Rs?Os.setPosition(140,95).setFill(imgArrayJosiah[2].src):3==Rs?Os.setPosition(140,100).setFill(imgArrayJosiah[3].src):4==Rs?Os.setPosition(140,105).setFill(imgArrayJosiah[0].src):5==Rs?Os.setPosition(140,110).setFill(imgArrayJosiah[1].src):6==Rs?Os.setPosition(140,115).setFill(imgArrayJosiah[2].src):7==Rs?Os.setPosition(140,120).setFill(imgArrayJosiah[3].src):8==Rs?Os.setPosition(140,123).setFill(imgArrayJosiah[0].src):9==Rs?Os.setPosition(140,123).setFill(imgArrayJosiah[4].src):10==Rs?Os.setPosition(135,123).setFill(imgArrayJosiah[5].src):11==Rs?Os.setPosition(130,123).setFill(imgArrayJosiah[6].src):12==Rs?Os.setPosition(125,123).setFill(imgArrayJosiah[7].src):13==Rs?Os.setPosition(120,123).setFill(imgArrayJosiah[4].src):14==Rs?Os.setPosition(115,123).setFill(imgArrayJosiah[5].src):15==Rs?Os.setPosition(110,123).setFill(imgArrayJosiah[6].src):16==Rs?Os.setPosition(105,123).setFill(imgArrayJosiah[7].src):17==Rs?Os.setPosition(100,123).setFill(imgArrayJosiah[4].src):18==Rs?Os.setPosition(100,123).setFill(imgArrayJosiah[12].src):19==Rs?Os.setPosition(100,120).setFill(imgArrayJosiah[15].src):20==Rs?Os.setPosition(100,115).setFill(imgArrayJosiah[14].src):21==Rs?Os.setPosition(100,110).setFill(imgArrayJosiah[13].src):22==Rs?Os.setPosition(100,105).setFill(imgArrayJosiah[15].src):23==Rs?Os.setPosition(100,105).setFill(imgArrayJosiah[8].src):24==Rs?Os.setPosition(105,100).setFill(imgArrayJosiah[9].src):25==Rs?Os.setPosition(110,105).setFill(imgArrayJosiah[10].src):26==Rs?Os.setPosition(115,105).setFill(imgArrayJosiah[11].src):27==Rs?Os.setPosition(120,105).setFill(imgArrayJosiah[8].src):28==Rs?Os.setPosition(125,100).setFill(imgArrayJosiah[9].src):29==Rs?Os.setPosition(130,100).setFill(imgArrayJosiah[10].src):30==Rs?Os.setPosition(135,95).setFill(imgArrayJosiah[11].src):31==Rs&&Os.setPosition(140,90).setFill(imgArrayJosiah[13].src):32<=Rs&&(32==Rs?Os.setPosition(140,85).setFill(imgArrayJosiah[15].src):33==Rs?Os.setPosition(140,85).setFill(imgArrayJosiah[8].src):34==Rs||35==Rs?Os.setPosition(140,85).setFill(imgArrayJosiah[0].src):36==Rs?Os.setPosition(140,90).setFill(imgArrayJosiah[1].src):37==Rs?Os.setPosition(140,95).setFill(imgArrayJosiah[2].src):38==Rs?Os.setPosition(145,95).setFill(imgArrayJosiah[8].src):39==Rs?Os.setPosition(150,95).setFill(imgArrayJosiah[9].src):40==Rs?Os.setPosition(155,95).setFill(imgArrayJosiah[10].src):41==Rs?Os.setPosition(160,100).setFill(imgArrayJosiah[11].src):42==Rs?Os.setPosition(165,105).setFill(imgArrayJosiah[8].src):43==Rs?Os.setPosition(170,110).setFill(imgArrayJosiah[9].src):44==Rs||45==Rs?Os.setPosition(170,110).setFill(imgArrayJosiah[12].src):56==Rs?Os.setPosition(170,110).setFill(imgArrayJosiah[4].src):57==Rs?Os.setPosition(165,105).setFill(imgArrayJosiah[5].src):58==Rs?Os.setPosition(160,105).setFill(imgArrayJosiah[6].src):59==Rs?Os.setPosition(155,100).setFill(imgArrayJosiah[7].src):60==Rs?Os.setPosition(150,100).setFill(imgArrayJosiah[5].src):61==Rs?Os.setPosition(145,95).setFill(imgArrayJosiah[6].src):62==Rs?Os.setPosition(140,90).setFill(imgArrayJosiah[7].src):63==Rs?Os.setPosition(140,90).setFill(imgArrayJosiah[1].src):75<Rs&&(Rs=0)))},this,250);var Ds=(new lime.Sprite).setAnchorPoint(0,0).setPosition(137,67).setSize(34,32).setFill("images/UI/upBtn.png");lime.scheduleManager.scheduleWithDelay(function(){var e;"Pasture"==sceneActive&&((e=Ds.getPosition()).x-=5,e.x<132&&(e.x=137),Ds.setPosition(e))},this,500),bi.appendChild(Ds),3<=player.pastureLevel&&(Ds.setHidden(!0),ji.setHidden(!0),goog.events.removeAll(Ds));var Ns=(new lime.Sprite).setAnchorPoint(0,0).setPosition(190,45).setSize(50,64).setFill("images/UI/speechBubble.png");bi.appendChild(Ns);var Gs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,2).setSize(27,30).setFill("images/"+g.crops[7].harvest);Ns.appendChild(Gs);var Us=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,42).setSize(30,18).setFontFamily("Comic Sans MS");Ns.appendChild(Us),Ns.setHidden(!0);var Ws=0;goog.events.listen(Ns,["mousedown","touchstart"],function(){Ns.setHidden(!0),n.play(),player.cropsStored[7].stored=player.cropsStored[7].stored+Ws,count7.setText(player.cropsStored[7].stored),Ql.setText(player.cropsStored[7].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Ws=0}),lime.scheduleManager.scheduleWithDelay(function(){2==sceneBefore&&e.play(),1==t[1].owned&&setTimeout(function(){g.harvestMilk()},0),1<vinyardHouseLevel&&setTimeout(function(){g.makeJelly()},0)},this,6e4),g.harvestMilk=function(){player.cropsStored[6].stored>=player.pastureLevel+player.treesP&&(Ws+=player.pastureLevel+player.treesP,player.cropsStored[6].stored=player.cropsStored[6].stored-(player.pastureLevel+player.treesP),count6.setText(player.cropsStored[6].stored),Xl.setText(player.cropsStored[6].stored),Ns.setHidden(!1),Us.setText("+ "+Ws),g.haySize())},g.makeJelly=function(){2<=player.cropsStored[12].stored&&1<vinyardHouseLevel&&0<player.cropsStored[16].stored&&(cS.setHidden(!1),uS+=1,player.cropsStored[12].stored=parseInt(player.cropsStored[12].stored)-2,player.cropsStored[16].stored=parseInt(player.cropsStored[16].stored)-1,count12.setText(player.cropsStored[12].stored),id.setText(player.cropsStored[12].stored),ad.setText(player.cropsStored[16].stored),hS.setText("+ "+uS),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver),zP(),lime.scheduleManager.callAfter(function(){yS.setHidden(!1),yS.setPosition(145,320),yS.setOpacity(1)},this,500),lime.scheduleManager.callAfter(function(){yS.setHidden(!1),yS.setPosition(145,310),yS.setOpacity(.8)},this,1e3),lime.scheduleManager.callAfter(function(){yS.setHidden(!1),yS.setPosition(145,300),yS.setOpacity(.6)},this,1500),lime.scheduleManager.callAfter(function(){yS.setHidden(!1),yS.setPosition(145,290),yS.setOpacity(.4)},this,2e3),lime.scheduleManager.callAfter(function(){yS.setHidden(!1),yS.setPosition(145,280),yS.setOpacity(.2)},this,2500),lime.scheduleManager.callAfter(function(){yS.setHidden(!0)},this,3e3))},g.haySize=function(){player.cropsStored[6].stored<=0&&(or.setHidden(!0),ir.setHidden(!0)),1<=player.cropsStored[6].stored&&or.setHidden(!1),2<=player.cropsStored[6].stored&&ir.setHidden(!1),12<=player.cropsStored[6].stored&&or.setSize(30,15),24<=player.cropsStored[6].stored&&ir.setSize(30,15),50<=player.cropsStored[6].stored&&or.setSize(40,20),75<=player.cropsStored[6].stored&&or.setSize(40,20),85<=player.cropsStored[6].stored&&or.setSize(50,25),100<=player.cropsStored[6].stored&&or.setSize(50,25)};var Vs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,55).setSize(59,83).setFill("images/Pasture/"+g.PastureUpgrades[0].image);bi.appendChild(Vs);var Js=(new lime.Sprite).setAnchorPoint(0,0).setPosition(243,55).setSize(59,83).setFill("images/Pasture/"+g.PastureUpgrades[1].image);for(bi.appendChild(Js),Vs.setHidden(!0),Js.setHidden(!0),1<player.pastureLevel&&(Vs.setHidden(!1),2<player.pastureLevel&&Js.setHidden(!1)),S=0;S<g.num_tiles_x;S++)for(Ee=0;Ee<2;Ee++){var Ys,qs,ke=S*g.tile_size+12,Oe=Ee*g.tile_size+352,js=Ee,Ks=S,$s="",Xs="",$s="hay1-";Xs=Xs.concat($s.toString(),Ks.toString(),js.toString()),Ys=0==S&&0==Ee?new farming.Land(g,o,ke,Oe,2,"tlt",Xs).setPosition(S*g.tile_size+12,Ee*g.tile_size+352):3==S&&0==Ee?new farming.Land(g,o,ke,Oe,2,"trt",Xs).setPosition(S*g.tile_size+12,Ee*g.tile_size+352):3==S&&1==Ee?new farming.Land(g,o,ke,Oe,2,"brt",Xs).setPosition(S*g.tile_size+12,Ee*g.tile_size+352):0==S&&1==Ee?new farming.Land(g,o,ke,Oe,2,"blt",Xs).setPosition(S*g.tile_size+12,Ee*g.tile_size+352):new farming.Land(g,o,ke,Oe,2,"non",Xs).setPosition(S*g.tile_size+12,Ee*g.tile_size+352),bi.appendChild(Ys),ke=S*g.tile_size+175,Xs=(Xs="").concat(($s="hay2-").toString(),Ks.toString(),js.toString()),qs=0==S&&0==Ee?new farming.Land(g,o,ke,Oe,2,"tlt",Xs).setPosition(S*g.tile_size+175,Ee*g.tile_size+352):3==S&&0==Ee?new farming.Land(g,o,ke,Oe,2,"trt",Xs).setPosition(S*g.tile_size+175,Ee*g.tile_size+352):3==S&&1==Ee?new farming.Land(g,o,ke,Oe,2,"brt",Xs).setPosition(S*g.tile_size+175,Ee*g.tile_size+352):0==S&&1==Ee?new farming.Land(g,o,ke,Oe,2,"blt",Xs).setPosition(S*g.tile_size+175,Ee*g.tile_size+352):new farming.Land(g,o,ke,Oe,2,"non",Xs).setPosition(S*g.tile_size+175,Ee*g.tile_size+352),bi.appendChild(qs)}var Qs=(new lime.Sprite).setAnchorPoint(0,0).setPosition(143,345).setSize(21,92).setFill(imgArrayPasture[5]);bi.appendChild(Qs);var Zs=o.currentCrop,er=(new lime.Label).setPosition(156,180).setSize(25,25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600);bi.appendChild(er);var tr=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);er.appendChild(tr),er.setHidden(!0);var or=(new lime.Sprite).setPosition(98,138).setSize(20,10).setFill("images/Pasture/hayPile.png");bi.appendChild(or);var ir=(new lime.Sprite).setPosition(211,138).setSize(20,10).setFill("images/Pasture/hayPile.png");bi.appendChild(ir);var sr=(new lime.Sprite).setPosition(285,310).setSize(11,6).setFill("images/Pasture/hayPile.png");bi.appendChild(sr);var rr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w/2-19,g.height/2+100).setFill("images/"+g.crops[6].image).setSize(26,21);bi.appendChild(rr),rr.setHidden(!0);var nr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,g.height-g.controlsLayer_h).setSize(90,61).setFill("images/"+g.barnyard[3].image);bi.appendChild(nr),goog.events.listen(nr,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=2,townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),setTimeout(function(){validCropsStored()},0),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market",ap(),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored))});var ar=(new lime.Sprite).setAnchorPoint(0,0).setPosition(1,424).setSize(40,40).setFill(imgArray[46]);bi.appendChild(ar);var lr=(new lime.Sprite).setPosition(g.controlsLayer_w/2-5,23).setSize(38,38).setFill(imgArrayItems[25].src);bi.appendChild(lr),goog.events.listen(lr,["mousedown","touchstart"],function(){g.sceneBefore=2,Xd(),ud.setText(starCash),h.replaceScene(Fl,lime.transitions.SlideInDown),setTimeout(function(){validCropsStored()},0),sceneActive="Invntory",Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)});var dr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#000F00").setOpacity(.75);bi.appendChild(dr),dr.setHidden(!0);var gr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,100).setSize(210,220).setFill(imgArray[33]);bi.appendChild(gr);var mr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(122,212).setSize(75,35).setFill("images/UI/buyStarCash.png");gr.appendChild(mr);var cr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,212).setSize(75,35).setFill(imgArray[32]);gr.appendChild(cr);var pr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(89,212).setSize(35,35).setFill(imgArray[21]);gr.appendChild(pr),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),goog.events.listen(mr,["mousedown","touchstart"],function(){warningSeen=1,gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0),Ru.setHidden(!0),RP()}),goog.events.listen(cr,["mousedown","touchstart"],function(){warningSeen=1,gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0),Ru.setHidden(!0),setTimeout(function(){g.updateStored()},0),globalModalBlock=0,townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),setTimeout(function(){validCropsStored()},0),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market",ap()}),goog.events.listen(pr,["mousedown","touchstart"],function(){gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0),dr.setHidden(!0),Ru.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),warningSeen=1,globalModalBlock=0}),player.money<g.crops[o.currentCrop].cost&&0==warningSeen&&(dr.setHidden(!1),ct.setHidden(!1),xa.setHidden(!1),Ru.setHidden(!1),kS.setHidden(!1),globalModalBlock=1,gr.setHidden(!1),cr.setHidden(!1),mr.setHidden(!1),tl.setHidden(!1),il.setHidden(!1),ol.setHidden(!1),OS.setHidden(!1),DS.setHidden(!1),RS.setHidden(!1),Ht.setHidden(!1),zt.setHidden(!1),Et.setHidden(!1));var hr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,100).setSize(210,220).setFill("images/UI/saleBack.png");bi.appendChild(hr);var ur=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000000").setPosition(45,135).setSize(125,60).setFontSize(22).setText("Vineyard 12,500");hr.appendChild(ur);var yr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,165).setSize(30,30).setFill(imgArray11[0]);hr.appendChild(yr);var Sr=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#FF0000").setPosition(55,190).setSize(110,60).setFontSize(10).setText("Earn more $ to buy");hr.appendChild(Sr);var fr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,212).setSize(75,35).setFill("images/UI/greenBuy.png");hr.appendChild(fr);var Ar=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,212).setSize(35,35).setFill(imgArray[21]);hr.appendChild(Ar),hr.setHidden(!0),goog.events.listen(ar,["mousedown","touchstart"],function(){0==globalModalBlock&&(globalModalBlock=1,fsClicked=3,dr.setHidden(!1),hr.setHidden(!1),12500<=player.money?(Sr.setHidden(!0),fr.setHidden(!1)):fr.setHidden(!0),ur.setText("Vineyard 12,500"))}),goog.events.listen(fr,["mousedown","touchstart"],function(){player.money=player.money-12500,g.updateMoney(),t[3].owned=1,localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(t)),hr.setHidden(!0),zi.setHidden(!1),ar.setHidden(!0),hr.setHidden(!0),dr.setHidden(!0),kS.setHidden(!0),globalModalBlock=fsClicked=0,goog.events.removeAll(ar),goog.events.removeAll(Ar),goog.events.removeAll(fr),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0)}),goog.events.listen(Ar,["mousedown","touchstart"],function(){hr.setHidden(!0),dr.setHidden(!0),globalModalBlock=0}),1==t[3].owned&&(goog.events.removeAll(ar),goog.events.removeAll(Ar),goog.events.removeAll(fr));var vr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill("images/UI/achieveNotif.png"),Fr=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");vr.appendChild(Fr);var wr=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(30,123).setSize(150,60).setFontSize(14).setText("Achieve Text");vr.appendChild(wr);var Pr=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");vr.appendChild(Pr);var Cr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill("images/UI/checkButton.png");vr.appendChild(Cr),bi.appendChild(vr),vr.setHidden(!0),goog.events.listen(Cr,["mousedown","touchstart"],function(){globalModalBlock=0,Nt.setHidden(!0),vr.setHidden(!0),GS.setHidden(!0),$a.setHidden(!0),Du.setHidden(!0)});var Tr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(62,145).setSize(180,200).setFill("images/UI/shortage.png");bi.appendChild(Tr);var _r=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,195).setSize(40,40).setFill("images/UI/checkButton.png");Tr.appendChild(_r);var Ir=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(5,120).setSize(170,40).setFontSize(14).setText("Livestock Hungry!");Tr.appendChild(Ir);var br=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,140).setSize(55,30).setFill("images/Pasture/cow_eatR1.png");Tr.appendChild(br);var xr=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setPosition(55,145).setFontColor("#E8FC08").setSize(24,140).setFontSize(22).setText("+");Tr.appendChild(xr);var Hr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(77,140).setFill("images/"+g.crops[6].harvest).setSize(30,30);Tr.appendChild(Hr);var Er=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setPosition(110,145).setSize(24,140).setFontColor("#E8FC08").setFontSize(22).setText("=");Tr.appendChild(Er);var zr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(132,140).setFill("images/"+g.crops[7].harvest).setSize(35,35);Tr.appendChild(zr);var Mr=(new lime.Label).setPosition(90,186).setSize(20,16).setText(player.cropsStored[6].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Tr.appendChild(Mr),Tr.setHidden(!0),goog.events.listen(_r,["mousedown","touchstart"],function(){Tr.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0)});var Lr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill("images/UI/compass3.png");bi.appendChild(Lr);var Br=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[48]);Lr.appendChild(Br);var kr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[49]);Lr.appendChild(kr);var Or=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[46]);Lr.appendChild(Or);var Rr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);Lr.appendChild(Rr);var Dr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);Lr.appendChild(Dr);var Nr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);Lr.appendChild(Nr),Lr.setHidden(!0),goog.events.listen(Ri,["mousedown","touchstart"],function(){0==globalModalBlock&&R()}),goog.events.listen(Nr,["mousedown","touchstart"],function(){D(),globalModalBlock=0}),goog.events.listen(Rr,["mousedown","touchstart"],function(){compassVisible&&(D(),g.sceneBefore=1,Zs=localStorage.getItem("MedFarms_selectedHomeCrop"),homeCrop=parseInt(Zs),h.replaceScene(u,lime.transitions.SlideInRight),o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),sceneActive="Home",globalModalBlock=0,setTimeout(function(){validCropsStored()},0))}),goog.events.listen(Dr,["mousedown","touchstart"],function(){1==t[1].owned&&compassVisible&&(D(),g.sceneBefore=2,o.currentCrop=6,globalModalBlock=0)}),goog.events.listen(Br,["mousedown","touchstart"],function(){1==t[2].owned&&compassVisible&&(Zs=o.currentCrop,o.currentCrop=8,g.sceneBefore=3,r.play(),D(),h.replaceScene(Jr,lime.transitions.SlideInRight),setTimeout(function(){validCropsStored()},0),sceneActive="Orchard",globalModalBlock=0)}),goog.events.listen(Or,["mousedown","touchstart"],function(){1==t[3].owned&&compassVisible&&(D(),g.sceneBefore=4,h.replaceScene(ny,lime.transitions.SlideInLeft),sceneActive="Vineyard",setTimeout(function(){validCropsStored(),kP()},0),r.stop(),Zs=o.currentCrop,o.currentCrop=12,globalModalBlock=0)}),goog.events.listen(kr,["mousedown","touchstart"],function(){1==t[4].owned&&compassVisible&&(D(),g.sceneBefore=5,h.replaceScene(Rh,lime.transitions.SlideInRight),sceneActive="LS",r.stop(),a.play(),l.play(),lime.scheduleManager.callAfter(function(){d.play()},this,5e3),setTimeout(function(){kP(),validCropsStored()},0),globalModalBlock=0)}),goog.events.listen(ue,["mousedown","touchstart"],function(){0==globalModalBlock&&(h.replaceScene(Ii,lime.transitions.SlideInLeft),sceneActive="Pasture",(5<(homeCrop=parseInt(o.currentCrop))||isNaN(homeCrop)||homeCrop<0)&&(homeCrop=localStorage.getItem("MedFarms_selectedHomeCrop")),Zs=localStorage.getItem("MedFarms_selectedHomeCrop"),o.currentCrop=6,sceneBefore=2,e.play(),setTimeout(function(){kP(),validCropsStored()},0))}),goog.events.listen(Mi,["mousedown","touchstart"],function(){0==globalModalBlock&&(h.replaceScene(u,lime.transitions.SlideInRight),setTimeout(function(){validCropsStored()},0),sceneActive="Home",o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),(5<o.currentCrop||isNaN(o.currentCrop)||o.currentCrop<0)&&(o.CurrentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),q.setText("Plant "+g.crops[o.currentCrop].name),j.setFill("images/"+g.crops[o.currentCrop].harvest)),sceneBefore=1)}),goog.events.listen(As,["mousedown","touchstart"],function(){var e,t,o,i;500<=player.tools&&0==globalModalBlock&&(As.setHidden(!0),player.tools=player.tools-500,setTimeout(function(){g.updateTools()},0),vs.setHidden(!1),Fs.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){35<(ws+=10)&&(ws=-10),fs.setRotation(ws)},this,200,300),e=60,t=100,o=175,i=90,lime.scheduleManager.scheduleWithDelay(function(){vs.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<165&&(o=175,i=90,t=285)},this,250,240),lime.scheduleManager.scheduleWithDelay(function(){--e,Fs.setText(e),e<=0&&(Fs.setHidden(!0),vs.setHidden(!0),e=60,player.treesP=1,setTimeout(function(){g.updateTools()},0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Ss.setHidden(!0),fs.setHidden(!0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver))},this,1e3,60))});var Gr=60,Ur=0,Wr=0;imgArray6[0].src;goog.events.listen(Ds,["mousedown","touchstart"],function(){Ur=250,Wr=100;var t=(new lime.Sprite).setPosition(155,240).setSize(250,250).setFill("images/UI/blankBack5.png");bi.appendChild(t);var e=(new lime.Label).setPosition(0,-90).setSize(250,30).setText("Upgrade Dairy Barn").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22);t.appendChild(e);var o=(new lime.Sprite).setPosition(-40,-20).setSize(40,40).setFill(imgArray[30]);t.appendChild(o);var i=(new lime.Label).setPosition(-40,30).setSize(250,25).setText(Ur).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22);t.appendChild(i);var s=(new lime.Sprite).setPosition(40,-20).setSize(40,40).setFill("images/"+g.crops[14].harvest);t.appendChild(s);var r=(new lime.Label).setPosition(40,30).setSize(250,25).setText(Wr).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22);t.appendChild(r);var n=(new lime.Label).setPosition(0,50).setSize(250,25).setText("You need more resources").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(14);t.appendChild(n),n.setHidden(!0);var a=(new lime.GlossyButton).setColor("#1ce636").setText("Upgrade").setPosition(0,70).setSize(80,35);t.appendChild(a);var l=(new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(0,130).setSize(40,40);t.appendChild(l);var d=(new lime.Sprite).setPosition(0,0).setSize(40,40).setFill(imgArray[21].src);l.appendChild(d),parseInt(player.cropsStored[14].stored)<Wr&&(a.setHidden(!0),n.setHidden(!1)),player.tools<Ur&&(a.setHidden(!0),n.setHidden(!1)),goog.events.listen(l,["mousedown","touchstart"],function(e){t.setHidden(!0),goog.events.removeAll(l),e.event.stopPropagation()}),goog.events.listen(a,["mousedown","touchstart"],function(e){t.setHidden(!0),setTimeout(function(){Vr(Ur,Wr)},0),e.event.stopPropagation()})});Gr=120;function Vr(e,t){var o,i,s;0==barnUpInProgressPasture&&player.tools>=e&&parseInt(player.pastureLevel)<=3&&0==globalModalBlock&&parseInt(player.cropsStored[14].stored)>=t&&(barnUpInProgressPasture=1,Ds.setHidden(!0),player.tools=player.tools-e,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-parseInt(t),player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),$i.setHidden(!1),Ki.setHidden(!1),Xi.setText(Gr),Xi.setHidden(!1),setTimeout(function(){g.updateStored(),g.updateTools()},0),o=70,i=10,s=5,lime.scheduleManager.scheduleWithDelay(function(){--Gr,Xi.setText(Gr),upgradesInProgress.buildings[1].timeLeft=Gr,upgradesInProgress.buildings[1].currentBarnLevel=player.pastureLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),Gr<=0&&(Xi.setHidden(!0),Ki.setHidden(!0),$i.setHidden(!0),Gr=120)},this,1e3,Gr),1==player.pastureLevel&&lime.scheduleManager.scheduleWithDelay(function(){$i.setPosition(i,s).setSize(o,200),o+=10,s-=5,(i-=5)<-10&&(i=10,s=5,o=60),35<(Zi+=10)&&(Zi=-10),Qi.setRotation(Zi)},this,250,4*Gr),2==player.pastureLevel&&(Ki.setPosition(240,70),Xi.setPosition(275,80),Qi.setPosition(-22,-50),o=70,i=240,s=5,lime.scheduleManager.scheduleWithDelay(function(){$i.setPosition(i,s).setSize(o,200),o+=10,s-=5,(i-=5)<220&&(i=240,s=5,o=60),35<(Zi+=10)&&(Zi=-10),Qi.setRotation(Zi)},this,250,4*Gr)),lime.scheduleManager.callAfter(function(){try{player.pastureLevel=parseInt(player.pastureLevel)+1,3<player.pastureLevel&&(player.pastureLevel=3),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),2==player.pastureLevel&&(ji.setText("Lvl 2/3 "),Vs.setHidden(!1),Ds.setHidden(!1)),3<=player.pastureLevel&&(Vs.setHidden(!1),Js.setHidden(!1),ji.setHidden(!0),Ds.setHidden(!0),zP(),ji.setText("Lvl 3/3 ")),$i.setHidden(!0),Ki.setHidden(!0),Xi.setHidden(!0),upgradesInProgress.buildings[1].timeLeft=0,upgradesInProgress.buildings[1].currentBarnLevel=player.pastureLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),barnUpInProgressPasture=0}catch(e){console.log(e)}},this,1e3*Gr))}var Jr=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),Yr=(new lime.Layer).setAnchorPoint(0,0),qr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height-5);Jr.appendChild(qr),Jr.appendChild(Yr);var jr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,40).setSize(g.controlsLayer_w,g.landLayer_h+37).setFill("images/"+g.barnyard[0].image);Yr.appendChild(jr);var Kr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,44).setSize(310,420).setFill("images/"+g.orchard[0].image);Yr.appendChild(Kr);var $r=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,435).setSize(109,25).setFill("images/"+g.barnyard[15].image);Yr.appendChild($r);var Xr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(152,435).setSize(170,25).setFill("images/"+g.barnyard[15].image);Yr.appendChild(Xr);var Qr=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,76).setSize(140,140).setFill(imgArray4[17]);Yr.appendChild(Qr);var Zr=(new lime.GlossyButton).setColor("#00ff00").setText("").setPosition(58,65).setSize(40,40).setOpacity(.1);Qr.appendChild(Zr);var en=(new lime.Sprite).setAnchorPoint(0,0).setPosition(38,43).setSize(39,42).setFill("images/UI/upBtn.png");Qr.appendChild(en);var tn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,135).setSize(38,43).setFill("images/UI/rockBlock.png");Yr.appendChild(tn);var on=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,150).setSize(38,43).setFill("images/UI/rockBlock.png");Yr.appendChild(on);var sn=(new lime.GlossyButton).setColor("#00ff00").setText("").setPosition(121,190).setSize(32,32).setOpacity(.9);Yr.appendChild(sn);var rn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,175).setSize(32,32).setFill("images/UI/pickBtn.png");Yr.appendChild(rn),0==orchardBarnLevel&&(Qr.setFill(imgArray4[17]),tn.setHidden(!1),on.setHidden(!1),sn.setHidden(!1),rn.setHidden(!1),Zr.setHidden(!0),en.setHidden(!0)),1==orchardBarnLevel&&(Qr.setFill(imgArray4[17]),tn.setHidden(!0),on.setHidden(!0),sn.setHidden(!0),rn.setHidden(!0),Zr.setHidden(!1),en.setHidden(!1)),2==orchardBarnLevel&&(Qr.setFill(imgArray4[18]),tn.setHidden(!0),on.setHidden(!0),sn.setHidden(!0),rn.setHidden(!0),Zr.setHidden(!0),en.setHidden(!0));var nn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,114).setSize(110,100).setFill(imgArray[26]);Yr.appendChild(nn);var an=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,90).setSize(120,150).setFill(imgArray[24].src);Yr.appendChild(an);var ln=(new lime.Label).setText("60").setPosition(50,145).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill(imgArray[27]),dn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]),gn=(new lime.Label).setAnchorPoint(0,0).setFontColor("#E8FC08").setPosition(20,74).setSize(70,16).setFontSize(16).setFontWeight(600).setText("Lvl 1/2").setFill(imgArray[28]);Yr.appendChild(gn),Yr.appendChild(ln),ln.appendChild(dn),dn.setRotation(-10);var mn=-10,cn=60;ln.setHidden(!0),nn.setHidden(!0),an.setHidden(!0);var pn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,135).setSize(38,43).setFill(imgArrayStore[3].src).setRotation(-45);Yr.appendChild(pn);var hn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(98,135).setSize(38,43).setFill(imgArray[24].src);Yr.appendChild(hn);var un=(new lime.Label).setText("60").setPosition(120,185).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill(imgArray[27]);Yr.appendChild(un),pn.setHidden(!0),hn.setHidden(!0),un.setHidden(!0),goog.events.listen(sn,["mousedown","touchstart"],function(){var e,t,o,i,s,r,n;1==collectItems.storeItems[3].owned?(sn.setHidden(!0),rn.setHidden(!0),pn.setHidden(!1),hn.setHidden(!1),un.setHidden(!1),t=38,o=98,i=135,r=s=0,n=4*(e=60),lime.scheduleManager.scheduleWithDelay(function(){--n,4==(r+=1)&&(--e,un.setText(e),r=0),hn.setPosition(o,i).setSize(t,46),t+=10,i-=5,(o-=5)<70&&(o=98,i=135,t=38),-15<(s+=10)&&(s=-45),pn.setRotation(s),n<=0&&(pn.setHidden(!0),hn.setHidden(!0),tn.setHidden(!0),on.setHidden(!0),un.setHidden(!0),Zr.setHidden(!1),en.setHidden(!1),orchardBarnLevel=1,localStorage.setItem("MedFarm_orchardBarnLevel",1),al.setText("If you upgrade the barn, we can increase our harvests"),dl.setHidden(!0),ll.setFill(imgArray4[1]))},this,250,241)):(rl.setHidden(!1),al.setText("If you had a STEEL PICK to clear rocks, we could upgrade this barn"))});var yn=0,Sn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(148,240).setSize(70,70).setFill(imgArray4[19]);Yr.appendChild(Sn),Sn.owned=0,Sn.setHidden(!0);var fn=(new lime.GlossyButton).setColor("#663300").setText("").setPosition(35,35).setSize(70,70).setOpacity(.2);Sn.appendChild(fn);var An=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,-60).setSize(45,66).setFill("images/UI/speechBubble.png");Sn.appendChild(An);var vn=(new lime.Label).setAnchorPoint(0,0).setPosition(0,5).setSize(40,25).setText("+ "+yn).setFontColor("#E8FC08").setFontSize(14).setFontFamily("ComicSans MS");An.appendChild(vn);var Fn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,17).setSize(30,30).setFill(imgArray4[21]);An.appendChild(Fn),yn<=0&&An.setHidden(!0),1==(ciderEnabled=localStorage.getItem("MedFarm_ciderPlaceOwned"))&&(Sn.setHidden(!1),fn.setHidden(!0),Sn.setFill(imgArray4[20]),Sn.owned=1);var wn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-18,-30).setSize(35,40).setFill("images/UI/needFruit.png").setHidden(!0);Sn.appendChild(wn),1==collectItems.storeItems[4].owned&&1==ciderEnabled&&player.cropsStored[8].stored<1&&player.cropsStored[9].stored<1&&wn.setHidden(!1),goog.events.listen(wn,["mousedown","touchstart"],function(){rl.setHidden(!1),al.setText("We need APPLES or PEARS to make more CIDER"),dl.setHidden(!1),dl.setFill("images/apple.png"),ll.setFill("images/pear.png")});var Pn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(14,-30).setSize(35,40).setFill("images/UI/needBarrels.png").setHidden(!0);Sn.appendChild(Pn),1==collectItems.storeItems[4].owned&&1==ciderEnabled&&player.cropsStored[17].stored<1&&Pn.setHidden(!1),goog.events.listen(Pn,["mousedown","touchstart"],function(){rl.setHidden(!1),al.setText("We need more BARRELS to make more CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArray4[1])}),goog.events.listen(fn,["mousedown","touchstart"],function(){var e,t=localStorage.getItem("MedFarm_ciderPlaceOwned");1==collectItems.storeItems[4].owned&&0==t?(rl.setHidden(!1),al.setText("Put that FRUIT PRESS here. Place it now?"),dl.setHidden(!1),dl.setFill(imgArray4[21]),ll.setFill(imgArray4[1]),e=(new lime.GlossyButton).setPosition(125,177).setSize(65,21).setColor("#00FF00").setText("PLACE"),rl.appendChild(e),goog.events.listen(e,["mousedown","touchstart"],function(){Sn.setFill(imgArray4[20]),rl.setHidden(!0),e.setHidden(!0),Sn.owned=1,ciderEnabled=1,localStorage.setItem("MedFarm_ciderPlaceOwned",1),fn.setHidden(!0)})):1==collectItems.storeItems[4].owned&&1==t?(rl.setHidden(!1),al.setText("If we had some BARRELS, we could make CIDER with Apples and Pears"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArrayStore[4])):1<=player.cropsStored[17]&&1==t?(rl.setHidden(!1),al.setText("Making Cider out of our spare apples and pears"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArrayStore[4])):0==collectItems.storeItems[4].owned&&0==t&&(rl.setHidden(!1),al.setText("This would be a good place to put a FRUIT PRESS to make CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArrayStore[4]))}),goog.events.listen(An,["mousedown","touchstart"],function(){player.cropsStored[18].stored=parseInt(player.cropsStored[18].stored)+parseInt(yn),dd.setText(player.cropsStored[18].stored),setTimeout(function(){g.updateStored()},0),yn=0,An.setHidden(!0)});g.tile_size,g.tile_size;var Cn=new farming.Land(g,o,5,195,3,"non","tree1").setPosition(5,195);Cn.setSize(40,50),Yr.appendChild(Cn);var Tn=new farming.Land(g,o,65,195,3,"non","tree2").setPosition(65,195);Tn.setSize(40,50),Yr.appendChild(Tn);var _n=new farming.Land(g,o,5,250,3,"non","tree3").setPosition(5,250);_n.setSize(40,50),Yr.appendChild(_n);var In=new farming.Land(g,o,65,250,3,"non","tree4").setPosition(65,250);In.setSize(40,50),Yr.appendChild(In);var bn=new farming.Land(g,o,5,310,3,"non","tree5").setPosition(5,310);bn.setSize(40,50),Yr.appendChild(bn);var xn=new farming.Land(g,o,65,310,3,"non","tree6").setPosition(65,310);xn.setSize(40,50),Yr.appendChild(xn);var Hn=new farming.Land(g,o,5,365,3,"non","tree7").setPosition(5,365);Hn.setSize(40,50),Yr.appendChild(Hn);var En=new farming.Land(g,o,65,365,3,"non","tree8").setPosition(65,365);En.setSize(40,50),Yr.appendChild(En);var zn=new farming.Land(g,o,215,245,32,"non","tree9").setPosition(215,245);zn.setSize(40,50),Yr.appendChild(zn);var Mn=new farming.Land(g,o,250,180,32,"non","tree10").setPosition(250,180);Mn.setSize(40,50),Yr.appendChild(Mn);var Ln=new farming.Land(g,o,160,310,32,"non","tree12").setPosition(160,310);Ln.setSize(40,50),Yr.appendChild(Ln);var Bn=new farming.Land(g,o,160,375,32,"non","tree13").setPosition(160,375);Bn.setSize(40,50),Yr.appendChild(Bn);var kn=new farming.Land(g,o,215,375,32,"non","tree14").setPosition(215,375);kn.setSize(40,50),Yr.appendChild(kn);var On=new farming.Land(g,o,270,375,32,"non","tree15").setPosition(270,375);On.setSize(40,50),Yr.appendChild(On);var Rn=new farming.Land(g,o,215,310,32,"non","tree16").setPosition(215,310);Rn.setSize(40,50),Yr.appendChild(Rn);var Dn=new farming.Land(g,o,270,310,32,"non","tree17").setPosition(270,310);Dn.setSize(40,50),Yr.appendChild(Dn);var Nn=new farming.Land(g,o,270,245,32,"non","tree18").setPosition(270,245);Nn.setSize(40,50),Yr.appendChild(Nn);var Gn=(new lime.Label).setPosition(156,180).setSize(25,25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600);Yr.appendChild(Gn);var Un=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);Gn.appendChild(Un),Gn.setHidden(!0);var Wn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(155,88).setSize(36,75).setFill(g.waterfallImg[0].image);Yr.appendChild(Wn);var Vn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(120,290).setSize(22,44).setFill(g.waterfallImg[4].image);Yr.appendChild(Vn);var Jn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(120,350).setSize(22,44).setFill(g.waterfallImg[4].image);Yr.appendChild(Jn);var Yn=localStorage.getItem("GuiGhostFarms_orchardTreeBlock"),qn=0;g.waterAnim=function(){var e=0,t=0,o=0,i=0;setInterval(function(){3<e&&(e=0),3<t&&(t=0),o++,i++,qn++,Wn.setFill(g.waterfallImg[e].image),0==t&&(Vn.setFill(g.waterfallImg[5].image),Jn.setFill(g.waterfallImg[5].image)),1<t&&(Vn.setFill(g.waterfallImg[4].image),Jn.setFill(g.waterfallImg[4].image)),e+=1,t+=1,2==o&&(Zr.setPosition(58,65),en.setPosition(38,43)),4==o&&(Zr.setPosition(58,60),en.setPosition(38,38),o=0),3==qn&&((qn=0)==orchardBarnLevel?(Qr.setFill(imgArray4[17]),tn.setHidden(!1),on.setHidden(!1),Zr.setHidden(!0),en.setHidden(!0),Sn.setHidden(!0),fn.setHidden(!0)):1==orchardBarnLevel?(Qr.setFill(imgArray4[17]),sn.setHidden(!0),rn.setHidden(!0),tn.setHidden(!0),on.setHidden(!0),Sn.setHidden(!0),fn.setHidden(!0)):2==orchardBarnLevel&&(Zr.setHidden(!0),en.setHidden(!0),Sn.setHidden(!1),Qr.setFill(imgArray4[18]),sn.setHidden(!0),rn.setHidden(!0),tn.setHidden(!0),on.setHidden(!0),gn.setText("Lvl 2/2")),Yn=localStorage.getItem("GuiGhostFarms_orchardTreeBlock"),orchardBarnLevel=localStorage.getItem("MedFarm_orchardBarnLevel"),Yn<2?(Sn.setHidden(!0),Sn.setHidden(!0),fn.setHidden(!0)):2==Yn&&2==orchardBarnLevel&&(Sn.setHidden(!1),fn.setHidden(!1),Sn.setFill(imgArray4[19])),1==(ciderEnabled=localStorage.getItem("MedFarm_ciderPlaceOwned"))?(Sn.setFill(imgArray4[20]),fn.setHidden(!0)):(Sn.setFill(imgArray4[19]),fn.setHidden(!1)),1==ciderEnabled&&player.cropsStored[8].stored<1&&player.cropsStored[9].stored<1?wn.setHidden(!1):wn.setHidden(!0),1==collectItems.storeItems[4].owned&&1==ciderEnabled&&player.cropsStored[17].stored<1?Pn.setHidden(!1):1==collectItems.storeItems[4].owned&&1==ciderEnabled&&1<player.cropsStored[17].stored&&Pn.setHidden(!0)),240<i&&(1==ciderEnabled&&0<player.cropsStored[17].stored&&0<player.cropsStored[9].stored?(player.cropsStored[17].stored=player.cropsStored[17].stored-1,player.cropsStored[9].stored=player.cropsStored[9].stored-1,yn=parseInt(yn)+1,An.setHidden(!1),vn.setText("+ "+yn)):1==ciderEnabled&&0<player.cropsStored[17].stored&&0<player.cropsStored[8].stored&&(player.cropsStored[17].stored=player.cropsStored[17].stored-1,player.cropsStored[8].stored=player.cropsStored[8].stored-1,yn=parseInt(yn)+1,An.setHidden(!1),vn.setText("+ "+yn)),i=0)},250)},g.waterAnim();var jn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(158,150).setSize(150,290).setFill("images/Orchard/treeBlockO.png").setHidden(!1);Yr.appendChild(jn);var Kn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,60).setSize(150,320).setFill(imgArray[24].src);jn.appendChild(Kn);var $n=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,105).setSize(40,40).setFill("images/axe.png");jn.appendChild($n);var Xn=(new lime.Sprite).setAnchorPoint(0,0).setPosition(225,290).setSize(35,35).setFill("images/tools500.png");Yr.appendChild(Xn);var Qn=(new lime.Label).setText("60").setPosition(75,200).setSize(40,25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill(imgArray[27]);jn.appendChild(Qn);var Zn=0;Kn.setHidden(!0),Qn.setHidden(!0),orchardTreeBlock=localStorage.getItem("GuiGhostFarms_orchardTreeBlock"),goog.events.removeAll(Xn),goog.events.listen(Xn,["mousedown","touchstart"],function(){var e,t,o,i;0==globalModalBlock&&1==xa.getHidden()&&500<=player.tools&&(player.tools=player.tools-500,setTimeout(function(){g.updateTools()},0),Xn.setHidden(!0),Kn.setHidden(!1),Qn.setHidden(!1),t=380,o=0,i=e=60,lime.scheduleManager.scheduleWithDelay(function(){Kn.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<-15&&(o=0,i=60,t=290),35<(Zn+=10)&&(Zn=-10),$n.setRotation(Zn)},this,250,240),lime.scheduleManager.scheduleWithDelay(function(){--e,Qn.setText(e),e<=0&&(Qn.setHidden(!0),Kn.setHidden(!0),e=60,player.fields=player.fields+1,setTimeout(function(){g.updateTools()},0),orchardTreeBlock=2,jn.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),Ha.setHidden(!1),lime.scheduleManager.callAfter(function(){Ha.setHidden(!0)},this,3e3),localStorage.GuiGhostFarms_orchardTreeBlock=2,goog.events.removeAll(Xn))},this,1e3,60))}),1<orchardTreeBlock&&(jn.setHidden(!0),goog.events.removeAll(Xn),Xn.setHidden(!0),2==orchardBarnLevel&&Sn.setHidden(!1));var ea=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(g.controlsLayer_w,46).setFill("images/UI/greenButtonLg.png");Yr.appendChild(ea);var ta=(new lime.Sprite).setPosition(285,18).setSize(35,35).setFill(imgArray11[0]);Yr.appendChild(ta);var oa=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(245,24).setFontSize(18);Yr.appendChild(oa);var ia=(new lime.Sprite).setPosition(g.controlsLayer_w/2-5,21).setSize(35,35).setFill(imgArrayItems[25].src);Yr.appendChild(ia),goog.events.listen(ia,["mousedown","touchstart"],function(){g.sceneBefore=3,Xd(),ud.setText(starCash),h.replaceScene(Fl,lime.transitions.SlideInUp),setTimeout(function(){validCropsStored()},0),sceneActive="Inventory",Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)});var sa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,448).setSize(15,15);Yr.appendChild(sa);var ra=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,7).setSize(35,35).setFill(imgArray[30]),na=(new lime.Label).setText(player.tools).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(65,24).setFontSize(18);Yr.appendChild(ra),Yr.appendChild(na);var aa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(44,230).setSize(25,26).setFill(imgArray4[1]);Yr.appendChild(aa);var la=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(15,-8).setSize(25,23).setOpacity(.2);aa.appendChild(la);var da=(new lime.Sprite).setAnchorPoint(0,0).setPosition(3,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);aa.appendChild(da),goog.events.listen(la,["mousedown","touchstart"],function(){rl.setHidden(!1),1==orchardBarnLevel&&(al.setText("If you upgrade the barn, we can increase our harvests"),dl.setHidden(!0),ll.setFill(imgArray4[1])),2==orchardBarnLevel&&0==collectItems.storeItems[6].owned&&(al.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArrayStore[4])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&0==Sn.owned&&(al.setText("That looks like a good place to brew Cider"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1==Sn.owned&&player.cropsStored[17].stored<1&&(al.setText("We need more BARRELS to keep making CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1<player.cropsStored[17].stored&&(al.setText("Sometimes I see fish at the bottom of the waterfall"),dl.setHidden(!0),ll.setFill(imgArray4[1]),la.setHidden(!0),da.setHidden(!0))});var ga=1;g.moveGirl=function(){53<(ga+=1)&&(ga=1),ga<26?2==ga?(aa.setPosition(44,235),aa.setFill(imgArray4[1])):3==ga?(aa.setPosition(44,240),aa.setFill(imgArray4[2])):4==ga?(aa.setPosition(44,245),aa.setFill(imgArray4[1])):5==ga?(aa.setPosition(44,250),aa.setFill(imgArray4[0])):6==ga?(aa.setPosition(44,255),aa.setFill(imgArray4[1])):7==ga?(aa.setPosition(44,260),aa.setFill(imgArray4[2])):8==ga?(aa.setPosition(44,265),aa.setFill(imgArray4[1])):9==ga?(aa.setPosition(44,270),aa.setFill(imgArray4[0])):10==ga?(aa.setPosition(44,275),aa.setFill(imgArray4[1])):11==ga?(aa.setPosition(44,280),aa.setFill(imgArray4[2])):12==ga?(aa.setPosition(44,285),aa.setFill(imgArray4[1])):13==ga?(aa.setPosition(44,290),aa.setFill(imgArray4[2])):14==ga?(aa.setPosition(44,295),aa.setFill(imgArray4[1])):15==ga?(aa.setPosition(44,300),aa.setFill(imgArray4[2])):16==ga?(aa.setPosition(44,305),aa.setFill(imgArray4[1])):17==ga?(aa.setPosition(44,310),aa.setFill(imgArray4[0])):18==ga?(aa.setPosition(44,315),aa.setFill(imgArray4[1])):19==ga?(aa.setPosition(44,320),aa.setFill(imgArray4[2])):20==ga?(aa.setPosition(44,325),aa.setFill(imgArray4[1])):21==ga?(aa.setPosition(44,330),aa.setFill(imgArray4[0])):22==ga?(aa.setPosition(44,335),aa.setFill(imgArray4[1])):23==ga?(aa.setPosition(44,340),aa.setFill(imgArray4[2])):24==ga?(aa.setPosition(44,345),aa.setFill(imgArray4[1])):25==ga&&(aa.setPosition(44,350),aa.setFill(imgArray4[0])):26==ga?(aa.setPosition(44,350),aa.setFill(imgArray4[7])):27==ga?(aa.setPosition(44,350),aa.setFill(imgArray4[0])):28==ga?(aa.setPosition(44,350),aa.setFill(imgArray4[6])):29==ga?(aa.setPosition(44,345),aa.setFill(imgArray4[3])):30==ga?(aa.setPosition(44,345),aa.setFill(imgArray4[4])):31==ga?(aa.setPosition(44,340),aa.setFill(imgArray4[5])):32==ga?(aa.setPosition(44,335),aa.setFill(imgArray4[4])):33==ga?(aa.setPosition(44,330),aa.setFill(imgArray4[3])):34==ga?(aa.setPosition(44,325),aa.setFill(imgArray4[4])):35==ga?(aa.setPosition(44,320),aa.setFill(imgArray4[5])):36==ga?(aa.setPosition(44,315),aa.setFill(imgArray4[4])):37==ga?(aa.setPosition(44,310),aa.setFill(imgArray4[3])):38==ga?(aa.setPosition(44,305),aa.setFill(imgArray4[4])):39==ga?(aa.setPosition(44,300),aa.setFill(imgArray4[5])):40==ga?(aa.setPosition(44,295),aa.setFill(imgArray4[4])):41==ga?(aa.setPosition(44,290),aa.setFill(imgArray4[5])):42==ga?(aa.setPosition(44,285),aa.setFill(imgArray4[4])):43==ga?(aa.setPosition(44,280),aa.setFill(imgArray4[3])):44==ga?(aa.setPosition(44,275),aa.setFill(imgArray4[4])):45==ga?(aa.setPosition(44,270),aa.setFill(imgArray4[5])):46==ga?(aa.setPosition(44,265),aa.setFill(imgArray4[4])):47==ga?(aa.setPosition(44,260),aa.setFill(imgArray4[3])):48==ga?(aa.setPosition(44,255),aa.setFill(imgArray4[4])):49==ga?(aa.setPosition(44,250),aa.setFill(imgArray4[5])):50==ga?(aa.setPosition(44,245),aa.setFill(imgArray4[4])):51==ga?(aa.setPosition(44,240),aa.setFill(imgArray4[3])):52==ga?(aa.setPosition(44,235),aa.setFill(imgArray4[4])):53==ga&&(aa.setPosition(44,230),aa.setFill(imgArray4[6]))},lime.scheduleManager.scheduleWithDelay(function(){"Orchard"==sceneActive&&g.moveGirl()},this,300),sa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,422).setSize(45,45).setFill(imgArray[50]),Yr.appendChild(sa),roadRightO=(new lime.Sprite).setAnchorPoint(0,0).setPosition(267,422).setSize(45,45).setFill(imgArray[49]),Yr.appendChild(roadRightO);var ma=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,g.height-g.controlsLayer_h-5).setSize(g.controlsLayer_w,g.controlsLayer_h+5).setFill("images/UI/blackButton.png");Yr.appendChild(ma);var ca=(new lime.Sprite).setAnchorPoint(0,0).setPosition(128,449).setSize(35,35).setFill("images/UI/compass22.png");Yr.appendChild(ca);var pa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill("images/UI/compass3.png");Yr.appendChild(pa);var ha=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[48]);pa.appendChild(ha);var ua=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[49]);pa.appendChild(ua);var ya=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[46]);pa.appendChild(ya);var Sa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);pa.appendChild(Sa);var fa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);pa.appendChild(fa);var Aa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);pa.appendChild(Aa),pa.setHidden(!0),goog.events.listen(ca,["mousedown","touchstart"],function(){0==globalModalBlock&&(R(),xa.setHidden(!0),globalModalBlock=1)}),goog.events.listen(Aa,["mousedown","touchstart"],function(){D()}),goog.events.listen(Sa,["mousedown","touchstart"],function(){compassVisible&&(o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),(5<o.currentCrop||isNaN(o.currentCrop)||o.currentCrop<0)&&(o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),q.setText("Plant "+g.crops[o.currentCrop].name),j.setFill("images/"+g.crops[o.currentCrop].harvest)),setTimeout(function(){D()},0),g.sceneBefore=1,r.stop(),h.replaceScene(u,lime.transitions.SlideInLeft),setTimeout(function(){validCropsStored()},0),sceneActive="Home")}),goog.events.listen(fa,["mousedown","touchstart"],function(){1==t[1].owned&&compassVisible&&(g.sceneBefore=2,r.stop(),D(),e.play(),setTimeout(function(){kP()},0),Zs=o.currentCrop,o.currentCrop=6,h.replaceScene(Ii,lime.transitions.SlideInLeft),setTimeout(function(){validCropsStored()},0),sceneActive="Pasture")}),goog.events.listen(ha,["mousedown","touchstart"],function(){1==t[2].owned&&D()}),goog.events.listen(ya,["mousedown","touchstart"],function(){1==t[3].owned&&compassVisible&&(D(),g.sceneBefore=4,h.replaceScene(ny,lime.transitions.SlideInLeft),setTimeout(function(){validCropsStored()},0),sceneActive="Vineyard",r.stop(),Zs=o.currentCrop,o.currentCrop=12,setTimeout(function(){kP()},0))}),goog.events.listen(ua,["mousedown","touchstart"],function(){1==t[4].owned&&compassVisible&&(D(),g.sceneBefore=5,Zs=o.currentCrop,o.currentCrop=12,h.replaceScene(Rh,lime.transitions.SlideInRight),setTimeout(function(){validCropsStored()},0),sceneActive="LS",r.stop(),a.play(),l.play(),lime.scheduleManager.callAfter(function(){d.play()},this,5e3),setTimeout(function(){kP()},0))});var va=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,503).setSize(35,35).setFill(imgArray[15]);Yr.appendChild(va);var Fa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,467).setSize(35,35).setFill("images/UI/trophyBtn.png");Yr.appendChild(Fa),goog.events.listen(va,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),i.play(!0),r.play(!0),va.setFill(imgArray[15]),BP(2),localStorage.setItem("GuiGhostFarms_muted",0)):(lime.audio.setMute(!0),BP(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(Fa,["mousedown","touchstart"],function(){0==globalModalBlock&&LP(sceneBefore=3)});o.currentCrop;2==orchardTreeBlock&&(orchardText="Pears and Apples");var wa=(new lime.Label).setText(orchardText).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(g.controlsLayer_w/2-15,g.height-g.controlsLayer_h/2-12);Yr.appendChild(wa);var Pa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w/2-35,g.height-g.controlsLayer_h/2-5).setFill("images/"+g.crops[8].harvest).setSize(1.2*g.tile_size,1.2*g.tile_size);Yr.appendChild(Pa);var Ca=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w/2-15,g.height/2).setFill("images/"+g.crops[8].harvest).setSize(26,21);Yr.appendChild(Ca),Ca.setHidden(!0);var Ta=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,467).setSize(35,35).setFill("images/UI/gearButton.png");Yr.appendChild(Ta);var _a=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,503).setSize(35,35).setFill("images/UI/starButton.png");Yr.appendChild(_a),goog.events.listen(_a,["mousedown","touchstart"],function(){0==globalModalBlock&&RP()});var Ia=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,g.height-g.controlsLayer_h).setSize(90,61).setFill("images/"+g.barnyard[3].image);Yr.appendChild(Ia),goog.events.listen(Ta,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=3,h.replaceScene(ml,lime.transitions.SlideInUp),sceneActive="Menu",setTimeout(function(){validCropsStored()},0))});var ba=(new lime.Sprite).setAnchorPoint(0,0).setPosition(268,424).setSize(40,40).setFill(imgArray[49]);Yr.appendChild(ba);var xa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#000F00").setOpacity(.75);Yr.appendChild(xa),xa.setHidden(!0);var Ha=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,150).setSize(250,250).setFill("images/UI/blankBack2.png");Yr.appendChild(Ha);var Ea=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(10,45).setSize(230,60).setFontSize(18).setText("You found some Pear Trees!");Ha.appendChild(Ea);var za=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,110).setSize(70,70).setFill("images/"+g.crops[9].harvest);Ha.appendChild(za);var Ma=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(50,185).setSize(150,50).setFontSize(18).setText("Pears");Ha.appendChild(Ma),Ha.setHidden(!0);var La=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,130).setSize(250,220).setFill("images/UI/blankBack5.png");Yr.appendChild(La);var Ba=(new lime.Label).setAnchorPoint(0,0).setPosition(23,25).setText("Upgrade Orchard Barn?").setFontFamily("Comic Sans MS").setFontSize(18);La.appendChild(Ba);var ka=(new lime.Label).setAnchorPoint(0,0).setPosition(25,122).setText("Increases Apple and Pear harvests by 100%").setFontFamily("Comic Sans MS").setFontSize(16).setSize(195,g.height/2-50);La.appendChild(ka);var Oa=(new lime.Sprite).setAnchorPoint(0,0).setPosition(52,50).setSize(40,40).setFill("images/toolsIcon.png");La.appendChild(Oa);var Ra=(new lime.Label).setAnchorPoint(0,0).setPosition(50,95).setText("250").setFontFamily("Comic Sans MS").setFontSize(16).setSize(40,40);La.appendChild(Ra);var Da=(new lime.Sprite).setAnchorPoint(0,0).setPosition(142,50).setSize(40,40).setFill("images/"+g.crops[14].image);La.appendChild(Da);var Na=(new lime.Label).setAnchorPoint(0,0).setPosition(145,95).setText("200").setFontFamily("Comic Sans MS").setFontSize(16).setSize(40,40);La.appendChild(Na);var Ga=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,208).setSize(100,20);La.appendChild(Ga);var Ua=(new lime.GlossyButton).setColor("#00ff00").setText("Upgrade").setPosition(125,175).setSize(100,20);function Wa(e){var t,o,i,s,r;1==e&&(player.tools=player.tools-250,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-200),0==barnUpInProgressO&&(barnUpInProgressO=1,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),setTimeout(function(){g.updateTools()},0),(mn-=10)<-50&&(mn=-10),dn.setRotation(mn),Zr.setHidden(!0),en.setHidden(!0),ln.setHidden(!1),nn.setHidden(!1),an.setHidden(!1),t=150,i=90,s=o=0,r=4*cn,lime.scheduleManager.scheduleWithDelay(function(){--r,4==(s+=1)&&(--cn,upgradesInProgress.buildings[2].timeLeft=cn,upgradesInProgress.buildings[2].currentBarnLevel=orchardBarnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),ln.setText(cn),s=0),an.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<-20&&(o=0,t=i=90),35<(mn+=10)&&(mn=-10),dn.setRotation(mn),r<=0&&(upgradesInProgress.buildings[2].timeLeft=0,upgradesInProgress.buildings[2].currentBarnLevel=orchardBarnLevel,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),barnUpInProgressO=0,ln.setHidden(!0),nn.setHidden(!0),an.setHidden(!0),orchardBarnLevel=2,localStorage.setItem("MedFarm_orchardBarnLevel",2),gn.setText("Lvl 2/2"),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-200,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),2==orchardBarnLevel&&0==collectItems.storeItems[6].owned&&(al.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[4]),ll.setFill(imgArrayStore[6])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&player.cropsStored[17].stored<1&&(al.setText("We need more BARRELS to keep making CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1<player.cropsStored[17].stored&&(al.setText("I don't need anything at the moment"),dl.setHidden(!0),ll.setFill(imgArray4[1])))},this,250,241))}La.appendChild(Ua),Ua.setHidden(!0),La.setHidden(!0),goog.events.listen(Zr,["mousedown","touchstart"],function(e){La.setHidden(!1),200<=parseInt(player.cropsStored[14].stored)&&250<=player.tools?(Ua.setHidden(!1),ka.setText("Increases Apple and Pear yield by 50%")):(ka.setText("Need more resources to upgrade"),Ua.setHidden(!0)),goog.events.listen(gl,["mousedown","touchstart"],function(e){La.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Ua,["mousedown","touchstart"],function(e){0==La.getHidden()&&(Wa(1),La.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Va=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,150).setSize(210,220).setFill("images/UI/saleBack.png");Yr.appendChild(Va);var Ja=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000000").setFontFamily("Comic Sans MS").setPosition(50,125).setSize(115,60).setFontSize(22).setText("StockPens  10,000");Va.appendChild(Ja);var Ya=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,144).setSize(30,30).setFill(imgArray11[0]);Va.appendChild(Ya);var qa=(new lime.Label).setAnchorPoint(0,0).setFontColor("#FF0000").setFontFamily("Comic Sans MS").setPosition(8,185).setSize(190,60).setFontSize(12).setText("Earn more Coin to buy");Va.appendChild(qa);var ja=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,212).setSize(75,35).setFill("images/UI/greenBuy.png");Va.appendChild(ja);var Ka=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,212).setSize(35,35).setFill(imgArray[21]);Va.appendChild(Ka),Va.setHidden(!0),goog.events.listen(ba,["mousedown","touchstart"],function(){0==globalModalBlock&&(fsClicked=4,globalModalBlock=1,xa.setHidden(!1),Va.setHidden(!1),1e4<=player.money?(qa.setHidden(!0),ja.setHidden(!1)):ja.setHidden(!0),Ja.setText("StockPens  10,000"))}),goog.events.listen(ja,["mousedown","touchstart"],function(){globalModalBlock=0,player.money=player.money-1e4,g.updateMoney(),t[4].owned=1,localStorage.setItem("GuiGhostFarms_acres",JSON.stringify(t)),Va.setHidden(!0),roadRightO.setHidden(!1),ba.setHidden(!0),Va.setHidden(!0),xa.setHidden(!0),fsClicked=0,goog.events.removeAll(ba),goog.events.removeAll(ja),goog.events.removeAll(Ka),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)&&Ec.setHidden(!1)}),goog.events.listen(Ka,["mousedown","touchstart"],function(){Va.setHidden(!0),xa.setHidden(!0),globalModalBlock=0}),1==t[4].owned&&(goog.events.removeAll(ba),goog.events.removeAll(ja),goog.events.removeAll(Ka));var $a=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill("images/UI/achieveNotif.png"),Xa=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");$a.appendChild(Xa);var Qa=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(30,123).setSize(150,60).setFontSize(12).setText("Achieve Text");$a.appendChild(Qa);var Za=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setFontFamily("Comic Sans MS").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");$a.appendChild(Za);var el=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill("images/UI/checkButton.png");$a.appendChild(el),Yr.appendChild($a),$a.setHidden(!0),goog.events.listen(el,["mousedown","touchstart"],function(){Nt.setHidden(!0),vr.setHidden(!0),GS.setHidden(!0),$a.setHidden(!0),Du.setHidden(!0),xa.setHidden(!0),dr.setHidden(!0),1==tutSeen&&(ct.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0))}),goog.events.listen(roadRightO,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=5,h.replaceScene(Rh,lime.transitions.SlideInRight),setTimeout(function(){validCropsStored()},0),sceneActive="LS",r.stop(),a.play(),l.play(),lime.scheduleManager.callAfter(function(){d.play()},this,5e3),setTimeout(function(){kP()},0))}),goog.events.listen(Ia,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=3,townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market",setTimeout(function(){validCropsStored()},0),ap(),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored))});var tl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,100).setSize(210,220).setFill(imgArray[33]);Yr.appendChild(tl);var ol=(new lime.Sprite).setAnchorPoint(0,0).setPosition(122,212).setSize(75,35).setFill("images/UI/buyStarCash.png");tl.appendChild(ol);var il=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,212).setSize(75,35).setFill(imgArray[32]);tl.appendChild(il);var sl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(89,212).setSize(35,35).setFill(imgArray[21]);tl.appendChild(sl),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),goog.events.listen(ol,["mousedown","touchstart"],function(){Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),gr.setHidden(!0),tl.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),RP(),warningSeen=1}),goog.events.listen(il,["mousedown","touchstart"],function(){OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),xa.setHidden(!0),ct.setHidden(!0),kS.setHidden(!0),dr.setHidden(!0),Ru.setHidden(!0),townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market",setTimeout(function(){validCropsStored()},0),ap(),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored),warningSeen=1,globalModalBlock=0}),goog.events.listen(sl,["mousedown","touchstart"],function(){OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),xa.setHidden(!0),ct.setHidden(!0),kS.setHidden(!0),dr.setHidden(!0),Ru.setHidden(!0),warningSeen=1,globalModalBlock=0}),player.money<g.crops[o.currentCrop].cost&&0==warningSeen&&(OS.setHidden(!1),DS.setHidden(!1),RS.setHidden(!1),tl.setHidden(!1),il.setHidden(!1),ol.setHidden(!1),gr.setHidden(!1),cr.setHidden(!1),mr.setHidden(!1),Ht.setHidden(!1),zt.setHidden(!1),Et.setHidden(!1),xa.setHidden(!1),ct.setHidden(!1),kS.setHidden(!1),dr.setHidden(!1),Ru.setHidden(!1),globalModalBlock=1);var rl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,130).setSize(250,220).setFill("images/UI/blankBack5.png");Yr.appendChild(rl);var nl=(new lime.Label).setAnchorPoint(0,0).setPosition(23,25).setText("Cultivator Isabel").setFontFamily("Comic Sans MS").setFontSize(24);rl.appendChild(nl);var al=(new lime.Label).setAnchorPoint(0,0).setPosition(20,130).setText("If you had a STEEL PICK to clear rocks, we could upgrade this barn").setFontFamily("Comic Sans MS").setFontSize(16).setSize(200,g.height/2-50);rl.appendChild(al);var ll=(new lime.Sprite).setAnchorPoint(0,0).setPosition(62,50).setSize(64,70).setFill(imgArray4[1]);rl.appendChild(ll);var dl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,50).setSize(50,60).setFill("images/UI/rockBlock.png");rl.appendChild(dl);var gl=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);rl.appendChild(gl),rl.setHidden(!0),goog.events.listen(gl,["mousedown","touchstart"],function(e){rl.setHidden(!0),la.setHidden(!0),da.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),1==orchardBarnLevel&&(al.setText("If you upgrade the barn, we can increase our harvests"),dl.setHidden(!0),ll.setFill(imgArray4[1]),goog.events.removeAll(sn)),2==orchardBarnLevel&&0==collectItems.storeItems[6].owned&&(al.setText("If we had a FRUIT PRESS and some BARRELS, we could make CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArrayStore[4])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&player.cropsStored[17].stored<1&&(al.setText("We need more BARRELS to keep making CIDER"),dl.setHidden(!1),dl.setFill(imgArrayStore[6]),ll.setFill(imgArray4[1])),2==orchardBarnLevel&&1==collectItems.storeItems[6].owned&&1<player.cropsStored[17].stored&&(al.setText("I don't need anything at the moment"),dl.setHidden(!0),ll.setFill(imgArray4[1])),2==orchardBarnLevel&&(goog.events.removeAll(sn),goog.events.removeAll(Zr));var ml=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),cl=(new lime.Layer).setAnchorPoint(0,0),pl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#0D0D0D");ml.appendChild(pl),ml.appendChild(cl);var hl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,10).setSize(300,520).setFill(imgArray[14]);cl.appendChild(hl);var ul=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,175).setSize(g.width/2+40,40).setFill("#663300"),ul=(new lime.GlossyButton).setColor("#4dff4d").setText("Save & Quit").setPosition(150,175).setSize(g.width/2+40,40);cl.appendChild(ul);var yl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.width/4-20,250).setSize(g.width/2+40,40).setFill("#663300"),yl=(new lime.GlossyButton).setColor("#ff0000").setText("Clear Data (Start Over)").setPosition(150,250).setSize(g.width/2+40,40);cl.appendChild(yl);var Sl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.width/4-20,325).setSize(g.width/2+40,40).setFill("#663300"),Sl=(new lime.GlossyButton).setColor("#6600ff").setText("About").setPosition(150,325).setSize(g.width/2+50,40);cl.appendChild(Sl),goog.events.listen(Sl,["mousedown","touchstart"],function(e){h.replaceScene(NP,lime.transitions.SlideInUp)});var fl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.width/4-20,400).setSize(g.width/2+40,40).setFill("#663300"),fl=(new lime.GlossyButton).setColor("#1ce636").setText("Back to Game").setPosition(150,400).setSize(g.width/2+40,40);cl.appendChild(fl),goog.events.listen(T,["mousedown","touchstart"],function(){0==globalModalBlock&&(h.replaceScene(ml,lime.transitions.SlideInUp),sceneActive="Menu",g.sceneBefore=1)}),goog.events.listen(ye,["mousedown","touchstart"],function(){0==globalModalBlock&&(h.replaceScene(Jr,lime.transitions.SlideInRight),sceneBefore=3,r.play(!0),sceneActive="Orchard",homeCrop=o.currentCrop,(5<(homeCrop=parseInt(homeCrop))||isNaN(homeCrop)||homeCrop<0)&&(homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop"))),localStorage.setItem("MedFarms_selectedHomeCrop",parseInt(homeCrop)),Zs=o.currentCrop,o.currentCrop=8,setTimeout(function(){validCropsStored()},0))}),goog.events.listen(sa,["mousedown","touchstart"],function(){0==globalModalBlock&&(h.replaceScene(u,lime.transitions.SlideInLeft),sceneBefore=1,r.stop(),sceneActive="Home",o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),o.currentCrop=Math.abs(o.currentCrop),(5<o.currentCrop||isNaN(o.currentCrop)||o.currentCrop<0)&&(o.currentCrop=0,q.setText("Plant "+g.crops[o.currentCrop].name),j.setFill("images/"+g.crops[o.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),setTimeout(function(){validCropsStored()},0))}),goog.events.listen(ul,["mousedown","touchstart"],function(){localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("GuiGhostFarms_dayCount",dayCount),localStorage.setItem("GuiGhostFarms_yearCount",yearCount),localStorage.setItem("GuiGhostFarms_toolsEver",toolsEver),localStorage.setItem("GuiGhostFarms_pickedEver",pickedEver),localStorage.setItem("GuiGhostFarms_moneyEver",moneyEver),h.replaceScene(zh,lime.transitions.SlideInUp),lime.audio.setMute(!0),setTimeout(function(){validCropsStored()},0)}),goog.events.listen(yl,["mousedown","touchstart"],function(){1==confirm("Danger! Are you sure you want to clear data?\nThis will erase all progress and you will start over.\nClick Ok to proceed or Cancel now while you still can!")?(player.barnLevel=1,player.pastureLevel=1,player.treesP=0,player.tools=50,player.fields=1,player.money=500,player.cropsStored[0].stored=0,player.cropsStored[1].stored=0,player.cropsStored[2].stored=0,player.cropsStored[3].stored=0,player.cropsStored[4].stored=0,player.cropsStored[5].stored=0,player.cropsStored[6].stored=0,player.cropsStored[7].stored=0,player.cropsStored[8].stored=0,player.cropsStored[9].stored=0,player.cropsStored[10].stored=0,player.cropsStored[11].stored=0,player.cropsStored[12].stored=0,player.cropsStored[13].stored=0,player.cropsStored[14].stored=0,player.cropsStored[15].stored=200,player.cropsStored[16].stored=0,player.cropsStored[17].stored=0,showHighlight2=showHighLight=0,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),yearCount=dayCount=1,saraReady=feliciaReady=friarReady=mayorReady=ciderEnabled=townRep=pickedEver=moneyEver=toolsEver=0,player.money=500,player.tools=50,g.achievements[1],g.achievements[2],g.achievements[3],g.achievements[4],g.achievements[5],g.achievements[6],g.achievements[7],g.achievements[8],g.achievements[9],g.achievements[10],g.achievements[11],g.achievements[12],g.achievements[13],g.achievements[14],g.achievements[15],g.achievements[16],localStorage.setItem("MedFarm_orchardBarnLevel",0),localStorage.setItem("GuiGhostFarms_achievements",JSON.stringify(g.achievements)),localStorage.setItem("GuiGhostFarms_moneyEver",0),localStorage.setItem("GuiGhostFarms_pickedEver",0),localStorage.setItem("GuiGhostFarms_dayCount",0),localStorage.setItem("GuiGhostFarms_yearCount",1),localStorage.setItem("GuiGhostFarms_toolsEver",0),localStorage.setItem("GuiGhostFarms_boughtStarCash",!1),localStorage.removeItem("GuiGhostFarms_player"),localStorage.removeItem("GuiGhostFarms_vinyardBlocks"),localStorage.removeItem("GuiGhostFarms_vinyardBlocks2"),localStorage.removeItem("GuiGhostFarms_vinyardHouseLevel"),localStorage.removeItem("GuiGhostFarms_orchardTreeBlock"),localStorage.removeItem("GuiGhostFarms_dayCount"),localStorage.removeItem("GuiGhostFarms_yearCount"),localStorage.removeItem("GuiGhostFarms_toolsEver"),localStorage.removeItem("GuiGhostFarms_pickedEver"),localStorage.removeItem("GuiGhostFarms_moneyEver"),localStorage.removeItem("GuiGhostFarms_achievements"),localStorage.removeItem("GuiGhostFarms_acres"),localStorage.removeItem("GuiGhostFarms_boughtStarCash"),localStorage.removeItem("GuiGhostFarms_coopLevel"),localStorage.removeItem("GuiGhostFarms_tutSeen"),localStorage.removeItem("GuiGhostFarms_houseUpgrades"),localStorage.removeItem("showHighLight"),localStorage.removeItem("landStates"),localStorage.removeItem("GuiGhostFarms_muted"),localStorage.removeItem("GuiGhostFarms_playerItems"),localStorage.removeItem("MedFarm_StarCashBoost"),localStorage.removeItem("MedFarm_LoadAd"),localStorage.removeItem("adWatched"),localStorage.removeItem("MedFarm_orchardBarnLevel"),localStorage.removeItem("GuiGhostFarms_playerItems"),localStorage.removeItem("MedFarm_StarCashBoost"),localStorage.removeItem("MedFarm_ciderPlaceOwned"),localStorage.removeItem("MedFarms_townRep"),localStorage.removeItem("MedFarms_seenPremiumPromo"),localStorage.removeItem("MedFarms_seen1stHouseNotif"),localStorage.removeItem("MedFarm_Rewarded"),localStorage.removeItem("MedFarms_homeTreesLeft"),localStorage.removeItem("MedFarms_homeTreesRight"),localStorage.removeItem("MedFarms_selectedHomeCrop"),localStorage.removeItem("MedFarms_heraldOrdersFilled"),lime.scheduleManager.callAfter(function(){location.reload()},this,750)):alert("Whew! That was close!\n Your Farm is safe")}),goog.events.listen(fl,["mousedown","touchstart"],function(e){1==parseInt(g.sceneBefore)&&(h.replaceScene(u,lime.transitions.SlideInDown),o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),sceneActive="Home"),2==g.sceneBefore&&(h.replaceScene(Ii,lime.transitions.SlideInDown),sceneActive="Pasture"),3==g.sceneBefore&&(h.replaceScene(Jr,lime.transitions.SlideInDown),sceneActive="Orchard"),4==g.sceneBefore&&(h.replaceScene(ny,lime.transitions.SlideInDown),setTimeout(function(){kP()},0),sceneActive="Vineyard"),5==g.sceneBefore&&(h.replaceScene(Rh,lime.transitions.SlideInDown),a.play(),sceneActive="LS",l.play(),lime.scheduleManager.callAfter(function(){d.play()},this,1e3),lime.scheduleManager.callAfter(function(){m.play()},this,2e3)),e.stopPropagation()});var Al=document.getElementById("waitText");function vl(){localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),localStorage.setItem("MedFarm_StarCashBoost",1),lime.audio.setMute(!0),lime.scheduleManager.callAfter(function(){starCash=localStorage.getItem("starCash"),document.getElementById("starCashOuterLabel").innerHTML=starCash,document.getElementById("starCashOuterLabel").innerHTML=starCash},this,1500),lime.scheduleManager.callAfter(function(){Al.style.display="none"},this,33e3);var e=document.getElementById("viewAdImg");Al.innerHTML="Wait time is required before you can boost again",e.style.display="none",lime.scheduleManager.callAfter(function(){e.style.display="block",document.getElementById("waitText").innerHTML=""},this,12e4)}document.getElementById("buyWithStarCash").addEventListener("touchstart",function(e){5<=starCash&&(boughtStarCash=!0,player.money+=500,g.updateMoney(),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=5,localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Al.innerHTML="+ 500 Coins",Al.style.display="block",lime.scheduleManager.callAfter(function(){Al.style.display="none"},this,1e3),zP()),e.stopPropagation()},!1),document.getElementById("buyWithStarCash").addEventListener("click",function(e){5<=starCash&&(boughtStarCash=!0,player.money+=500,g.updateMoney(),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=5,localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Al.innerHTML="+ 500 Coins",Al.style.display="block",lime.scheduleManager.callAfter(function(){Al.style.display="none"},this,750)),e.stopPropagation()},!1),document.getElementById("buyWithStarCashTools").addEventListener("touchstart",function(e){10<=starCash&&(player.tools+=500,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=10,setTimeout(function(){g.updateTools()},0),localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Al.innerHTML="+ 500 Tools",Al.style.display="block",lime.scheduleManager.callAfter(function(){Al.style.display="none"},this,1e3),n.play()),e.stopPropagation()},!1),document.getElementById("buyWithStarCashTools").addEventListener("click",function(e){10<=starCash&&(player.tools+=500,localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),starCash-=10,setTimeout(function(){g.updateTools()},0),localStorage.setItem("starCash",starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,Al.innerHTML="+ 500 Tools",Al.style.display="block",lime.scheduleManager.callAfter(function(){Al.style.display="none"},this,1e3),n.play()),e.stopPropagation()},!1),document.getElementById("viewAdImg").addEventListener("touchstart",function(e){vl(),e.stopPropagation()},!1),document.getElementById("viewAdImg").addEventListener("click",function(e){vl(),e.stopPropagation()},!1),document.getElementById("closeFB").addEventListener("touchstart",function(e){document.getElementById("fbshare").style.display="none",ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),(OP=globalModalBlock=0)==localStorage.getItem("GuiGhostFarms_muted")?(lime.audio.setMute(!1),i.play(!0),s.play()):(lime.audio.setMute(!0),BP(1)),e.stopPropagation()},!1),document.getElementById("closeFB").addEventListener("click",function(e){document.getElementById("fbshare").style.display="none",ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),(OP=globalModalBlock=0)==localStorage.getItem("GuiGhostFarms_muted")?(lime.audio.setMute(!1),i.play(!0),s.play()):(lime.audio.setMute(!0),BP(1)),e.stopPropagation()},!1),document.getElementById("buyStarsFromModal").addEventListener("touchstart",function(e){document.getElementById("fbshare").style.display="none",ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),OP=globalModalBlock=0,h.replaceScene(eg,lime.transitions.SlideInDown),rc.setOpacity(1),sc.setOpacity(.5),tg.setHidden(!0),sg.setHidden(!0),storeBuyPremiumLayer.setHidden(!1),setTimeout(function(){validCropsStored()},0),e.stopPropagation()},!1),document.getElementById("buyStarsFromModal").addEventListener("click",function(e){document.getElementById("fbshare").style.display="none",ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),OP=globalModalBlock=0,h.replaceScene(eg,lime.transitions.SlideInDown),sceneActive="Store",rc.setOpacity(1),sc.setOpacity(.5),tg.setHidden(!0),sg.setHidden(!0),storeBuyPremiumLayer.setHidden(!1),setTimeout(function(){validCropsStored()},0),e.stopPropagation()},!1),document.getElementById("foundItClose").addEventListener("touchstart",function(e){document.getElementById("foundIt").style.display="none",ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),globalModalBlock=0,e.stopPropagation()},!1),document.getElementById("foundItClose").addEventListener("click",function(e){document.getElementById("foundIt").style.display="none",ct.setHidden(!0),dr.setHidden(!0),xa.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),globalModalBlock=0,e.stopPropagation()},!1),1==adFreeVersion&&(document.getElementById("currentStarCashBack3").style.display="none",document.getElementById("currentStarCashBack4").style.display="none");var Fl=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),wl=(new lime.Layer).setAnchorPoint(0,0),Pl=(new lime.Layer).setAnchorPoint(0,0),Cl=(new lime.Layer).setAnchorPoint(0,0),Tl=(new lime.Layer).setAnchorPoint(0,0);Fl.appendChild(wl),Fl.appendChild(Pl),Fl.appendChild(Cl),Fl.appendChild(Tl);var _l=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,81).setFill("#2F4F4F");wl.appendChild(_l);var Il=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,55).setFill("images/UI/greenButtonLg.png");wl.appendChild(Il);var bl=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,3).setSize(35,35).setFill(imgArray[30]),xl=(new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(65,24).setFontSize(18);wl.appendChild(bl),wl.appendChild(xl);var Hl=(new lime.Label).setText("Fordwin").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150,18).setFontSize(18);wl.appendChild(Hl);var El=(new lime.Label).setText("Peasant Farmer").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150,40).setFontSize(14);wl.appendChild(El);var zl=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);wl.appendChild(zl);var Ml=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setPosition(243,24).setFontSize(18).setFontFamily("Comic Sans MS");wl.appendChild(Ml),El.setText("Peasant Farmer");var Ll=(new lime.Sprite).setAnchorPoint(0,0).setPosition(2,74).setSize(100,100).setFill(imgArrayPlayer[0]);Fl.appendChild(Ll);var Bl=0,kl=(setInterval(function(){5==++Bl&&Ll.setFill(imgArrayPlayer[1].src),6==Bl&&Ll.setFill(imgArrayPlayer[2].src),7==Bl&&Ll.setFill(imgArrayPlayer[0].src),8==Bl&&Ll.setFill(imgArrayPlayer[1].src),10==Bl&&Ll.setFill(imgArrayPlayer[0].src),19==Bl&&Ll.setFill(imgArrayPlayer[2].src),20==Bl&&Ll.setFill(imgArrayPlayer[0].src),25==Bl&&(Bl=0)},200),(new lime.GlossyButton).setColor("#46CD2D").setText("Close").setPosition(g.width/2,g.height-12).setSize(100,25));Fl.appendChild(kl),goog.events.listen(kl,["mousedown","touchstart"],function(){zP(),vd.setPosition(110,25).setText("Item Information"),Fd.setPosition(110,65).setText("Click on an item"),wd.setPosition(110,90).setText("to see the details"),1==parseInt(g.sceneBefore)&&(o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),h.replaceScene(u,lime.transitions.SlideInDown),sceneActive="Home"),2==g.sceneBefore&&(h.replaceScene(Ii,lime.transitions.SlideInDown),sceneActive="Pasture"),3==g.sceneBefore&&(h.replaceScene(Jr,lime.transitions.SlideInDown),sceneActive="Orchard"),4==g.sceneBefore&&(h.replaceScene(ny,lime.transitions.SlideInDown),sceneActive="Vineyard"),5==g.sceneBefore&&(h.replaceScene(Rh,lime.transitions.SlideInDown),a.play(),l.play(),sceneActive="LS"),7==g.sceneBefore&&(h.replaceScene(VA,lime.transitions.SlideInDown),sceneActive="House"),8==g.sceneBefore&&(townSceneActive=1,sceneActive="Town",h.replaceScene(nc,lime.transitions.SlideInDown),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market",ap(),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)),9==g.sceneBefore&&(h.replaceScene(eg,lime.transitions.SlideInDown),sceneActive="Store"),setTimeout(function(){validCropsStored()},0)});var Ol=(new lime.GlossyButton).setColor("#8B4513").setText("Goods").setPosition(g.width/3-50,70).setSize(g.width/3-10,23);wl.appendChild(Ol);var Rl=(new lime.GlossyButton).setColor("#F4A460").setText("Items").setPosition(g.width/3*2-50,70).setSize(g.width/3-10,23);wl.appendChild(Rl);var Dl=(new lime.GlossyButton).setColor("#7B68EE").setText("Heirlooms").setPosition(g.width-g.width/3+55,70).setSize(g.width/3-10,23);wl.appendChild(Dl);var Nl=(new lime.Label).setFontSize(10).setPosition(40,45).setSize(60,15).setFill("images/UI/purpleButtonLg.png").setText("Day "+dayCount).setFontFamily("Comic Sans MS").setFontColor("#ffffff").setFontSize(14);wl.appendChild(Nl);var Gl=(new lime.Label).setFontSize(10).setPosition(g.width-40,45).setSize(60,15).setFill("images/UI/purpleButtonLg.png").setText("Year "+yearCount).setFontFamily("Comic Sans MS").setFontColor("#ffffff").setFontSize(14);wl.appendChild(Gl);var Ul=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,81).setSize(g.width,g.height-81).setFill("#8B4513");Pl.appendChild(Ul);var Wl=(new lime.RoundedRect).setPosition(52,357).setSize(99,233).setFill("#00ff00");Pl.appendChild(Wl);var Vl=(new lime.Label).setPosition(51,271).setSize(71,50).setText("Consumables").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(16);for(Pl.appendChild(Vl),x=0;x<9;x++)storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,88+42*x+6).setFill(imgArrayTown[18]).setSize(95,40),Pl.appendChild(storedBack);for(x=0;x<7;x++)storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,90+42*x+7).setFill("images/"+g.crops[x].harvest).setSize(33,33),Pl.appendChild(storedIcon);for(x=9;x<18;x++)storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(210,88+42*(x-9)+6).setFill(imgArrayTown[18]).setSize(95,40),Pl.appendChild(storedBack);for(x=7;x<14;x++)storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(220,90+42*(x-7)+7).setFill("images/"+g.crops[x].harvest).setSize(33,33),Pl.appendChild(storedIcon);storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,262).setFill(imgArrayTown[18]).setSize(95,40),Pl.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,304).setFill(imgArrayTown[18]).setSize(95,40),Pl.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,346).setFill(imgArrayTown[18]).setSize(95,40),Pl.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,388).setFill(imgArrayTown[18]).setSize(95,40),Pl.appendChild(storedBack),storedBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(4,430).setFill(imgArrayTown[18]).setSize(95,40),Pl.appendChild(storedBack),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,265).setFill("images/"+g.crops[14].harvest).setSize(33,33),Pl.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,308).setFill("images/"+g.crops[15].harvest).setSize(33,33),Pl.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,348).setFill("images/"+g.crops[16].harvest).setSize(33,33),Pl.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,393).setFill("images/"+g.crops[17].harvest).setSize(33,33),Pl.appendChild(storedIcon),storedIcon=(new lime.Sprite).setAnchorPoint(0,0).setPosition(114,393).setFill(imgArray4[21]).setSize(33,33),Pl.appendChild(storedIcon);var Jl=(new lime.Label).setPosition(170,115).setSize(26,20).setText(player.cropsStored[0].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(Jl);var Yl=(new lime.Label).setPosition(170,157).setSize(26,20).setText(player.cropsStored[1].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(Yl);var ql=(new lime.Label).setPosition(170,205).setSize(26,20).setText(player.cropsStored[2].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(ql);var jl=(new lime.Label).setPosition(170,248).setSize(26,20).setText(player.cropsStored[3].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(jl);var Kl=(new lime.Label).setPosition(170,290).setSize(26,20).setText(player.cropsStored[4].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(Kl);var $l=(new lime.Label).setPosition(170,330).setSize(26,20).setText(player.cropsStored[5].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild($l);var Xl=(new lime.Label).setPosition(170,370).setSize(26,12).setText(player.cropsStored[6].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(Xl);var Ql=(new lime.Label).setPosition(270,112).setSize(26,12).setText(player.cropsStored[7].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(Ql);var Zl=(new lime.Label).setPosition(270,157).setSize(26,12).setText(player.cropsStored[8].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(Zl);var ed=(new lime.Label).setPosition(270,205).setSize(26,12).setText(player.cropsStored[9].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(ed);var td=(new lime.Label).setPosition(270,245).setSize(26,12).setText(player.cropsStored[10].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(td);var od=(new lime.Label).setPosition(270,290).setSize(26,12).setText(player.cropsStored[11].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(od);var id=(new lime.Label).setPosition(270,330).setSize(26,18).setText(player.cropsStored[12].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(id);var sd=(new lime.Label).setPosition(270,370).setSize(26,18).setText(player.cropsStored[13].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(sd);var rd=(new lime.Label).setPosition(67,290).setSize(26,12).setText(player.cropsStored[14].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(rd);var nd=(new lime.Label).setPosition(67,330).setSize(26,12).setText(player.cropsStored[15].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(nd);var ad=(new lime.Label).setPosition(67,370).setSize(26,12).setText(player.cropsStored[16].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(ad);var ld=(new lime.Label).setPosition(67,410).setSize(26,12).setText(player.cropsStored[17].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(ld);var dd=(new lime.Label).setPosition(170,410).setSize(26,12).setText(player.cropsStored[18].stored).setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(dd);var gd=(new lime.Label).setPosition(270,410).setSize(26,12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(gd);var md=(new lime.Label).setPosition(67,450).setSize(26,12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(md);var cd=(new lime.Label).setPosition(270,450).setSize(26,12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(cd);var pd=(new lime.Label).setPosition(170,450).setSize(26,12).setText("?").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Pl.appendChild(pd);var hd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(11,168).setSize(80,35).setFill(imgArray[25].src);Pl.appendChild(hd);var ud=(new lime.Label).setText(starCash).setFontFamily("Comic Sans MS").setFontColor("#000000").setPosition(60,188).setFontSize(16);Pl.appendChild(ud),ud.setText(starCash);var yd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(11,202).setSize(80,35).setFill(imgArray[52]);Pl.appendChild(yd);var Sd=(new lime.Label).setText(heraldOrderTop).setFontFamily("Comic Sans MS").setFontColor("#000000").setPosition(60,223).setFontSize(16);Pl.appendChild(Sd);var fd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,81).setSize(g.width,g.height-81).setFill("#F4A460");Cl.appendChild(fd);var Ad=(new lime.Sprite).setAnchorPoint(0,0).setPosition(48,85).setSize(g.width-85,110).setFill("images/UI/blankBack5.png");fd.appendChild(Ad);var vd=(new lime.Label).setPosition(110,25).setText("Item Information").setFontSize(22).setFontFamily("Comic Sans MS").setFontColor("#000000");Ad.appendChild(vd);var Fd=(new lime.Label).setPosition(110,65).setText("Hit an item to").setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#000000");Ad.appendChild(Fd);var wd=(new lime.Label).setPosition(110,90).setText("see the details").setFontSize(18).setFontFamily("Comic Sans MS").setFontColor("#000000");Ad.appendChild(wd);var Pd=(new lime.Sprite).setPosition(150,30).setSize(50,50).setFill(imgArrayItems[18].src);fd.appendChild(Pd);var Cd=(new lime.Label).setFontSize(12).setPosition(3,45).setSize(70,18).setText("IRON SHOVEL").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(10);Pd.appendChild(Cd),1==collectItems.storeItems[2].owned&&(Pd.setFill(imgArrayStore[2].src),Cd.setFontSize(10).setPosition(3,45).setSize(70,18).setText("BLESSED SHOVEL").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(10));var Td=(new lime.Sprite).setPosition(240,33).setSize(50,50).setFill(imgArray[20].src);fd.appendChild(Td);var _d=(new lime.Label).setPosition(3,45).setSize(70,18).setText("????").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(12);for(Td.appendChild(_d),1==collectItems.storeItems[3].owned&&(Td.setFill(imgArrayStore[3].src),_d.setText("STEEL PICK")),goog.events.listen(Pd,["click","touchstart"],function(){0==collectItems.storeItems[2].owned&&(vd.setText("IRON SHOVEL"),Fd.setText("Gives 1% luck to "),wd.setText("find items when digging")),1==collectItems.storeItems[2].owned&&(vd.setText("Blessed Shovel"),Fd.setText("Gives 10% luck to"),wd.setText("find items when digging"))}),goog.events.listen(Td,["click","touchstart"],function(){0==collectItems.storeItems[3].owned&&(vd.setText("???  HMMMM  ???"),Fd.setText("I wonder what is "),wd.setText(" going to go here?")),1==collectItems.storeItems[3].owned&&(vd.setText("Steel Pick"),Fd.setText("Breaks rocks that"),wd.setText("are in the way"))}),Ee=0;Ee<4;Ee++)for(x=0;x<3;x++)itemsStoredBack=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20+70*Ee,195+62*x+6).setFill(imgArrayTown[18]).setSize(60,52),fd.appendChild(itemsStoredBack);itemsStoredBack.setHidden(!0);var Id=(new lime.GlossyButton).setPosition(50,229).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Id);var bd=(new lime.GlossyButton).setPosition(120,229).setSize(40,40).setColor("#000000").setText("");fd.appendChild(bd);var xd=(new lime.GlossyButton).setPosition(185,229).setSize(40,40).setColor("#000000").setText("");fd.appendChild(xd);var Hd=(new lime.GlossyButton).setPosition(255,229).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Hd);var Ed=(new lime.GlossyButton).setPosition(50,294).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Ed);var zd=(new lime.GlossyButton).setPosition(120,294).setSize(40,40).setColor("#000000").setText("");fd.appendChild(zd);var Md=(new lime.GlossyButton).setPosition(190,294).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Md);var Ld=(new lime.GlossyButton).setPosition(260,294).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Ld);var Bd=(new lime.GlossyButton).setPosition(50,358).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Bd);var kd=(new lime.GlossyButton).setPosition(120,358).setSize(40,40).setColor("#000000").setText("");fd.appendChild(kd);var Od=(new lime.GlossyButton).setPosition(190,358).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Od);var Rd=(new lime.GlossyButton).setPosition(260,358).setSize(40,40).setColor("#000000").setText("");fd.appendChild(Rd);var Dd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,200).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Dd),Dd.filled=0,Dd.heading="",Dd.subtext1="",Dd.subtext2="";var Nd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,200).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Nd),Nd.filled=0,Nd.heading="",Nd.subtext1="",Nd.subtext2="";var Gd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,200).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Gd),Gd.filled=0,Gd.heading="",Gd.subtext1="",Gd.subtext2="";var Ud=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,200).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Ud),Ud.filled=0,Ud.heading="",Ud.subtext1="",Ud.subtext2="";var Wd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,265).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Wd),Wd.filled=0,Wd.heading="",Wd.subtext1="",Wd.subtext2="";var Vd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,265).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Vd),Vd.filled=0,Vd.heading="",Vd.subtext1="",Vd.subtext2="";var Jd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,265).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Jd),Jd.filled=0,Jd.heading="",Jd.subtext1="",Jd.subtext2="";var Yd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,265).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Yd),Yd.filled=0,Yd.heading="",Yd.subtext1="",Yd.subtext2="";var qd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,325).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(qd),qd.filled=0,qd.heading="",qd.subtext1="",qd.subtext2="";var jd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,325).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(jd),jd.filled=0,jd.heading="",jd.subtext1="",jd.subtext2="";var Kd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,325).setSize(48,48).setFill(imgArray[17].src);fd.appendChild(Kd),Kd.filled=0,Kd.heading="",Kd.subtext1="",Kd.subtext2="";var $d=(new lime.Sprite).setAnchorPoint(0,0).setPosition(235,325).setSize(48,48).setFill(imgArray[17].src);fd.appendChild($d),$d.filled=0,$d.heading="",$d.subtext1="",$d.subtext2="",goog.events.listen(Id,["click","touchstart"],function(){1==Dd.filled&&(vd.setText(Dd.heading),Fd.setText(Dd.subtext1),wd.setText(Dd.subtext2))}),goog.events.listen(bd,["click","touchstart"],function(){1==Nd.filled&&(vd.setText(Nd.heading),Fd.setText(Nd.subtext1),wd.setText(Nd.subtext2))}),goog.events.listen(xd,["click","touchstart"],function(){1==Gd.filled&&(vd.setText(Gd.heading),Fd.setText(Gd.subtext1),wd.setText(Gd.subtext2))}),goog.events.listen(Hd,["click","touchstart"],function(){1==Ud.filled&&(vd.setText(Ud.heading),Fd.setText(Ud.subtext1),wd.setText(Ud.subtext2))}),goog.events.listen(Ed,["click","touchstart"],function(){1==Wd.filled&&(vd.setText(Wd.heading),Fd.setText(Wd.subtext1),wd.setText(Wd.subtext2))}),goog.events.listen(zd,["click","touchstart"],function(){1==Vd.filled&&(vd.setText(Vd.heading),Fd.setText(Vd.subtext1),wd.setText(Vd.subtext2))}),goog.events.listen(Md,["click","touchstart"],function(){1==Jd.filled&&(vd.setText(Jd.heading),Fd.setText(Jd.subtext1),wd.setText(Jd.subtext2))}),goog.events.listen(Ld,["click","touchstart"],function(){1==Yd.filled&&(vd.setText(Yd.heading),Fd.setText(Yd.subtext1),wd.setText(Yd.subtext2))}),goog.events.listen(Bd,["click","touchstart"],function(){1==qd.filled&&(vd.setText(qd.heading),Fd.setText(qd.subtext1),wd.setText(qd.subtext2))}),goog.events.listen(kd,["click","touchstart"],function(){1==jd.filled&&(vd.setText(jd.heading),Fd.setText(jd.subtext1),wd.setText(jd.subtext2))}),goog.events.listen(Od,["click","touchstart"],function(){1==Kd.filled&&(vd.setText(Kd.heading),Fd.setText(Kd.subtext1),wd.setText(Kd.subtext2))}),goog.events.listen(Rd,["click","touchstart"],function(){1==$d.filled&&(vd.setText($d.heading),Fd.setText($d.subtext1),wd.setText($d.subtext2))});function Xd(){Dd.filled=0,Dd.heading="",Dd.subtext1="",Dd.subtext2="",Dd.setFill(imgArray[17].src),Nd.filled=0,Nd.heading="",Nd.subtext1="",Nd.subtext2="",Nd.setFill(imgArray[17].src),Gd.filled=0,Gd.heading="",Gd.subtext1="",Gd.subtext2="",Gd.setFill(imgArray[17].src),Ud.filled=0,Ud.heading="",Ud.subtext1="",Ud.subtext2="",Ud.setFill(imgArray[17].src),Wd.filled=0,Wd.heading="",Wd.subtext1="",Wd.subtext2="",Wd.setFill(imgArray[17].src),Vd.filled=0,Vd.heading="",Vd.subtext1="",Vd.subtext2="",Vd.setFill(imgArray[17].src),Jd.filled=0,Jd.heading="",Jd.subtext1="",Jd.subtext2="",Jd.setFill(imgArray[17].src),Yd.filled=0,Yd.heading="",Yd.subtext1="",Yd.subtext2="",Yd.setFill(imgArray[17].src),qd.filled=0,qd.heading="",qd.subtext1="",qd.subtext2="",qd.setFill(imgArray[17].src),jd.filled=0,jd.heading="",jd.subtext1="",jd.subtext2="",jd.setFill(imgArray[17].src),Kd.filled=0,Kd.heading="",Kd.subtext1="",Kd.subtext2="",Kd.setFill(imgArray[17].src),$d.filled=0,$d.heading="",$d.subtext1="",$d.subtext2="",$d.setFill(imgArray[17].src);for(var e=0;e<collectItems.digUpSells.length;e++){function t(e,t,o,i){0==Dd.filled?(Dd.filled=1,Dd.setFill(e),Dd.heading=t,Dd.subtext1=o,Dd.subtext2=i):0==Nd.filled?(Nd.filled=1,Nd.setFill(e),Nd.heading=t,Nd.subtext1=o,Nd.subtext2=i):0==Gd.filled?(Gd.filled=1,Gd.setFill(e),Gd.heading=t,Gd.subtext1=o,Gd.subtext2=i):0==Ud.filled?(Ud.filled=1,Ud.setFill(e),Ud.heading=t,Ud.subtext1=o,Ud.subtext2=i):0==Wd.filled?(Wd.filled=1,Wd.setFill(e),Wd.heading=t,Wd.subtext1=o,Wd.subtext2=i):0==Vd.filled?(Vd.filled=1,Vd.setFill(e),Vd.heading=t,Vd.subtext1=o,Vd.subtext2=i):0==Jd.filled?(Jd.filled=1,Jd.setFill(e),Jd.heading=t,Jd.subtext1=o,Jd.subtext2=i):0==Yd.filled?(Yd.filled=1,Yd.setFill(e),Yd.heading=t,Yd.subtext1=o,Yd.subtext2=i):0==qd.filled?(qd.filled=1,qd.setFill(e),qd.heading=t,qd.subtext1=o,qd.subtext2=i):0==jd.filled?(jd.filled=1,jd.setFill(e),jd.heading=t,jd.subtext1=o,jd.subtext2=i):0==Kd.filled?(Kd.filled=1,Kd.setFill(e),Kd.heading=t,Kd.subtext1=o,Kd.subtext2=i):0==$d.filled&&($d.filled=1,$d.setFill(e),$d.heading=t,$d.subtext1=o,$d.subtext2=i)}1<=collectItems.digUpSells[e].owned&&t(collectItems.digUpSells[e].src,collectItems.digUpSells[e].name,collectItems.digUpSells[e].sub1,collectItems.digUpSells[e].sub2)}}var Qd=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,81).setSize(g.width,g.height-81).setFill("#7B68EE");Tl.appendChild(Qd);var Zd=(new lime.Label).setPosition(160,225).setText("Coming Soon").setFontSize(24).setFontFamily("Comic Sans MS").setFontColor("#000000");Qd.appendChild(Zd),fd.setHidden(!0),Qd.setHidden(!0),goog.events.listen(Ol,["mousedown","touchstart"],function(){Ul.setHidden(!1),fd.setHidden(!0),itemsStoredBack.setHidden(!0),Qd.setHidden(!0)}),goog.events.listen(Rl,["mousedown","touchstart"],function(){Ul.setHidden(!0),fd.setHidden(!1),itemsStoredBack.setHidden(!1),Qd.setHidden(!0)}),goog.events.listen(Dl,["mousedown","touchstart"],function(){Ul.setHidden(!0),fd.setHidden(!0),itemsStoredBack.setHidden(!0),Qd.setHidden(!1)});var eg=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),tg=(new lime.Layer).setAnchorPoint(0,0).setHidden(!1),og=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("images/shop/shopBack2.png");eg.appendChild(og),eg.appendChild(tg);var ig=(new lime.Sprite).setSize(g.width/2+75,345).setPosition(155,320).setFill("#000000").setOpacity(.5);tg.appendChild(ig);var sg=(new lime.Sprite).setSize(g.width/2+32,345).setPosition(155,320);tg.appendChild(sg);var rg=(new lime.Sprite).setSize(42,40).setPosition(65,-250).setFill(imgArrayStore[0].src);sg.appendChild(rg);var ng=(new lime.Label).setText("+ 50").setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(30,15).setFontSize(18);rg.appendChild(ng),rg.setHidden(!0);var ag=(new lime.Sprite).setSize(220,58).setPosition(0,-140).setFill(imgArray[18].src);sg.appendChild(ag),ag.price=collectItems.storeItems[0].value,ag.stars=3;var lg=(new lime.Sprite).setSize(40,40).setPosition(-68,-7).setFill(imgArrayStore[0].src);ag.appendChild(lg);var dg=(new lime.Label).setPosition(10,-15).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[0].name).setFontColor("#E8FC08");ag.appendChild(dg);var gg=(new lime.Label).setPosition(13,12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Keep the smith busy").setFontColor("#f0ffff");ag.appendChild(gg);var mg=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[0].value).setPosition(110,0).setSize(45,40).setHidden(!1);ag.appendChild(mg);var cg=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);mg.appendChild(cg);var pg=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);ag.appendChild(pg);var hg=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[37]);pg.appendChild(hg);var ug=65,yg=130,Sg=195;goog.events.listen(mg,["mousedown","touchstart"],function(){var e=tg.getHidden(),t=mg.getHidden();player.money>=ag.price&&0==e&&0==t&&(pm(0),n.play(),player.money=player.money-ag.price,Qm.setText(player.money),g.updateMoney(),player.cropsStored[15].stored=player.cropsStored[15].stored+50,xe.setHidden(!0),townRep+=1,setTimeout(function(){g.updateStored(),Gp()},0))}),goog.events.listen(pg,["mousedown","touchstart"],function(){var e=tg.getHidden(),t=pg.getHidden();starCash>=ag.stars&&0==e&&0==t&&(pm(0),n.play(),starCash-=ag.stars,ec.setText(starCash),ud.setText(starCash),player.cropsStored[15].stored=player.cropsStored[15].stored+50,xe.setHidden(!0),townRep+=1,setTimeout(function(){g.updateStored(),Gp()},0))});var fg=(new lime.Sprite).setSize(220,58).setPosition(0,-70).setFill(imgArray[18].src);sg.appendChild(fg),fg.price=collectItems.storeItems[1].value,fg.stars=3;var Ag=(new lime.Sprite).setSize(40,40).setPosition(-69,-5).setFill(imgArrayStore[1].src);fg.appendChild(Ag);var vg=(new lime.Label).setPosition(12,-13).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[1].name).setFontColor("#E8FC08");fg.appendChild(vg);var Fg=(new lime.Label).setPosition(13,12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Store Jelly in these").setFontColor("#f0ffff");fg.appendChild(Fg);var wg=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[1].value).setPosition(110,0).setSize(46,40).setHidden(!1);fg.appendChild(wg);var Pg=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);wg.appendChild(Pg);var Cg=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);fg.appendChild(Cg);var Tg=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[37]);Cg.appendChild(Tg),goog.events.listen(wg,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=wg.getHidden();player.money>=fg.price&&0==t&&0==o&&(n.play(),player.money=player.money-fg.price,Qm.setText(player.money),g.updateMoney(),player.cropsStored[16].stored=player.cropsStored[16].stored+50,ad.setText(player.cropsStored[16].stored),townRep+=1,setTimeout(function(){g.updateStored(),Gp()},0),pm(1)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Cg,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=Cg.getHidden();starCash>=fg.stars&&0==t&&0==o&&(n.play(),starCash-=fg.stars,ec.setText(starCash),player.cropsStored[16].stored=player.cropsStored[16].stored+50,ad.setText(player.cropsStored[16].stored),townRep+=1,setTimeout(function(){g.updateStored(),Gp()},0),pm(1)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var _g=(new lime.Sprite).setSize(220,58).setPosition(0,0).setFill(imgArray[18].src).setHidden(!1);sg.appendChild(_g),_g.price=collectItems.storeItems[2].value,_g.stars=25;var Ig=(new lime.Sprite).setSize(40,40).setPosition(-68,0).setFill(imgArrayStore[2].src);_g.appendChild(Ig);var bg=(new lime.Label).setPosition(12,-13).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[2].name).setFontColor("#E8FC08");_g.appendChild(bg);var xg=(new lime.Label).setPosition(13,12).setFontFamily("Comic Sans MS").setFontSize(14).setText("+ 10% Item Find").setFontColor("#f0ffff");_g.appendChild(xg);var Hg=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[2].value).setPosition(110,0).setSize(46,40).setHidden(!1);_g.appendChild(Hg);var Eg=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);Hg.appendChild(Eg);var zg=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);_g.appendChild(zg);var Mg=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[40]);zg.appendChild(Mg),goog.events.listen(Hg,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=Hg.getHidden();player.money>=_g.price&&0==t&&0==o&&(n.play(),player.money=player.money-_g.price,Qm.setText(player.money),collectItems.storeItems[2].owned=1,Cd.setText("Blessed Shovel + 10% find"),Pd.setFill(imgArrayStore[2].src),townRep+=1,setTimeout(function(){g.updateStored(),g.updateMoney,Gp()},0),_g.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),cm(),pm(2),goog.events.removeAll(Hg),goog.events.removeAll(zg)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(zg,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=zg.getHidden();starCash>=_g.stars&&0==t&&0==o&&(n.play(),starCash-=_g.stars,ec.setText(starCash),collectItems.storeItems[2].owned=1,Cd.setText("Blessed Shovel + 10% find"),Pd.setFill(imgArrayStore[2].src),townRep+=1,setTimeout(function(){g.updateStored(),Gp()},0),_g.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),cm(),pm(2),goog.events.removeAll(Hg),goog.events.removeAll(zg)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),1==collectItems.storeItems[2].owned&&(ug=0,goog.events.removeAll(Hg),goog.events.removeAll(zg));var Lg=(new lime.Sprite).setSize(220,58).setPosition(0,ug).setFill(imgArray[18].src);sg.appendChild(Lg),Lg.price=collectItems.storeItems[3].value,Lg.stars=50;var Bg=(new lime.Sprite).setSize(40,40).setPosition(-75,0).setFill(imgArrayStore[3].src);Lg.appendChild(Bg);var kg=(new lime.Label).setPosition(12,-12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[3].name).setFontColor("#E8FC08");Lg.appendChild(kg);var Og=(new lime.Label).setPosition(11,12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Break rocks in the way").setFontColor("#f0ffff");Lg.appendChild(Og);var Rg=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[3].value).setPosition(110,0).setSize(46,40).setHidden(!1);Lg.appendChild(Rg);var Dg=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);Rg.appendChild(Dg);var Ng=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);Lg.appendChild(Ng);var Gg=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[41]);Ng.appendChild(Gg),goog.events.listen(Rg,["mousedown","touchstart"],function(e){var t=Rg.getHidden(),o=tg.getHidden();player.money>=Lg.price&&0==o&&0==t&&(n.play(),player.money=player.money-Lg.price,Qm.setText(player.money),collectItems.storeItems[3].owned=1,_d.setText("Steel Pick"),Td.setFill(imgArrayStore[3].src),townRep+=1,setTimeout(function(){g.updateStored(),g.updateMoney,Gp()},0),Lg.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),cm(),pm(3),goog.events.removeAll(Rg),goog.events.removeAll(Ng)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(Ng,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=Ng.getHidden();starCash>=Lg.stars&&0==t&&0==o&&(n.play(),starCash-=Lg.stars,ec.setText(starCash),collectItems.storeItems[3].owned=1,_d.setText("Steel Pick"),Td.setFill(imgArrayStore[3].src),townRep+=1,setTimeout(function(){g.updateStored(),Gp()},0),_g.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),cm(),pm(3),goog.events.removeAll(Rg),goog.events.removeAll(Ng)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),1==collectItems.storeItems[3].owned&&(goog.events.removeAll(Rg),goog.events.removeAll(Ng)),1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?(yg=0,_g.setHidden(!0),Lg.setHidden(!0)):1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned?(yg=65,_g.setHidden(!0)):0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?(yg=65,Lg.setHidden(!0)):yg=130;var Ug=(new lime.Sprite).setSize(220,55).setPosition(0,yg).setFill(imgArray[18].src);sg.appendChild(Ug),Ug.price=collectItems.storeItems[4].value,Ug.stars=75;var Wg=(new lime.Sprite).setSize(42,40).setPosition(-70,0).setFill(imgArrayStore[4].src);Ug.appendChild(Wg);var Vg=(new lime.Label).setPosition(12,-12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[4].name).setFontColor("#E8FC08");Ug.appendChild(Vg);var Jg=(new lime.Label).setPosition(15,12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Make Fruit Cider").setFontColor("#f0ffff");Ug.appendChild(Jg);var Yg=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[4].value).setPosition(110,0).setSize(46,40).setHidden(!1);Ug.appendChild(Yg);var qg=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);Yg.appendChild(qg);var jg=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);Ug.appendChild(jg);var Kg=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[42]);jg.appendChild(Kg),goog.events.listen(Yg,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=Yg.getHidden();player.money>=Ug.price&&0==t&&0==o&&(n.play(),player.money=player.money-Ug.price,Qm.setText(player.money),collectItems.storeItems[4].owned=1,townRep+=1,ec.setText(starCash),setTimeout(function(){g.updateStored(),Gp(),g.updateMoney()},0),Ug.setHidden(!0),sm.setHidden(!1),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),cm(),pm(4),goog.events.removeAll(Yg),goog.events.removeAll(jg)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(jg,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=jg.getHidden();starCash>=Ug.stars&&0==t&&0==o&&(n.play(),starCash-=Ug.stars,ec.setText(starCash),collectItems.storeItems[4].owned=1,townRep+=1,ec.setText(starCash),setTimeout(function(){g.updateStored(),Gp()},0),Ug.setHidden(!0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),cm(),pm(4),goog.events.removeAll(Yg),goog.events.removeAll(jg)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})},!0),1==collectItems.storeItems[4].owned&&(goog.events.removeAll(Yg),goog.events.removeAll(jg)),1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?Sg=0:1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned?Sg=65:(0==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned)&&(Sg=130);var $g=(new lime.Sprite).setSize(220,55).setPosition(0,Sg).setFill(imgArray[18].src);sg.appendChild($g),$g.price=collectItems.storeItems[5].value,$g.stars=5;var Xg=(new lime.Sprite).setSize(42,40).setPosition(-70,0).setFill(imgArrayStore[5].src);$g.appendChild(Xg);var Qg=(new lime.Label).setPosition(12,-12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[5].name).setFontColor("#E8FC08");$g.appendChild(Qg);var Zg=(new lime.Label).setPosition(15,12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Store Grape Juice").setFontColor("#f0ffff");$g.appendChild(Zg);var em=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[5].value).setPosition(110,0).setSize(46,40).setHidden(!1);$g.appendChild(em);var tm=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);em.appendChild(tm);var om=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);$g.appendChild(om);var im=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[38]);om.appendChild(im),$g.setHidden(!0);var sm=(new lime.Sprite).setSize(220,55).setPosition(0,350).setFill(imgArray[18].src).setHidden(!1);sg.appendChild(sm),sm.price=collectItems.storeItems[6].value,sm.stars=5;var rm=(new lime.Sprite).setSize(42,40).setPosition(-70,0).setFill(imgArrayStore[6].src);sm.appendChild(rm);var nm=(new lime.Label).setPosition(12,-12).setFontFamily("Comic Sans MS").setFontSize(16).setText(collectItems.storeItems[6].name).setFontColor("#E8FC08");sm.appendChild(nm);var am=(new lime.Label).setPosition(15,12).setFontFamily("Comic Sans MS").setFontSize(14).setText("Store Fruit Cider").setFontColor("#f0ffff");sm.appendChild(am);var lm=(new lime.GlossyButton).setColor("#008000").setText(collectItems.storeItems[6].value).setPosition(110,0).setSize(46,40).setHidden(!1);sm.appendChild(lm);var dm=(new lime.Sprite).setSize(30,30).setPosition(0,18).setFill(imgArray11[0].src);lm.appendChild(dm);var gm=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(-115,0).setSize(40,40).setHidden(!1);sm.appendChild(gm);var mm=(new lime.Sprite).setSize(36,36).setPosition(0,0).setFill(imgArray[38]);function cm(){0==collectItems.storeItems[4].owned?($g.setHidden(!0),sm.setHidden(!0)):sm.setHidden(!1),ug=1==collectItems.storeItems[2].owned?0:65,yg=1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?0:1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned?65:130,1==collectItems.storeItems[4].owned&&(Ug.setHidden(!0),sm.setHidden(!1)),1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?(Sg=0,Ug.setHidden(!0),sm.setHidden(!1),sm.setPosition(0,Sg)):1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?(Sg=65,sm.setHidden(!1)):1==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned?(Sg=65,Ug.setHidden(!1),sm.setHidden(!0)):0==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&1==collectItems.storeItems[4].owned?(Sg=130,sm.setHidden(!1)):(1==collectItems.storeItems[2].owned&&0==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned||0==collectItems.storeItems[2].owned&&1==collectItems.storeItems[3].owned&&0==collectItems.storeItems[4].owned)&&(Sg=130,Ug.setHidden(!1),sm.setHidden(!0)),1==collectItems.storeItems[4].owned&&(Ug.setHidden(!0),sm.setHidden(!1)),Lg.setPosition(0,ug),Ug.setPosition(0,yg),$g.setPosition(0,Sg),sm.setPosition(0,Sg)}function pm(e){0==e&&(rg.setHidden(!1).setFill(imgArrayStore[0].src),ng.setText("+ 50"),hm()),1==e&&(rg.setHidden(!1).setFill(imgArrayStore[1].src),ng.setText("+ 50"),hm()),2==e&&(rg.setHidden(!1).setFill(imgArrayStore[2].src),ng.setText("+ 1"),hm()),3==e&&(rg.setHidden(!1).setFill(imgArrayStore[3].src),ng.setText("+ 1"),hm()),4==e&&(rg.setHidden(!1).setFill(imgArrayStore[4].src),ng.setText("+ 1"),hm()),5==e&&(rg.setHidden(!1).setFill(imgArrayStore[5].src),ng.setText("+ 50"),hm()),6==e&&(rg.setHidden(!1).setFill(imgArrayStore[6].src),ng.setText("+ 50"),hm())}gm.appendChild(mm),goog.events.listen(lm,["mousedown","touchstart"],function(e){var t=tg.getHidden(),o=lm.getHidden();player.money>=sm.price&&0==t&&0==o&&(n.play(),player.money=player.money-sm.price,Qm.setText(player.money),collectItems.storeItems[6].owned=1,player.cropsStored[17].stored=parseInt(player.cropsStored[17].stored)+50,townRep+=1,Xd(),setTimeout(function(){g.updateStored(),Gp(),g.updateMoney()},0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),pm(6),ec.setText(starCash),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(gm,["mousedown","touchstart"],function(e){var t=gm.getHidden(),o=tg.getHidden();starCash>=sm.stars&&0==o&&0==t&&(n.play(),starCash=parseInt(starCash)-sm.stars,ec.setText(starCash),Qm.setText(player.money),collectItems.storeItems[6].owned=1,player.cropsStored[17].stored=parseInt(player.cropsStored[17].stored)+50,townRep+=1,Xd(),setTimeout(function(){g.updateStored(),Gp(),g.updateMoney()},0),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),pm(6),ec.setText(starCash),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),0==(collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems"))).storeItems[4].owned?($g.setHidden(!0),sm.setHidden(!0)):sm.setHidden(!1),cm();var hm=function(){lime.scheduleManager.callAfter(function(){rg.setHidden(!0)},this,800)};storeBuyPremiumLayer=(new lime.Layer).setAnchorPoint(0,0).setHidden(!1),storeFill2=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("images/shop/shopBack2.png"),eg.appendChild(storeBuyPremiumLayer),storeBuyPremiumLayer.appendChild(storeFill2);var um=(new lime.Sprite).setSize(g.width/2+75,345).setPosition(155,320).setFill("#000000").setOpacity(.5);storeBuyPremiumLayer.appendChild(um);var ym=(new lime.Sprite).setSize(g.width/2+75,345).setPosition(155,320).setFill("");storeBuyPremiumLayer.appendChild(ym),storeBuyPremiumLayer.setHidden(!0);var Sm=(new lime.Sprite).setSize(220,60).setPosition(0,-135).setFill(imgArray[18].src);ym.appendChild(Sm);var fm=(new lime.Sprite).setSize(30,30).setPosition(-70,-11).setFill(imgArray[41]);Sm.appendChild(fm);var Am=(new lime.Sprite).setSize(30,30).setPosition(70,-11).setFill(imgArray[41]);Sm.appendChild(Am),Sm.owned=localStorage.getItem("MedFarms_boughtSmallStars"),null==Sm.owned&&(Sm.owned=0);var vm=(new lime.Label).setPosition(0,-10).setFontFamily("Comic Sans MS").setFontSize(16).setText("Star Pack I").setFontColor("#E8FC08");Sm.appendChild(vm);var Fm=(new lime.Label).setPosition(0,59).setSize(185,100).setFontFamily("Comic Sans MS").setFontSize(14).setText("50 Stars - Boost away").setFontColor("#f0ffff");Sm.appendChild(Fm);var wm=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(50,30).setHidden(!1);Sm.appendChild(wm);var Pm=(new lime.Label).setPosition(0,4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $0.99").setFontColor("#f0ffff").setSize(50,30);wm.appendChild(Pm),1==Sm.owned?(Sm.setOpacity(.2),wm.setHidden(!0)):goog.events.listen(wm,["mousedown","touchstart"],function(){var e=storeBuyPremiumLayer.getHidden();0==wm.getHidden()&&0==e&&(n.play(),localStorage.setItem("MedFarms_buyingSmallStars",1),Sm.setOpacity(.2),wm.setHidden(!0),ec.setText(starCash))});var Cm=(new lime.Sprite).setSize(220,60).setPosition(0,-71).setFill(imgArray[18].src);ym.appendChild(Cm);var Tm=(new lime.Sprite).setSize(30,30).setPosition(-70,-11).setFill(imgArray[44]);Cm.appendChild(Tm);var _m=(new lime.Sprite).setSize(30,30).setPosition(70,-11).setFill(imgArray[44]);Cm.appendChild(_m),Cm.owned=localStorage.getItem("MedFarms_boughtLargeStars"),null==Cm.owned&&(Cm.owned=0);var Im=(new lime.Label).setPosition(0,-10).setFontFamily("Comic Sans MS").setFontSize(16).setText("Star Pack II").setFontColor("#E8FC08");Cm.appendChild(Im);var bm=(new lime.Label).setPosition(0,59).setSize(185,100).setFontFamily("Comic Sans MS").setFontSize(14).setText("300 Stars - Ton's o' Boost").setFontColor("#f0ffff");Cm.appendChild(bm);var xm=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(46,30).setHidden(!1);Cm.appendChild(xm);var Hm=(new lime.Label).setPosition(0,4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $4.99").setFontColor("#f0ffff").setSize(50,30);xm.appendChild(Hm),goog.events.listen(xm,["mousedown","touchstart"],function(){var e=storeBuyPremiumLayer.getHidden();0==xm.getHidden()&&0==e&&(n.play(),localStorage.setItem("MedFarms_buyingLargeStars",1),Cm.setOpacity(.2),xm.setHidden(!0),ec.setText(starCash))});var Em=(new lime.Sprite).setSize(220,96).setPosition(0,12).setFill(imgArray[18].src);ym.appendChild(Em),Em.owned=localStorage.getItem("MedFarms_boughtStarterPack"),null==Em.owned&&(Em.owned=0);var zm=(new lime.Sprite).setSize(30,30).setPosition(-60,-8).setFill(imgArrayStore[0].src);Em.appendChild(zm);var Mm=(new lime.Sprite).setSize(30,30).setPosition(0,-8).setFill(imgArray[58]);Em.appendChild(Mm);var Lm=(new lime.Sprite).setSize(30,30).setPosition(60,-8).setFill(imgArray[30]);Em.appendChild(Lm);var Bm=(new lime.Label).setPosition(0,-31).setFontFamily("Comic Sans MS").setFontSize(16).setText("Starter Pack").setFontColor("#E8FC08");Em.appendChild(Bm);var km=(new lime.Label).setPosition(0,68).setSize(185,100).setFontFamily("Comic Sans MS").setFontSize(14).setText("250 Iron, Wood, and Tools").setFontColor("#f0ffff");Em.appendChild(km);var Om=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(46,40).setHidden(!1);Em.appendChild(Om);var Rm=(new lime.Label).setPosition(0,4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $0.99").setFontColor("#f0ffff").setSize(50,30);Om.appendChild(Rm),1==Em.owned?(Em.setOpacity(.2),Om.setHidden(!0)):goog.events.listen(Om,["mousedown","touchstart"],function(){var e=storeBuyPremiumLayer.getHidden();0==Om.getHidden()&&0==e&&(n.play(),localStorage.setItem("MedFarms_buyingStarterPack",1),Em.setOpacity(.2),Om.setHidden(!0),ec.setText(starCash))});var Dm=(new lime.Sprite).setSize(220,100).setPosition(0,115).setFill(imgArray[18].src);ym.appendChild(Dm),Dm.owned=localStorage.getItem("MedFarms_boughtMasterPack"),null==Dm.owned&&(Dm.owned=0);var Nm=(new lime.Sprite).setSize(30,30).setPosition(-80,-10).setFill(imgArrayStore[0].src);Dm.appendChild(Nm);var Gm=(new lime.Sprite).setSize(30,30).setPosition(-40,-10).setFill(imgArray[58]);Dm.appendChild(Gm);var Um=(new lime.Sprite).setSize(30,30).setPosition(-5,-10).setFill(imgArray[30]);Dm.appendChild(Um);var Wm=(new lime.Sprite).setSize(30,30).setPosition(30,-10).setFill(imgArray11[0].src);Dm.appendChild(Wm);var Vm=(new lime.Sprite).setSize(30,30).setPosition(64,-10).setFill(imgArray[41]);Dm.appendChild(Vm);var Jm=(new lime.Label).setPosition(0,-32).setFontFamily("Comic Sans MS").setFontSize(16).setText("Masters Pack").setFontColor("#E8FC08");Dm.appendChild(Jm);var Ym=(new lime.Label).setPosition(0,61).setSize(185,100).setFontFamily("Comic Sans MS").setFontSize(14).setText("750 Iron, Wood, and Tools + 2500 Coins and 50 Stars").setFontColor("#f0ffff");Dm.appendChild(Ym);var qm=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(115,0).setSize(46,40).setHidden(!1);Dm.appendChild(qm);var jm=(new lime.Label).setPosition(0,4).setFontFamily("Comic Sans MS").setFontSize(12).setText("Buy now $4.99").setFontColor("#f0ffff").setSize(50,30);qm.appendChild(jm),1==Dm.owned?(Dm.setOpacity(.2),qm.setHidden(!0)):goog.events.listen(qm,["mousedown","touchstart"],function(){var e=storeBuyPremiumLayer.getHidden(),t=qm.getHidden();0==e&&0==t&&(n.play(),localStorage.setItem("MedFarms_buyingMasterPack",1),Dm.setOpacity(.2),qm.setHidden(!0),ec.setText(starCash),Qm.setText(player.money),lime.scheduleManager.callAfter(function(){ec.setText(starCash),Qm.setText(player.money)},this,3e3))}),1==Dm.owned&&(Dm.setOpacity(.2),qm.setHidden(!0));var Km=(new lime.GlossyButton).setColor("#008000").setText("Close").setPosition(155,520).setSize(52,30);eg.appendChild(Km),goog.events.listen(Km,["mousedown","touchstart"],function(){townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInDown),setTimeout(function(){validCropsStored()},0),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market"});var $m=(new lime.Sprite).setPosition(0,0).setSize(g.width+g.width,60).setFill("#000000").setOpacity(.4);eg.appendChild($m);var Xm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w-100,5).setSize(25,25).setFill(imgArray11[0]);eg.appendChild(Xm);var Qm=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(g.controlsLayer_w-43,18).setFontSize(18);eg.appendChild(Qm);var Zm=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,2).setSize(30,30).setFill(imgArray[36]);eg.appendChild(Zm);var ec=(new lime.Label).setText(starCash).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(55,18).setFontSize(18);eg.appendChild(ec);var tc=(new lime.GlossyButton).setColor("#ffc266").setText("").setPosition(g.width/2+5,17).setSize(35,35);eg.appendChild(tc);var oc=(new lime.Sprite).setFill(imgArrayItems[25].src).setPosition(0,0).setSize(32,32);tc.appendChild(oc),goog.events.listen(tc,["mousedown","touchstart"],function(){ud.setText(starCash),Xd(),townSceneActive=0,h.replaceScene(Fl,lime.transitions.SlideInUp),sceneActive="Inventory",ud.setText(starCash),g.sceneBefore=9,Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored),setTimeout(function(){validCropsStored()},0)});var ic=(new lime.Sprite).setAnchorPoint(0,0).setPosition(128,44).setSize(64,64).setFill(imgArrayTrader[0].src);eg.appendChild(ic);var sc=(new lime.GlossyButton).setColor("#00f000").setText("General").setPosition(105,135).setSize(80,18);eg.appendChild(sc);var rc=(new lime.GlossyButton).setColor("#E8FC08").setText("Premium").setPosition(210,135).setSize(80,18).setOpacity(.5);eg.appendChild(rc),adFreeVersion&&(rc.setHidden(!0),sc.setHidden(!0)),goog.events.listen(sc,["mousedown","touchstart"],function(){sc.setOpacity(1),rc.setOpacity(.5),sg.setHidden(!1),tg.setHidden(!1),storeBuyPremiumLayer.setHidden(!0)}),goog.events.listen(rc,["mousedown","touchstart"],function(){rc.setOpacity(1),sc.setOpacity(.5),tg.setHidden(!0),sg.setHidden(!0),storeBuyPremiumLayer.setHidden(!1)});var nc=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),ac=(new lime.Layer).setAnchorPoint(0,0),lc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill(imgArrayTown[0]);nc.appendChild(lc),nc.appendChild(ac);var dc=(new lime.Sprite).setPosition(0,0).setSize(g.width+g.width,60).setFill("#000000").setOpacity(.4);lc.appendChild(dc);var gc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w-108,5).setSize(25,25).setFill(imgArray11[0]);nc.appendChild(gc);var mc=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(g.controlsLayer_w-53,18).setFontSize(18);nc.appendChild(mc);var cc=(new lime.Label).setText("Reputation:").setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(46,12).setFontSize(12);lc.appendChild(cc);var pc=(new lime.Label).setText(townRep).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(94,12).setFontSize(12);lc.appendChild(pc);var hc=(new lime.Label).setText("New in Town").setFontColor("#00FF00").setFontFamily("Comic Sans MS").setPosition(70,26).setFontSize(12);lc.appendChild(hc),5<=townRep&&hc.setText("Local Farmer"),15<=townRep&&hc.setText("Trusted Resident"),30<=townRep&&hc.setText("Local Leader");var uc=(new lime.GlossyButton).setColor("#ffc266").setText("").setPosition(g.width/2,17).setSize(35,35);lc.appendChild(uc);var yc=(new lime.Sprite).setFill(imgArrayItems[25].src).setPosition(0,0).setSize(32,32);uc.appendChild(yc),goog.events.listen(uc,["mousedown","touchstart"],function(){ud.setText(starCash),Dc.setHidden(!0),Xd(),townSceneActive=0,h.replaceScene(Fl,lime.transitions.SlideInUp),sceneActive="Inventory",g.sceneBefore=8,Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored),setTimeout(function(){validCropsStored()},0)});var Sc=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(55,260).setSize(32,32);lc.appendChild(Sc);var fc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16.5,-16).setSize(33,33).setFill(imgArrayTown[17].src);Sc.appendChild(fc),goog.events.listen(Sc,["mousedown","touchstart"],function(){collectItems=JSON.parse(localStorage.getItem("GuiGhostFarms_playerItems")),h.replaceScene(eg,lime.transitions.SlideInUp),sceneActive="Store",cm()});var Ac=(new lime.Sprite).setAnchorPoint(0,0).setPosition(46,155).setSize(35,35).setFill(imgArrayTown[1].src);lc.appendChild(Ac);var vc=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);Ac.appendChild(vc);var Fc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);Ac.appendChild(Fc);var wc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,g.height-70).setSize(35,35).setFill(imgArrayTown2[0].src);lc.appendChild(wc);var Pc=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);wc.appendChild(Pc);var Cc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);wc.appendChild(Cc);var Tc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(200,165).setSize(35,35).setFill(imgArrayMayor[0].src);lc.appendChild(Tc);var _c=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(25,-4).setSize(25,23).setOpacity(.2);Tc.appendChild(_c);var Ic=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-15).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);Tc.appendChild(Ic);var bc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(230,242).setSize(35,35).setFill(imgArrayFelicia[0].src);lc.appendChild(bc);var xc=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);bc.appendChild(xc);var Hc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);bc.appendChild(Hc);var Ec=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,264).setSize(35,35).setFill(imgArrayGideon[0]).setHidden(!0);lc.appendChild(Ec);var zc=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(25,-8).setSize(25,23).setOpacity(.2);Ec.appendChild(zc);var Mc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-19).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);Ec.appendChild(Mc);var Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned;4<=Lc&&(Ec.setHidden(!1),El.setText("Expert Farmer"));var Bc=1,Bc=parseInt(Bc);lime.scheduleManager.scheduleWithDelay(function(){ec.setText(starCash),1==townSceneActive&&(50<=Bc&&(Bc=1,Ac.setPosition(46,155),Ac.setFill(imgArrayTown[1])),Bc<26?2==Bc?(Ac.setPosition(46,161),Ac.setFill(imgArrayTown[2]),wc.setPosition(55,g.height-70),wc.setFill(imgArrayTown2[1]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[0]),bc.setPosition(230,242).setFill(imgArrayFelicia[8].src),ic.setFill(imgArrayTrader[1].src),Ec.setFill(imgArrayGideon[2])):3==Bc?(Ac.setPosition(46,165),Ac.setFill(imgArrayTown[3]),wc.setPosition(60,g.height-70),wc.setFill(imgArrayTown2[2]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[0]),bc.setPosition(225,242).setFill(imgArrayFelicia[8].src)):4==Bc?(Ac.setPosition(51,165),Ac.setFill(imgArrayTown[4]),wc.setPosition(65,g.height-70),wc.setFill(imgArrayTown2[3]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[16]),bc.setPosition(220,242).setFill(imgArrayFelicia[9].src)):5==Bc?(Ac.setPosition(56,165),Ac.setFill(imgArrayTown[5]),wc.setPosition(70,g.height-70),wc.setFill(imgArrayTown2[1]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[16]),bc.setPosition(215,242).setFill(imgArrayFelicia[10].src)):6==Bc?(Ac.setPosition(61,165),Ac.setFill(imgArrayTown[6]),wc.setPosition(75,g.height-70),wc.setFill(imgArrayTown2[2]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[0]),bc.setPosition(210,242).setFill(imgArrayFelicia[11].src)):7==Bc?(Ac.setPosition(67,165),Ac.setFill(imgArrayTown[5]),wc.setPosition(80,g.height-70),wc.setFill(imgArrayTown2[3]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[0]),bc.setPosition(205,242).setFill(imgArrayFelicia[8].src)):8==Bc?(Ac.setPosition(73,165),Ac.setFill(imgArrayTown[6]),wc.setPosition(85,g.height-70),wc.setFill(imgArrayTown2[1]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[0]),bc.setPosition(200,242).setFill(imgArrayFelicia[9].src)):9==Bc?(Ac.setPosition(79,165),Ac.setFill(imgArrayTown[5]),wc.setPosition(90,g.height-70),wc.setFill(imgArrayTown2[2]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[16]),bc.setPosition(195,242).setFill(imgArrayFelicia[10].src),ic.setFill(imgArrayTrader[2].src),Ec.setFill(imgArrayGideon[1])):10==Bc?(Ac.setPosition(84,165),Ac.setFill(imgArrayTown[6]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[3]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[8]),bc.setPosition(190,242).setFill(imgArrayFelicia[11].src),Ec.setFill(imgArrayGideon[2])):11==Bc?(Ac.setPosition(84,165),Ac.setFill(imgArrayTown[1]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[0]),Tc.setPosition(195,165),Tc.setFill(imgArrayMayor[9]),bc.setPosition(185,242).setFill(imgArrayFelicia[8].src),Ec.setFill(imgArrayGideon[1])):12==Bc?(Ac.setPosition(84,165),Ac.setFill(imgArrayTown[1]),wc.setPosition(90,g.height-70),wc.setFill(imgArrayTown2[4]),Tc.setPosition(190,165),Tc.setFill(imgArrayMayor[10]),bc.setPosition(180,242).setFill(imgArrayFelicia[9].src),Ec.setFill(imgArrayGideon[2])):13==Bc?(Ac.setPosition(84,165),Ac.setFill(imgArrayTown[7]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[0]),Tc.setPosition(185,165),Tc.setFill(imgArrayMayor[11]),bc.setPosition(175,242).setFill(imgArrayFelicia[10].src)):14==Bc?(Ac.setPosition(79,165),Ac.setFill(imgArrayTown[8]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[1]),Tc.setPosition(180,165),Tc.setFill(imgArrayMayor[10]),bc.setPosition(170,242).setFill(imgArrayFelicia[11].src)):15==Bc?(Ac.setPosition(73,165),Ac.setFill(imgArrayTown[9]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[1]),Tc.setPosition(175,165),Tc.setFill(imgArrayMayor[9]),bc.setPosition(165,242).setFill(imgArrayFelicia[8].src)):16==Bc?(Ac.setPosition(67,165),Ac.setFill(imgArrayTown[7]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[0]),Tc.setPosition(170,165),Tc.setFill(imgArrayMayor[8]),bc.setPosition(160,242).setFill(imgArrayFelicia[9].src)):17==Bc?(Ac.setPosition(61,165),Ac.setFill(imgArrayTown[8]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[0]),Tc.setPosition(170,165),Tc.setFill(imgArrayMayor[0]),bc.setPosition(160,242).setFill(imgArrayFelicia[13].src)):18==Bc?(Ac.setPosition(56,165),Ac.setFill(imgArrayTown[9]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[10]),Tc.setPosition(170,165),Tc.setFill(imgArrayMayor[1]),bc.setPosition(160,242).setFill(imgArrayFelicia[12].src),ic.setFill(imgArrayTrader[0].src),Ec.setFill(imgArrayGideon[2])):19==Bc?(Ac.setPosition(51,165),Ac.setFill(imgArrayTown[8]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[10]),Tc.setPosition(170,165),Tc.setFill(imgArrayMayor[3]),bc.setPosition(160,242).setFill(imgArrayFelicia[13].src),Ec.setFill(imgArrayGideon[1])):20==Bc?(Ac.setPosition(46,165),Ac.setFill(imgArrayTown[7]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[10]),Tc.setPosition(170,165),Tc.setFill(imgArrayMayor[4]),bc.setPosition(160,242).setFill(imgArrayFelicia[12].src)):21==Bc?(Ac.setPosition(46,161),Ac.setFill(imgArrayTown[11]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[0]),Tc.setPosition(170,165),Tc.setFill(imgArrayMayor[3]),bc.setPosition(160,242).setFill(imgArrayFelicia[13].src),Ec.setFill(imgArrayGideon[0])):22==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[12]),wc.setPosition(95,g.height-70),wc.setFill(imgArrayTown2[5]),Tc.setPosition(175,165),Tc.setFill(imgArrayMayor[5]),bc.setPosition(160,242).setFill(imgArrayFelicia[4].src)):23==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[4]),wc.setPosition(90,g.height-70),wc.setFill(imgArrayTown2[5]),Tc.setPosition(180,165),Tc.setFill(imgArrayMayor[6]),bc.setPosition(165,242).setFill(imgArrayFelicia[4].src),Ec.setFill(imgArrayGideon[1])):24==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[4]),wc.setPosition(85,g.height-70),wc.setFill(imgArrayTown2[6]),Tc.setPosition(185,165),Tc.setFill(imgArrayMayor[7]),bc.setPosition(170,242).setFill(imgArrayFelicia[5].src),Ec.setFill(imgArrayGideon[2])):25==Bc&&(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[2]),wc.setPosition(80,g.height-70),wc.setFill(imgArrayTown2[7]),Tc.setPosition(190,165),Tc.setFill(imgArrayMayor[6]),bc.setPosition(175,242).setFill(imgArrayFelicia[6].src),Ec.setFill(imgArrayGideon[0])):26<=Bc&&(26==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[2]),wc.setPosition(75,g.height-70),wc.setFill(imgArrayTown2[5]),Tc.setPosition(195,165),Tc.setFill(imgArrayMayor[7]),bc.setPosition(180,242).setFill(imgArrayFelicia[7].src),ic.setFill(imgArrayTrader[1].src)):27==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[7]),wc.setPosition(70,g.height-70),wc.setFill(imgArrayTown2[6]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[6]),bc.setPosition(185,242).setFill(imgArrayFelicia[4].src)):28==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[7]),wc.setPosition(65,g.height-70),wc.setFill(imgArrayTown2[7]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[3]),bc.setPosition(190,242).setFill(imgArrayFelicia[5].src)):29==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[1]),wc.setPosition(60,g.height-70),wc.setFill(imgArrayTown2[5]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[0]),bc.setPosition(195,242).setFill(imgArrayFelicia[6].src),Ec.setFill(imgArrayGideon[2])):30==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[1]),wc.setPosition(55,g.height-70),wc.setFill(imgArrayTown2[6]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(200,242).setFill(imgArrayFelicia[7].src)):31==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(50,g.height-70),wc.setFill(imgArrayTown2[7]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(205,242).setFill(imgArrayFelicia[4].src)):32==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(45,g.height-70),wc.setFill(imgArrayTown2[8]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(210,242).setFill(imgArrayFelicia[5].src),ic.setFill(imgArrayTrader[2].src)):33==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(45,g.height-75),wc.setFill(imgArrayTown2[9]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(215,242).setFill(imgArrayFelicia[6].src)):34==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[14]),wc.setPosition(45,g.height-80),wc.setFill(imgArrayTown2[10]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(220,242).setFill(imgArrayFelicia[7].src),Ec.setFill(imgArrayGideon[0])):35==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[14]),wc.setPosition(45,g.height-85),wc.setFill(imgArrayTown2[9]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(225,242).setFill(imgArrayFelicia[4].src)):36==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(45,g.height-80),wc.setFill(imgArrayTown2[0]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(230,242).setFill(imgArrayFelicia[5].src)):37==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(45,g.height-80),wc.setFill(imgArrayTown2[4]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(230,242).setFill(imgArrayFelicia[12].src),Ec.setFill(imgArrayGideon[2])):38==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(50,g.height-80),wc.setFill(imgArrayTown2[4]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(230,242).setFill(imgArrayFelicia[13].src),ic.setFill(imgArrayTrader[0].src),Ec.setFill(imgArrayGideon[2])):39==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(50,g.height-80),wc.setFill(imgArrayTown2[0]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(235,242).setFill(imgArrayFelicia[4].src),Ec.setFill(imgArrayGideon[0])):40==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(50,g.height-75),wc.setFill(imgArrayTown2[0]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(240,242).setFill(imgArrayFelicia[5].src),Ec.setFill(imgArrayGideon[2])):41==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(50,g.height-70),wc.setFill(imgArrayTown2[0]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(245,242).setFill(imgArrayFelicia[6].src),Ec.setFill(imgArrayGideon[0])):42==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(55,g.height-70),wc.setFill(imgArrayTown2[1]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(245,242).setFill(imgArrayFelicia[12].src),Ec.setFill(imgArrayGideon[2])):43==Bc?(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[13]),wc.setPosition(55,g.height-70),wc.setFill(imgArrayTown2[1]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(245,242).setFill(imgArrayFelicia[13].src),ic.setFill(imgArrayTrader[1].src)):46==Bc?(Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[8]),bc.setPosition(245,242).setFill(imgArrayFelicia[8].src)):48==Bc?(Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[15]),bc.setPosition(240,242).setFill(imgArrayFelicia[9].src)):49==Bc&&(Ac.setPosition(46,155),Ac.setFill(imgArrayTown[14]),wc.setPosition(55,g.height-70),wc.setFill(imgArrayTown2[0]),Tc.setPosition(200,165),Tc.setFill(imgArrayMayor[1]),bc.setPosition(210,242).setFill(imgArrayFelicia[11].src),bc.setPosition(235,242).setFill(imgArrayFelicia[10].src),ic.setFill(imgArrayTrader[2].src))),Bc+=1)},this,250);var kc=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(217,295).setSize(32,30).setHidden(!1);ac.appendChild(kc);var Oc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16,-17).setSize(33,33).setFill("images/marketTown/coinButton.png");kc.appendChild(Oc);var Rc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.width/2-20,500).setSize(40,40).setFill(imgArray[50]);ac.appendChild(Rc);var Dc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,100).setSize(g.width-30,g.height/2).setFill("images/UI/blankBack4.png").setHidden(!1);ac.appendChild(Dc),Dc.setHidden(!0),Dc.who="";var Nc=(new lime.Label).setAnchorPoint(0,0).setPosition(60,25).setText("").setFontFamily("Comic Sans MS").setFontSize(22);Dc.appendChild(Nc);var Gc=(new lime.Label).setAnchorPoint(0,0).setPosition(20,150).setText("").setFontFamily("Comic Sans MS").setFontSize(16).setSize(g.width-80,g.height/2-50);Dc.appendChild(Gc);var Uc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,38).setSize(100,100).setFill(imgArrayMayor[0].src);Dc.appendChild(Uc);var Wc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(165,74).setSize(50,50).setFill(imgArray4[21]);Dc.appendChild(Wc);var Vc=(new lime.Label).setAnchorPoint(0,0).setPosition(170,130).setText(player.cropsStored[18].stored).setFontFamily("Comic Sans MS").setFontSize(16).setSize(40,40);Dc.appendChild(Vc);var Jc=(new lime.GlossyButton).setPosition(200,235).setText("Sell for "+g.crops[18].revenue*player.cropsStored[18].stored).setSize(100,20).setColor("#00ff00").setHidden(!1);Dc.appendChild(Jc),Wc.setHidden(!0),Vc.setHidden(!0),Jc.setHidden(!0);var Yc=(new lime.GlossyButton).setColor("#008000").setText("Give").setPosition(190,235).setSize(90,20);Dc.appendChild(Yc),Yc.setHidden(!0);var qc=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(75,235).setSize(100,20).setHidden(!1);Dc.appendChild(qc),goog.events.listen(kc,["mousedown","touchstart"],function(e){g.sceneBefore=8,Yp.setHidden(!1),qp.setHidden(!1),townSceneActive=0,h.replaceScene(Jp,lime.transitions.SlideInDown),sceneActive="MarketSell",setTimeout(function(){validCropsStored()},0),Dc.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var jc=(new lime.GlossyButton).setColor("#008000").setText("Check Items").setPosition(205,235).setSize(100,20).setHidden(!1);Dc.appendChild(jc),goog.events.listen(jc,["mousedown","touchstart"],function(e){0==jc.getHidden()&&(sellLayer.setHidden(!1),Dc.setHidden(!0),sellLayerFill1.setHidden(!1),"mayor"==Dc.who&&Dp("mayor"),"monk"==Dc.who&&Dp("monk"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(Jc,["mousedown","touchstart"],function(e){0==Jc.getHidden()&&(townRep+=1,player.money=player.money+g.crops[18].revenue*player.cropsStored[18].stored,player.cropsStored[18].stored=0,Vc.setText("0"),Jc.setHidden(!0),setTimeout(function(){g.updateStored(),Gp(),g.updateMoney()},0),Cc.setHidden(!0),Pc.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){}))}),goog.events.listen(qc,["mousedown","touchstart"],function(e){Dc.setHidden(!0),Uc.setPosition(80,38),"sara"==Dc.who&&(Cc.setHidden(!0),Pc.setHidden(!0)),ap(),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})});var Kc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,45).setSize(g.width-30,370).setFill("images/UI/blankBack4.png").setHidden(!0);ac.appendChild(Kc);var $c=(new lime.Label).setAnchorPoint(0,0).setPosition(70,35).setText("King's Herald").setFontFamily("Comic Sans MS").setFontSize(22);Kc.appendChild($c);var Xc=(new lime.Label).setAnchorPoint(0,0).setPosition(20,150).setText("The King needs food to feed the people in Castle Town.        Loyal subjects who tribute gain TOKENS of Royal Favor").setFontFamily("Comic Sans MS").setFontSize(16).setSize(240,200);Kc.appendChild(Xc);var Qc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(88,38).setSize(100,100).setFill(imgArrayGideon[0].src);Kc.appendChild(Qc);var Zc=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,225).setSize(50,50).setFill("images/"+g.crops[0].harvest);Kc.appendChild(Zc);var ep=(new lime.Label).setAnchorPoint(0,0).setPosition(75,280).setText("0/50").setFontFamily("Comic Sans MS").setFontSize(16).setSize(40,40);Kc.appendChild(ep);var tp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(160,225).setSize(50,50).setFill("images/"+g.crops[1].harvest);Kc.appendChild(tp);var op=(new lime.Label).setAnchorPoint(0,0).setPosition(165,280).setText("0/50").setFontFamily("Comic Sans MS").setFontSize(16).setSize(40,40);Kc.appendChild(op);var ip=(new lime.Sprite).setAnchorPoint(0,0).setPosition(115,225).setSize(50,50).setFill(imgArray[51]).setHidden(!0);Kc.appendChild(ip);var sp=(new lime.GlossyButton).setPosition(140,310).setText("Pay Tribute").setSize(100,20).setColor("#00ff00").setHidden(!1);Kc.appendChild(sp);var rp=(new lime.GlossyButton).setPosition(140,290).setText("Next").setSize(100,20).setColor("#00ff00").setHidden(!0),np=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,353).setSize(100,20).setHidden(!1);Kc.appendChild(np);Ec.getHidden(),Kc.getHidden();function ap(){for(var t,o,e=Object.keys(collectItems.digUpSells).length,i=saraReady=feliciaReady=friarReady=mayorReady=0;i<e;i++)1==collectItems.digUpSells[i].owned&&("Mayor"==collectItems.digUpSells[i].who&&(mayorReady=1),"Friar"==collectItems.digUpSells[i].who&&(friarReady=1,console.log("monk has item "+collectItems.digUpSells[i].name)),"Sara"==collectItems.digUpSells[i].who&&(saraReady=1),"Felicia"==collectItems.digUpSells[i].who&&0==questParams.felicia[2].completed&&(feliciaReady=1));1==mayorReady?(Ic.setFill(imgArrayTown[16].src),Ic.setHidden(!1),_c.setHidden(!1),goog.events.unlisten(_c,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Tc,["mousedown","touchstart"],function(e){}),goog.events.listen(_c,["mousedown","touchstart"],function(e){dp("mayor",1),Dc.who="mayor"}),goog.events.listen(Tc,["mousedown","touchstart"],function(e){dp("mayor",1),Dc.who="mayor"})):0==mayorReady&&((t=Math.round(5*Math.random()))<1&&(t=1),5<t&&(t=5),Ic.setFill(imgArrayTown[15].src),goog.events.unlisten(_c,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Tc,["mousedown","touchstart"],function(e){}),goog.events.listen(_c,["mousedown","touchstart"],function(e){dp("mayor",0),Gc.setText(questParams.mayor[t].text),Dc.who="mayor"}),goog.events.listen(Tc,["mousedown","touchstart"],function(e){dp("mayor",0),Gc.setText(questParams.mayor[t].text),Dc.who="mayor"})),0<friarReady?(Fc.setFill(imgArrayTown[16].src),Fc.setHidden(!1),vc.setHidden(!1),goog.events.unlisten(vc,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Ac,["mousedown","touchstart"],function(e){}),goog.events.listen(vc,["mousedown","touchstart"],function(e){dp("monk",1),Dc.who="monk",jc.setHidden(!1)}),goog.events.listen(Ac,["mousedown","touchstart"],function(e){dp("monk",1),Dc.who="monk",jc.setHidden(!1)})):((o=Math.round(5*Math.random()))<1&&(o=1),5<o&&(o=5),Fc.setFill(imgArrayTown[15].src),goog.events.unlisten(vc,["mousedown","touchstart"],function(e){}),goog.events.unlisten(Ac,["mousedown","touchstart"],function(e){}),goog.events.listen(vc,["mousedown","touchstart"],function(e){dp("monk",0),Dc.who="monk",Gc.setText(questParams.monk[o].text)}),goog.events.listen(Ac,["mousedown","touchstart"],function(e){dp("monk",0),Dc.who="monk",Gc.setText(questParams.monk[o].text)})),0<saraReady?(Cc.setFill(imgArrayTown[16].src),goog.events.unlisten(Pc,["mousedown","touchstart"],function(e){}),goog.events.unlisten(wc,["mousedown","touchstart"],function(e){}),goog.events.listen(Pc,["mousedown","touchstart"],function(e){dp("sara",1),Dc.who="sara",Cc.setHidden(!1),Pc.setHidden(!1)}),goog.events.listen(wc,["mousedown","touchstart"],function(e){dp("sara",1),Dc.who="sara",Cc.setHidden(!1),Pc.setHidden(!1)})):(Cc.setFill(imgArrayTown[15].src),Gc.setText(questParams.sara[1].text),goog.events.unlisten(Pc,["mousedown","touchstart"],function(e){}),goog.events.unlisten(wc,["mousedown","touchstart"],function(e){}),goog.events.listen(Pc,["mousedown","touchstart"],function(e){dp("sara",0),Dc.who="sara",Cc.setHidden(!1),Pc.setHidden(!1)}),goog.events.listen(wc,["mousedown","touchstart"],function(e){dp("sara",0),Dc.who="sara",Cc.setHidden(!1),Pc.setHidden(!1)})),0<feliciaReady?(Hc.setFill(imgArrayTown[16].src),goog.events.unlisten(xc,["mousedown","touchstart"],function(e){}),goog.events.unlisten(bc,["mousedown","touchstart"],function(e){}),goog.events.listen(xc,["mousedown","touchstart"],function(e){dp("felicia",1),Dc.who="felicia"},{passive:!1}),goog.events.listen(bc,["mousedown","touchstart"],function(e){dp("felicia",1),Dc.who="felicia"},{passive:!1})):(Hc.setFill(imgArrayTown[15].src),Gc.setText(questParams.felicia[1].text),Wc.setHidden(!0),goog.events.unlisten(xc,["mousedown","touchstart"],function(e){}),goog.events.unlisten(bc,["mousedown","touchstart"],function(e){}),goog.events.listen(xc,["mousedown","touchstart"],function(e){dp("felicia",0),Dc.who="felicia"}),goog.events.listen(bc,["mousedown","touchstart"],function(e){dp("felicia",0),Dc.who="felicia"}))}goog.events.listen(Mc,["mousedown","touchstart"],function(e){0==Ec.getHidden()&&(heraldIntroSeen=parseInt(localStorage.getItem("MedFarms_heraldIntro")),Kc.setHidden(!1),Qc.setFill(imgArrayGideon[0]).setSize(100,100),1==heraldIntroSeen?(Xc.setText("The King needs food to feed the people in Castle Town. Loyal subjects who tribute gain TOKENS of ROYAL FAVOR"),Zc.setHidden(!1),ep.setHidden(!1),tp.setHidden(!1),op.setHidden(!1),ip.setHidden(!0),sp.setHidden(!0),setTimeout(function(){DP(heraldOrderTop)},0)):(Xc.setText("I am Gideon, the royal herald, travelling to all the villages to collect royal tributes for King and Kingdom. The Mayor told me that you have grown a good sized farm."),Zc.setHidden(!0),ep.setHidden(!0),tp.setHidden(!0),op.setHidden(!0),ip.setHidden(!0),sp.setHidden(!0),Kc.appendChild(rp),rp.setHidden(!1),goog.events.listen(rp,["mousedown","touchstart"],function(e){localStorage.setItem("MedFarms_heraldIntro",1),heraldIntroSeen=1,rp.setHidden(!0),Xc.setText("The King needs food to feed the people in Castle Town. Loyal subjects who tribute gain TOKENS of ROYAL FAVOR"),Zc.setHidden(!1),ep.setHidden(!1),tp.setHidden(!1),op.setHidden(!1),ip.setHidden(!0),sp.setHidden(!0),setTimeout(function(){DP(heraldOrderTop)},0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){}),goog.events.unlisten(rp,["mousedown","touchstart"],function(e){}),Kc.removeChild(rp)}))),e.swallow(["mouseup","touchend","touchcancel"],function(e){}),e.event.stopPropagation()}),goog.events.listen(np,["mousedown","touchstart"],function(e){0==Kc.getHidden()&&Kc.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(sp,["mousedown","touchstart"],function(e){var t;0==Kc.getHidden()&&(t=0,(heraldOrderTop=parseInt(heraldOrderTop))>questParamsHerald.crops.length&&(t=heraldOrderTop%10),heraldOrder1=questParamsHerald.crops[t].crop1,heraldOrder2=questParamsHerald.crops[t].crop2,player.cropsStored[heraldOrder1].stored=Math.abs(parseInt(parseInt(player.cropsStored[heraldOrder1].stored)-50)),player.cropsStored[heraldOrder2].stored=Math.abs(parseInt(parseInt(player.cropsStored[heraldOrder2].stored)-50)),setTimeout(function(){g.updateStored()},0),Zc.setHidden(!0),ep.setHidden(!0),tp.setHidden(!0),op.setHidden(!0),ip.setHidden(!1),sp.setHidden(!0),Xc.setText("Take this Token of Royal Favor for your Tribute. You can use them in the future. I will get this food back to the castle"),heraldOrderTop=parseInt(heraldOrderTop)+1,heraldOrderTop=Math.abs(heraldOrderTop),Sd.setText(heraldOrderTop),localStorage.setItem("MedFarms_heraldOrdersFilled",heraldOrderTop),daysTillHerald=30,Ec.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(qc,["mousedown","touchstart"],function(){Dc.setHidden(!0),Uc.setPosition(75,38),kc.setHidden(!1),Sc.setHidden(!1)});var lp=Dc.getHidden(),dp=function(e,t){if(lp=Dc.getHidden(),kc.setHidden(!0),Sc.setHidden(!0),1==lp){if(0==t){try{jc.setHidden(!0)}catch(e){console.log("caught from sellbtn "+e)}var o,i,s,r,n,a;"mayor"==e&&(Vc.setHidden(!0),Nc.setText("Mayor Borgan").setPosition(60,25),Gc.setText(questParams.mayor[1].text),swapItM1=0,Ic.setFill(imgArrayTown[15].src),Uc.setFill(imgArrayMayor[0].src),qc.setPosition(75,235),!0===questParams.mayor[0].available?(o=questParams.mayor[0].highestCompleted,i=parseInt(o)+1,Gc.setText(questParams.mayor[i].text)):Gc.setText("Thanks, but I do not need anything right now. Try me later."),Dc.setHidden(!1),Ic.setHidden(!0),_c.setHidden(!0)),"monk"==e&&(Vc.setHidden(!0),qc.setPosition(75,235),Nc.setText("Friar Patrick").setPosition(65,25),Uc.setFill(imgArrayTown[1].src),swapIt=0,1==questParams.monk[0].available?(questLevelMonk=questParams.monk[0].highestCompleted,3<(s=parseInt(questLevelMonk)+1)&&(s=1),r=questParams.monk[s].text,Gc.setText(r),Dc.setHidden(!1),Fc.setHidden(!0),vc.setHidden(!0)):(Gc.setText("Thanks, but I do not need anything right now. Try me later."),Dc.setHidden(!1))),"felicia"==e&&(qc.setPosition(75,235),Vc.setHidden(!0),Nc.setText("Lady Felicia").setPosition(72,25),swapIt=0,Uc.setFill(imgArrayFelicia[0].src),1==questParams.felicia[0].available?(questLevelFel=questParams.felicia[0].highestCompleted,3<(n=parseInt(questLevelFel)+1)&&(n=1),Gc.setText(questParams.felicia[n].text)):Gc.setText("Thanks, but I do not need anything right now. Try me later."),Dc.setHidden(!1)),"sara"==e&&(Nc.setText("InnKeeper Sara").setPosition(50,24),Uc.setFill(imgArrayTown2[0].src),qc.setPosition(75,235),swapIt=0,1==questParams.sara[0].available?(questLevelSara=questParams.sara[0].highestCompleted,a=parseInt(questLevelSara)+1,3<n&&(a=1),Gc.setText(questParams.sara[a].text)):Gc.setText("My patrons are asking for CIDER."),Dc.setHidden(!1),1==collectItems.storeItems[4].owned&&0<player.cropsStored[18].stored?(Gc.setText("My Patrons Love CIDER. Sell me all you make!"),Uc.setPosition(65,38),Wc.setHidden(!1),Vc.setText(player.cropsStored[18].stored),Vc.setHidden(!1),Dc.setHidden(!1),Jc.setText("Sell for "+g.crops[18].revenue*player.cropsStored[18].stored),Jc.setHidden(!1)):(Wc.setHidden(!0),Vc.setHidden(!0),Uc.setPosition(80,38)))}if(t=1,jc.setHidden(!1),"mayor"==e&&(qc.setPosition(75,235),Vc.setHidden(!0),Nc.setText("Mayor Borgan").setPosition(60,25),Uc.setPosition(80,38),Uc.setFill(imgArrayMayor[0].src),Gc.setText("I will buy those jewels from you"),gp.setFill(imgArrayMayor[0].src),Dp("mayor"),Dc.setHidden(!1),jc.setHidden(!1),Dp("mayor")),"monk"==e&&(qc.setPosition(75,235),Vc.setHidden(!0),Uc.setPosition(80,38),Nc.setText("Friar Patrick").setPosition(65,25),Uc.setFill(imgArrayTown[1].src),Gc.setText("You found something interesting to me"),gp.setFill(imgArrayTown[1].src),Dp("monk"),jc.setHidden(!1),Dc.setHidden(!1),Dp("monk")),"felicia"==e){if(qc.setPosition(140,235),Vc.setHidden(!0),Uc.setPosition(88,38),Uc.setFill(imgArrayFelicia[0].src),Nc.setText("Lady Felicia").setPosition(75,25),jc.setHidden(!0),1==collectItems.digUpSells[3].owned&&questParams.felicia[0].highestCompleted<2)Uc.setFill(imgArrayFelicia[0].src).setPosition(40,38),Wc.setHidden(!1).setFill(collectItems.digUpSells[3].src),Gc.setText("You found my LOCKET! Can I have it back?"),jc.setHidden(!0),Yc.setHidden(!1),qc.setPosition(75,235),Dc.y=Dc.y+30,goog.events.listen(Yc,["mousedown","touchstart"],function(){Dc.setHidden(!0),questParams.felicia[2].completed=1,questParams.felicia[0].highestCompleted=2,collectItems.digUpSells[3].owned=0,collectItems.digUpSells[3].onlyOnce=1,townRep+=1,setTimeout(function(){Gp()},0),Yc.setHidden(!0),qc.setPosition(140,235),Dc.removeChild(Yc),Uc.setPosition(80,38),Wc.setHidden(!0),Gc.setText("Thanks, but I do not need anything right now. Try me later."),ap(),kc.setHidden(!1),Sc.setHidden(!1),xc.setHidden(!0),Hc.setHidden(!0)});else{switch(Uc.setPosition(80,38).setFill(imgArrayFelicia[0].src),Wc.setHidden(!0),Math.round(7*Math.random())){case 0:Gc.setText("I heard the king sometimes sends special orders to feed the troops");break;case 1:Gc.setText("I met your wife Denise. You did buy her some furniture.... right?");break;case 2:Gc.setText("Legends tell of a Local Lord that ruled many years ago.");break;case 3:Gc.setText("The Friar told me that the local lordship has been vacant for years");break;case 4:Gc.setText("I grew up close to the castle and miss the spices we could get there");break;case 5:Gc.setText("The trader told me some old maps show caverns in the area. I wonder where");break;case 6:Gc.setText("I heard there is a healer named Connie that lives somewhere close by");break;case 7:Gc.setText("There used to be a Windmill close by, but it was damaged in a storm and never repaired");break;default:Gc.setText("My husband buys me awesome jewels all the time")}xc.setHidden(!0),Hc.setHidden(!0)}Dc.setHidden(!1)}"sara"==e&&(qc.setPosition(75,235),Nc.setText("InnKeeper Sara").setPosition(50,24),Uc.setFill(imgArrayTown2[0].src),Gc.setText("My patrons want CIDER. If you can make some, I will buy it from you"),gp.setFill(imgArrayTown[1].src),jc.setHidden(!0),Dp("sara"))}};sellLayer=(new lime.Layer).setAnchorPoint(0,0),sellLayerFill1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,50).setSize(g.width,g.height-60).setFill("images/UI/blankBack5.png").setHidden(!1),nc.appendChild(sellLayer),sellLayer.appendChild(sellLayerFill1),sellLayer.setHidden(!0);var gp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,40).setSize(128,128).setFill(imgArrayMayor[0].src);sellLayerFill1.appendChild(gp);var mp=(new lime.Label).setAnchorPoint(0,0).setPosition(130,80).setText("I will buy these items from you").setFontFamily("Comic Sans MS").setFontSize(16).setSize(150,50);sellLayerFill1.appendChild(mp);var cp=(new lime.GlossyButton).setColor("#008000").setText("Close").setPosition(155,420).setSize(52,30);sellLayerFill1.appendChild(cp);var pp=(new lime.Label).setAnchorPoint(0,0).setPosition(90,175).setText("+").setFontFamily("Comic Sans MS").setFontSize(16).setSize(150,50);sellLayerFill1.appendChild(pp);var hp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(108,0).setSize(20,20).setFill(imgArray11[0].src);pp.appendChild(hp),pp.setHidden(!0),goog.events.listen(cp,["mousedown","touchstart"],function(){sellLayerFill1.setHidden(!0),sellLayer.setHidden(!0),ap(),kc.setHidden(!1),Sc.setHidden(!1)});var up=(new lime.Sprite).setPosition(70,260).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(up).setHidden(!1),up=(new lime.GlossyButton).setPosition(70,260).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(up);var yp=(new lime.Sprite).setPosition(70,260).setSize(50,50).setFill(collectItems.digUpSells[0].src);sellLayerFill1.appendChild(yp);var Sp=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16);yp.appendChild(Sp);var fp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);yp.appendChild(fp),up.empty=!0,up.value=0,up.collectNumber=-1;var Ap=(new lime.Sprite).setPosition(150,260).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Ap).setHidden(!1),Ap=(new lime.GlossyButton).setPosition(150,260).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Ap);var vp=(new lime.Sprite).setPosition(150,260).setSize(50,50).setFill(collectItems.digUpSells[1].src);sellLayerFill1.appendChild(vp);var Fp=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16);vp.appendChild(Fp);var wp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);vp.appendChild(wp),Ap.empty=!0,Ap.value=0,Ap.collectNumber=-1;var Pp=(new lime.Sprite).setPosition(230,260).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Pp).setHidden(!1),Pp=(new lime.GlossyButton).setPosition(230,260).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Pp);var Cp=(new lime.Sprite).setPosition(230,260).setSize(50,50).setFill(collectItems.digUpSells[2].src);sellLayerFill1.appendChild(Cp);var Tp=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16);Cp.appendChild(Tp);var _p=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);Cp.appendChild(_p),Pp.empty=!0,Pp.value=0,Pp.collectNumber=-1;var Ip=(new lime.Sprite).setPosition(70,350).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Ip).setHidden(!1),Ip=(new lime.GlossyButton).setPosition(70,350).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Ip);var bp=(new lime.Sprite).setPosition(70,350).setSize(50,50).setFill(collectItems.digUpSells[3].src);sellLayerFill1.appendChild(bp);var xp=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16);bp.appendChild(xp);var Hp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);bp.appendChild(Hp),Ip.empty=!0,Ip.value=0,Ip.collectNumber=-1;var Ep=(new lime.Sprite).setPosition(150,350).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Ep).setHidden(!1),Ep=(new lime.GlossyButton).setPosition(150,350).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Ep);var zp=(new lime.Sprite).setPosition(150,350).setSize(50,50).setFill(collectItems.digUpSells[4].src);sellLayerFill1.appendChild(zp);var Mp=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16);zp.appendChild(Mp);var Lp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);zp.appendChild(Lp),Ep.empty=!0,Ep.value=0,Ep.collectNumber=-1;var Bp=(new lime.Sprite).setPosition(230,350).setSize(60,60).setFill("#008000");sellLayerFill1.appendChild(Bp).setHidden(!1),Bp=(new lime.GlossyButton).setPosition(230,350).setSize(55,55).setColor("#000000").setText(""),sellLayerFill1.appendChild(Bp);var kp=(new lime.Sprite).setPosition(230,350).setSize(50,50).setFill(collectItems.digUpSells[5].src);sellLayerFill1.appendChild(kp);var Op=(new lime.Label).setAnchorPoint(0,0).setPosition(-20,32).setText("100").setFontFamily("Comic Sans MS").setFontColor("#0000ff").setFontSize(16);kp.appendChild(Op);var Rp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,27).setSize(20,20).setFill(imgArray11[0].src);function Dp(e){var t=Object.keys(collectItems.digUpSells).length;if(up.empty=!0,yp.setHidden(!0),Ap.empty=!0,vp.setHidden(!0),Pp.empty=!0,Cp.setHidden(!0),Ip.empty=!0,bp.setHidden(!0),Ep.empty=!0,zp.setHidden(!0),Bp.empty=!0,kp.setHidden(!0),"mayor"==e)for(var o=0;o<t;o++)0<collectItems.digUpSells[o].owned&&(mp.setText("I will buy this jewelery from you. My wife can't get enough"),"Mayor"==collectItems.digUpSells[o].who&&(1==up.empty?(yp.setFill(collectItems.digUpSells[o].src),up.empty=!1,up.value=collectItems.digUpSells[o].value,Sp.setText(collectItems.digUpSells[o].value),yp.setHidden(!1),up.collectNumber=o,up.setHidden(!1)):1==Ap.empty?(vp.setFill(collectItems.digUpSells[o].src),Ap.empty=!1,Ap.value=collectItems.digUpSells[o].value,Fp.setText(collectItems.digUpSells[o].value),vp.setHidden(!1),Ap.collectNumber=o,Ap.setHidden(!1)):1==Pp.empty?(Cp.setFill(collectItems.digUpSells[o].src),Pp.empty=!1,Pp.value=collectItems.digUpSells[o].value,Tp.setText(collectItems.digUpSells[o].value),Cp.setHidden(!1),Pp.collectNumber=o,Pp.setHidden(!1)):1==Ip.empty?(bp.setFill(collectItems.digUpSells[o].src),Ip.empty=!1,Ip.value=collectItems.digUpSells[o].value,xp.setText(collectItems.digUpSells[o].value),bp.setHidden(!1),Ip.collectNumber=o,Ip.setHidden(!1)):1==Ep.empty?(zp.setFill(collectItems.digUpSells[o].src),Ep.empty=!1,Ep.value=collectItems.digUpSells[o].value,Mp.setText(collectItems.digUpSells[o].value),zp.setHidden(!1),Ep.collectNumber=o,Ep.setHidden(!1)):1==Bp.empty?(kp.setFill(collectItems.digUpSells[o].src),Bp.empty=!1,Bp.value=collectItems.digUpSells[o].value,Op.setText(collectItems.digUpSells[o].value),kp.setHidden(!1),Bp.collectNumber=o,Bp.setHidden(!1)):console.log("mayor hit else")));if("monk"==e)for(o=0;o<t;o++)0<collectItems.digUpSells[o].owned&&(mp.setText("I will buy these Artifacts from you. Bring me all you can find"),"Friar"==collectItems.digUpSells[o].who&&(1==up.empty?(yp.setFill(collectItems.digUpSells[o].src),up.setHidden(!1),up.empty=!1,up.value=collectItems.digUpSells[o].value,Sp.setText(collectItems.digUpSells[o].value),yp.setHidden(!1),up.collectNumber=o):1==Ap.empty?(vp.setFill(collectItems.digUpSells[o].src),Ap.setHidden(!1),Ap.empty=!1,Ap.value=collectItems.digUpSells[o].value,Fp.setText(collectItems.digUpSells[o].value),vp.setHidden(!1),Ap.collectNumber=o):1==Pp.empty?(Cp.setFill(collectItems.digUpSells[o].src),Pp.setHidden(!1),Pp.empty=!1,Pp.value=collectItems.digUpSells[o].value,Tp.setText(collectItems.digUpSells[o].value),Cp.setHidden(!1),Pp.collectNumber=o):1==Ip.empty?(bp.setFill(collectItems.digUpSells[o].src),Ip.setHidden(!1),Ip.empty=!1,Ip.value=collectItems.digUpSells[o].value,xp.setText(collectItems.digUpSells[o].value),bp.setHidden(!1),Ip.collectNumber=o):1==Ep.empty?(zp.setFill(collectItems.digUpSells[o].src),Ep.setHidden(!1),Ep.empty=!1,Ep.value=collectItems.digUpSells[o].value,Mp.setText(collectItems.digUpSells[o].value),zp.setHidden(!1),Ep.collectNumber=o):1==Bp.empty?(kp.setFill(collectItems.digUpSells[o].src),Bp.setHidden(!1),Bp.empty=!1,Bp.value=collectItems.digUpSells[o].value,Op.setText(collectItems.digUpSells[o].value),kp.setHidden(!1),Bp.collectNumber=o):console.log("monk hit else- all full")))}function Np(){n.play(),lime.scheduleManager.callAfter(function(){pp.setPosition(90,184).setHidden(!1)},this,75),lime.scheduleManager.callAfter(function(){pp.setPosition(90,180)},this,150),lime.scheduleManager.callAfter(function(){pp.setPosition(90,177)},this,225),lime.scheduleManager.callAfter(function(){pp.setPosition(90,173)},this,300),lime.scheduleManager.callAfter(function(){pp.setPosition(90,170)},this,350),lime.scheduleManager.callAfter(function(){pp.setHidden(!0).setText("+ ").setPosition(90,175).setOpacity(1)},this,450)}function Gp(){pc.setText(townRep),localStorage.setItem("MedFarms_townRep",townRep),5<=townRep&&hc.setText("Local Farmer"),15<=townRep&&hc.setText("Trusted Resident"),30<=townRep&&hc.setText("Local Leader")}kp.appendChild(Rp),Bp.empty=!0,Bp.value=0,Bp.collectNumber=-1,goog.events.listen(up,["mousedown","touchstart"],function(){var e,t,o=yp.getHidden(),i=sellLayerFill1.getHidden();0==o&&"undefined"!=o&&0==i&&(yp.setHidden(!0),player.money=parseInt(player.money)+up.value,townRep+=1,setTimeout(function(){Gp()},0),pp.setText("+ "+up.value),Np(),e=up.collectNumber,collectItems.digUpSells[e].owned=0,"Mayor"==(t=collectItems.digUpSells[e].who)&&(mayorReady=0,Ic.setHidden(!0),_c.setHidden(!0)),"Friar"==t&&(friarReady=0,Fc.setHidden(!0),vc.setHidden(!0)),localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),up.empty=!0,up.value=0,up.collectNumber=-1,yp.setFill(imgArray[17].src),g.updateMoney())}),goog.events.listen(Ap,["mousedown","touchstart"],function(){var e,t,o=vp.getHidden(),i=sellLayerFill1.getHidden(),i=sellLayerFill1.getHidden();0==o&&"undefined"!=o&&0==i&&(vp.setHidden(!0),player.money=parseInt(player.money)+Ap.value,townRep+=1,setTimeout(function(){Gp()},0),pp.setText("+ "+Ap.value),Np(),e=Ap.collectNumber,collectItems.digUpSells[e].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[e].who)&&(mayorReady=0,Ic.setHidden(!0),_c.setHidden(!0)),"Friar"==t&&(friarReady=0,Fc.setHidden(!0),vc.setHidden(!0)),Ap.empty=!0,Ap.value=0,Ap.collectNumber=-1,vp.setFill(imgArray[17].src),g.updateMoney())}),goog.events.listen(Pp,["mousedown","touchstart"],function(){var e,t,o=Cp.getHidden(),i=sellLayerFill1.getHidden();0==o&&"undefined"!=o&&0==i&&(Cp.setHidden(!0),player.money=parseInt(player.money)+Pp.value,townRep+=1,setTimeout(function(){Gp()},0),pp.setText("+ "+Pp.value),Np(),e=Pp.collectNumber,collectItems.digUpSells[e].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[e].who)&&(mayorReady=0,Ic.setHidden(!0),_c.setHidden(!0)),"Friar"==t&&(friarReady=0,Fc.setHidden(!0),vc.setHidden(!0)),Pp.empty=!0,Pp.value=0,Pp.collectNumber=-1,Cp.setFill(imgArray[17].src),g.updateMoney())}),goog.events.listen(Ip,["mousedown","touchstart"],function(){var e,t,o=bp.getHidden(),i=sellLayerFill1.getHidden();0==o&&"undefined"!=o&&0==i&&(bp.setHidden(!0),player.money=parseInt(player.money)+Ip.value,townRep+=1,setTimeout(function(){Gp()},0),pp.setText("+ "+Ip.value),Np(),e=Ip.collectNumber,collectItems.digUpSells[e].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[e].who)&&(mayorReady=0,Ic.setHidden(!0),_c.setHidden(!0)),"Friar"==t&&(friarReady=0,Fc.setHidden(!0),vc.setHidden(!0)),Ip.empty=!0,Ip.value=0,Ip.collectNumber=-1,bp.setFill(imgArray[17].src),g.updateMoney())}),goog.events.listen(Ep,["mousedown","touchstart"],function(){var e,t,o=zp.getHidden(),i=sellLayerFill1.getHidden();0==o&&"undefined"!=o&&0==i&&(zp.setHidden(!0),player.money=parseInt(player.money)+Ep.value,townRep+=1,setTimeout(function(){Gp()},0),pp.setText("+ "+Ep.value),Np(),e=Ep.collectNumber,collectItems.digUpSells[e].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[e].who)&&(mayorReady=0,Ic.setHidden(!0),_c.setHidden(!0)),"Friar"==t&&(friarReady=0,Fc.setHidden(!0),vc.setHidden(!0)),Ep.empty=!0,Ep.value=0,Ep.collectNumber=-1,zp.setFill(imgArray[17].src),g.updateMoney())}),goog.events.listen(Bp,["mousedown","touchstart"],function(){var e,t,o=kp.getHidden(),i=sellLayerFill1.getHidden();0==o&&"undefined"!=o&&0==i&&(kp.setHidden(!0),player.money=parseInt(player.money)+Bp.value,townRep+=1,setTimeout(function(){Gp()},0),pp.setText("+ "+Bp.value),Np(),e=Bp.collectNumber,collectItems.digUpSells[e].owned=0,localStorage.setItem("GuiGhostFarms_playerItems",JSON.stringify(collectItems)),"Mayor"==(t=collectItems.digUpSells[e].who)&&(mayorReady=0,Ic.setHidden(!0),_c.setHidden(!0)),"Friar"==t&&(friarReady=0,Fc.setHidden(!0),vc.setHidden(!0)),Bp.empty=!0,Bp.value=0,Bp.collectNumber=-1,kp.setFill(imgArray[17].src),g.updateMoney())});var Up=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,50).setSize(275,323).setFill("images/UI/goPremium.png");ac.appendChild(Up);var Wp=(new lime.GlossyButton).setColor("#00ff00").setText("Visit Shop").setPosition(210,315).setSize(80,25);Up.appendChild(Wp);var Vp=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(60,315).setSize(80,25);Up.appendChild(Vp),1==(seenPremiumPromo=JSON.parse(localStorage.getItem("MedFarms_seenPremiumPromo")))?Up.setHidden(!0):(goog.events.listen(Wp,["mousedown","touchstart"],function(e){Up.setHidden(!0),h.replaceScene(eg,lime.transitions.SlideInDown),setTimeout(function(){validCropsStored()},0),sceneActive="Store",rc.setOpacity(1),sc.setOpacity(.5),tg.setHidden(!0),sg.setHidden(!0),storeBuyPremiumLayer.setHidden(!1),seenPremiumPromo=1,localStorage.setItem("MedFarms_seenPremiumPromo",1),e.stopPropagation()}),goog.events.listen(Vp,["mousedown","touchstart"],function(e){Up.setHidden(!0),seenPremiumPromo=1,localStorage.setItem("MedFarms_seenPremiumPromo",1),e.stopPropagation()})),adFreeVersion&&Up.setHidden(!0);var Jp=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),Yp=(new lime.Layer).setAnchorPoint(0,0),qp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("images/grass.png").setHidden(!1);Jp.appendChild(qp),Jp.appendChild(Yp);var jp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("images/UI/farmersMarket3.png");Yp.appendChild(jp);var Kp=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.width/2+85,475).setSize(50,50).setFill(imgArray[21]);Yp.appendChild(Kp);var $p=(new lime.Label).setText("Hit a tile to sell crop ").setFontSize(18).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(145,135).setSize(200,80);Yp.appendChild($p);var Xp=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);Yp.appendChild(Xp);var Qp=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setPosition(243,24).setFontSize(18).setFontFamily("Comic Sans MS");Yp.appendChild(Qp);var Zp=135,eh=0,th=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(th),count0=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75,Zp+15),Yp.appendChild(count0),g0=(new lime.Sprite).setAnchorPoint(0,0).setPosition(97,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g0),i0=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98,Zp+36),Yp.appendChild(i0),g0I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(g0I),eh=1;var oh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(oh),count1=(new lime.Label).setText(player.cropsStored[1].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170,Zp+15),Yp.appendChild(count1),g1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(192,Zp).setFill("images/"+g.crops[1].harvest).setSize(30,30),Yp.appendChild(g1),i1=(new lime.Label).setText(" +"+g.crops[1].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188,Zp+36),Yp.appendChild(i1),i0I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i0I),Zp+=50,eh=2;var ih=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(ih),count2=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75,Zp+15),Yp.appendChild(count2),g3=(new lime.Sprite).setAnchorPoint(0,0).setPosition(97,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g3),i3=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(97,Zp+36),Yp.appendChild(i3),i3I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i3I),eh=3;var sh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(sh),count3=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170,Zp+15),Yp.appendChild(count3),g4=(new lime.Sprite).setAnchorPoint(0,0).setPosition(195,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g4),i4=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(186,Zp+36),Yp.appendChild(i4),i4I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i4I),Zp+=50,eh=4;var rh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(rh),count4=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75,Zp+15),Yp.appendChild(count4),g5=(new lime.Sprite).setAnchorPoint(0,0).setPosition(97,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g5),i5=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(97,Zp+36),Yp.appendChild(i5),i5I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i5I),eh=5;var nh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(nh),count5=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170,Zp+15),Yp.appendChild(count5),g6=(new lime.Sprite).setAnchorPoint(0,0).setPosition(195,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g6),i6=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188,Zp+36),Yp.appendChild(i6),i6I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i6I),Zp+=50,eh=6;var ah=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(ah),count6=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75,Zp+15),Yp.appendChild(count6),g7=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,Zp).setFill("images/"+g.crops[eh].harvest).setSize(40,30),Yp.appendChild(g7),i7=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98,Zp+36),Yp.appendChild(i7),i7I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i7I),eh=7;var lh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(lh),count7=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170,Zp+15),Yp.appendChild(count7),g8=(new lime.Sprite).setAnchorPoint(0,0).setPosition(192,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g8),i8=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188,Zp+36),Yp.appendChild(i8),i8I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i8I),Zp+=50,eh=8;var dh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(dh),count8=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75,Zp+15),Yp.appendChild(count8),g9=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g9),i9=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98,Zp+36),Yp.appendChild(i9),i9I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i9I),eh=9;var gh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(gh),count9=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170,Zp+15),Yp.appendChild(count9),g10=(new lime.Sprite).setAnchorPoint(0,0).setPosition(195,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g10),i10=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188,Zp+38),Yp.appendChild(i10),i10I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i10I),Zp+=50,eh=eh=10;var mh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(mh),count10=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75,Zp+15),Yp.appendChild(count10),g11=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g11),i11=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98,Zp+36),Yp.appendChild(i11),i11I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i11I),eh=11;var ch=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(ch),count11=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170,Zp+15),Yp.appendChild(count11),g12=(new lime.Sprite).setAnchorPoint(0,0).setPosition(195,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g12),i12=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188,Zp+36),Yp.appendChild(i12),i12I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i12I),Zp+=50,eh=12;var ph=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(ph),count12=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(75,Zp+15),Yp.appendChild(count12),g13=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g13),i13=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(98,Zp+36),Yp.appendChild(i13),i13I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i13I),eh=13;var hh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,Zp).setSize(80,44).setFill(imgArray[18].src);Yp.appendChild(hh),count13=(new lime.Label).setText(player.cropsStored[eh].stored).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(170,Zp+15),Yp.appendChild(count13),g14=(new lime.Sprite).setAnchorPoint(0,0).setPosition(195,Zp).setFill("images/"+g.crops[eh].harvest).setSize(30,30),Yp.appendChild(g14),i14=(new lime.Label).setText(" +"+g.crops[eh].revenue).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(188,Zp+36),Yp.appendChild(i14),i14I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(162,Zp+25).setFill(imgArray11[0]).setSize(18,18),Yp.appendChild(i14I);var uh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(240,240).setSize(54,70).setFill(imgArray[18].src);Yp.appendChild(uh),countTools=(new lime.Label).setText(player.tools).setFontSize(16).setFontColor("#1aff1a").setFontFamily("Comic Sans MS").setPosition(266,255),Yp.appendChild(countTools),g15=(new lime.Sprite).setAnchorPoint(0,0).setPosition(250,260).setFill(imgArray[30]).setSize(30,30),Yp.appendChild(g15),i15=(new lime.Label).setText("+5").setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(12).setPosition(275,303),Yp.appendChild(i15),i15I=(new lime.Sprite).setAnchorPoint(0,0).setPosition(245,290).setFill(imgArray11[0]).setSize(20,20),Yp.appendChild(i15I);var yh=0,Sh=0,fh=0,Ah=0,vh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("images/UI/blocker.png").setHidden(!1);Yp.appendChild(vh);var Fh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,150).setSize(250,250).setFill("images/UI/blankBack4.png");vh.appendChild(Fh);var wh=(new lime.Label).setText("$ Sell Crop $").setFontColor("#00004d").setFontFamily("Comic Sans MS").setFontSize(26).setPosition(125,60);Fh.appendChild(wh);var Ph=(new lime.Label).setText(Sh+"/"+yh).setFontColor("#00004d").setFontFamily("Comic Sans MS").setFontSize(20).setPosition(55,140);Fh.appendChild(Ph);var Ch=(new lime.Label).setText(" $0 ").setFontColor("#00004d").setFontFamily("Comic Sans MS").setFontSize(20).setPosition(190,140);Fh.appendChild(Ch);var Th=(new lime.Label).setText("Sell For").setFontColor("#004d00").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(181,110);Fh.appendChild(Th);var _h=(new lime.Label).setText("Stock").setFontColor("#004d00").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(53,110);Fh.appendChild(_h);var Ih=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,80).setFill("images/"+g.crops[eh].harvest).setSize(40,40);Fh.appendChild(Ih);var bh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,165).setFill("images/UI/sellBtn.png").setSize(120,40);Fh.appendChild(bh);var xh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(20,165).setFill("images/UI/downBtn.png").setSize(40,40);Fh.appendChild(xh);var Hh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(188,165).setFill("images/UI/upBtn.png").setSize(40,40);Fh.appendChild(Hh);var Eh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,210).setFill(imgArray[21]).setSize(60,60);Fh.appendChild(Eh),vh.setHidden(!0),goog.events.listen(Eh,["mousedown","touchstart"],function(e){vh.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(Hh,["mousedown","touchstart"],function(e){g.cropUp(fh),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(xh,["mousedown","touchstart"],function(e){g.cropDown(fh),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}),goog.events.listen(Rc,["mousedown","touchstart"],function(){zP(),townSceneActive=0,g.updateMoney(),1==parseInt(g.sceneBefore)?(o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),h.replaceScene(u,lime.transitions.SlideInDown),sceneActive="Home"):2==g.sceneBefore?(h.replaceScene(Ii,lime.transitions.SlideInDown),sceneActive="Pasture"):3==g.sceneBefore?(h.replaceScene(Jr,lime.transitions.SlideInDown),sceneActive="Orchard"):4==g.sceneBefore?(h.replaceScene(ny,lime.transitions.SlideInDown),sceneActive="Vineyard"):5==g.sceneBefore?(h.replaceScene(Rh,lime.transitions.SlideInDown),a.play(),sceneActive="LS",l.play()):sceneActive=7==g.sceneBefore?(h.replaceScene(VA,lime.transitions.SlideInDown),"House"):(o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),h.replaceScene(u,lime.transitions.SlideInDown),"Home"),ac.setHidden(!1),lc.setHidden(!1),Yp.setHidden(!0),qp.setHidden(!0),Rc.setHidden(!1),setTimeout(function(){validCropsStored()},0)}),goog.events.listen(Kp,["mousedown","touchstart"],function(){zP(),townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market",ac.setHidden(!1),lc.setHidden(!1),Rc.setHidden(!1),Sc.setHidden(!1),Dc.setHidden(!0),setTimeout(function(){validCropsStored()},0)});goog.events.listen(th,["mousedown","touchstart"],function(){g.updateCropsandCash(0)}),goog.events.listen(oh,["mousedown","touchstart"],function(){g.updateCropsandCash(1)}),goog.events.listen(ih,["mousedown","touchstart"],function(){g.updateCropsandCash(2)}),goog.events.listen(sh,["mousedown","touchstart"],function(){g.updateCropsandCash(3)}),goog.events.listen(rh,["mousedown","touchstart"],function(){g.updateCropsandCash(4)}),goog.events.listen(nh,["mousedown","touchstart"],function(){g.updateCropsandCash(5)}),goog.events.listen(ah,["mousedown","touchstart"],function(){g.updateCropsandCash(6)}),goog.events.listen(lh,["mousedown","touchstart"],function(){g.updateCropsandCash(7)}),goog.events.listen(dh,["mousedown","touchstart"],function(){g.updateCropsandCash(8)}),goog.events.listen(gh,["mousedown","touchstart"],function(){g.updateCropsandCash(9)}),goog.events.listen(mh,["mousedown","touchstart"],function(){g.updateCropsandCash(10)}),goog.events.listen(ch,["mousedown","touchstart"],function(){g.updateCropsandCash(11)}),goog.events.listen(ph,["mousedown","touchstart"],function(){g.updateCropsandCash(12)}),goog.events.listen(hh,["mousedown","touchstart"],function(){g.updateCropsandCash(13)}),goog.events.listen(uh,["mousedown","touchstart"],function(){g.updateCropsandCash(14)}),g.updateCropsandCash=function(e){var t=vh.getHidden();14==e&&t?(fh=parseInt(e),yh=player.tools,Sh=player.tools,Ah=5*player.tools,Ch.setText(Ah),Ph.setText(Sh+"/"+yh),Ih.setFill(imgArray[30]),vh.setHidden(!1),goog.events.listen(bh,["mousedown","touchstart"],function(e){vh.getHidden()||g.finalSale(fh),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})})):0<player.cropsStored[e].stored&&t&&(fh=parseInt(e),yh=player.cropsStored[e].stored,Sh=player.cropsStored[e].stored,Ah=g.crops[e].revenue*player.cropsStored[e].stored,Ch.setText(Ah),Ph.setText(Sh+"/"+yh),Ih.setFill("images/"+g.crops[e].harvest),vh.setHidden(!1),goog.events.listen(bh,["mousedown","touchstart"],function(e){vh.getHidden()||g.finalSale(fh),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(e){})}))},g.hideRowBacks=function(){},g.cropDown=function(e){Sh<100?--Sh:100<=Sh&&Sh<1e3?Sh-=10:1e3<=Sh&&(Sh-=100),Sh<=1&&(Sh=1),e<14?Ah=g.crops[e].revenue*Sh:14==e&&(Ah=5*Sh),Ph.setText(Sh+"/"+yh),Ch.setText(Ah)},g.cropUp=function(e){Sh+=1,14==e&&(Sh+=9),yh<=Sh&&(Sh=yh),e<14?Ah=g.crops[e].revenue*Sh:14==e&&(Ah=5*Sh),Ph.setText(Sh+"/"+yh),Ch.setText(Ah)},g.interMedSale=function(e){g.finalSale(e)},g.finalSale=function(e){var t=player.money+Ah;isNaN(t)||(player.money=player.money+Ah),moneyEver+=Ah,localStorage.GuiGhostFarms_moneyEver=moneyEver,n.play(),vh.setHidden(!0),e<14?player.cropsStored[e].stored=Math.abs(parseInt(player.cropsStored[e].stored-Sh)):14==e&&(player.tools=player.tools-Sh),2<=e&&(questParams.felicia[0].highestcompleted=1,questParams.felicia[1].completed=1),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),vh.setHidden(!0),g.updateStored(),g.updateMoney(),bh.removeEventListener("mousedown",function(){console.log("howmanysellBtn removed listener")})};var zh=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),Mh=(new lime.Layer).setAnchorPoint(0,0);introFill1=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height),zh.appendChild(Mh),Mh.appendChild(introFill1),playGameBtn=(new lime.GlossyButton).setColor("#663300").setText("").setPosition(150,250).setSize(g.width/2+10,70),Mh.appendChild(playGameBtn);var Lh=(new lime.Label).setText("PLAY").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150,255).setFontSize(36);Mh.appendChild(Lh);var Bh=(new lime.GlossyButton).setColor("#663300").setText("").setPosition(150,340).setSize(g.width/2-5,50);Mh.appendChild(Bh);var kh=(new lime.Label).setText("MORE GAMES").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(150,346).setFontSize(20);Mh.appendChild(kh),1==adFreeVersion&&(Bh.setHidden(!0),kh.setHidden(!0));var Oh=(new lime.Sprite).setPosition(157,260).setSize(300,490).setFill(imgArray[14]);zh.appendChild(Oh),lime.audio.setMute(!0),goog.events.listen(playGameBtn,["mousedown","touchstart"],function(){h.replaceScene(u,lime.transitions.SlideInUp),sceneBefore=1,lime.audio.setMute(!1),o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),sceneActive="Home",0==localStorage.getItem("GuiGhostFarms_muted")?(lime.audio.setMute(!1),i.play(!0),s.play()):(lime.audio.setMute(!0),BP(1)),g.checkTutSeen(),setTimeout(function(){if(validCropsStored(),"Android"==deviceType){li.setHidden(!1);try{console.log("trying check"),function(){if("Android"==("iPad"==navigator.userAgent.match(/iPad/i)?"iPad":"iPhone"==navigator.userAgent.match(/iPhone/i)?"iPhone":"Android"==navigator.userAgent.match(/Android/i)?"Android":"BlackBerry"==navigator.userAgent.match(/BlackBerry/i)?"BlackBerry":"null")){li.setHidden(!1);try{window.plugins.launcher.canLaunch({packageName:"com.GuiGhostGames.StackerBoB"},function(){vi=!0},function(){console.log("failed check for stack inside")})}catch(e){console.log("failed stack outside")}try{window.plugins.launcher.canLaunch({packageName:"com.GuiGhostGames.StarMatch2048"},function(){Fi=!0},function(){console.log("stMatch install check from canLaunch failed insisde")})}catch(e){console.log("stMatch install check from canLaunch failed outside")}}else li.setHidden(!0),Bh.setHidden(!0)}()}catch(e){console.log("check apps failed "+e)}}else li.setHidden(!0)},0),setTimeout(function(){!function(){if(1==vi){mi.setSize(30,30).setFill(imgArray[35]),wi(1),Pi=5,pi.setHidden(!0);try{Enhance.logEvent("achieved_install_stacker")}catch(e){console.log("logging failed")}}if(1==Fi){Pi+=5,ui.setSize(30,30).setFill(imgArray[35]),wi(2),Si.setHidden(!0);try{Enhance.logEvent("achieved_install_starMatch")}catch(e){console.log("logging failed")}}if(1==Fi&&1==vi){Pi=10;try{Enhance.logEvent("achieved_install_trifecta")}catch(e){console.log("logging failed")}}Qo.setHidden(!0),Zo.setHidden(!0),ei.setHidden(!0),ti.setHidden(!0),oi.setHidden(!0),ii.setHidden(!0),si.setHidden(!0);var e=new Date,t=new Date(e.getFullYear(),0,0),o=e-t,i=Math.floor(o/864e5);if(localStorage.setItem("lastLoginDay",i),0<Ti){if(console.log("lastloginday "+Ti),console.log("today "+i),Ti==i)fi.setHidden(!0),Io.setHidden(!0);else if(Ti<i-1)console.log("more than 1 day ago"),Io.setHidden(!1),Ci=0,localStorage.setItem("daysInRow",0),Qo.setHidden(!1),Eo.setFill("#00ff00"),ai.setText("+100 Coins").setFontColor("#E8FC08"),Zo.setHidden(!0),ei.setHidden(!0),ti.setHidden(!0),oi.setHidden(!0),ii.setHidden(!0),si.setHidden(!0),fi.setHidden(!1);else if(Ti==i-1)switch(Io.setHidden(!1),fi.setHidden(!1),6<Ci&&(Ci=0),localStorage.setItem("daysInRow",0),Ci){case 0:ai.setText("+100 Coins").setFontColor("#E8FC08"),Qo.setHidden(!1),Eo.setFill("#00ff00");try{Enhance.logEvent("achieved_DailyReward1")}catch(e){console.log("logging failed")}break;case 1:ai.setText("+150 Tools").setFontColor("#E8FC08"),Qo.setHidden(!1),Eo.setFill("#00ff00"),Zo.setHidden(!1),zo.setFill("#00ff00");try{Enhance.logEvent("achieved_DailyReward2")}catch(e){console.log("logging failed")}break;case 2:ai.setText("+5 Stars").setFontColor("#E8FC08"),Qo.setHidden(!1),Eo.setFill("#00ff00"),Zo.setHidden(!1),zo.setFill("#00ff00"),ei.setHidden(!1),Mo.setFill("#00ff00");try{Enhance.logEvent("achieved_DailyReward3")}catch(e){console.log("logging failed")}break;case 3:ai.setText("+250 Coins").setFontColor("#E8FC08"),Qo.setHidden(!1),Eo.setFill("#00ff00"),Zo.setHidden(!1),zo.setFill("#00ff00"),ei.setHidden(!1),Mo.setFill("#00ff00"),ti.setHidden(!1),Lo.setFill("#00ff00");try{Enhance.logEvent("achieved_DailyReward4")}catch(e){console.log("logging failed")}break;case 4:ai.setText("+10 Stars").setFontColor("#E8FC08"),Qo.setHidden(!1),Eo.setFill("#00ff00"),Zo.setHidden(!1),zo.setFill("#00ff00"),ei.setHidden(!1),Mo.setFill("#00ff00"),ti.setHidden(!1),Lo.setFill("#00ff00"),oi.setHidden(!1),Bo.setFill("#00ff00");try{Enhance.logEvent("achieved_DailyReward5")}catch(e){console.log("logging failed")}break;case 5:ai.setText("+150 Wood").setFontColor("#E8FC08"),Qo.setHidden(!1),Eo.setFill("#00ff00"),Zo.setHidden(!1),zo.setFill("#00ff00"),ei.setHidden(!1),Mo.setFill("#00ff00"),ti.setHidden(!1),Lo.setFill("#00ff00"),oi.setHidden(!1),Bo.setFill("#00ff00"),ii.setHidden(!1),ko.setFill("#00ff00");try{Enhance.logEvent("achieved_DailyReward6")}catch(e){console.log("logging failed")}break;case 6:ai.setText("+1000 Coins").setFontColor("#E8FC08"),Qo.setHidden(!1),Eo.setFill("#00ff00"),Zo.setHidden(!1),zo.setFill("#00ff00"),ei.setHidden(!1),Mo.setFill("#00ff00"),ti.setHidden(!1),Lo.setFill("#00ff00"),oi.setHidden(!1),Bo.setFill("#00ff00"),ii.setHidden(!1),ko.setFill("#00ff00"),si.setHidden(!1),Oo.setFill("#00ff00");try{Enhance.logEvent("achieved_DailyReward7")}catch(e){console.log("logging failed")}break;default:console.log("none")}localStorage.setItem("lastLoginDay",i)}}()},2e3)}),goog.events.listen(Bh,["mousedown","touchstart"],function(){localStorage.setItem("moreGamesClicked",1)}),h.replaceScene(zh),document.getElementById("loadingGG").style.display="none";var Rh=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),Dh=(new lime.Layer).setAnchorPoint(0,0),Nh=(new lime.Sprite).setPosition(0,0).setSize(g.width,g.height);Rh.appendChild(Dh),Dh.appendChild(Nh),5!=sceneBefore&&(a.stop(),l.stop(),d.stop(),m.stop());var Gh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(g.controlsLayer_w,g.controlsLayer_h-24).setFill("images/UI/greenButtonLg.png");Dh.appendChild(Gh);var Uh=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);Dh.appendChild(Uh);var Wh=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setPosition(243,24).setFontSize(18).setFontFamily("Comic Sans MS");Dh.appendChild(Wh);var Vh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,45).setSize(g.controlsLayer_w,420).setFill("images/livestockPens/livestockPensBack3-1.png");1<coopLevel&&Vh.setFill("images/livestockPens/livestockPensBackUpCoop-1.png"),Dh.appendChild(Vh);var Jh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(105,210).setSize(39,42).setFill("images/toolUp3.png");Dh.appendChild(Jh);var Yh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(65,240).setSize(110,80).setFill(imgArray[26]);Dh.appendChild(Yh);var qh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,185).setSize(120,200).setFill(imgArray[24].src);Dh.appendChild(qh);var jh=(new lime.Label).setText("60").setPosition(118,275).setSize(40,25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill(imgArray[27]),Kh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);Dh.appendChild(jh),jh.appendChild(Kh),Kh.setRotation(-10);var $h=-10;jh.setHidden(!0),Yh.setHidden(!0),qh.setHidden(!0),lime.scheduleManager.scheduleWithDelay(function(){var e;"LS"==sceneActive&&((e=Jh.getPosition()).y+=5,215<e.y&&(e.y=210),Jh.setPosition(e))},this,500);var Xh=60;function Qh(e){var t,o,i;0==globalModalBlock&&0==barnUpInProgressLS&&(500<player.tools||1==e)&&(0==e&&(player.tools=player.tools-500),barnUpInProgressLS=1,Jh.setHidden(!0),qh.setHidden(!1),Yh.setHidden(!1),jh.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){35<($h+=10)&&($h=-10),Kh.setRotation($h)},this,200,300),t=120,o=55,i=185,lime.scheduleManager.scheduleWithDelay(function(){--Xh,jh.setText(Xh),upgradesInProgress.buildings[4].timeLeft=Xh,upgradesInProgress.buildings[4].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),Xh<=0&&(jh.setHidden(!0),Yh.setHidden(!0),qh.setHidden(!0),Xh=60,Vh.setFill("images/livestockPens/livestockPensBackUpCoop-1.png"),setTimeout(function(){g.updateTools()},0),coopLevel=2,localStorage.GuiGhostFarms_coopLevel=2,ou.setHidden(!1),g.sparkles(),upgradesInProgress.buildings[4].timeLeft=0,upgradesInProgress.buildings[4].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),goog.events.removeAll(Jh),barnUpInProgressLS=0)},this,1e3,60),lime.scheduleManager.scheduleWithDelay(function(){qh.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<40&&(o=55,i=185,t=120)},this,250,240))}goog.events.listen(Jh,["mousedown","touchstart"],function(){setTimeout(function(){Qh(0)},0)}),1<coopLevel&&goog.events.removeAll(Jh);var Zh=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,436).setSize(245,25).setFill("images/"+g.barnyard[15].image);Dh.appendChild(Zh),roadLeftLS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-12).setSize(40,40).setFill(imgArray[48]),Zh.appendChild(roadLeftLS);var eu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,g.height-g.controlsLayer_h-5).setSize(g.controlsLayer_w,g.controlsLayer_h+5).setFill("images/UI/blackButton.png");Dh.appendChild(eu);var tu=(new lime.Sprite).setPosition(90,282).setFill("images/livestockPens/egg3.png").setSize(17,13);Dh.appendChild(tu);var ou=(new lime.Sprite).setPosition(123,292).setFill("images/livestockPens/egg3.png").setSize(17,13);Dh.appendChild(ou),coopLevel<2&&ou.setHidden(!0),2==coopLevel&&Jh.setHidden(!0);var iu=(new lime.Sprite).setPosition(155,282).setFill("images/livestockPens/egg3.png").setSize(17,13);Dh.appendChild(iu);var su=(new lime.Sprite).setPosition(159,285).setFill("images/livestockPens/stars4.png").setSize(25,30);Dh.appendChild(su);var ru=0,nu={egg1:!1,egg2:!1,egg3:!1},au={egg1:!1,egg2:!1,egg3:!1},lu=0,du=1,gu=0;g.sparkles=function(){lime.scheduleManager.scheduleWithDelay(function(){"LS"==sceneActive&&(lu+=1,2==(du+=1)?(su.setHidden(!0),0==nu[tu]&&0==gu&&tu.setPosition(90,279),0==nu[ou]&&0==gu&&ou.setPosition(123,292),0==nu[iu]&&0==gu&&iu.setPosition(159,279)):(su.setHidden(!1),du=1,0==nu[tu]&&0==gu&&tu.setPosition(90,282),0==nu[ou]&&0==gu&&ou.setPosition(123,289),0==nu[iu]&&0==gu&&iu.setPosition(159,282)),su.setHidden(!0),3<lu&&(lu=0))},this,500)},g.sparkles(),g.LivestockHarvest=function(e){lime.scheduleManager.scheduleWithDelay(function(){ru+=1,1<=e.cropsStored[5].stored&&(2==ru&&(tu.setHidden(!1),nu[tu]=!1,e.cropsStored[5].stored=e.cropsStored[5].stored-1),3==ru&&(iu.setHidden(!1),nu[iu]=!1,e.cropsStored[5].stored=e.cropsStored[5].stored-1),4==ru&&1<coopLevel&&(ou.setHidden(!1),nu[ou]=!1,e.cropsStored[5].stored=e.cropsStored[5].stored-1),5<ru&&(ru=0),sy.setText(e.cropsStored[5].stored),ry.setText(e.cropsStored[8].stored))},this,15e3)},g.LivestockHarvest(player),goog.events.listen(tu,["mousedown","touchstart","touchmove"],function(){g.eggClick(1)}),goog.events.listen(ou,["mousedown","touchstart","touchmove"],function(){g.eggClick(2)}),goog.events.listen(iu,["mousedown","touchstart","touchmove"],function(){g.eggClick(3)}),g.eggClick=function(e){1==e&&(au[tu]=!0,player.cropsStored[11].stored=player.cropsStored[11].stored+3,nu[tu]=!0,ru=0,gu=1,count11.setText(player.cropsStored[11].stored),od.setText(player.cropsStored[11].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){tu.setPosition(90,272)},this,100),lime.scheduleManager.callAfter(function(){tu.setPosition(90,262)},this,200),lime.scheduleManager.callAfter(function(){tu.setPosition(90,242)},this,300),lime.scheduleManager.callAfter(function(){tu.setPosition(90,222)},this,400),lime.scheduleManager.callAfter(function(){tu.setPosition(90,182)},this,500),lime.scheduleManager.callAfter(function(){tu.setPosition(90,150)},this,600),lime.scheduleManager.callAfter(function(){tu.setPosition(90,130)},this,700),lime.scheduleManager.callAfter(function(){tu.setPosition(90,120)},this,730),lime.scheduleManager.callAfter(function(){tu.setPosition(90,110)},this,760),lime.scheduleManager.callAfter(function(){tu.setPosition(90,100)},this,790),lime.scheduleManager.callAfter(function(){tu.setPosition(90,90)},this,820),lime.scheduleManager.callAfter(function(){tu.setPosition(90,70)},this,850),lime.scheduleManager.callAfter(function(){tu.setPosition(90,50)},this,875),lime.scheduleManager.callAfter(function(){tu.setHidden(!0),gu=0,au[tu]=!1},this,900),lime.scheduleManager.callAfter(function(){tu.setPosition(90,282)},this,1e3)),2==e&&(player.cropsStored[11].stored=player.cropsStored[11].stored+3,gu=2,ru=0,au[ou]=!0,count11.setText(player.cropsStored[11].stored),od.setText(player.cropsStored[11].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){ou.setPosition(123,282)},this,100),lime.scheduleManager.callAfter(function(){ou.setPosition(123,272)},this,150),lime.scheduleManager.callAfter(function(){ou.setPosition(123,262)},this,200),lime.scheduleManager.callAfter(function(){ou.setPosition(123,252)},this,100),lime.scheduleManager.callAfter(function(){ou.setPosition(123,242)},this,300),lime.scheduleManager.callAfter(function(){ou.setPosition(123,222)},this,400),lime.scheduleManager.callAfter(function(){ou.setPosition(123,182)},this,500),lime.scheduleManager.callAfter(function(){ou.setPosition(123,150)},this,600),lime.scheduleManager.callAfter(function(){ou.setPosition(123,130)},this,700),lime.scheduleManager.callAfter(function(){ou.setPosition(123,120)},this,730),lime.scheduleManager.callAfter(function(){ou.setPosition(123,110)},this,760),lime.scheduleManager.callAfter(function(){ou.setPosition(123,100)},this,790),lime.scheduleManager.callAfter(function(){ou.setPosition(123,90)},this,820),lime.scheduleManager.callAfter(function(){ou.setPosition(123,70)},this,850),lime.scheduleManager.callAfter(function(){ou.setPosition(123,50)},this,875),lime.scheduleManager.callAfter(function(){ou.setHidden(!0),gu=0,au[ou]=!1},this,900),lime.scheduleManager.callAfter(function(){ou.setPosition(123,292)},this,1e3)),3==e&&(player.cropsStored[11].stored=player.cropsStored[11].stored+3,gu=3,ru=0,au[iu]=!0,count11.setText(player.cropsStored[11].stored),od.setText(player.cropsStored[11].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),lime.scheduleManager.callAfter(function(){iu.setPosition(155,272)},this,100),lime.scheduleManager.callAfter(function(){iu.setPosition(155,262)},this,200),lime.scheduleManager.callAfter(function(){iu.setPosition(155,242)},this,300),lime.scheduleManager.callAfter(function(){iu.setPosition(155,222)},this,400),lime.scheduleManager.callAfter(function(){iu.setPosition(155,182)},this,500),lime.scheduleManager.callAfter(function(){iu.setPosition(155,150)},this,600),lime.scheduleManager.callAfter(function(){iu.setPosition(155,130)},this,700),lime.scheduleManager.callAfter(function(){iu.setPosition(155,120)},this,730),lime.scheduleManager.callAfter(function(){iu.setPosition(155,110)},this,760),lime.scheduleManager.callAfter(function(){iu.setPosition(155,100)},this,790),lime.scheduleManager.callAfter(function(){iu.setPosition(155,90)},this,820),lime.scheduleManager.callAfter(function(){iu.setPosition(155,70)},this,850),lime.scheduleManager.callAfter(function(){iu.setPosition(155,50)},this,875),lime.scheduleManager.callAfter(function(){iu.setHidden(!0),gu=0,au[iu]=!1},this,900),lime.scheduleManager.callAfter(function(){iu.setPosition(155,282)},this,1e3))};var mu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(16,115).setSize(35,35).setFill(imgArrayEva[0].src);Dh.appendChild(mu);var cu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(175,350).setSize(23,22).setFill(imgArray3[3]);Dh.appendChild(cu);var pu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,315).setSize(23,22).setFill(imgArray3[3]);Dh.appendChild(pu);var hu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(156,309).setSize(23,22).setFill(imgArray3[3]);Dh.appendChild(hu);var uu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,180).setSize(37,25).setFill(imgArray3[21]);Dh.appendChild(uu);var yu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,100).setSize(22,33).setFill(imgArray3[24]);Dh.appendChild(yu);var Su=(new lime.Sprite).setAnchorPoint(0,0).setPosition(195,135).setSize(21,33).setFill(imgArray3[24]);Dh.appendChild(Su),goog.events.listen(uu,["mousedown","touchstart"],function(){l.play()}),goog.events.listen(yu,["mousedown","touchstart"],function(){d.play()}),goog.events.listen(Su,["mousedown","touchstart"],function(){m.play()});var fu=0,Au=0;g.movechicken=function(){lime.scheduleManager.scheduleWithDelay(function(){"LS"==sceneActive&&(Au++,30<++fu&&(fu=1),1==fu&&(cu.setFill(imgArray3[3]),pu.setFill(imgArray3[4]),pu.setPosition(100,315),hu.setFill(imgArray3[4]),yu.setSize(20,33)),2==fu&&(cu.setFill(imgArray3[4]),pu.setFill(imgArray3[5]),pu.setPosition(100,315),hu.setFill(imgArray3[5]),uu.setFill(imgArray3[27]),yu.setFill(imgArray3[25]),yu.setPosition(160,115),Su.setFill(imgArray3[25])),3==fu&&(cu.setFill(imgArray3[5]),pu.setFill(imgArray3[4]),pu.setPosition(100,315),hu.setFill(imgArray3[4])),4==fu&&(cu.setFill(imgArray3[4]),pu.setFill(imgArray3[4]),pu.setPosition(100,315),hu.setFill(imgArray3[5]),uu.setFill(imgArray3[22]),uu.setPosition(160,180),Su.setFill(imgArray3[26])),5==fu&&(cu.setFill(imgArray3[5]),pu.setFill(imgArray3[12]),pu.setPosition(95,315),hu.setFill(imgArray3[4])),6==fu&&(cu.setFill(imgArray3[6]),pu.setFill(imgArray3[13]),pu.setPosition(90,315),hu.setFill(imgArray3[5]),uu.setFill(imgArray3[23]),uu.setPosition(150,180)),7==fu&&(cu.setFill(imgArray3[3]),pu.setFill(imgArray3[14]),pu.setPosition(85,315),hu.setFill(imgArray3[4])),8==fu&&(cu.setFill(imgArray3[12]),cu.setPosition(170,350),pu.setFill(imgArray3[13]),pu.setPosition(80,315),hu.setFill(imgArray3[4]),yu.setFill(imgArray3[26]),yu.setPosition(160,120),Su.setFill(imgArray3[25])),9==fu&&(cu.setFill(imgArray3[13]),cu.setPosition(165,350),pu.setFill(imgArray3[12]),pu.setPosition(75,315),hu.setFill(imgArray3[5]),uu.setFill(imgArray3[22]),uu.setPosition(140,180)),10==fu&&(cu.setFill(imgArray3[14]),cu.setPosition(160,350),pu.setFill(imgArray3[13]),pu.setPosition(70,315),hu.setFill(imgArray3[4]),yu.setPosition(160,125),yu.setFill(imgArray3[25])),11==fu&&(cu.setFill(imgArray3[12]),cu.setPosition(155,350),pu.setFill(imgArray3[9]),pu.setPosition(70,315),hu.setFill(imgArray3[3]),uu.setFill(imgArray3[23])),12==fu&&(cu.setFill(imgArray3[13]),cu.setPosition(150,350),pu.setFill(imgArray3[10]),pu.setPosition(70,310),hu.setFill(imgArray3[3]),yu.setPosition(160,130),yu.setFill(imgArray3[24]),Su.setFill(imgArray3[24])),13==fu&&(cu.setFill(imgArray3[14]),cu.setPosition(145,350),pu.setFill(imgArray3[11]),pu.setPosition(70,305),hu.setFill(imgArray3[3])),14==fu&&(cu.setFill(imgArray3[4]),pu.setFill(imgArray3[15]),pu.setPosition(70,300),hu.setFill(imgArray3[3]),yu.setFill(imgArray3[25]),yu.setPosition(160,135)),15==fu&&(cu.setFill(imgArray3[5]),pu.setFill(imgArray3[16]),pu.setPosition(75,300),hu.setFill(imgArray3[3])),16==fu&&(cu.setFill(imgArray3[4]),pu.setFill(imgArray3[17]),pu.setPosition(80,300),hu.setFill(imgArray3[3])),17==fu&&(cu.setFill(imgArray3[5]),pu.setFill(imgArray3[17]),pu.setPosition(80,300),hu.setFill(imgArray3[3]),uu.setFill(imgArray3[22]),yu.setSize(39,21),yu.setPosition(150,147),yu.setFill(imgArray3[22]),Su.setFill(imgArray3[25])),18==fu&&(cu.setFill(imgArray3[2]),pu.setFill(imgArray3[15]),pu.setPosition(85,300),hu.setFill(imgArray3[3]),yu.setSize(20,33),yu.setFill(imgArray3[31]),yu.setPosition(150,130),Su.setFill(imgArray3[26])),19==fu&&(cu.setFill(imgArray3[15]),cu.setPosition(145,350),pu.setFill(imgArray3[16]),pu.setPosition(90,300),hu.setFill(imgArray3[3]),Su.setFill(imgArray3[25])),20==fu&&(cu.setFill(imgArray3[16]),cu.setPosition(150,350),pu.setFill(imgArray3[17]),pu.setPosition(95,300),hu.setFill(imgArray3[3]),yu.setSize(20,33),yu.setFill(imgArray3[30]),yu.setPosition(150,120),Su.setFill(imgArray3[26])),21==fu&&(cu.setFill(imgArray3[17]),cu.setPosition(155,350),pu.setFill(imgArray3[16]),pu.setPosition(100,300),hu.setFill(imgArray3[3])),22==fu&&(cu.setFill(imgArray3[15]),cu.setPosition(160,350),pu.setFill(imgArray3[7]),pu.setPosition(100,300),hu.setFill(imgArray3[3]),uu.setFill(imgArray3[21]),Su.setFill(imgArray3[25])),23==fu&&(cu.setFill(imgArray3[16]),cu.setPosition(165,350),pu.setFill(imgArray3[8]),pu.setPosition(100,300),hu.setFill(imgArray3[3])),24==fu&&(cu.setFill(imgArray3[17]),cu.setPosition(170,350),pu.setFill(imgArray3[7]),pu.setPosition(100,300),hu.setFill(imgArray3[4]),yu.setFill(imgArray3[31]),yu.setPosition(150,117),Su.setFill(imgArray3[26])),25==fu&&(cu.setFill(imgArray3[7]),cu.setPosition(175,350),pu.setFill(imgArray3[1]),pu.setPosition(100,300),hu.setFill(imgArray3[5])),26==fu&&(cu.setFill(imgArray3[8]),cu.setPosition(175,350),pu.setFill(imgArray3[0]),pu.setPosition(100,305),hu.setFill(imgArray3[4]),yu.setFill(imgArray3[32]),yu.setPosition(150,115)),27==fu&&(cu.setFill(imgArray3[7]),cu.setPosition(175,350),pu.setFill(imgArray3[1]),pu.setPosition(100,310),hu.setFill(imgArray3[5]),uu.setFill(imgArray3[22]),uu.setPosition(150,180),yu.setFill(imgArray3[30]),yu.setPosition(150,110)),28==fu&&(cu.setFill(imgArray3[8]),cu.setPosition(175,350),pu.setFill(imgArray3[3]),pu.setPosition(100,315),hu.setFill(imgArray3[4])),29==fu&&(cu.setFill(imgArray3[0]),pu.setFill(imgArray3[4]),uu.setFill(imgArray3[23]),hu.setFill(imgArray3[4]),uu.setPosition(160,180),yu.setFill(imgArray3[31]),yu.setPosition(150,105)),30==fu&&(cu.setFill(imgArray3[0]),pu.setFill(imgArray3[5]),hu.setFill(imgArray3[3]),yu.setSize(39,21),yu.setPosition(150,105),yu.setFill(imgArray3[21])),81<=Au&&(Au=1),1==Au&&mu.setPosition(16,145).setFill(imgArrayEva[0].src),2==Au&&mu.setPosition(16,150).setFill(imgArrayEva[1].src),3==Au&&mu.setPosition(16,155).setFill(imgArrayEva[2].src),4==Au&&mu.setPosition(16,160).setFill(imgArrayEva[3].src),5==Au&&mu.setPosition(16,165).setFill(imgArrayEva[0].src),6==Au&&mu.setPosition(16,170).setFill(imgArrayEva[1].src),7==Au&&mu.setPosition(16,175).setFill(imgArrayEva[2].src),8==Au&&mu.setPosition(16,180).setFill(imgArrayEva[3].src),9==Au&&mu.setPosition(16,185).setFill(imgArrayEva[0].src),10==Au&&mu.setPosition(16,190).setFill(imgArrayEva[1].src),11==Au&&mu.setPosition(16,195).setFill(imgArrayEva[2].src),12==Au&&mu.setPosition(16,200).setFill(imgArrayEva[3].src),13==Au&&mu.setPosition(16,205).setFill(imgArrayEva[0].src),14==Au&&mu.setPosition(16,210).setFill(imgArrayEva[1].src),15==Au&&mu.setPosition(16,215).setFill(imgArrayEva[2].src),16==Au&&mu.setPosition(16,220).setFill(imgArrayEva[3].src),17==Au&&mu.setPosition(16,225).setFill(imgArrayEva[0].src),18==Au&&mu.setPosition(16,230).setFill(imgArrayEva[1].src),19==Au&&mu.setPosition(16,235).setFill(imgArrayEva[2].src),20==Au&&mu.setPosition(16,240).setFill(imgArrayEva[3].src),21==Au&&mu.setPosition(16,245).setFill(imgArrayEva[0].src),22==Au&&mu.setPosition(16,250).setFill(imgArrayEva[1].src),23==Au&&mu.setPosition(16,255).setFill(imgArrayEva[2].src),24==Au&&mu.setPosition(16,260).setFill(imgArrayEva[3].src),25==Au&&mu.setPosition(16,265).setFill(imgArrayEva[0].src),26==Au&&mu.setPosition(16,270).setFill(imgArrayEva[1].src),27==Au&&mu.setPosition(16,275).setFill(imgArrayEva[2].src),28==Au&&mu.setPosition(16,280).setFill(imgArrayEva[3].src),29==Au&&mu.setPosition(18,285).setFill(imgArrayEva[0].src),30==Au&&mu.setPosition(20,290).setFill(imgArrayEva[1].src),31==Au&&mu.setPosition(22,295).setFill(imgArrayEva[2].src),32==Au&&mu.setPosition(24,300).setFill(imgArrayEva[3].src),33==Au&&mu.setPosition(27,305).setFill(imgArrayEva[0].src),34==Au&&mu.setPosition(27,310).setFill(imgArrayEva[1].src),35==Au&&mu.setPosition(24,315).setFill(imgArrayEva[2].src),36==Au&&mu.setPosition(27,320).setFill(imgArrayEva[3].src),37==Au&&mu.setPosition(27,320).setFill(imgArrayEva[8].src),38==Au&&mu.setPosition(27,320).setFill(imgArrayEva[12].src),39==Au&&mu.setPosition(25,315).setFill(imgArrayEva[13].src),40==Au&&mu.setPosition(23,310).setFill(imgArrayEva[14].src),41==Au&&mu.setPosition(20,305).setFill(imgArrayEva[15].src),42==Au&&mu.setPosition(18,300).setFill(imgArrayEva[12].src),43==Au&&mu.setPosition(16,295).setFill(imgArrayEva[13].src),44==Au&&mu.setPosition(16,290).setFill(imgArrayEva[14].src),45==Au&&mu.setPosition(16,285).setFill(imgArrayEva[15].src),46==Au&&mu.setPosition(16,280).setFill(imgArrayEva[12].src),47==Au&&mu.setPosition(16,275).setFill(imgArrayEva[13].src),48==Au&&mu.setPosition(16,270).setFill(imgArrayEva[14].src),49==Au&&mu.setPosition(16,265).setFill(imgArrayEva[15].src),50==Au&&mu.setPosition(16,260).setFill(imgArrayEva[14].src),51==Au&&mu.setPosition(16,255).setFill(imgArrayEva[15].src),52==Au&&mu.setPosition(16,250).setFill(imgArrayEva[12].src),53==Au&&mu.setPosition(16,245).setFill(imgArrayEva[13].src),54==Au&&mu.setPosition(16,240).setFill(imgArrayEva[14].src),55==Au&&mu.setPosition(16,235).setFill(imgArrayEva[15].src),56==Au&&mu.setPosition(16,230).setFill(imgArrayEva[12].src),57==Au&&mu.setPosition(16,225).setFill(imgArrayEva[13].src),58==Au&&mu.setPosition(16,220).setFill(imgArrayEva[14].src),59==Au&&mu.setPosition(16,215).setFill(imgArrayEva[15].src),60==Au&&mu.setPosition(16,210).setFill(imgArrayEva[14].src),61==Au&&mu.setPosition(16,205).setFill(imgArrayEva[15].src),62==Au&&mu.setPosition(16,200).setFill(imgArrayEva[12].src),63==Au&&mu.setPosition(16,195).setFill(imgArrayEva[13].src),64==Au&&mu.setPosition(16,190).setFill(imgArrayEva[14].src),65==Au&&mu.setPosition(16,185).setFill(imgArrayEva[15].src),66==Au&&mu.setPosition(16,180).setFill(imgArrayEva[12].src),67==Au&&mu.setPosition(16,175).setFill(imgArrayEva[13].src),68==Au&&mu.setPosition(16,170).setFill(imgArrayEva[14].src),69==Au&&mu.setPosition(16,165).setFill(imgArrayEva[15].src),70==Au&&mu.setPosition(16,160).setFill(imgArrayEva[12].src),71==Au&&mu.setPosition(16,155).setFill(imgArrayEva[13].src),72==Au&&mu.setPosition(16,150).setFill(imgArrayEva[14].src),73==Au&&mu.setPosition(16,145).setFill(imgArrayEva[15].src),74==Au&&mu.setPosition(16,145).setFill(imgArrayEva[8].src),75==Au&&mu.setPosition(16,145).setFill(imgArrayEva[0].src),76==Au&&mu.setPosition(16,145).setFill(imgArrayEva[4].src),77==Au&&mu.setPosition(16,145).setFill(imgArrayEva[0].src),78==Au&&mu.setPosition(16,145).setFill(imgArrayEva[8].src),79==Au&&mu.setPosition(16,145).setFill(imgArrayEva[0].src),80==Au&&(mu.setPosition(16,145).setFill(imgArrayEva[4].src),Au=1))},this,250)},g.movechicken();var vu=(new lime.Label).setText("+ 2 Ham").setFontWeight(600).setFontColor("#E8FC08").setPosition(155,110).setOpacity(.9).setSize(200,20).setFontFamily("Comic Sans MS");Dh.appendChild(vu);var Fu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(95,95).setSize(35,24).setFill("images/"+g.crops[10].harvest);Dh.appendChild(Fu),vu.setHidden(!0),Fu.setHidden(!0);var wu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,60).setSize(50,55).setFill("images/UI/speechBubble.png");Dh.appendChild(wu);var Pu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,2).setSize(35,24).setFill("images/"+g.crops[10].harvest);wu.appendChild(Pu);var Cu=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,37).setSize(30,18).setFontFamily("Comic Sans MS");wu.appendChild(Cu),wu.setHidden(!0);var Tu=0,_u=0,Iu=0;t[1].owned,t[2].owned,t[3].owned,t[4].owned;lime.scheduleManager.scheduleWithDelay(function(){_u+=1;var e=vu.getPosition().y-5;e<70&&(e=110),240<_u&&1<=player.cropsStored[8].stored&&1==t[4].owned&&(vu.setHidden(!1),vu.setPosition(155,e),Fu.setHidden(!1),Fu.setPosition(95,e-15),wu.setHidden(!1),0==Iu&&(Iu=1,Tu=parseInt(Tu)+2,Cu.setText("+ "+Tu),player.cropsStored[8].stored=parseInt(player.cropsStored[8].stored)-1,count8.setText(player.cropsStored[8].stored),Zl.setText(player.cropsStored[8].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)))),248<_u&&(_u=0,vu.setHidden(!0),Iu=0,Fu.setHidden(!0))},this,250),goog.events.listen(wu,["mousedown","touchstart"],function(){player.cropsStored[10].stored=parseInt(player.cropsStored[10].stored)+parseInt(Tu),Tu=0,count10.setText(player.cropsStored[10].stored),td.setText(player.cropsStored[10].stored),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),wu.setHidden(!0),n.play()});var bu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,g.height-g.controlsLayer_h).setSize(90,61).setFill("images/"+g.barnyard[3].image);Dh.appendChild(bu),goog.events.listen(bu,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=5,townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),sceneActive="Market",count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),setTimeout(function(){validCropsStored()},0))});var xu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,467).setSize(35,35).setFill("images/UI/gearButton.png");Dh.appendChild(xu),goog.events.listen(xu,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneBefore=5,h.replaceScene(ml,lime.transitions.SlideInUp),sceneActive="Menu")});var Hu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,503).setSize(35,35).setFill(imgArray[15]);Dh.appendChild(Hu);var Eu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,467).setSize(35,35).setFill("images/UI/trophyBtn.png");Dh.appendChild(Eu);var zu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,503).setSize(35,35).setFill("images/UI/starButton.png");Dh.appendChild(zu),goog.events.listen(Hu,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),i.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),BP(2)):(lime.audio.setMute(!0),BP(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(zu,["mousedown","touchstart"],function(){0==globalModalBlock&&RP()}),goog.events.listen(Eu,["mousedown","touchstart"],function(){0==globalModalBlock&&LP(sceneBefore=5)});var Mu=(new lime.Label).setText("Raising Chickens and Pigs").setFontColor("#E8FC08").setPosition(148,525).setSize(125,75).setFontFamily("Comic Sans MS");Dh.appendChild(Mu),goog.events.listen(roadLeftLS,["mousedown","touchstart"],function(){0==globalModalBlock&&(h.replaceScene(Jr,lime.transitions.SlideInLeft),sceneActive="Orchard",sceneBefore=3,r.play(),a.stop(),l.stop(),d.stop(),m.stop(),setTimeout(function(){validCropsStored()},0))});var Lu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,449).setSize(35,35).setFill("images/UI/compass22.png");Dh.appendChild(Lu);var Bu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,7).setSize(35,35).setFill(imgArray[30]),ku=(new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(65,24).setFontSize(18).setFontFamily("Comic Sans MS");Dh.appendChild(Bu),Dh.appendChild(ku);var Ou=(new lime.Sprite).setPosition(g.controlsLayer_w/2-5,22).setSize(38,38).setFill(imgArrayItems[25].src);Dh.appendChild(Ou),goog.events.listen(Ou,["mousedown","touchstart"],function(){g.sceneBefore=5,Xd(),ud.setText(starCash),h.replaceScene(Fl,lime.Transition.SlideInUp),sceneActive="Inventory",setTimeout(function(){validCropsStored()},0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)});var Ru=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#000F00").setOpacity(.75);Dh.appendChild(Ru),Ru.setHidden(!0);var Du=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill("images/UI/achieveNotif.png"),Nu=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I").setFontFamily("Comic Sans MS");Du.appendChild(Nu);var Gu=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setPosition(30,123).setSize(150,35).setFontSize(12).setText("Achieve Text").setFontFamily("Comic Sans MS");Du.appendChild(Gu);var Uu=(new lime.Label).setAnchorPoint(0,0).setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ").setFontFamily("Comic Sans MS");Du.appendChild(Uu);var Wu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill("images/UI/checkButton.png");Du.appendChild(Wu),Dh.appendChild(Du),Du.setHidden(!0),goog.events.listen(Wu,["mousedown","touchstart"],function(){Nt.setHidden(!0),vr.setHidden(!0),GS.setHidden(!0),$a.setHidden(!0),Du.setHidden(!0)});var Vu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill("images/UI/compass3.png");Dh.appendChild(Vu);var Ju=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[48]);Vu.appendChild(Ju);var Yu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[49]);Vu.appendChild(Yu);var qu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[46]);Vu.appendChild(qu);var ju=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);Vu.appendChild(ju);var Ku=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);Vu.appendChild(Ku);var $u=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);Vu.appendChild($u),Vu.setHidden(!0),goog.events.listen(Lu,["mousedown","touchstart"],function(){0==globalModalBlock&&R()}),goog.events.listen($u,["mousedown","touchstart"],function(){D()}),goog.events.listen(ju,["mousedown","touchstart"],function(){compassVisible&&(o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),o.currentCrop=Math.abs(o.currentCrop),(5<o.currentCrop||isNaN(o.currentCrop)||o.currentCrop<0)&&(o.currentCrop=0,q.setText("Plant "+g.crops[o.currentCrop].name),j.setFill("images/"+g.crops[o.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),D(),g.sceneBefore=1,r.stop(),globalModalBlock=0,h.replaceScene(u,lime.transitions.SlideInLeft),sceneActive="Home",a.stop(),l.stop(),d.stop(),setTimeout(function(){validCropsStored()},0))}),goog.events.listen(Ku,["mousedown","touchstart"],function(){1==t[1].owned&&compassVisible&&(D(),g.sceneBefore=2,o.currentCrop=6,h.replaceScene(Ii,lime.transitions.SlideInLeft),sceneActive="Pasture",a.stop(),l.stop(),d.stop(),globalModalBlock=0,setTimeout(function(){validCropsStored()},0))}),goog.events.listen(Ju,["mousedown","touchstart"],function(){1==t[2].owned&&compassVisible&&(g.sceneBefore=3,D(),o.currentCrop=8,h.replaceScene(Jr,lime.transitions.SlideInLeft),sceneActive="Orchard",r.play(),a.stop(),l.stop(),d.stop(),globalModalBlock=0,setTimeout(function(){validCropsStored()},0))}),goog.events.listen(qu,["mousedown","touchstart"],function(){1==t[3].owned&&compassVisible&&(D(),g.sceneBefore=4,h.replaceScene(ny,lime.transitions.SlideInLeft),sceneActive="Vineyard",r.stop(),Zs=o.currentCrop,o.currentCrop=12,a.stop(),l.stop(),d.stop(),globalModalBlock=0,setTimeout(function(){validCropsStored(),kP()},0))}),goog.events.listen(Yu,["mousedown","touchstart"],function(){1==t[4].owned&&(D(),globalModalBlock=0,setTimeout(function(){validCropsStored()},0))});var Xu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(60,145).setSize(180,200).setFill("images/UI/shortage.png");Dh.appendChild(Xu);var Qu=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,195).setSize(40,40).setFill("images/UI/checkButton.png");Xu.appendChild(Qu);var Zu=(new lime.Label).setAnchorPoint(0,0).setFontColor("#E8FC08").setPosition(5,120).setSize(170,40).setFontSize(14).setFontFamily("Comic Sans MS").setText("Livestock Hungry!");Xu.appendChild(Zu);var ey=(new lime.Label).setAnchorPoint(0,0).setFontColor("#FFFFFF").setPosition(2,140).setSize(175,40).setFontSize(10).setFontFamily("Comic Sans MS").setText("CHICKENS eat CORN to lay EGGS");Xu.appendChild(ey);var ty=(new lime.Label).setAnchorPoint(0,0).setFontColor("#FFFFFF").setPosition(2,155).setSize(175,40).setFontSize(10).setFontFamily("Comic Sans MS").setText("PIGS eat APPLES to yield HAM");Xu.appendChild(ty);var oy=(new lime.Sprite).setPosition(50,180).setFill("images/"+g.crops[5].harvest).setSize(25,25);Xu.appendChild(oy);var iy=(new lime.Sprite).setPosition(120,180).setFill("images/"+g.crops[8].harvest).setSize(25,25);Xu.appendChild(iy);var sy=(new lime.Label).setPosition(64,186).setSize(20,16).setText(player.cropsStored[5].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Xu.appendChild(sy);var ry=(new lime.Label).setPosition(134,186).setSize(20,16).setText(player.cropsStored[8].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");Xu.appendChild(ry),Xu.setHidden(!0),goog.events.listen(Qu,["mousedown","touchstart"],function(){Xu.setHidden(!0),Ru.setHidden(!0),kS.setHidden(!0),xa.setHidden(!0),dr.setHidden(!0),1==tutSeen&&(ct.setHidden(!0),Ru.setHidden(!0))});var ny=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),ay=(new lime.Layer).setAnchorPoint(0,0),ly=(new lime.Sprite).setPosition(0,0).setSize(g.width,g.height);ny.appendChild(ay),ay.appendChild(ly);var dy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(g.controlsLayer_w,g.controlsLayer_h-20).setFill("images/UI/greenButtonLg.png");ay.appendChild(dy);var gy=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);ay.appendChild(gy);var my=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setPosition(245,24).setFontFamily("Comic Sans MS").setFontSize(18);ay.appendChild(my);var cy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,45).setSize(g.controlsLayer_w,423).setFill("images/vinyard/vinyardBack6.png");ay.appendChild(cy);var py=(new lime.Sprite).setAnchorPoint(0,0).setPosition(225,436).setSize(100,25).setFill("images/"+g.barnyard[15].image);ay.appendChild(py),roadRightV=(new lime.Sprite).setAnchorPoint(0,0).setPosition(43,-12).setSize(42,42).setFill(imgArray[47]),py.appendChild(roadRightV);var hy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(5,7).setSize(35,35).setFill(imgArray[30]),uy=(new lime.Label).setText(player.tools).setFontColor("#E8FC08").setPosition(65,24).setFontFamily("Comic Sans MS").setFontSize(18);ay.appendChild(hy),ay.appendChild(uy),isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks"),isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2");g.tile_size,g.tile_size;var yy=new farming.Land(g,o,80,110,5,"non","vine0").setPosition(80,110);yy.setSize(45,50),ay.appendChild(yy);var Sy=new farming.Land(g,o,135,100,5,"non","vine1").setPosition(135,100);Sy.setSize(45,50),ay.appendChild(Sy);var fy=new farming.Land(g,o,200,95,5,"non","vine2").setPosition(200,95);fy.setSize(45,50),ay.appendChild(fy);var Ay=new farming.Land(g,o,260,105,5,"non","vine3").setPosition(260,105);Ay.setSize(45,50),ay.appendChild(Ay),1==isblocked2&&(yy.setHidden(!0),Sy.setHidden(!0),fy.setHidden(!0),Ay.setHidden(!0)),2==isblocked2&&(yy.setHidden(!1),Sy.setHidden(!1),fy.setHidden(!1),Ay.setHidden(!1));var vy=new farming.Land(g,o,105,200,5,"non","vine4").setPosition(105,200);vy.setSize(45,50),ay.appendChild(vy);var Fy=new farming.Land(g,o,175,215,5,"non","vine5").setPosition(175,215);Fy.setSize(45,50),ay.appendChild(Fy);var wy=new farming.Land(g,o,240,228,5,"non","vine6").setPosition(240,228);wy.setSize(45,50),ay.appendChild(wy);var Py=new farming.Land(g,o,45,210,5,"non","vine7").setPosition(45,210);Py.setSize(45,50),ay.appendChild(Py),1==isblocked1&&(vy.setHidden(!0),Fy.setHidden(!0),wy.setHidden(!0),Py.setHidden(!0)),2==isblocked1&&(vy.setHidden(!1),Fy.setHidden(!1),wy.setHidden(!1),Py.setHidden(!1));var Cy=new farming.Land(g,o,75,370,5,"non","vine8").setPosition(75,370);Cy.setSize(45,50),ay.appendChild(Cy);var Ty=new farming.Land(g,o,25,350,5,"non","vine9").setPosition(25,350);Ty.setSize(45,50),ay.appendChild(Ty);var _y=new farming.Land(g,o,126,360,5,"non","vine10").setPosition(126,360);_y.setSize(45,50),ay.appendChild(_y);var Iy=new farming.Land(g,o,219,315,5,"non","vine11").setPosition(219,315);Iy.setSize(45,50),ay.appendChild(Iy);var by=new farming.Land(g,o,262,350,5,"non","vine12").setPosition(262,350);by.setSize(45,50),ay.appendChild(by);var xy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,195).setSize(240,105).setFill("images/vinyard/treeBlock1.png");ay.appendChild(xy);var Hy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,-60).setSize(190,250).setFill(imgArray[24].src).setOpacity(.3);xy.appendChild(Hy);var Ey=(new lime.Label).setText("").setAnchorPoint(0,0).setFontColor("#4CFF33").setFontWeight(600).setPosition(170,280).setFontFamily("Comic Sans MS").setSize(90,130);ay.appendChild(Ey);var zy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,15).setSize(40,40).setFill("images/axe.png");xy.appendChild(zy);var My=(new lime.Sprite).setAnchorPoint(0,0).setPosition(240,240).setSize(35,35).setFill("images/tools500.png");ny.appendChild(My);var Ly=(new lime.Label).setText("60").setPosition(170,70).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill(imgArray[27]);xy.appendChild(Ly);var By=0;Hy.setHidden(!0),Ly.setHidden(!0),isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks"),isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2"),goog.events.listen(My,["mousedown","touchstart"],function(){var e,t,o,i;500<=player.tools&&0==globalModalBlock&&(player.tools=player.tools-500,setTimeout(function(){g.updateTools()},0),My.setHidden(!0),Hy.setHidden(!1),Ly.setHidden(!1),t=250,o=55,i=-(e=60),lime.scheduleManager.scheduleWithDelay(function(){Hy.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<45&&(o=55,i=-60,t=250),35<(By+=10)&&(By=-10),zy.setRotation(By)},this,250,240),lime.scheduleManager.scheduleWithDelay(function(){--e,Ly.setText(e),e<=0&&(Ly.setHidden(!0),Hy.setHidden(!0),e=60,zy.setHidden(!0),setTimeout(function(){g.updateTools()},0),My.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),g.vinyardBlocksControl(1),isblocked1=vinyardBlocks=2,Ey.setHidden(!0),localStorage.GuiGhostFarms_vinyardBlocks=isblocked1,goog.events.removeAll(My))},this,1e3,60))}),isblocked1=localStorage.getItem("GuiGhostFarms_vinyardBlocks"),isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2"),1==isblocked1&&(xy.setHidden(!1),Ey.setHidden(!1),My.setHidden(!1)),2==isblocked1&&(xy.setHidden(!0),Ey.setHidden(!0),My.setHidden(!0),goog.events.removeAll(My));var ky=(new lime.Sprite).setAnchorPoint(0,0).setPosition(72,78).setSize(235,100).setFill("images/vinyard/treeBlock2.png");ay.appendChild(ky);var Oy=(new lime.Label).setText("").setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setPosition(170,165).setSize(90,130);ay.appendChild(Oy);var Ry=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,-60).setSize(190,250).setFill(imgArray[24].src).setOpacity(.3);ky.appendChild(Ry);var Dy=(new lime.Label).setText("60").setPosition(150,75).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill(imgArray[27]);ky.appendChild(Dy);var Ny=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,20).setSize(40,40).setFill("images/axe.png");ky.appendChild(Ny);var Gy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(230,130).setSize(35,35).setFill("images/tools500.png");ny.appendChild(Gy);var Uy=0;Ry.setHidden(!0),Dy.setHidden(!0),ky.setHidden(!0),Oy.setHidden(!0),Gy.setHidden(!0),1==isblocked2&&(ky.setHidden(!1),Oy.setHidden(!1),Gy.setHidden(!1)),isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2"),goog.events.listen(Gy,["mousedown","touchstart"],function(){var e,t,o,i;500<=player.tools&&0==globalModalBlock&&(player.tools=player.tools-500,setTimeout(function(){g.updateTools()},0),Gy.setHidden(!0),Ry.setHidden(!1),Dy.setHidden(!1),t=250,o=45,i=-(e=60),lime.scheduleManager.scheduleWithDelay(function(){Ry.setPosition(o,i).setSize(t,200),t+=10,i-=5,(o-=5)<35&&(o=45,i=-60,t=250),35<(Uy+=10)&&(Uy=-10),Ny.setRotation(Uy)},this,250,240),lime.scheduleManager.scheduleWithDelay(function(){--e,Dy.setText(e),e<=0&&(Dy.setHidden(!0),Ry.setHidden(!0),e=60,Ny.setHidden(!0),setTimeout(function(){g.updateTools()},0),g.vinyardBlocksControl(2),isblocked2=vinyardBlocks2=2,Oy.setHidden(!0),localStorage.GuiGhostFarms_vinyardBlocks2=isblocked2,Gy.setHidden(!0),player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)+500,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=500),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),goog.events.removeAll(Gy))},this,1e3,60))}),2==(isblocked2=localStorage.getItem("GuiGhostFarms_vinyardBlocks2"))&&(ky.setHidden(!0),Oy.setHidden(!0),Gy.setHidden(!0),goog.events.removeAll(Gy)),g.vinyardBlocksControl=function(e){1==e&&(xy.setHidden(!0),Ey.setHidden(!0),vy.setHidden(!1),Fy.setHidden(!1),wy.setHidden(!1),Py.setHidden(!1)),2==e&&(ky.setHidden(!0),Oy.setHidden(!0),yy.setHidden(!1),Sy.setHidden(!1),fy.setHidden(!1),Ay.setHidden(!1))};var Wy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(62,247).setSize(118,115).setFill("images/vinyard/house4.png");ay.appendChild(Wy);var Vy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(78,275).setSize(39,42).setFill("images/UI/upBtn.png");ay.appendChild(Vy);var Jy=(new lime.Sprite).setFill("images/UI/rockBlock2.png").setPosition(43,93).setSize(59,32);ay.appendChild(Jy);var Yy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(55,280).setSize(80,70).setFill(imgArray[26]);ay.appendChild(Yy);var qy=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,220).setSize(100,150).setFill(imgArray[24].src);ay.appendChild(qy);var jy=(new lime.Label).setText("120").setPosition(95,310).setSize(40,25).setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("Comic Sans MS").setFill(imgArray[27]),Ky=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);ay.appendChild(jy),jy.appendChild(Ky),Ky.setRotation(-10);var $y=-10;jy.setHidden(!0),Yy.setHidden(!0),qy.setHidden(!0),1<vinyardHouseLevel?(Wy.setFill("images/vinyard/house4Upgrade2.png"),Vy.setHidden(!0),0==questParams.terric[0].highestCompleted&&(questParams.terric[0].highestCompleted=1)):lime.scheduleManager.scheduleWithDelay(function(){var e;"Vineyard"==sceneActive&&((e=Vy.getPosition()).y-=5,e.y<270&&(e.y=275),Vy.setPosition(e))},this,500);var Xy=250,Qy=100,Zy=(new lime.Sprite).setPosition(155,160).setSize(250,250).setFill("images/UI/blankBack5.png");ay.appendChild(Zy);var eS=(new lime.Label).setPosition(0,-85).setSize(250,30).setText("Upgrade Vineyard Barn").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(20);Zy.appendChild(eS);var tS=(new lime.Label).setPosition(0,-50).setSize(250,30).setText("Unlocks Jelly Making").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(18);Zy.appendChild(tS);var oS=(new lime.Sprite).setPosition(-40,-20).setSize(40,40).setFill(imgArray[30]);Zy.appendChild(oS);var iS=(new lime.Label).setPosition(-40,30).setSize(250,25).setText(Xy).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22);Zy.appendChild(iS);var sS=(new lime.Sprite).setPosition(40,-20).setSize(40,40).setFill("images/"+g.crops[14].harvest);Zy.appendChild(sS);var rS=(new lime.Label).setPosition(40,30).setSize(250,25).setText(Qy).setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(22);Zy.appendChild(rS);var nS=(new lime.Label).setPosition(0,60).setSize(250,25).setText("You need more resources").setFontFamily("Comic Sans MS").setFontColor("#000000").setFontSize(14);Zy.appendChild(nS),nS.setHidden(!0);var aS=(new lime.GlossyButton).setColor("#1ce636").setText("Upgrade").setPosition(0,70).setSize(80,35);Zy.appendChild(aS);var lS=(new lime.GlossyButton).setColor("#1ce636").setText("").setPosition(0,130).setSize(40,40);Zy.appendChild(lS);var dS=(new lime.Sprite).setPosition(0,0).setSize(40,40).setFill(imgArray[21].src);lS.appendChild(dS),Zy.setHidden(!0),vinyardHouseLevel<2&&goog.events.listen(Vy,["mousedown","touchstart"],function(){Zy.setHidden(!1),parseInt(player.cropsStored[14].stored)<Qy||player.tools<Xy?(aS.setHidden(!0),nS.setHidden(!1)):(aS.setHidden(!1),nS.setHidden(!0));var e=My.getHidden(),t=Gy.getHidden();My.setHidden(!0),Gy.setHidden(!0),goog.events.listen(lS,["mousedown","touchstart"],function(){Zy.setHidden(!0),nS.setHidden(!0),0==e&&My.setHidden(!1),0==t&&Gy.setHidden(!1)}),goog.events.listen(aS,["mousedown","touchstart"],function(){Zy.setHidden(!0),nS.setHidden(!0),0==e&&My.setHidden(!1),0==t&&Gy.setHidden(!1),globalModalBlock=0,CS.setHidden(!0),PS.setHidden(!0),setTimeout(function(){mS(Xy,Qy)},0)})});var gS=120;function mS(e,t){var o,i,s;0==barnUpInProgressV&&0==globalModalBlock&&(CS.setHidden(!0),PS.setHidden(!0),player.tools>=e&&parseInt(player.cropsStored[14].stored)&&(barnUpInProgressV=1,Vy.setHidden(!0),player.tools=player.tools-e,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-parseInt(t),player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),qy.setHidden(!1),Yy.setHidden(!1),jy.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){--gS,upgradesInProgress.buildings[3].timeLeft=gS,upgradesInProgress.buildings[3].currentBarnLevel=1,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),jy.setText(gS),gS<=0&&(jy.setHidden(!0),Yy.setHidden(!0),qy.setHidden(!0),gS=60)},this,1e3,120),o=100,i=45,s=220,lime.scheduleManager.scheduleWithDelay(function(){qy.setPosition(i,s).setSize(o,200),o+=10,s-=5,(i-=5)<30&&(i=45,s=220,o=100),35<($y+=10)&&($y=-10),Ky.setRotation($y)},this,250,4*gS),lime.scheduleManager.callAfter(function(){Vy.setHidden(!0),Wy.setFill("images/vinyard/house4Upgrade2.png"),Vy.setHidden(!0),vinyardHouseLevel=2,questParams.terric[0].highestCompleted=1,questParams.terric[1].completed=1,player.cropsStored[16].stored<=0?df.setText(questParams.terric[2].text):df.setText("Now we are making Jelly! Keeps the grapes coming"),CS.setHidden(!1),PS.setHidden(!1),setTimeout(function(){g.makeJelly()},0),upgradesInProgress.buildings[3].timeLeft=0,upgradesInProgress.buildings[3].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)),localStorage.setItem("GuiGhostFarms_vinyardHouseLevel",2),nf.setHidden(!1),lime.scheduleManager.callAfter(function(){nf.setHidden(!0)},this,2500),goog.events.removeAll(Vy),barnUpInProgressV=0},this,1e3*gS)))}1<vinyardHouseLevel&&(goog.events.removeAll(aS),goog.events.removeAll(Vy),goog.events.removeAll(lS));var cS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(120,260).setSize(50,67).setFill("images/UI/speechBubble.png");ay.appendChild(cS);var pS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(8,2).setSize(30,31).setFill("images/"+g.crops[13].harvest);cS.appendChild(pS);var hS=(new lime.Label).setText("+ 0 ").setFontWeight(500).setFontColor("#E8FC08").setPosition(23,44).setSize(30,18).setFontFamily("Comic Sans MS");cS.appendChild(hS),cS.setHidden(!0);var uS=0,yS=(new lime.Label).setText("+ 1 Jelly").setFontWeight(600).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setPosition(145,335).setOpacity(.4);ay.appendChild(yS),yS.setHidden(!0),goog.events.listen(cS,["mousedown","touchstart"],function(){cS.setHidden(!0),player.cropsStored[13].stored=player.cropsStored[13].stored+uS,count13.setText(player.cropsStored[13].stored),sd.setText(player.cropsStored[13].stored),uS=0,n.play()});var SS=(new lime.Label).setPosition(156,180).setSize(25,25).setText("-$50").setFontSize(14).setFontFamily("Comic Sans MS").setFontColor("#e1f00e").setFontWeight(600);ay.appendChild(SS);var fS=(new lime.Sprite).setPosition(30,-8).setSize(30,30).setFill(imgArray11[0]);SS.appendChild(fS),SS.setHidden(!0);var AS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,g.height-g.controlsLayer_h-5).setSize(g.controlsLayer_w,g.controlsLayer_h+5).setFill("images/UI/blackButton.png");ay.appendChild(AS);o.currentCrop;var vS=(new lime.Label).setText("Growing "+g.crops[12].name).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontSize(12).setPosition(g.controlsLayer_w/2-20,g.height-g.controlsLayer_h/2-11);ay.appendChild(vS);var FS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w/2-28,g.height-g.controlsLayer_h/2-10).setFill("images/"+g.crops[12].harvest).setSize(30,38);ay.appendChild(FS);var wS=(new lime.Sprite).setPosition(60,350).setFill("images/vinyard/vinFarmer1.png").setSize(26,26);ay.appendChild(wS);var PS=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(5,-28).setSize(25,23).setOpacity(.2);wS.appendChild(PS);var CS=(new lime.Sprite).setPosition(5,-28).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);wS.appendChild(CS),CS.current=1,goog.events.listen(wS,["mousedown","touchstart"],function(){IS()}),goog.events.listen(PS,["mousedown","touchstart"],function(){IS()});var TS=questParams.terric[0].highestCompleted,_S=parseInt(player.cropsStored[16].stored);parseInt(player.cropsStored[13].stored);function IS(){kS.setHidden(!1),af.setHidden(!1),My.setHidden(!0),Gy.setHidden(!0),TS=questParams.terric[0].highestCompleted,1<vinyardHouseLevel&&TS<1&&(TS=1,questParams.terric[0].highestCompleted=1),_S=parseInt(player.cropsStored[16].stored),parseInt(player.cropsStored[13].stored),_S<=0&&1<=TS?df.setText(questParams.terric[2].text):df.setText(questParams.terric[3].text),PS.setHidden(!1),CS.setHidden(!1)}var bS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.controlsLayer_w/2-15,g.height/2).setFill("images/"+g.crops[12].harvest).setSize(26,21);ay.appendChild(bS),bS.setHidden(!0);var xS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,467).setSize(35,35).setFill("images/UI/gearButton.png");ay.appendChild(xS);var HS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,503).setSize(35,35).setFill(imgArray[15]);ay.appendChild(HS);var ES=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,467).setSize(35,35).setFill("images/UI/trophyBtn.png");ay.appendChild(ES);var zS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,503).setSize(35,35).setFill("images/UI/starButton.png");ay.appendChild(zS),goog.events.listen(zS,["mousedown","touchstart"],function(){0==globalModalBlock&&RP()}),goog.events.listen(HS,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),i.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),BP(2)):(lime.audio.setMute(!0),BP(1),localStorage.setItem("GuiGhostFarms_muted",1)))}),goog.events.listen(ES,["mousedown","touchstart"],function(){0==globalModalBlock&&LP(sceneBefore=4)}),goog.events.listen(xS,["mousedown","touchstart"],function(){0==globalModalBlock&&(sceneBefore=4,h.replaceScene(ml,lime.transitions.SlideInUp))});var MS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(208,g.height-g.controlsLayer_h).setSize(90,61).setFill("images/"+g.barnyard[3].image);ay.appendChild(MS),goog.events.listen(MS,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=4,townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),sceneActive="Market",4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),setTimeout(function(){validCropsStored()},0))}),goog.events.listen(roadRightV,["mousedown","touchstart"],function(){0==globalModalBlock&&(h.replaceScene(Ii,lime.transitions.SlideInRight),sceneBefore=2,o.currentCrop=6,sceneActive="Pasture",setTimeout(function(){validCropsStored()},0))}),Ru.setHidden(!0);var LS=(new lime.Sprite).setPosition(g.controlsLayer_w/2-5,22).setSize(38,38).setFill("images/UI/inventoryBtn.png");ay.appendChild(LS),goog.events.listen(LS,["mousedown","touchstart"],function(){g.sceneBefore=4,Xd(),ud.setText(starCash),h.replaceScene(Fl,lime.transitions.SlideInUp),sceneActive="Inventory",setTimeout(function(){validCropsStored()},0),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored)});var BS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(130,449).setSize(35,35).setFill("images/UI/compass22.png");ay.appendChild(BS);var kS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#000F00").setOpacity(.75);ay.appendChild(kS),kS.setHidden(!0);var OS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,100).setSize(210,220).setFill(imgArray[33]);ay.appendChild(OS);var RS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(122,212).setSize(75,35).setFill("images/UI/buyStarCash.png");OS.appendChild(RS);var DS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,212).setSize(75,35).setFill(imgArray[32]);OS.appendChild(DS);var NS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(89,212).setSize(35,35).setFill(imgArray[21]);OS.appendChild(NS),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),goog.events.listen(RS,["mousedown","touchstart"],function(){0==globalModalBlock&&(warningSeen=1,gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0),Ru.setHidden(!0),RP())}),goog.events.listen(DS,["mousedown","touchstart"],function(){warningSeen=1,gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0),Ru.setHidden(!0),townSceneActive=1,h.replaceScene(nc,lime.transitions.SlideInUp),sceneActive="Market",setTimeout(function(){validCropsStored(),g.updateStored()},0),4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored),globalModalBlock=0}),goog.events.listen(NS,["mousedown","touchstart"],function(){dr.setHidden(!0),gr.setHidden(!0),cr.setHidden(!0),mr.setHidden(!0),tl.setHidden(!0),il.setHidden(!0),ol.setHidden(!0),OS.setHidden(!0),DS.setHidden(!0),RS.setHidden(!0),Ht.setHidden(!0),zt.setHidden(!0),Et.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0),Ru.setHidden(!0),warningSeen=1,globalModalBlock=0}),player.money<g.crops[o.currentCrop].cost&&0==warningSeen&&(dr.setHidden(!1),ct.setHidden(!1),xa.setHidden(!1),kS.setHidden(!1),Ru.setHidden(!1),gr.setHidden(!1),cr.setHidden(!1),mr.setHidden(!1),tl.setHidden(!1),il.setHidden(!1),ol.setHidden(!1),OS.setHidden(!1),DS.setHidden(!1),RS.setHidden(!1),Ht.setHidden(!1),zt.setHidden(!1),Et.setHidden(!1),globalModalBlock=1);var GS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,130).setSize(210,220).setFill("images/UI/achieveNotif.png"),US=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(13,45).setSize(190,60).setFontSize(16).setText("Blacksmith I");GS.appendChild(US);var WS=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(30,123).setSize(150,60).setFontSize(12).setText("Achieve Text");GS.appendChild(WS);var VS=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#000033").setPosition(21,182).setSize(190,60).setFontSize(18).setText(" + ");GS.appendChild(VS);var JS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,211).setSize(40,40).setFill("images/UI/checkButton.png");GS.appendChild(JS),ay.appendChild(GS),GS.setHidden(!0),goog.events.listen(JS,["mousedown","touchstart"],function(){Nt.setHidden(!0),vr.setHidden(!0),GS.setHidden(!0),$a.setHidden(!0),Du.setHidden(!0),1==tutSeen&&(kS.setHidden(!0),xa.setHidden(!0),dr.setHidden(!0),Ru.setHidden(!0),ct.setHidden(!0))});var YS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,100).setSize(250,250).setFill("images/UI/compass3.png");ay.appendChild(YS);var qS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,35).setSize(50,50).setFill(imgArray[48]);YS.appendChild(qS);var jS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(170,170).setSize(50,50).setFill(imgArray[49]);YS.appendChild(jS);var KS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,35).setSize(50,50).setFill(imgArray[46]);YS.appendChild(KS);var $S=(new lime.Sprite).setAnchorPoint(0,0).setPosition(96,100).setSize(60,60).setFill(imgArray[50]);YS.appendChild($S);var XS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,170).setSize(50,50).setFill(imgArray[47]);YS.appendChild(XS);var QS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(100,222).setSize(50,50).setFill(imgArray[21]);YS.appendChild(QS),YS.setHidden(!0),goog.events.listen(BS,["mousedown","touchstart"],function(){0==globalModalBlock&&(R(),kS.setHidden(!1))}),goog.events.listen(QS,["mousedown","touchstart"],function(){D(),kS.setHidden(!0),globalModalBlock=0}),goog.events.listen($S,["mousedown","touchstart"],function(){compassVisible&&(D(),g.sceneBefore=1,o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),o.currentCrop=Math.abs(o.currentCrop),(5<o.currentCrop||isNaN(o.currentCrop)||o.currentCrop<0)&&(o.currentCrop=0,q.setText("Plant "+g.crops[o.currentCrop].name),j.setFill("images/"+g.crops[o.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),h.replaceScene(u,lime.transitions.SlideInRight),sceneActive="Home",setTimeout(function(){validCropsStored()},0),kS.setHidden(!0),globalModalBlock=0)}),goog.events.listen(XS,["mousedown","touchstart"],function(){1==t[1].owned&&compassVisible&&(g.sceneBefore=2,D(),e.play(),o.currentCrop=6,h.replaceScene(Ii,lime.transitions.SlideInRight),sceneActive="Pasture",setTimeout(function(){kP(),validCropsStored()},0),kS.setHidden(!0),globalModalBlock=0)}),goog.events.listen(qS,["mousedown","touchstart"],function(){1==t[2].owned&&compassVisible&&(g.sceneBefore=3,r.play(),D(),Zs=o.currentCrop,o.currentCrop=8,h.replaceScene(Jr,lime.transitions.SlideInRight),sceneActive="Orchard",kS.setHidden(!0),globalModalBlock=0,setTimeout(function(){validCropsStored()},0))}),goog.events.listen(KS,["mousedown","touchstart"],function(){1==t[3].owned&&compassVisible&&(D(),kS.setHidden(!0),globalModalBlock=0)}),goog.events.listen(jS,["mousedown","touchstart"],function(){1==t[4].owned&&compassVisible&&(D(),g.sceneBefore=5,setTimeout(function(){validCropsStored(),kP()},0),h.replaceScene(Rh,lime.transitions.SlideInRight),sceneActive="LS",a.play(),l.play(),lime.scheduleManager.callAfter(function(){d.play()},this,5e3),kS.setHidden(!0),globalModalBlock=0)});var ZS=(new lime.Sprite).setAnchorPoint(0,0).setPosition(60,145).setSize(180,200).setFill("images/UI/shortage.png");ay.appendChild(ZS);var ef=(new lime.Sprite).setAnchorPoint(0,0).setPosition(70,195).setSize(40,40).setFill("images/UI/checkButton.png");ZS.appendChild(ef);var tf=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(5,120).setSize(170,40).setFontSize(14).setText("Jelly Making Halted!");ZS.appendChild(tf);var of=(new lime.Label).setAnchorPoint(0,0).setFontFamily("Comic Sans MS").setFontColor("#FFFFFF").setPosition(2,140).setSize(175,40).setFontSize(10).setText("You need to grow more GRAPES to make JELLY");ZS.appendChild(of);var sf=(new lime.Sprite).setPosition(85,180).setFill("images/"+g.crops[12].harvest).setSize(20,25);ZS.appendChild(sf);var rf=(new lime.Label).setPosition(105,186).setSize(20,16).setText(player.cropsStored[12].stored).setFontFamily("Comic Sans MS").setFontColor("#E8FC08");ZS.appendChild(rf),ZS.setHidden(!0),goog.events.listen(ef,["mousedown","touchstart"],function(){ZS.setHidden(!0),2==isblocked1&&Oy.setHidden(!0),kS.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0)});var nf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(30,130).setSize(250,250).setFill("images/vinyard/jellyBonus2.png");ay.appendChild(nf),nf.setHidden(!0);var af=(new lime.Sprite).setAnchorPoint(0,0).setPosition(15,115).setSize(g.width-30,g.height/2).setFill("images/UI/blankBack4.png");ay.appendChild(af),Dc.setHidden(!0);var lf=(new lime.Label).setAnchorPoint(0,0).setPosition(40,25).setText("Vinemaster Terric").setFontFamily("Comic Sans MS").setFontSize(24);af.appendChild(lf);var df=(new lime.Label).setAnchorPoint(0,0).setPosition(20,155).setText(questParams.terric[1].text).setFontFamily("Comic Sans MS").setFontSize(16).setSize(g.width-80,g.height/2-50);af.appendChild(df);var gf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(90,45).setSize(100,100).setFill("images/vinyard/vinFarmer7.png");af.appendChild(gf);var mf=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(140,235).setSize(100,20);af.appendChild(mf),goog.events.listen(mf,["mousedown","touchstart"],function(){CS.setHidden(!0),PS.setHidden(!0),af.setHidden(!0),kS.setHidden(!0),2==isblocked1?Oy.setHidden(!0):Oy.setHidden(!1),2==isblocked2?Ey.setHidden(!0):Ey.setHidden(!1),kS.setHidden(!0),dr.setHidden(!0),ct.setHidden(!0),xa.setHidden(!0)}),af.setHidden(!0),TS=questParams.terric[0].highestCompleted,_S=parseInt(player.cropsStored[16].stored),parseInt(player.cropsStored[13].stored),0==_S&&1<=TS?(CS.setFill(imgArray[22].src),df.setText(questParams.terric[2].text)):0<_S&&1<=TS&&df.setText(questParams.terric[3].text),PS.setHidden(!1),CS.setHidden(!1);var cf=0;lime.scheduleManager.scheduleWithDelay(function(){"Vineyard"==sceneActive&&(58<(cf+=1)&&(cf=1),cf<11&&wS.setFill("images/vinyard/vinFarmer"+cf+".png"),cf<30?2==cf?wS.setPosition(65,350):3==cf?wS.setPosition(70,350):4==cf?(wS.setPosition(75,350),wS.setFill("images/vinyard/vinFarmer4.png")):5==cf?wS.setPosition(75,355):6==cf?wS.setPosition(75,360):7==cf?(wS.setPosition(75,365),wS.setFill("images/vinyard/vinFarmer4.png")):8==cf?(wS.setPosition(75,360),wS.setFill("images/vinyard/vinFarmer4.png")):9==cf?wS.setPosition(75,355):10==cf?wS.setPosition(75,350):11==cf?(wS.setPosition(80,350),wS.setFill("images/vinyard/vinFarmer1.png")):12==cf?(wS.setPosition(85,350),wS.setFill("images/vinyard/vinFarmer2.png")):13==cf?(wS.setPosition(90,350),wS.setFill("images/vinyard/vinFarmer3.png")):14==cf?(wS.setPosition(95,350),wS.setFill("images/vinyard/vinFarmer1.png")):15==cf?(wS.setPosition(100,350),wS.setFill("images/vinyard/vinFarmer2.png")):16==cf?(wS.setPosition(105,350),wS.setFill("images/vinyard/vinFarmer3.png")):17==cf?(wS.setPosition(110,350),wS.setFill("images/vinyard/vinFarmer1.png")):18==cf?(wS.setPosition(115,350),wS.setFill("images/vinyard/vinFarmer2.png")):19==cf?(wS.setPosition(120,350),wS.setFill("images/vinyard/vinFarmer3.png")):20==cf?(wS.setPosition(125,350),wS.setFill("images/vinyard/vinFarmer1.png")):21==cf?(wS.setPosition(130,350),wS.setFill("images/vinyard/vinFarmer2.png")):22==cf?(wS.setPosition(135,350),wS.setFill("images/vinyard/vinFarmer3.png")):23==cf?(wS.setPosition(140,350),wS.setFill("images/vinyard/vinFarmer2.png")):24==cf||25==cf?(wS.setPosition(140,350),wS.setFill("images/vinyard/vinFarmer8.png")):26==cf||27==cf||28==cf?(wS.setPosition(140,350),wS.setFill("images/vinyard/vinFarmer18.png")):29==cf&&(wS.setPosition(140,350),wS.setFill("images/vinyard/vinFarmer9.png")):30<=cf&&(30==cf||31==cf||32==cf?(wS.setPosition(140,350),wS.setFill("images/vinyard/vinFarmer3.png")):33==cf?(wS.setPosition(145,350),wS.setFill("images/vinyard/vinFarmer1.png")):34==cf?(wS.setPosition(150,350),wS.setFill("images/vinyard/vinFarmer2.png")):35==cf?(wS.setPosition(155,350),wS.setFill("images/vinyard/vinFarmer3.png")):36==cf?(wS.setPosition(160,350),wS.setFill("images/vinyard/vinFarmer1.png")):37==cf?(wS.setPosition(165,350),wS.setFill("images/vinyard/vinFarmer2.png")):38==cf?(wS.setPosition(165,350),wS.setFill("images/vinyard/vinFarmer4.png")):39==cf?(wS.setPosition(160,350),wS.setFill("images/vinyard/vinFarmer18.png")):40==cf?(wS.setPosition(155,350),wS.setFill("images/vinyard/vinFarmer17.png")):41==cf?(wS.setPosition(150,350),wS.setFill("images/vinyard/vinFarmer18.png")):42==cf?(wS.setPosition(145,350),wS.setFill("images/vinyard/vinFarmer19.png")):43==cf?(wS.setPosition(140,350),wS.setFill("images/vinyard/vinFarmer18.png")):44==cf?(wS.setPosition(135,350),wS.setFill("images/vinyard/vinFarmer18.png")):45==cf?(wS.setPosition(130,350),wS.setFill("images/vinyard/vinFarmer17.png")):46==cf?(wS.setPosition(125,350),wS.setFill("images/vinyard/vinFarmer18.png")):47==cf?(wS.setPosition(120,350),wS.setFill("images/vinyard/vinFarmer19.png")):48==cf?(wS.setPosition(115,350),wS.setFill("images/vinyard/vinFarmer17.png")):49==cf?(wS.setPosition(110,350),wS.setFill("images/vinyard/vinFarmer18.png")):50==cf?(wS.setPosition(105,350),wS.setFill("images/vinyard/vinFarmer19.png")):51==cf?(wS.setPosition(100,350),wS.setFill("images/vinyard/vinFarmer18.png")):52==cf?(wS.setPosition(95,350),wS.setFill("images/vinyard/vinFarmer17.png")):53==cf?(wS.setPosition(90,350),wS.setFill("images/vinyard/vinFarmer18.png")):54==cf?(wS.setPosition(85,350),wS.setFill("images/vinyard/vinFarmer19.png")):55==cf?(wS.setPosition(80,350),wS.setFill("images/vinyard/vinFarmer18.png")):56==cf?(wS.setPosition(75,350),wS.setFill("images/vinyard/vinFarmer17.png")):57==cf?(wS.setPosition(70,350),wS.setFill("images/vinyard/vinFarmer18.png")):58==cf&&(wS.setPosition(65,350),wS.setFill("images/vinyard/vinFarmer4.png"))))},this,250);var pf=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),hf=(new lime.Layer).setAnchorPoint(0,0),uf=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#0D0D0D");pf.appendChild(uf),pf.appendChild(hf);var yf=(new lime.Sprite).setAnchorPoint(0).setPosition(0,0).setFill("images/UI/achieveBack.png").setSize(g.width,g.height);hf.appendChild(yf),backBtnAchieve=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(g.width/2,g.height-20).setSize(80,40),hf.appendChild(backBtnAchieve);var Sf=(new lime.Sprite).setAnchorPoint(0).setPosition(9,80).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(Sf);var ff=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75,85).setText("Harvester I").setSize(152,40);hf.appendChild(ff);var Af=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setFontSize(11).setPosition(80,108).setText("Harvest 500 crops").setSize(152,40);hf.appendChild(Af);var vf=(new lime.Sprite).setAnchorPoint(0).setPosition(120,80).setFill(imgArray[37]).setSize(30,29.5);hf.appendChild(vf);var Ff=(new lime.Sprite).setAnchorPoint(0).setPosition(10,85).setFill(imgArray[35]).setSize(16,16);hf.appendChild(Ff);var wf=(new lime.Sprite).setAnchorPoint(0).setPosition(9,125).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(wf);var Pf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75,130).setText("Harvester II").setSize(152,40);hf.appendChild(Pf);var Cf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80,153).setFontSize(11).setText("Harvest 5000 crops").setSize(152,40);hf.appendChild(Cf);var Tf=(new lime.Sprite).setAnchorPoint(0).setPosition(120,125).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(Tf);var _f=(new lime.Sprite).setAnchorPoint(0).setPosition(10,130).setFill(imgArray[35]).setSize(16,16);hf.appendChild(_f);var If=(new lime.Sprite).setAnchorPoint(0).setPosition(9,170).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(If);var bf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75,175).setText("Expansion").setSize(152,40);hf.appendChild(bf);var xf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80,198).setFontSize(11).setText("Purchase another Acre").setSize(152,40);hf.appendChild(xf);var Hf=(new lime.Sprite).setAnchorPoint(0).setPosition(120,170).setFill(imgArray[37]).setSize(30,29.5);hf.appendChild(Hf);var Ef=(new lime.Sprite).setAnchorPoint(0).setPosition(10,175).setFill(imgArray[35]).setSize(16,16);hf.appendChild(Ef);var zf=(new lime.Sprite).setAnchorPoint(0).setPosition(9,215).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(zf);var Mf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75,220).setText("Carpenter").setSize(152,40);hf.appendChild(Mf);var Lf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80,243).setFontSize(11).setText("Upgrade Barn to Max").setSize(152,40);hf.appendChild(Lf);var Bf=(new lime.Sprite).setAnchorPoint(0).setPosition(120,215).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(Bf);var kf=(new lime.Sprite).setAnchorPoint(0).setPosition(10,220).setFill(imgArray[35]).setSize(16,16);hf.appendChild(kf);var Of=(new lime.Sprite).setAnchorPoint(0).setPosition(157,80).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(Of);var Rf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220,85).setText("Blacksmith I").setSize(152,40);hf.appendChild(Rf);var Df=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,108).setFontSize(11).setText("Collect 500 Tools").setSize(152,40);hf.appendChild(Df);var Nf=(new lime.Sprite).setAnchorPoint(0).setPosition(266,80).setFill(imgArray[37]).setSize(30,29.5);hf.appendChild(Nf);var Gf=(new lime.Sprite).setAnchorPoint(0).setPosition(158,85).setFill(imgArray[35]).setSize(16,16);hf.appendChild(Gf);var Uf=(new lime.Sprite).setAnchorPoint(0).setPosition(157,125).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(Uf);var Wf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220,130).setText("Blacksmith II").setSize(152,40);hf.appendChild(Wf);var Vf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,153).setFontSize(11).setText("Collect 5000 Tools").setSize(152,40);hf.appendChild(Vf);var Jf=(new lime.Sprite).setAnchorPoint(0).setPosition(266,125).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(Jf);var Yf=(new lime.Sprite).setAnchorPoint(0).setPosition(158,130).setFill(imgArray[35]).setSize(16,16);hf.appendChild(Yf);var qf=(new lime.Sprite).setAnchorPoint(0).setPosition(157,170).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(qf);var jf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220,175).setText("Patience").setSize(152,40);hf.appendChild(jf);var Kf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,198).setFontSize(11).setText("Play for 1 Farm Year").setSize(152,40);hf.appendChild(Kf);var $f=(new lime.Sprite).setAnchorPoint(0).setPosition(266,170).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild($f);var Xf=(new lime.Sprite).setAnchorPoint(0).setPosition(158,175).setFill(imgArray[35]).setSize(16,16);hf.appendChild(Xf);var Qf=(new lime.Sprite).setAnchorPoint(0).setPosition(157,215).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(Qf);var Zf=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220,220).setText("Acreage").setSize(152,40);hf.appendChild(Zf);var eA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,243).setFontSize(11).setText("Own 5 Acres").setSize(152,40);hf.appendChild(eA);var tA=(new lime.Sprite).setAnchorPoint(0).setPosition(266,215).setFill(imgArray[39]).setSize(30,29.5);hf.appendChild(tA);var oA=(new lime.Sprite).setAnchorPoint(0).setPosition(158,220).setFill(imgArray[35]).setSize(16,16);hf.appendChild(oA);var iA=(new lime.Sprite).setAnchorPoint(0).setPosition(9,260).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(iA);var sA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75,265).setText("Jelly Making").setSize(152,40);hf.appendChild(sA);var rA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80,288).setFontSize(11).setText("Unlock Jelly Making").setSize(152,40);hf.appendChild(rA);var nA=(new lime.Sprite).setAnchorPoint(0).setPosition(120,260).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(nA);var aA=(new lime.Sprite).setAnchorPoint(0).setPosition(10,265).setFill(imgArray[35]).setSize(16,16);hf.appendChild(aA);var lA=(new lime.Sprite).setAnchorPoint(0).setPosition(9,305).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(lA);var dA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(75,310).setText("Lumberjack").setSize(152,40);hf.appendChild(dA);var gA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(75,332).setFontSize(11).setText("Clear all Forests").setSize(152,40);hf.appendChild(gA);var mA=(new lime.Sprite).setAnchorPoint(0).setPosition(120,305).setFill(imgArray[39]).setSize(30,29.5);hf.appendChild(mA);var cA=(new lime.Sprite).setAnchorPoint(0).setPosition(10,310).setFill(imgArray[35]).setSize(16,16);hf.appendChild(cA);var pA=(new lime.Sprite).setAnchorPoint(0).setPosition(9,350).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(pA);var hA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(67,355).setText("Breakfast Time").setSize(152,40);hf.appendChild(hA);var uA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(80,378).setFontSize(11).setText("Obtain 100 Ham and Eggs").setSize(152,40);hf.appendChild(uA);var yA=(new lime.Sprite).setAnchorPoint(0).setPosition(120,350).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(yA);var SA=(new lime.Sprite).setAnchorPoint(0).setPosition(10,355).setFill(imgArray[35]).setSize(16,16);hf.appendChild(SA);var fA=(new lime.Sprite).setAnchorPoint(0).setPosition(9,395).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(fA);var AA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFill("#663300").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(72,400).setText("Balanced Diet").setSize(152,40);hf.appendChild(AA);var vA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(75,423).setFontSize(11).setText("Own 10 of each Crop").setSize(152,40);hf.appendChild(vA);var FA=(new lime.Sprite).setAnchorPoint(0).setPosition(120,395).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(FA);var wA=(new lime.Sprite).setAnchorPoint(0).setPosition(10,400).setFill(imgArray[35]).setSize(16,16);hf.appendChild(wA);var PA=(new lime.Sprite).setAnchorPoint(0).setPosition(157,260).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(PA);var CA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(224,265).setText("Milk Master").setSize(152,40);hf.appendChild(CA);var TA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,287).setFontSize(11).setText("Upgrade Dairy to Max").setSize(152,40);hf.appendChild(TA);var _A=(new lime.Sprite).setAnchorPoint(0).setPosition(266,260).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(_A);var IA=(new lime.Sprite).setAnchorPoint(0).setPosition(158,265).setFill(imgArray[35]).setSize(16,16);hf.appendChild(IA);var bA=(new lime.Sprite).setAnchorPoint(0).setPosition(157,305).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(bA);var xA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220,310).setText("Merchant").setSize(152,40);hf.appendChild(xA);var HA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,332).setFontSize(11).setText("Earn $5000 at Market").setSize(152,40);hf.appendChild(HA);var EA=(new lime.Sprite).setAnchorPoint(0).setPosition(266,305).setFill(imgArray[38]).setSize(30,29.5);hf.appendChild(EA);var zA=(new lime.Sprite).setAnchorPoint(0).setPosition(158,310).setFill(imgArray[35]).setSize(16,16);hf.appendChild(zA);var MA=(new lime.Sprite).setAnchorPoint(0).setPosition(157,350).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(MA);var LA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(220,355).setText("Cross-Over").setSize(152,40);hf.appendChild(LA);var BA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,378).setFontSize(11).setText("Convert Stars to Coins").setSize(152,40);hf.appendChild(BA);var kA=(new lime.Sprite).setAnchorPoint(0).setPosition(266,350).setFill(imgArray[37]).setSize(30,29.5);hf.appendChild(kA);var OA=(new lime.Sprite).setAnchorPoint(0).setPosition(158,355).setFill(imgArray[35]).setSize(16,16);hf.appendChild(OA);var RA=(new lime.Sprite).setAnchorPoint(0).setPosition(157,395).setFill(imgArray[18].src).setSize(142,40);hf.appendChild(RA);var DA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(219,400).setText("Back for More").setSize(152,40);hf.appendChild(DA);var NA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#ffffff").setPosition(226,423).setFontSize(11).setText("Play for 10 Farm Years").setSize(152,40);hf.appendChild(NA);var GA=(new lime.Sprite).setAnchorPoint(0).setPosition(266,395).setFill(imgArray[40]).setSize(30,29.5);hf.appendChild(GA);var UA=(new lime.Sprite).setAnchorPoint(0).setPosition(158,400).setFill(imgArray[35]).setSize(16,16);hf.appendChild(UA);var WA=(new lime.Label).setAnchorPoint(0).setFill("#C14825").setFontFamily("Comic Sans MS").setFontColor("#5c00e6").setFontSize(18).setPosition(160,472).setText(starCash).setSize(152,40);hf.appendChild(WA);var VA=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),JA=(new lime.Layer).setAnchorPoint(0,0),YA=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height-90).setFill("#0D0D0D");VA.appendChild(YA),VA.appendChild(JA);var qA=(new lime.Sprite).setAnchorPoint(0).setPosition(0,30).setFill("images/UI/brownBtn.png").setSize(g.width,125);JA.appendChild(qA);var jA=(new lime.Sprite).setAnchorPoint(0).setPosition(0,115).setFill("images/houseUpgrades/FarmHomeInteriorOrange.png").setSize(g.width,g.height-165);JA.appendChild(jA);var KA=(new lime.Sprite).setAnchorPoint(0).setPosition(123,30).setFill(imgArray12[0]).setSize(64,46);jA.appendChild(KA);var $A=(new lime.Sprite).setAnchorPoint(0).setPosition(20,20).setFill(imgArray12[1]).setSize(22,18);KA.appendChild($A);var XA=(new lime.Sprite).setAnchorPoint(0).setPosition(160,372).setFill(imgArray12[4]).setSize(22,15);JA.appendChild(XA);var QA=(new lime.Sprite).setAnchorPoint(0,0).setPosition(190,350).setSize(55,55).setFill(imgArrayDenise[0].src);JA.appendChild(QA);var ZA=(new lime.GlossyButton).setColor("#A0A0A0").setText("").setPosition(35,-1).setSize(25,23).setOpacity(.2);QA.appendChild(ZA);var ev=(new lime.Sprite).setAnchorPoint(0,0).setPosition(23,-13).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);function tv(){var e="",e=0==houseUpgrades.upgrades[1].owned?"We Need a BED to sleep in":0==houseUpgrades.upgrades[2].owned?"I wish I had a CHEST to put stuff.":0==houseUpgrades.upgrades[3].owned?"We need a SINK to cook and clean - please buy one":0==houseUpgrades.upgrades[4].owned?"Are we Animals? We need a TABLE to eat on.":0==houseUpgrades.upgrades[5].owned?"You are gonna buy some CHAIRS right?":0==houseUpgrades.upgrades[6].owned?"All the ladies in town have a DRESSING TABLE, but I do not....":0==houseUpgrades.upgrades[7].owned?"A BEDSIDE TABLE would be very nice to have":0==houseUpgrades.upgrades[8].owned?"We need more decor. A POTTED PLANT would be nice":0==houseUpgrades.upgrades[9].owned?"A COUCH to sit on would be nice to have over there":0==houseUpgrades.upgrades[10].owned?1==houseUpgrades.upgrades[0].owned?"We need some CURTAINS for this new space":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[11].owned?1==houseUpgrades.upgrades[0].owned?"We need a DOUBLE BED to fill this space":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[12].owned?1==houseUpgrades.upgrades[0].owned?"I wish I had STOOL to sit on back there":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[13].owned?1==houseUpgrades.upgrades[0].owned?"I wish I had WARDROBE to hang my dresses":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[14].owned?1==houseUpgrades.upgrades[0].owned?"I sure do like that FANCY COUCH. Won't you buy it for me?":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[15].owned?1==houseUpgrades.upgrades[0].owned?"Don't you think BOOKSHELVES would look good here?":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[16].owned?1==houseUpgrades.upgrades[0].owned?"That FANCY TABLE is so elegant. I wish we could have it":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[17].owned?1==houseUpgrades.upgrades[0].owned?"Now we need some FANCY CHAIRS to complete our set":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[18].owned?1==houseUpgrades.upgrades[0].owned?"Don't you need a DESK to keep the farm in order?":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[19].owned?1==houseUpgrades.upgrades[0].owned?"That PAINTING would look good over the mantle":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[20].owned?1==houseUpgrades.upgrades[0].owned?"I need a DISH CABINET to keep our dishes":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[21].owned?1==houseUpgrades.upgrades[0].owned?"We need a TRUNK to store Patricia's toys":"We need more room; a little one is on the way":0==houseUpgrades.upgrades[22].owned?1==houseUpgrades.upgrades[0].owned?"A different color of walls would be a nice":"We need more room; a little one is on the way":"I am happy and don't need anything....for the moment";cP.setText(e)}QA.appendChild(ev),goog.events.listen(ZA,["mousedown","touchstart"],function(){setTimeout(function(){tv()},0),gP.setHidden(!1)});var ov=0;fireState=1,lime.scheduleManager.scheduleWithDelay(function(){"House"==sceneActive&&(1==houseUpgrades.upgrades[0].owned?iv.setHidden(!1):iv.setHidden(!0),ov++,$A.setFill(imgArray12[fireState]),XA.setFill(imgArray12[fireState+3]),fireState++,3<fireState&&(fireState=1),1==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[1].src),iv.setPosition(202,145).setFill(imgArrayPatricia[0].src)),2==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[8].src),iv.setPosition(202,150).setFill(imgArrayPatricia[1].src)),3==ov&&(QA.setPosition(185,360).setFill(imgArrayDenise[8].src),iv.setPosition(202,155).setFill(imgArrayPatricia[2].src)),4==ov&&(QA.setPosition(180,360).setFill(imgArrayDenise[9].src),iv.setPosition(202,160).setFill(imgArrayPatricia[3].src)),5==ov&&(QA.setPosition(175,360).setFill(imgArrayDenise[10].src),iv.setPosition(202,165).setFill(imgArrayPatricia[0].src)),6==ov&&(QA.setPosition(170,360).setFill(imgArrayDenise[11].src),iv.setPosition(202,170).setFill(imgArrayPatricia[1].src)),7==ov&&(QA.setPosition(165,360).setFill(imgArrayDenise[10].src),iv.setPosition(202,175).setFill(imgArrayPatricia[2].src)),8==ov&&(QA.setPosition(160,360).setFill(imgArrayDenise[9].src),iv.setPosition(202,180).setFill(imgArrayPatricia[3].src)),9==ov&&(QA.setPosition(155,360).setFill(imgArrayDenise[8].src),iv.setPosition(202,185).setFill(imgArrayPatricia[0].src)),10==ov&&(QA.setPosition(150,360).setFill(imgArrayDenise[9].src),iv.setPosition(202,190).setFill(imgArrayPatricia[1].src)),11==ov&&(QA.setPosition(145,360).setFill(imgArrayDenise[10].src),iv.setPosition(202,195).setFill(imgArrayPatricia[2].src)),12==ov&&(QA.setPosition(140,360).setFill(imgArrayDenise[11].src),iv.setPosition(202,200).setFill(imgArrayPatricia[3].src)),12==ov&&(QA.setPosition(135,355).setFill(imgArrayDenise[8].src),iv.setPosition(202,205).setFill(imgArrayPatricia[0].src)),12==ov&&(QA.setPosition(130,355).setFill(imgArrayDenise[9].src),iv.setPosition(202,205).setFill(imgArrayPatricia[4].src)),12==ov&&(QA.setPosition(125,350).setFill(imgArrayDenise[10].src),iv.setPosition(195,205).setFill(imgArrayPatricia[5].src)),13==ov&&(QA.setPosition(120,350).setFill(imgArrayDenise[11].src),iv.setPosition(190,205).setFill(imgArrayPatricia[6].src)),14==ov&&(QA.setPosition(115,350).setFill(imgArrayDenise[10].src),iv.setPosition(185,205).setFill(imgArrayPatricia[7].src)),15==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[9].src),iv.setPosition(180,205).setFill(imgArrayPatricia[4].src)),16==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[13].src),iv.setPosition(175,205).setFill(imgArrayPatricia[5].src)),17==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[13].src),iv.setPosition(170,205).setFill(imgArrayPatricia[6].src)),18==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[13].src),iv.setPosition(165,205).setFill(imgArrayPatricia[7].src)),19==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[13].src),iv.setPosition(160,205).setFill(imgArrayPatricia[6].src)),20==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[13].src),iv.setPosition(155,205).setFill(imgArrayPatricia[5].src)),21==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[14].src),iv.setPosition(150,205).setFill(imgArrayPatricia[4].src)),22==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[8].src),iv.setPosition(145,205).setFill(imgArrayPatricia[5].src)),23==ov&&(QA.setPosition(110,350).setFill(imgArrayDenise[1].src),iv.setPosition(140,205).setFill(imgArrayPatricia[6].src)),24==ov&&(QA.setPosition(110,355).setFill(imgArrayDenise[0].src),iv.setPosition(135,205).setFill(imgArrayPatricia[7].src)),25==ov&&(QA.setPosition(110,360).setFill(imgArrayDenise[1].src),iv.setPosition(130,205).setFill(imgArrayPatricia[6].src)),26==ov&&(QA.setPosition(110,365).setFill(imgArrayDenise[2].src),iv.setPosition(125,205).setFill(imgArrayPatricia[5].src)),27==ov&&(QA.setPosition(110,370).setFill(imgArrayDenise[3].src),iv.setPosition(120,205).setFill(imgArrayPatricia[4].src)),28==ov&&(QA.setPosition(110,375).setFill(imgArrayDenise[0].src),iv.setPosition(115,205).setFill(imgArrayPatricia[7].src)),29==ov&&(QA.setPosition(110,380).setFill(imgArrayDenise[1].src),iv.setPosition(110,205).setFill(imgArrayPatricia[6].src)),30==ov&&(QA.setPosition(110,380).setFill(imgArrayDenise[1].src),iv.setPosition(105,205).setFill(imgArrayPatricia[5].src)),31==ov&&(QA.setPosition(110,380).setFill(imgArrayDenise[1].src),iv.setPosition(100,205).setFill(imgArrayPatricia[4].src)),32==ov&&(QA.setPosition(110,380).setFill(imgArrayDenise[1].src),iv.setPosition(95,205).setFill(imgArrayPatricia[5].src)),33==ov&&(QA.setPosition(110,380).setFill(imgArrayDenise[1].src),iv.setPosition(90,205).setFill(imgArrayPatricia[6].src)),34==ov&&(QA.setPosition(110,375).setFill(imgArrayDenise[4].src),iv.setPosition(85,205).setFill(imgArrayPatricia[7].src)),35==ov&&(QA.setPosition(115,370).setFill(imgArrayDenise[5].src),iv.setPosition(80,205).setFill(imgArrayPatricia[6].src)),36==ov&&(QA.setPosition(120,365).setFill(imgArrayDenise[6].src),iv.setPosition(75,205).setFill(imgArrayPatricia[5].src)),37==ov&&(QA.setPosition(125,360).setFill(imgArrayDenise[7].src),iv.setPosition(70,205).setFill(imgArrayPatricia[4].src)),38==ov&&(QA.setPosition(130,360).setFill(imgArrayDenise[4].src),iv.setPosition(70,205).setFill(imgArrayPatricia[12].src)),39==ov&&(QA.setPosition(135,360).setFill(imgArrayDenise[5].src),iv.setPosition(70,200).setFill(imgArrayPatricia[13].src)),40==ov&&(QA.setPosition(140,360).setFill(imgArrayDenise[4].src),iv.setPosition(70,195).setFill(imgArrayPatricia[14].src)),41==ov&&(QA.setPosition(145,360).setFill(imgArrayDenise[5].src),iv.setPosition(70,190).setFill(imgArrayPatricia[15].src)),42==ov&&(QA.setPosition(150,360).setFill(imgArrayDenise[4].src),iv.setPosition(70,185).setFill(imgArrayPatricia[12].src)),43==ov&&(QA.setPosition(155,360).setFill(imgArrayDenise[5].src),iv.setPosition(70,180).setFill(imgArrayPatricia[13].src)),44==ov&&(QA.setPosition(160,360).setFill(imgArrayDenise[4].src),iv.setPosition(70,175).setFill(imgArrayPatricia[14].src)),45==ov&&(QA.setPosition(175,360).setFill(imgArrayDenise[5].src),iv.setPosition(70,170).setFill(imgArrayPatricia[15].src)),46==ov&&(QA.setPosition(180,360).setFill(imgArrayDenise[4].src),iv.setPosition(70,165).setFill(imgArrayPatricia[12].src)),47==ov&&(QA.setPosition(185,360).setFill(imgArrayDenise[5].src),iv.setPosition(70,160).setFill(imgArrayPatricia[13].src)),48==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[6].src),iv.setPosition(70,155).setFill(imgArrayPatricia[14].src)),49==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[0].src),iv.setPosition(70,150).setFill(imgArrayPatricia[15].src)),50==ov&&iv.setPosition(70,150).setFill(imgArrayPatricia[4].src),51==ov&&iv.setPosition(70,150).setFill(imgArrayPatricia[0].src),52==ov&&iv.setPosition(70,150).setFill(imgArrayPatricia[8].src),53==ov&&iv.setPosition(70,150).setFill(imgArrayPatricia[0].src),54==ov&&iv.setPosition(70,150).setFill(imgArrayPatricia[4].src),55==ov&&iv.setPosition(70,150).setFill(imgArrayPatricia[0].src),58==ov&&iv.setPosition(70,150).setFill(imgArrayPatricia[12].src),59==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[4].src),iv.setPosition(70,145).setFill(imgArrayPatricia[12].src)),60==ov&&iv.setPosition(70,145).setFill(imgArrayPatricia[8].src),61==ov&&iv.setPosition(75,145).setFill(imgArrayPatricia[9].src),62==ov&&iv.setPosition(80,145).setFill(imgArrayPatricia[10].src),63==ov&&iv.setPosition(85,145).setFill(imgArrayPatricia[11].src),64==ov&&iv.setPosition(90,145).setFill(imgArrayPatricia[8].src),65==ov&&iv.setPosition(95,145).setFill(imgArrayPatricia[9].src),66==ov&&iv.setPosition(100,145).setFill(imgArrayPatricia[10].src),67==ov&&iv.setPosition(105,145).setFill(imgArrayPatricia[11].src),68==ov&&iv.setPosition(110,145).setFill(imgArrayPatricia[8].src),69==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[0].src),iv.setPosition(115,145).setFill(imgArrayPatricia[9].src)),70==ov&&iv.setPosition(120,145).setFill(imgArrayPatricia[10].src),71==ov&&iv.setPosition(125,145).setFill(imgArrayPatricia[11].src),72==ov&&iv.setPosition(130,145).setFill(imgArrayPatricia[8].src),73==ov&&iv.setPosition(135,145).setFill(imgArrayPatricia[9].src),74==ov&&iv.setPosition(140,145).setFill(imgArrayPatricia[11].src),75==ov&&iv.setPosition(145,145).setFill(imgArrayPatricia[8].src),76==ov&&iv.setPosition(150,145).setFill(imgArrayPatricia[9].src),77==ov&&iv.setPosition(155,145).setFill(imgArrayPatricia[10].src),78==ov&&iv.setPosition(160,145).setFill(imgArrayPatricia[11].src),79==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[15].src),iv.setPosition(165,145).setFill(imgArrayPatricia[9].src)),80==ov&&iv.setPosition(170,145).setFill(imgArrayPatricia[10].src),81==ov&&iv.setPosition(175,145).setFill(imgArrayPatricia[11].src),82==ov&&iv.setPosition(180,145).setFill(imgArrayPatricia[8].src),83==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[1].src),iv.setPosition(185,145).setFill(imgArrayPatricia[9].src)),84==ov&&iv.setPosition(190,145).setFill(imgArrayPatricia[10].src),85==ov&&iv.setPosition(195,145).setFill(imgArrayPatricia[11].src),86==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[8].src),89==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[1].src),iv.setPosition(202,145).setFill(imgArrayPatricia[4].src)),90==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[0].src),91==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[8].src),92==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[0].src),93==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[4].src),94==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[0].src),95==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[15].src),iv.setPosition(202,145).setFill(imgArrayPatricia[8].src)),96==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[0].src),97==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[4].src),98==ov&&iv.setPosition(202,145).setFill(imgArrayPatricia[0].src),99==ov&&(QA.setPosition(190,360).setFill(imgArrayDenise[1].src),iv.setPosition(202,145).setFill(imgArrayPatricia[0].src)),100<=ov&&(ov=0))},this,200);var iv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(202,145).setSize(55,55).setFill(imgArrayPatricia[0].src);JA.appendChild(iv);var sv=(new lime.GlossyButton).setColor("#008000").setText("").setPosition(25,-4).setSize(25,23).setOpacity(.2);iv.appendChild(sv);var rv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(13,-15).setSize(25,25).setFill(imgArrayTown[15].src).setOpacity(.8);iv.appendChild(rv),goog.events.listen(sv,["mousedown","touchstart"],function(){setTimeout(function(){nv=Math.round(5*Math.random()),SP.setText(questParamsPatricia.speech[nv].Text),c.play()},0),uP.setHidden(!1)});var nv="";var av=(new lime.Sprite).setPosition(155,217).setSize(g.width-15,180).setFill("#000000").setHidden(!1);JA.appendChild(av);var lv=(new lime.GlossyButton).setColor("#000000").setAnchorPoint(0).setPosition(-0,-30).setSize(40,50).setText("").setOpacity(.8);av.appendChild(lv);var dv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,200).setSize(100,20);JA.appendChild(dv);var gv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-20,-24).setSize(40,50).setFill("images/UI/upBtn.png");lv.appendChild(gv);var mv=(new lime.Label).setAnchorPoint(0,0).setPosition(-70,50).setSize(140,18).setText("Expand Your Home").setFontColor("#f0ffff").setOpacity(1);lv.appendChild(mv);var cv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-125,-85).setSize(g.width-75,150).setFill(imgArray[26]);av.appendChild(cv);var pv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-130,-100).setSize(300,200).setFill(imgArray[24].src);av.appendChild(pv);var hv=(new lime.Label).setText("90").setPosition(5,27).setSize(40,25).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setFontWeight(600).setFontSize(28).setFontFamily("ComicSans MS").setFill(imgArray[27]),uv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-22,-50).setSize(50,50).setFill(imgArray[29]);av.appendChild(hv),hv.appendChild(uv),uv.setRotation(-10),hv.setHidden(!0),cv.setHidden(!0),pv.setHidden(!0);var yv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,0).setSize(g.controlsLayer_w-2,g.controlsLayer_h-25).setFill("images/UI/greenButtonLg.png");JA.appendChild(yv);var Sv=(new lime.Sprite).setAnchorPoint(0,0).setPosition(10,3).setSize(35,35).setFill(imgArray[30]),fv=(new lime.Label).setText(player.tools).setFontFamily("Comic Sans MS").setFontColor("#E8FC08").setPosition(69,24).setFontSize(18);JA.appendChild(Sv),JA.appendChild(fv);var Av=(new lime.Label).setText(player.money).setFontColor("#E8FC08").setFontFamily("Comic Sans MS").setFontSize(18).setPosition(245,24);JA.appendChild(Av);var vv=(new lime.Sprite).setPosition(285,20).setSize(35,35).setFill(imgArray11[0]);JA.appendChild(vv);var Fv=(new lime.Label).setText("Home Store").setPosition(g.width/2,109).setSize(250,18).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");JA.appendChild(Fv);var wv=(new lime.Sprite).setAnchorPoint(0).setPosition(0,42).setSize(g.width,100).setFill("#E8FC08");JA.appendChild(wv);var Pv=85,Cv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Cv);var Tv=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[1]).setSize(25,44);Cv.appendChild(Tv);var _v=(new lime.Label).setText(houseUpgrades.upgrades[1].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Cv.appendChild(_v);var Iv=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Cv.appendChild(Iv);var bv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(250,270).setSize(28,63).setText(""),xv=(new lime.Sprite).setAnchorPoint(0).setPosition(-14,-34).setFill(imgArray11[1]).setSize(28,64);jA.appendChild(bv),bv.appendChild(xv),bv.setHidden(!0),Pv+=70;var Hv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Hv);var Ev=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[2]).setSize(25,40);Hv.appendChild(Ev);var zv=(new lime.Label).setText(houseUpgrades.upgrades[2].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Hv.appendChild(zv);var Mv=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Hv.appendChild(Mv);var Lv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(210,347).setSize(25,44).setText(""),Bv=(new lime.Sprite).setAnchorPoint(0).setPosition(-12,-24).setFill(imgArray11[2]).setSize(25,45);jA.appendChild(Lv),Lv.appendChild(Bv),Lv.setHidden(!0),Pv+=70;var kv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(kv);var Ov=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[3]).setSize(25,45);kv.appendChild(Ov);var Rv=(new lime.Label).setText(houseUpgrades.upgrades[3].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");kv.appendChild(Rv);var Dv=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);kv.appendChild(Dv);var Nv=(new lime.Sprite).setAnchorPoint(0).setPosition(113,241).setFill(imgArray11[3]).setSize(42,35);jA.appendChild(Nv),Nv.setHidden(!0),Pv+=70;var Gv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Gv);var Uv=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[4]).setSize(25,40);Gv.appendChild(Uv);var Wv=(new lime.Label).setText(houseUpgrades.upgrades[4].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Gv.appendChild(Wv);var Vv=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Gv.appendChild(Vv);var Jv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(63,322).setSize(32,46).setText(""),Yv=(new lime.Sprite).setAnchorPoint(0).setPosition(-15,-29).setFill(imgArray11[4]).setSize(32,56);jA.appendChild(Jv),Jv.appendChild(Yv),Jv.setHidden(!0),Pv+=70;var qv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(qv);var jv=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[5]).setSize(24,44);qv.appendChild(jv);var Kv=(new lime.Label).setText(houseUpgrades.upgrades[5].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");qv.appendChild(Kv);var $v=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);qv.appendChild($v);var Xv=(new lime.Sprite).setAnchorPoint(0).setPosition(25,267).setFill("images/houseUpgrades/woodChairSet2.png").setSize(79,99);jA.appendChild(Xv),Xv.setHidden(!0),Pv+=70;var Qv=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Qv);var Zv=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-25).setFill(imgArray11[6]).setSize(24,44);Qv.appendChild(Zv);var eF=(new lime.Label).setText(houseUpgrades.upgrades[6].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Qv.appendChild(eF);var tF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Qv.appendChild(tF);var oF=(new lime.Sprite).setAnchorPoint(0).setPosition(267,216).setFill(imgArray11[6]).setSize(32,56);jA.appendChild(oF),oF.setHidden(!0),Pv+=70;var iF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(iF);var sF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[7]).setSize(22,20);iF.appendChild(sF);var rF=(new lime.Label).setText(houseUpgrades.upgrades[7].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");iF.appendChild(rF);var nF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);iF.appendChild(nF);var aF=(new lime.Sprite).setAnchorPoint(0).setPosition(212,242).setFill(imgArray11[7]).setSize(22,32);jA.appendChild(aF),aF.setHidden(!0),Pv+=70;var lF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(lF);var dF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[8]).setSize(22,34);lF.appendChild(dF);var gF=(new lime.Label).setText(houseUpgrades.upgrades[8].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");lF.appendChild(gF);var mF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);lF.appendChild(mF);var cF=(new lime.Sprite).setAnchorPoint(0).setPosition(127,328).setFill(imgArray11[8]).setSize(25,40);jA.appendChild(cF),cF.setHidden(!0),Pv+=70;var pF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(pF);var hF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[9]).setSize(22,34);pF.appendChild(hF);var uF=(new lime.Label).setText(houseUpgrades.upgrades[9].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");pF.appendChild(uF);var yF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);pF.appendChild(yF);var SF=(new lime.Sprite).setAnchorPoint(0).setPosition(271,318).setFill(imgArray11[9]).setSize(28,50);jA.appendChild(SF),SF.setHidden(!0),Pv+=70;var fF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(fF);var AF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[10]).setSize(22,34);fF.appendChild(AF);var vF=(new lime.Label).setText(houseUpgrades.upgrades[10].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");fF.appendChild(vF);var FF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);fF.appendChild(FF);var wF=(new lime.Sprite).setAnchorPoint(0).setPosition(59,25).setFill(imgArray11[10]).setSize(39,46);jA.appendChild(wF);var PF=(new lime.Sprite).setAnchorPoint(0).setPosition(213,25).setFill(imgArray11[10]).setSize(39,46);jA.appendChild(PF),wF.setHidden(!0),PF.setHidden(!0),Pv+=70;var CF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(CF);var TF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[11]).setSize(22,34);CF.appendChild(TF);var _F=(new lime.Label).setText(houseUpgrades.upgrades[11].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");CF.appendChild(_F);var IF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);CF.appendChild(IF);var bF=(new lime.Sprite).setAnchorPoint(0).setPosition(g.controlsLayer_w-70,48).setFill(imgArray11[11]).setSize(50,70);jA.appendChild(bF),bF.setHidden(!0),Pv+=70;var xF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(xF);var HF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[12]).setSize(22,34);xF.appendChild(HF);var EF=(new lime.Label).setText(houseUpgrades.upgrades[12].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");xF.appendChild(EF);var zF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);xF.appendChild(zF);var MF=(new lime.Sprite).setAnchorPoint(0).setPosition(30,130).setFill(imgArray11[12]).setSize(18,24);jA.appendChild(MF),MF.setHidden(!0),Pv+=70;var LF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(LF);var BF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-15).setFill(imgArray11[13]).setSize(22,34);LF.appendChild(BF);var kF=(new lime.Label).setText(houseUpgrades.upgrades[13].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");LF.appendChild(kF);var OF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);LF.appendChild(OF);var RF=(new lime.Sprite).setAnchorPoint(0).setPosition(10,22).setFill(imgArray11[13]).setSize(30,56);jA.appendChild(RF),RF.setHidden(!0),Pv+=70;var DF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(DF);var NF=(new lime.Sprite).setAnchorPoint(0).setPosition(-24,-18).setFill(imgArray11[14]).setSize(40,24);DF.appendChild(NF);var GF=(new lime.Label).setText(houseUpgrades.upgrades[14].cost).setPosition(-12,18).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");DF.appendChild(GF);var UF=(new lime.Sprite).setPosition(15,14).setSize(20,20).setFill(imgArray11[0]);DF.appendChild(UF);var WF=(new lime.Sprite).setAnchorPoint(0).setPosition(124,110).setFill(imgArray11[14]).setSize(59,29);jA.appendChild(WF),WF.setHidden(!0),Pv+=70;var VF=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(VF);var JF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[15]).setSize(22,37);VF.appendChild(JF);var YF=(new lime.Label).setText(houseUpgrades.upgrades[15].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");VF.appendChild(YF);var qF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);VF.appendChild(qF);var jF=(new lime.Sprite).setAnchorPoint(0).setPosition(98,20).setFill(imgArray11[15]).setSize(26,55);jA.appendChild(jF);var KF=(new lime.Sprite).setAnchorPoint(0).setPosition(186,20).setFill(imgArray11[15]).setSize(26,55);jA.appendChild(KF),jF.setHidden(!0),KF.setHidden(!0),Pv+=70;var $F=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild($F);var XF=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[16]).setSize(22,37);$F.appendChild(XF);var QF=(new lime.Label).setText(houseUpgrades.upgrades[16].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");$F.appendChild(QF);var ZF=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);$F.appendChild(ZF);var ew=(new lime.Sprite).setAnchorPoint(0).setPosition(138,91).setFill(imgArray11[16]).setSize(32,18);jA.appendChild(ew),ew.setHidden(!0),Pv+=70;var tw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(tw);var ow=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[17]).setSize(22,37);tw.appendChild(ow);var iw=(new lime.Label).setText(houseUpgrades.upgrades[17].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");tw.appendChild(iw);var sw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);tw.appendChild(sw);var rw=(new lime.Sprite).setAnchorPoint(0).setPosition(111,82).setFill("images/houseUpgrades/fancyChairSet2.png").setSize(90,29);jA.appendChild(rw),rw.setHidden(!0),Pv+=70;var nw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(nw);var aw=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[18]).setSize(22,37);nw.appendChild(aw);var lw=(new lime.Label).setText(houseUpgrades.upgrades[18].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");nw.appendChild(lw);var dw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);nw.appendChild(dw);var gw=(new lime.Sprite).setAnchorPoint(0).setPosition(11,102).setFill(imgArray11[18]).setSize(52,37);jA.appendChild(gw),gw.setHidden(!0),Pv+=70;var mw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(mw);var cw=(new lime.Sprite).setAnchorPoint(0).setPosition(-20,-18).setFill(imgArray11[19]).setSize(36,21);mw.appendChild(cw);var pw=(new lime.Label).setText(houseUpgrades.upgrades[19].cost).setPosition(-10,17).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");mw.appendChild(pw);var hw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);mw.appendChild(hw);var uw=(new lime.Sprite).setAnchorPoint(0).setPosition(128,13).setFill(imgArray11[19]).setSize(55,16);jA.appendChild(uw),uw.setHidden(!0),Pv+=70;var yw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(yw);var Sw=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[20]).setSize(22,37);yw.appendChild(Sw);var fw=(new lime.Label).setText(houseUpgrades.upgrades[20].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");yw.appendChild(fw);var Aw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);yw.appendChild(Aw);var vw=(new lime.Sprite).setAnchorPoint(0).setPosition(15,215).setFill(imgArray11[20]).setSize(32,56);jA.appendChild(vw),vw.setHidden(!0),Pv+=70;var Fw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Fw);var ww=(new lime.Sprite).setAnchorPoint(0).setPosition(-26,0).setFill(imgArray11[21]).setSize(26,18);Fw.appendChild(ww);var Pw=(new lime.Label).setText(houseUpgrades.upgrades[21].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Fw.appendChild(Pw);var Cw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Fw.appendChild(Cw);var Tw=(new lime.Sprite).setAnchorPoint(0).setPosition(g.controlsLayer_w-67,115).setFill(imgArray11[21]).setSize(44,18);jA.appendChild(Tw),Tw.setHidden(!0),Pv+=70;var _w=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(_w);var Iw=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[22]).setSize(22,37);_w.appendChild(Iw);var bw=(new lime.Label).setText(houseUpgrades.upgrades[22].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");_w.appendChild(bw);var xw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);_w.appendChild(xw),Pv+=70;var Hw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Hw);var Ew=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[23]).setSize(22,37);Hw.appendChild(Ew);var zw=(new lime.Label).setText(houseUpgrades.upgrades[23].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Hw.appendChild(zw);var Mw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Hw.appendChild(Mw),Pv+=70;var Lw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Lw);var Bw=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[24]).setSize(22,37);Lw.appendChild(Bw);var kw=(new lime.Label).setText(houseUpgrades.upgrades[24].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Lw.appendChild(kw);var Ow=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Lw.appendChild(Ow),Pv+=70;var Rw=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(Pv,30).setSize(60,45).setText("");wv.appendChild(Rw);var Dw=(new lime.Sprite).setAnchorPoint(0).setPosition(-25,-18).setFill(imgArray11[25]).setSize(22,37);Rw.appendChild(Dw);var Nw=(new lime.Label).setText(houseUpgrades.upgrades[25].cost).setPosition(14,0).setSize(25,22).setFontColor("#E8FC08").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");Rw.appendChild(Nw);var Gw=(new lime.Sprite).setPosition(15,12).setSize(20,20).setFill(imgArray11[0]);Rw.appendChild(Gw);var Uw=wv.getPosition(),Ww=Uw.x,Vw=function(){if(1==houseUpgrades.upgrades[0].owned){av.setHidden(!0);try{goog.events.removeAll(lv),goog.events.removeAll(_P)}catch(e){console.log("expand house remove listener failed")}}1==houseUpgrades.upgrades[1].owned&&(bv.setHidden(!1),Cv.setOpacity(.2)),1==houseUpgrades.upgrades[2].owned&&(Lv.setHidden(!1),Hv.setOpacity(.2)),1==houseUpgrades.upgrades[3].owned&&(Nv.setHidden(!1),kv.setOpacity(.2)),1==houseUpgrades.upgrades[4].owned&&(Jv.setHidden(!1),Gv.setOpacity(.2)),1==houseUpgrades.upgrades[5].owned&&(Xv.setHidden(!1),qv.setOpacity(.2)),1==houseUpgrades.upgrades[6].owned&&(oF.setHidden(!1),Qv.setOpacity(.2)),1==houseUpgrades.upgrades[7].owned&&(aF.setHidden(!1),iF.setOpacity(.2)),1==houseUpgrades.upgrades[8].owned&&(cF.setHidden(!1),lF.setOpacity(.2)),1==houseUpgrades.upgrades[9].owned&&(SF.setHidden(!1),pF.setOpacity(.2)),1==houseUpgrades.upgrades[10].owned&&(wF.setHidden(!1),PF.setHidden(!1),fF.setOpacity(.2)),1==houseUpgrades.upgrades[11].owned&&(bF.setHidden(!1),CF.setOpacity(.2)),1==houseUpgrades.upgrades[12].owned&&(MF.setHidden(!1),xF.setOpacity(.2)),1==houseUpgrades.upgrades[13].owned&&(RF.setHidden(!1),LF.setOpacity(.2)),1==houseUpgrades.upgrades[14].owned&&(WF.setHidden(!1),DF.setOpacity(.2)),1==houseUpgrades.upgrades[15].owned&&(jF.setHidden(!1),KF.setHidden(!1),VF.setOpacity(.2)),1==houseUpgrades.upgrades[16].owned&&(ew.setHidden(!1),$F.setOpacity(.2)),1==houseUpgrades.upgrades[17].owned&&(rw.setHidden(!1),tw.setOpacity(.2)),1==houseUpgrades.upgrades[18].owned&&(gw.setHidden(!1),nw.setOpacity(.2)),1==houseUpgrades.upgrades[19].owned&&(uw.setHidden(!1),mw.setOpacity(.2)),1==houseUpgrades.upgrades[20].owned&&(vw.setHidden(!1),yw.setOpacity(.2)),1==houseUpgrades.upgrades[21].owned&&(Tw.setHidden(!1),Fw.setOpacity(.2)),1==houseUpgrades.upgrades[22].owned&&(jA.setFill(imgArray11[22]),_w.setOpacity(.2),Hw.setOpacity(1),Lw.setOpacity(1),Rw.setOpacity(1)),1==houseUpgrades.upgrades[23].owned&&(jA.setFill(imgArray11[23]),Hw.setOpacity(.2),_w.setOpacity(1),Lw.setOpacity(1),Rw.setOpacity(1)),1==houseUpgrades.upgrades[24].owned&&(jA.setFill(imgArray11[24]),Lw.setOpacity(.2),_w.setOpacity(1),Hw.setOpacity(1),Rw.setOpacity(1)),1==houseUpgrades.upgrades[25].owned&&(jA.setFill(imgArray11[25]),Rw.setOpacity(.2),_w.setOpacity(1),Hw.setOpacity(1),Lw.setOpacity(1)),Yw()},Jw=0;goog.events.listen(Cv,["mousedown","touchstart"],function(){jw(Jw=1),qw()}),goog.events.listen(Hv,["mousedown","touchstart"],function(){jw(Jw=2),qw()}),goog.events.listen(kv,["mousedown","touchstart"],function(){jw(Jw=3),qw()}),goog.events.listen(Gv,["mousedown","touchstart"],function(){jw(Jw=4),qw()}),goog.events.listen(qv,["mousedown","touchstart"],function(){jw(Jw=5),qw()}),goog.events.listen(Qv,["mousedown","touchstart"],function(){jw(Jw=6),qw()}),goog.events.listen(iF,["mousedown","touchstart"],function(){jw(Jw=7),qw()}),goog.events.listen(lF,["mousedown","touchstart"],function(){jw(Jw=8),qw()}),goog.events.listen(pF,["mousedown","touchstart"],function(){jw(Jw=9),qw()}),goog.events.listen(fF,["mousedown","touchstart"],function(){jw(Jw=10),qw()}),goog.events.listen(CF,["mousedown","touchstart"],function(){jw(Jw=11),qw()}),goog.events.listen(xF,["mousedown","touchstart"],function(){jw(Jw=12),qw()}),goog.events.listen(LF,["mousedown","touchstart"],function(){jw(Jw=13),qw()}),goog.events.listen(DF,["mousedown","touchstart"],function(){jw(Jw=14),sP.setPosition(40,55).setSize(59,29)}),goog.events.listen(VF,["mousedown","touchstart"],function(){jw(Jw=15),qw()}),goog.events.listen($F,["mousedown","touchstart"],function(){jw(Jw=16),qw()}),goog.events.listen(tw,["mousedown","touchstart"],function(){jw(Jw=17),qw()}),goog.events.listen(nw,["mousedown","touchstart"],function(){jw(Jw=18),sP.setPosition(40,55).setSize(56,38)}),goog.events.listen(mw,["mousedown","touchstart"],function(){jw(Jw=19),sP.setPosition(40,55).setSize(56,32)}),goog.events.listen(yw,["mousedown","touchstart"],function(){jw(Jw=20),qw()}),goog.events.listen(Fw,["mousedown","touchstart"],function(){jw(Jw=21),sP.setPosition(42,55).setSize(50,28)}),goog.events.listen(_w,["mousedown","touchstart"],function(){jw(Jw=22),qw()}),goog.events.listen(Hw,["mousedown","touchstart"],function(){jw(Jw=23),qw()}),goog.events.listen(Lw,["mousedown","touchstart"],function(){jw(Jw=24),qw()}),goog.events.listen(Rw,["mousedown","touchstart"],function(){jw(Jw=25),qw()});var Yw=function(){if(Ww=Uw.x,1==houseUpgrades.upgrades[1].owned){Ww-=70,wv.setPosition(Ww,Uw.y);try{goog.events.removeAll(Cv)}catch(e){console.log("houseOption1 removeListenerFailed")}if(1==houseUpgrades.upgrades[2].owned){Ww-=70,wv.setPosition(Ww,Uw.y);try{goog.events.removeAll(Hv)}catch(e){console.log("houseOption2 removeListenerFailed")}if(1==houseUpgrades.upgrades[3].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(kv)}catch(e){console.log("houseOption3 removeListenerFailed")}if(1==houseUpgrades.upgrades[4].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(Gv)}catch(e){console.log("houseOption4 removeListenerFailed")}if(1==houseUpgrades.upgrades[5].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(qv)}catch(e){console.log("houseOption5 removeListenerFailed")}if(1==houseUpgrades.upgrades[6].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(Qv)}catch(e){console.log("houseOption6 removeListenerFailed")}if(1==houseUpgrades.upgrades[7].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(iF)}catch(e){console.log("houseOption7 removeListenerFailed")}if(1==houseUpgrades.upgrades[8].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(lF)}catch(e){console.log("houseOption8 removeListenerFailed")}if(1==houseUpgrades.upgrades[9].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(pF)}catch(e){console.log("houseOption9 removeListenerFailed")}if(1==houseUpgrades.upgrades[10].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(fF)}catch(e){console.log("houseOption10 removeListenerFailed")}if(1==houseUpgrades.upgrades[11].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(CF)}catch(e){console.log("houseOption11 removeListenerFailed")}if(1==houseUpgrades.upgrades[12].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(xF)}catch(e){console.log("houseOption12 removeListenerFailed")}if(1==houseUpgrades.upgrades[13].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(LF)}catch(e){console.log("houseOption13 removeListenerFailed")}if(1==houseUpgrades.upgrades[14].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(DF)}catch(e){console.log("houseOption14 removeListenerFailed")}if(1==houseUpgrades.upgrades[15].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(VF)}catch(e){console.log("houseOption15 removeListenerFailed")}if(1==houseUpgrades.upgrades[16].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll($F)}catch(e){console.log("houseOption16 removeListenerFailed")}if(1==houseUpgrades.upgrades[17].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(tw)}catch(e){console.log("houseOption17 removeListenerFailed")}if(1==houseUpgrades.upgrades[18].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(nw)}catch(e){console.log("houseOption18 removeListenerFailed")}if(1==houseUpgrades.upgrades[19].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(mw)}catch(e){console.log("houseOption19 removeListenerFailed")}if(1==houseUpgrades.upgrades[20].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(yw)}catch(e){console.log("houseOption20 removeListenerFailed")}if(1==houseUpgrades.upgrades[21].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(Fw)}catch(e){console.log("houseOption21 removeListenerFailed")}if(1==houseUpgrades.upgrades[22].owned){Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1);try{goog.events.removeAll(_w)}catch(e){console.log("houseOption22 removeListenerFailed")}1==houseUpgrades.upgrades[23].owned&&(Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1),1==houseUpgrades.upgrades[24].owned&&(Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1),1==houseUpgrades.upgrades[25].owned&&(Ww-=70,wv.setPosition(Ww,Uw.y),$w.setHidden(!1))))}}}}}}}}}}}}}}}}}}}}}}};function qw(){sP.setPosition(50,45).setSize(34,55)}var jw=function(e){tP.setHidden(!1),sP.setFill(imgArray11[e]),iP.setText(" - "+houseUpgrades.upgrades[e].cost),oP.setText(houseUpgrades.upgrades[e].name)},Kw=(new lime.Sprite).setPosition(g.width-13,112).setSize(30,30).setFill("images/UI/nextButton.png");JA.appendChild(Kw);var $w=(new lime.Sprite).setPosition(13,112).setSize(30,30).setFill("images/UI/nextButton.png").setRotation(180);JA.appendChild($w),$w.setHidden(!0),goog.events.listen(Kw,["mousedown","touchstart"],function(){var t=wv.getPosition().x-70;$w.setHidden(!1),lime.scheduleManager.scheduleWithDelay(function(){var e=wv.getPosition();e.x-=10,wv.setPosition(e.x,e.y),e.x<=t&&lime.scheduleManager.unschedule(this,Kw)},this,50,7)}),goog.events.listen($w,["mousedown","touchstart"],function(){wv.getPosition().x;lime.scheduleManager.scheduleWithDelay(function(){var e=wv.getPosition();e.x+=10,wv.setPosition(e.x,e.y),25<=(e=wv.getPosition()).x&&$w.setHidden(!0)},this,100,7)});var Xw=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-5,g.height-50).setSize(g.controlsLayer_w,50).setFill("images/UI/blackButton.png");JA.appendChild(Xw),backBtnHouse=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(g.width/2,25).setSize(80,40),Xw.appendChild(backBtnHouse),goog.events.listen(backBtnHouse,["mousedown","touchstart"],function(){h.replaceScene(u,lime.transitions.SlideInDown),sceneBefore=1,setTimeout(function(){validCropsStored()},0),o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),sceneActive="Home"});var Qw=(new lime.Sprite).setFill("images/UI/starButton.png").setAnchorPoint(0,0).setPosition(50,498).setSize(35,35);JA.appendChild(Qw),goog.events.listen(Qw,["mousedown","touchstart"],function(){0==globalModalBlock&&RP()});var Zw=(new lime.Sprite).setAnchorPoint(0,0).setPosition(210,g.height-g.controlsLayer_h+20).setSize(75,44).setFill("images/"+g.barnyard[3].image);JA.appendChild(Zw),goog.events.listen(Zw,["mousedown","touchstart"],function(){0==globalModalBlock&&(g.sceneBefore=7,townSceneActive=1,setTimeout(function(){validCropsStored()},0),h.replaceScene(nc,lime.transitions.SlideInUp),sceneActive="Market",4<=(Lc=t[1].owned+t[2].owned+t[3].owned+t[4].owned)?Ec.setHidden(!1):Ec.setHidden(!0),count0.setText(player.cropsStored[0].stored),count1.setText(player.cropsStored[1].stored),count2.setText(player.cropsStored[2].stored),count3.setText(player.cropsStored[3].stored),count4.setText(player.cropsStored[4].stored),count5.setText(player.cropsStored[5].stored),count6.setText(player.cropsStored[6].stored),count7.setText(player.cropsStored[7].stored),count8.setText(player.cropsStored[8].stored),count9.setText(player.cropsStored[9].stored),count10.setText(player.cropsStored[10].stored),count11.setText(player.cropsStored[11].stored),count12.setText(player.cropsStored[12].stored),count13.setText(player.cropsStored[13].stored),countTools.setText(player.tools),Jl.setText(player.cropsStored[0].stored),Yl.setText(player.cropsStored[1].stored),ql.setText(player.cropsStored[2].stored),jl.setText(player.cropsStored[3].stored),Kl.setText(player.cropsStored[4].stored),$l.setText(player.cropsStored[5].stored),Xl.setText(player.cropsStored[6].stored),Ql.setText(player.cropsStored[7].stored),Zl.setText(player.cropsStored[8].stored),ed.setText(player.cropsStored[9].stored),td.setText(player.cropsStored[10].stored),od.setText(player.cropsStored[11].stored),id.setText(player.cropsStored[12].stored),sd.setText(player.cropsStored[13].stored),rd.setText(player.cropsStored[14].stored),nd.setText(player.cropsStored[15].stored),ad.setText(player.cropsStored[16].stored),ld.setText(player.cropsStored[17].stored),dd.setText(player.cropsStored[18].stored))});var eP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(12,498).setSize(35,35).setFill(imgArray[15]);JA.appendChild(eP),goog.events.listen(eP,["mousedown","touchstart"],function(){0==globalModalBlock&&(lime.audio.getMute()?(lime.audio.setMute(!1),i.play(!0),localStorage.setItem("GuiGhostFarms_muted",0),BP(2)):(lime.audio.setMute(!0),BP(1),localStorage.setItem("GuiGhostFarms_muted",1)))});var tP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.width/2-63,185).setSize(135,135).setFill("images/UI/blankBack4.png");JA.appendChild(tP),tP.setHidden(!0);var oP=(new lime.Label).setText("Name of item").setPosition(70,35).setSize(130,50).setFontColor("#000000").setFontWeight(600).setFontSize(16).setFontFamily("ComicSans MS");tP.appendChild(oP);var iP=(new lime.Label).setText(" - 150").setPosition(75,53).setSize(130,50).setFontColor("#000000").setFontWeight(600).setFontSize(18).setFontFamily("ComicSans MS");tP.appendChild(iP);var sP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(50,45).setSize(34,55).setFill(imgArray11[1]);tP.appendChild(sP);var rP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,22).setSize(20,20).setFill(imgArray11[0]);tP.appendChild(rP);var nP=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(35,128).setSize(32,32).setText("");tP.appendChild(nP);var aP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16,-15).setSize(32,32).setFill(imgArray[21]);nP.appendChild(aP);var lP=(new lime.GlossyButton).setColor("#663300").setAnchorPoint(0).setPosition(100,128).setSize(32,32).setText("");tP.appendChild(lP);var dP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(-16,-15).setSize(32,32).setFill("images/UI/checkButton.png");lP.appendChild(dP),goog.events.listen(nP,["mousedown","touchstart"],function(){tP.setHidden(!0)}),goog.events.listen(lP,["mousedown","touchstart"],function(){if(1==houseUpgrades.upgrades[Jw].owned&&(Jw<19||21<Jw))oP.setText("Already Owned");else{if(player.money>=houseUpgrades.upgrades[Jw].cost)if(Jw<10||10<=Jw&&1==houseUpgrades.upgrades[0].owned){switch(player.money-=houseUpgrades.upgrades[Jw].cost,houseUpgrades.upgrades[Jw].owned=1,Jw){case 1:bv.setHidden(!1),Jw=0,Cv.setOpacity(.2);break;case 2:Lv.setHidden(!1),Jw=0,Hv.setOpacity(.2);break;case 3:Nv.setHidden(!1),Jw=0,kv.setOpacity(.2);break;case 4:Jv.setHidden(!1),Jw=0,Gv.setOpacity(.2);break;case 5:Xv.setHidden(!1),Jw=0,qv.setOpacity(.2);break;case 6:oF.setHidden(!1),Jw=0,Qv.setOpacity(.2);break;case 7:aF.setHidden(!1),Jw=0,iF.setOpacity(.2);break;case 8:cF.setHidden(!1),Jw=0,lF.setOpacity(.2);break;case 9:SF.setHidden(!1),Jw=0,pF.setOpacity(.2);break;case 10:wF.setHidden(!1),PF.setHidden(!1),Jw=0,fF.setOpacity(.2);break;case 11:bF.setHidden(!1),Jw=0,CF.setOpacity(.2);break;case 12:MF.setHidden(!1),Jw=0,xF.setOpacity(.2);break;case 13:RF.setHidden(!1),Jw=0,LF.setOpacity(.2);break;case 14:WF.setHidden(!1),Jw=0,DF.setOpacity(.2),sP.setSize(34,55).setPosition(50,45);break;case 15:jF.setHidden(!1),KF.setHidden(!1),Jw=0,VF.setOpacity(.2);break;case 16:ew.setHidden(!1),Jw=0,$F.setOpacity(.2);break;case 17:rw.setHidden(!1),Jw=0,tw.setOpacity(.2);break;case 18:gw.setHidden(!1),Jw=0,nw.setOpacity(.2);break;case 19:uw.setHidden(!1),Jw=0,mw.setOpacity(.2);break;case 20:vw.setHidden(!1),Jw=0,yw.setOpacity(.2);break;case 21:Tw.setHidden(!1),Jw=0,Fw.setOpacity(.2);break;case 22:jA.setFill(imgArray11[Jw]),Jw=0,_w.setOpacity(.2),Hw.setOpacity(1),Lw.setOpacity(1),Rw.setOpacity(1),houseUpgrades.upgrades[23].owned=0,houseUpgrades.upgrades[24].owned=0,houseUpgrades.upgrades[25].owned=0;break;case 23:jA.setFill(imgArray11[Jw]),Jw=0,Hw.setOpacity(.2),_w.setOpacity(1),Lw.setOpacity(1),Rw.setOpacity(1),houseUpgrades.upgrades[22].owned=0,houseUpgrades.upgrades[24].owned=0,houseUpgrades.upgrades[25].owned=0;break;case 24:jA.setFill(imgArray11[Jw]),Jw=0,Lw.setOpacity(.2),_w.setOpacity(1),Hw.setOpacity(1),Rw.setOpacity(1),houseUpgrades.upgrades[22].owned=0,houseUpgrades.upgrades[23].owned=0,houseUpgrades.upgrades[25].owned=0;break;case 25:jA.setFill(imgArray11[Jw]),Jw=0,Rw.setOpacity(.2),_w.setOpacity(1),Hw.setOpacity(1),Lw.setOpacity(1),houseUpgrades.upgrades[22].owned=0,houseUpgrades.upgrades[23].owned=0,houseUpgrades.upgrades[24].owned=0;break;default:Jw=0}tP.setHidden(!0)}else oP.setText("Needs Room 2");else oP.setText("Need More Coin");localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),Av.setText(player.money),g.updateMoney(),tv(),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player))}});var gP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,125).setSize(250,220).setFill("images/UI/blankBack5.png");JA.appendChild(gP);var mP=(new lime.Label).setAnchorPoint(0,0).setPosition(90,19).setText("Denise").setFontFamily("Comic Sans MS").setFontSize(24);gP.appendChild(mP);var cP=(new lime.Label).setAnchorPoint(0,0).setPosition(20,135).setText("We need some more furniture if you expect me to live here").setFontFamily("Comic Sans MS").setFontSize(16).setSize(200,g.height/2-50);gP.appendChild(cP);var pP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(75,26).setSize(100,100).setFill(imgArrayDenise[0].src);gP.appendChild(pP);var hP=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);gP.appendChild(hP);var uP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(25,125).setSize(260,220).setFill("images/UI/blankBack5.png").setHidden(!0);JA.appendChild(uP);var yP=(new lime.Label).setAnchorPoint(0,0).setPosition(95,19).setText("Patricia").setFontFamily("Comic Sans MS").setFontSize(24);uP.appendChild(yP);var SP=(new lime.Label).setAnchorPoint(0,0).setPosition(17,115).setText("Dibba Dabba....Dibba Dabba........waaaaaahhhhh").setFontFamily("Comic Sans MS").setFontSize(16).setSize(225,g.height/2-50);uP.appendChild(SP);var fP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(80,12).setSize(100,100).setFill(imgArrayPatricia[0].src);uP.appendChild(fP);var AP=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);uP.appendChild(AP),uP.setHidden(!0),goog.events.listen(AP,["mousedown","touchstart"],function(){uP.setHidden(!0),seen1stHouseNotif=1,localStorage.setItem("MedFarms_seen1stHouseNotif",1)},{passive:!1}),goog.events.listen(hP,["mousedown","touchstart"],function(){gP.setHidden(!0),seen1stHouseNotif=1,localStorage.setItem("MedFarms_seen1stHouseNotif",1)},{passive:!1}),1==seen1stHouseNotif&&gP.setHidden(!0);var vP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(35,90).setSize(250,220).setFill("images/UI/blankBack5.png");JA.appendChild(vP);var FP=(new lime.Label).setAnchorPoint(0,0).setPosition(20,25).setText("Expand your house?").setFontFamily("Comic Sans MS").setFontSize(22);vP.appendChild(FP);var wP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(45,75).setSize(64,64).setFill(imgArray[30]);vP.appendChild(wP);var PP=(new lime.Label).setAnchorPoint(0,0).setPosition(5,70).setText("1000").setFontFamily("Comic Sans MS").setFontSize(18).setSize(50,50);wP.appendChild(PP);var CP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(140,75).setSize(64,64).setFill(imgArray[58]);vP.appendChild(CP);var TP=(new lime.Label).setAnchorPoint(0,0).setPosition(5,70).setText("200").setFontFamily("Comic Sans MS").setFontSize(18).setSize(50,50);CP.appendChild(TP);var _P=(new lime.GlossyButton).setColor("#00ff00").setText("Build").setPosition(125,175).setSize(100,20);vP.appendChild(_P);var IP=(new lime.Label).setAnchorPoint(0,0).setPosition(8,175).setText("You need more resources").setFontFamily("Comic Sans MS").setFontSize(18).setSize(230,50);vP.appendChild(IP),_P.setHidden(!0),IP.setHidden(!1),vP.setHidden(!0);var bP=(new lime.GlossyButton).setColor("#663300").setText("Close").setPosition(125,207).setSize(100,20);vP.appendChild(bP),goog.events.listen(bP,["mousedown","touchstart"],function(e){vP.setHidden(!0),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),goog.events.listen(_P,["mousedown","touchstart"],function(e){0==_P.getHidden()&&(setTimeout(function(){!function(){{var e,t,o;1e3<=player.tools&&0==EP&&200<=parseInt(player.cropsStored[14].stored)&&(goog.events.removeAll(lv),goog.events.removeAll(_P),EP=1,player.tools-=1e3,player.cropsStored[14].stored=parseInt(player.cropsStored[14].stored)-200,player.cropsStored[14].stored<0&&(player.cropsStored[14].stored=0),localStorage.setItem("GuiGhostFarms_player",JSON.stringify(player)),setTimeout(function(){g.updateTools(),g.updateStored(),g.updateMoney()},0),fv.setText(player.tools),hv.setHidden(!1),cv.setHidden(!1),pv.setHidden(!1),av.setOpacity(.5),e=200,t=-130,o=-100,lime.scheduleManager.scheduleWithDelay(function(){--HP<=0&&(hv.setHidden(!0),cv.setHidden(!0),pv.setHidden(!0),HP=90,av.setHidden(!0),houseUpgrades.upgrades[0].owned=1,localStorage.setItem("GuiGhostFarms_houseUpgrades",JSON.stringify(houseUpgrades)),we.setFill("images/house2.png").setSize(72,92).setPosition(230,23))},this,1e3,90),lime.scheduleManager.scheduleWithDelay(function(){pv.setPosition(t,o).setSize(e,200),e+=10,o-=5,(t-=5)<-140&&(t=-130,o=-100,e=200),35<(xP+=10)&&(xP=-10),uv.setRotation(xP),hv.setText(HP)},this,250,360))}}()},0),vP.setHidden(!0)),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),200<=parseInt(player.cropsStored[14].stored)&&1e3<=player.tools?(_P.setHidden(!1),IP.setHidden(!0)):(_P.setHidden(!0),IP.setHidden(!1));var xP=-10,HP=90,EP=0;function zP(){var e=t[1].owned+t[2].owned+t[3].owned+t[4].owned;starCash=parseInt(starCash),2==e&&El.setText("Land Owner"),3==e&&El.setText("Master Farmer"),4==e&&El.setText("Expert Farmer"),0==g.achievements[1]&&500<=pickedEver&&(g.achievements[1]=!0,Ff.setHidden(!1),starCash=parseInt(starCash)+3,MP(1)),0==g.achievements[2]&&5e3<=pickedEver&&(g.achievements[2]=!0,_f.setHidden(!1),starCash=parseInt(starCash)+5,MP(2)),0==g.achievements[3]&&2<=e&&(g.achievements[3]=!0,Ef.setHidden(!1),starCash=parseInt(starCash)+3,MP(3)),0==g.achievements[4]&&5<=player.barnLevel&&(g.achievements[4]=!0,kf.setHidden(!1),starCash=parseInt(starCash)+5,MP(4)),0==g.achievements[5]&&500<=toolsEver&&(g.achievements[5]=!0,Gf.setHidden(!1),starCash=parseInt(starCash)+3,MP(5)),0==g.achievements[6]&&5e3<=toolsEver&&(g.achievements[6]=!0,Yf.setHidden(!1),starCash=parseInt(starCash)+5,MP(6)),0==g.achievements[7]&&2<=yearCount&&(g.achievements[7]=!0,Xf.setHidden(!1),starCash=parseInt(starCash)+5,MP(7)),0==g.achievements[8]&&4<=e&&(g.achievements[8]=!0,oA.setHidden(!1),starCash=parseInt(starCash)+10,MP(8)),0==g.achievements[9]&&1<vinyardHouseLevel&&(g.achievements[9]=!0,aA.setHidden(!1),starCash=parseInt(starCash)+5,MP(9)),0==g.achievements[10]&&1<orchardTreeBlock&&1<vinyardBlocks&&1<vinyardBlocks2&&3<=player.fields&&(g.achievements[10]=!0,cA.setHidden(!1),starCash=parseInt(starCash)+10,MP(10)),0==g.achievements[11]&&100<=player.cropsStored[10].stored&&100<=player.cropsStored[11].stored&&(g.achievements[11]=!0,SA.setHidden(!1),starCash=parseInt(starCash)+5,MP(11)),0==g.achievements[12]&&1<=player.cropsStored[0].stored&&1<=player.cropsStored[1].stored&&1<=player.cropsStored[2].stored&&1<=player.cropsStored[3].stored&&1<=player.cropsStored[4].stored&&1<=player.cropsStored[5].stored&&1<=player.cropsStored[6].stored&&1<=player.cropsStored[7].stored&&1<=player.cropsStored[8].stored&&1<=player.cropsStored[9].stored&&1<=player.cropsStored[10].stored&&1<=player.cropsStored[11].stored&&1<=player.cropsStored[12].stored&&1<=player.cropsStored[13].stored&&(g.achievements[12]=!0,wA.setHidden(!1),starCash=parseInt(starCash)+5,MP(12)),0==g.achievements[13]&&3<=player.pastureLevel&&(g.achievements[13]=!0,IA.setHidden(!1),starCash=parseInt(starCash)+5,MP(13)),0==g.achievements[14]&&5e3<=moneyEver&&(g.achievements[14]=!0,zA.setHidden(!1),starCash=parseInt(starCash)+5,MP(14)),0==g.achievements[15]&&1==boughtStarCash&&(g.achievements[15]=!0,OA.setHidden(!1),starCash=parseInt(starCash)+3,MP(15)),0==g.achievements[16]&&10<=yearCount&&(g.achievements[16]=!0,UA.setHidden(!1),starCash=parseInt(starCash)+25,MP(16)),WA.setText(parseInt(starCash)),localStorage.setItem("starCash",parseInt(starCash)),localStorage.setItem("GuiGhostFarms_achievements",JSON.stringify(g.achievements))}function MP(e){ct.setHidden(!1),dr.setHidden(!1),xa.setHidden(!1),Ru.setHidden(!1),kS.setHidden(!1),Nt.setHidden(!1),vr.setHidden(!1),$a.setHidden(!1),Du.setHidden(!1),GS.setHidden(!1),Ut.setText(" "+g.achieveText[e-1].sub),wr.setText(" "+g.achieveText[e-1].sub),Qa.setText(" "+g.achieveText[e-1].sub),Gu.setText(" "+g.achieveText[e-1].sub),WS.setText(" "+g.achieveText[e-1].sub),Gt.setText(g.achieveText[e-1].title),Fr.setText(g.achieveText[e-1].title),Xa.setText(g.achieveText[e-1].title),Nu.setText(g.achieveText[e-1].title),US.setText(g.achieveText[e-1].title),Wt.setText(" + "+g.achieveText[e-1].reward),Pr.setText(" + "+g.achieveText[e-1].reward),Za.setText(" + "+g.achieveText[e-1].reward),Uu.setText(" + "+g.achieveText[e-1].reward),VS.setText(" + "+g.achieveText[e-1].reward)}function LP(){h.replaceScene(pf,lime.transitions.SlideInDown),sceneActive="Achieve"}function BP(e){playerMuted=1==e?(Di.setFill(imgArray[16]),_.setFill(imgArray[16]),va.setFill(imgArray[16]),HS.setFill(imgArray[16]),Hu.setFill(imgArray[16]),eP.setFill(imgArray[16]),1):(Di.setFill(imgArray[15]),_.setFill(imgArray[15]),va.setFill(imgArray[15]),HS.setFill(imgArray[15]),Hu.setFill(imgArray[15]),eP.setFill(imgArray[15]),0)}function kP(){(player.cropsStored[8].stored<2||player.cropsStored[5].stored<2)&&(sy.setText(player.cropsStored[5].stored),ry.setText(player.cropsStored[8].stored),Xu.setHidden(!1),Ru.setHidden(!1)),player.cropsStored[12].stored<2&&1<vinyardHouseLevel&&(ZS.setHidden(!1),My.setHidden(!0),Gy.setHidden(!0),kS.setHidden(!1)),player.cropsStored[6].stored<3&&(Tr.setHidden(!1),dr.setHidden(!1))}goog.events.listen(lv,["mousedown","touchstart"],function(e){200<=parseInt(player.cropsStored[14].stored)&&1e3<=player.tools?(_P.setHidden(!1),IP.setHidden(!0)):(_P.setHidden(!0),IP.setHidden(!1)),vP.setHidden(!1),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),setTimeout(function(){0==g.achievements[1]&&Ff.setHidden(!0),0==g.achievements[2]&&_f.setHidden(!0),0==g.achievements[3]&&Ef.setHidden(!0),0==g.achievements[4]&&kf.setHidden(!0),0==g.achievements[5]&&Gf.setHidden(!0),0==g.achievements[6]&&Yf.setHidden(!0),0==g.achievements[7]&&Xf.setHidden(!0),0==g.achievements[8]&&oA.setHidden(!0),0==g.achievements[9]&&aA.setHidden(!0),0==g.achievements[10]&&cA.setHidden(!0),0==g.achievements[11]&&SA.setHidden(!0),0==g.achievements[12]&&wA.setHidden(!0),0==g.achievements[13]&&IA.setHidden(!0),0==g.achievements[14]&&zA.setHidden(!0),0==g.achievements[15]&&OA.setHidden(!0),0==g.achievements[16]&&UA.setHidden(!0)},0),goog.events.listen(backBtnAchieve,["mousedown","touchstart"],function(e){setTimeout(function(){validCropsStored()},0),1==sceneBefore&&(sceneActive="Home",o.currentCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),o.currentCrop=Math.abs(o.currentCrop),(5<o.currentCrop||isNaN(o.currentCrop))&&(o.currentCrop=0,q.setText("Plant "+g.crops[o.currentCrop].name),j.setFill("images/"+g.crops[o.currentCrop].harvest)),homeCrop=parseInt(localStorage.getItem("MedFarms_selectedHomeCrop")),h.replaceScene(u,lime.transitions.SlideInUp),sceneBefore=1),2==sceneBefore&&(h.replaceScene(Ii,lime.transitions.SlideInUp),sceneBefore=2,o.currentCrop=6,sceneActive="Pasture"),3==sceneBefore&&(h.replaceScene(Jr,lime.transitions.SlideInUp),sceneBefore=3,o.currentCrop=8,sceneActive="Orchard"),4==sceneBefore&&(h.replaceScene(ny,lime.transitions.SlideInUp),sceneBefore=4,sceneActive="Vineyard"),5==sceneBefore&&(h.replaceScene(Rh,lime.transitions.SlideInUp),sceneBefore=5,sceneActive="LS"),e.event.stopPropagation(),e.swallow(["mouseup","touchend","touchcancel"],function(){})}),setTimeout(function(){0==t[1].owned?(Se.setHidden(!1),ue.setHidden(!0)):(Se.setHidden(!0),ue.setHidden(!1)),0==t[2].owned?(fe.setHidden(!1),ye.setHidden(!0)):(fe.setHidden(!0),ye.setHidden(!1)),0==t[3].owned?(ar.setHidden(!1),zi.setHidden(!0)):(ar.setHidden(!0),zi.setHidden(!1)),0==t[4].owned?(ba.setHidden(!1),roadRightO.setHidden(!0)):(ba.setHidden(!0),roadRightO.setHidden(!1))},0);var OP=0;function RP(){document.getElementById("starCashOuterLabel").innerHTML=starCash,1==OP?(globalModalBlock=OP=0,ct.setHidden(!0),dr.setHidden(!0),Ru.setHidden(!0),xa.setHidden(!0),kS.setHidden(!0)):(document.getElementById("fbshare").classList.remove("tilt-in-fwd-tr"),document.getElementById("fbshare").style.display="block",document.getElementById("fbshare").classList.add("tilt-in-fwd-tr"),globalModalBlock=OP=1,ct.setHidden(!1),dr.setHidden(!1),Ru.setHidden(!1),xa.setHidden(!1),kS.setHidden(!1),Nt.setHidden(!0),Du.setHidden(!0),GS.setHidden(!0),$a.setHidden(!0),vr.setHidden(!0))}function DP(e){e>questParamsHerald.crops.length&&(e=heraldOrderTop%10),setTimeout(function(){validCropsStored()},0),heraldOrder1=questParamsHerald.crops[e].crop1,heraldOrder2=questParamsHerald.crops[e].crop2,Zc.setFill("images/"+g.crops[heraldOrder1].harvest),tp.setFill("images/"+g.crops[heraldOrder2].harvest),ep.setText(player.cropsStored[heraldOrder1].stored+"/50"),op.setText(player.cropsStored[heraldOrder2].stored+"/50"),50<=player.cropsStored[heraldOrder1].stored&&50<=player.cropsStored[heraldOrder2].stored?sp.setHidden(!1):sp.setHidden(!0)}lime.scheduleManager.scheduleWithDelay(function(){var e=document.getElementById("fbshare").style.display;"none"==e&&0==fsClicked?(globalModalBlock=0,ct.setHidden(!0)):"block"==e&&(globalModalBlock=1,ct.setHidden(!1)),document.getElementById("starCashOuterLabel").innerHTML=starCash;var t=localStorage.getItem("rateMeNever");(2==yearCount&&0==t&&230<dayCount&&dayCount<232||4==yearCount&&0==t&&120<dayCount&&dayCount<122)&&(document.getElementById("rateMe").style.display="block")},this,500),document.getElementById("starCashOuterLabel").innerHTML=starCash,upgradesInProgress=JSON.parse(localStorage.getItem("MedFarm_upgradesInProgress")),setTimeout(function(){0<parseInt(upgradesInProgress.buildings[0].timeLeft)&&(ho=uo=0,po=parseInt(upgradesInProgress.buildings[0].timeLeft),setTimeout(function(){Co(ho,uo)},0)),0<parseInt(upgradesInProgress.buildings[1].timeLeft)&&(toolCostP=0,woodCostP=0,Gr=parseInt(upgradesInProgress.buildings[1].timeLeft),setTimeout(function(){Vr(toolCostP,woodCostP)},0)),0<parseInt(upgradesInProgress.buildings[2].timeLeft)&&(cn=parseInt(upgradesInProgress.buildings[2].timeLeft),setTimeout(function(){Wa(0)},0)),0<parseInt(upgradesInProgress.buildings[3].timeLeft)&&((vinyardHouseLevel=parseInt(localStorage.getItem("GuiGhostFarms_vinyardHouseLevel")))<2?(Qy=Xy=0,gS=parseInt(upgradesInProgress.buildings[3].timeLeft),setTimeout(function(){mS(Xy,Qy)},0)):(console.log("vineyardOverride"),Vy.setHidden(!0),Wy.setFill("images/vinyard/house4Upgrade2.png"),Vy.setHidden(!0),vinyardHouseLevel=2,questParams.terric[0].highestCompleted<1&&(questParams.terric[0].highestCompleted=1),questParams.terric[1].completed=1,player.cropsStored[16].stored<=0?df.setText(questParams.terric[2].text):df.setText("Now we are making Jelly! Keeps the grapes coming"),CS.setHidden(!1),PS.setHidden(!1),setTimeout(function(){g.makeJelly()},0),upgradesInProgress.buildings[3].timeLeft=0,upgradesInProgress.buildings[3].currentBarnLevel=2,localStorage.setItem("MedFarm_upgradesInProgress",JSON.stringify(upgradesInProgress)))),0<parseInt(upgradesInProgress.buildings[4].timeLeft)&&(Xh=parseInt(upgradesInProgress.buildings[4].timeLeft),setTimeout(function(){Qh(1)},0))},0),setTimeout(function(){DP(heraldOrderTop)},0);var NP=(new lime.Scene).setRenderer(lime.Renderer.CANVAS),GP=(new lime.Layer).setAnchorPoint(0,0),UP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,0).setSize(g.width,g.height).setFill("#0D0D0D");NP.appendChild(UP),NP.appendChild(GP);var WP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(0,-30).setSize(300,515).setFill(imgArray[14]);GP.appendChild(WP);var VP=(new lime.Label).setFontColor("#E8FC08").setFontSize(18).setPosition(150,203).setSize(g.width-40,200).setText("Art Assets by");GP.appendChild(VP),GP.appendChild(VP);var JP=(new lime.Label).setFontColor("#E8FC08").setFontSize(10).setPosition(150,225).setSize(g.width-30,200).setText("Tiles by Daneeklu  http://opengameart.org/content/lpc-farming-tilesets-magic-animations-and-ui-elements ");GP.appendChild(JP);var YP=(new lime.Label).setFontColor("#E8FC08").setFontSize(10).setPosition(150,260).setSize(g.width-30,200).setText("Buildings by Cilanna  https://pixanna.nl/");GP.appendChild(YP);var qP=(new lime.Label).setFontColor("#E8FC08").setFontSize(10).setPosition(150,285).setSize(g.width-30,200).setText("Various CCO assets from OpenGameArt.org");GP.appendChild(qP);var jP=(new lime.Label).setFontColor("#E8FC08").setFontSize(10).setPosition(150,310).setSize(g.width-30,200).setText("Music by Estudio Cafofo http://estudiocafofo.com");GP.appendChild(jP);var KP=(new lime.Label).setFontColor("#E8FC08").setFontSize(16).setPosition(150,340).setSize(g.width-30,200).setText("Support Inquiries & Feedback");GP.appendChild(KP);var $P=(new lime.Label).setFontColor("#E8FC08").setFontSize(12).setPosition(150,360).setSize(g.width-30,200).setText("Email us at info@guighost.com");GP.appendChild($P);var XP=(new lime.Sprite).setAnchorPoint(0,0).setPosition(150,310).setSize(g.width/2+40,30).setFill("#663300"),XP=(new lime.GlossyButton).setColor("#6600ff").setText("Enter Reward Code").setPosition(150,310).setSize(g.width/2,30);GP.appendChild(XP);var QP=(new lime.Label).setFontColor("#E8FC08").setFontSize(10).setPosition(150,430).setSize(g.width-30,200).setText("Reward codes are for special circumstances only");GP.appendChild(QP);var ZP=(new lime.Label).setFontColor("#E8FC08").setFontSize(18).setPosition(150,470).setSize(g.width-40,200).setText("");ZP.setText("Developed and Published by"),GP.appendChild(ZP);var eC=(new lime.Sprite).setAnchorPoint(0,0).setPosition(g.width/4-20,400).setSize(g.width/2+10,40).setFill("#663300"),eC=(new lime.GlossyButton).setColor("#1ce636").setText("Back").setPosition(155,g.height-30).setSize(g.width/2+10,40);GP.appendChild(eC),goog.events.listen($P,"touchend",function(e){try{var t=getLocalStorage(),o=device.version.toString();window.plugins.socialsharing.shareViaEmail("Stored Data to Send to GuiGhost                                   DeviceAndroidVersion: "+o+"                                                    SavedDataArray = BEGIN"+t+" END","Support Request for Medieval Farms",["info@guighost.com"],null,null,null,function(){},function(){alert("share to email failed")})}catch(e){console.log("email failed with "+e)}},!1);var tC=document.getElementById("rewardInputCode"),oC=document.getElementById("submitRewardCode"),iC=document.getElementById("rewardClose"),sC="";function rC(e){var t,o="YOU GET + 100 STARS!";if(console.log("code tried is "+e),-1!==myRewards.indexOf(e.toString()))if(-1==usedCodesArray.indexOf(e.toString())){if("StarBoost"==e.toString()){starCash+=25,o="YOU GET + 25 STARS!";try{Enhance.logEvent("used_shared_rewardCode")}catch(e){console.log("logging failed")}}else if(starCash+=100,n.play(),"GuiCoinz3d"==(e=e.toString())||"BetaUser123"==e||"BetaUser456"==e||"BetaUser789"==e||"GuiTools3d"==e||"GuiStars3d"==e)try{Enhance.logEvent("used_GuiGhost_rewardCode")}catch(e){console.log("logging failed")}else try{Enhance.logEvent("used_LootBoy_rewardCode")}catch(e){console.log("logging failed")}vt.setText(starCash),ud.setText(starCash),document.getElementById("starCashOuterLabel").innerHTML=starCash,localStorage.setItem("starCash",starCash),tC.style.color="Green",tC.style.fontSize="16px",tC.value=o,usedCodesArray.push(e),localStorage.setItem("usedCodes",JSON.stringify(usedCodesArray)),setTimeout(function(){tC.value="",tC.style.color="Black"},1e3)}else tC.value="Code already used",tC.style.color="RED",lime.scheduleManager.callAfter(function(){tC.value=" ",tC.style.color="Black"},this,1e3);else"TestDaily"==e.toString()?(t=localStorage.getItem("lastLoginDay"),--t,localStorage.setItem("lastLoginDay",t),localStorage.setItem("daysInRow",Ci+1),o="Testing Daily",tC.value=o,lime.scheduleManager.callAfter(function(){location.reload()},this,1550)):(tC.value="Invalid Code",tC.style.color="RED",lime.scheduleManager.callAfter(function(){tC.value=" ",tC.style.color="Black"},this,1e3))}goog.events.listen(XP,["mousedown","touchstart"],function(e){document.getElementById("rewardMe").style.display="block",tC.focus(),tC.addEventListener("touchend",function(e){tC.focus()},!1),oC.addEventListener("touchend",function(e){sC=tC.value.toString(),console.log("code = "+sC),rC(sC)}),oC.addEventListener("click",function(){sC=tC.value.toString(),console.log("code = "+sC),rC(sC)}),iC.addEventListener("click",function(e){document.getElementById("rewardMe").style.display="none"},!1),iC.addEventListener("touchend",function(e){document.getElementById("rewardMe").style.display="none"},!1)}),goog.events.listen(eC,["mousedown","touchstart"],function(e){h.replaceScene(ml,lime.transitions.SlideInUp)})},setTimeout(function(){openCodes()},0),getLocalStorage();